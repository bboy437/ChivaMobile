/** 
 * WebDataRocks Reporting v1.0.1 (http://www.webdatarocks.com/)
 * Copyright 2018 WebDataRocks. All rights reserved.
 */

var WebDataRocks=function(p){X933.f5B="pages";P933.C0O="wdr-text-display";X933.R3B="percent";P933.a5O="wdr-ui-row";s933.r4B="/**----**";Q933.f6d=224;s933.l7B="delete";s933.t6B=" columnHeaderCell";P933.N5O="#wdr-drag-handle";X933.H6B=".cell{{0}}\n";s933.x7h="update";Q933.y2d="opacity";s933.O1d="<style>";P933.M5O="wdr-ui-col wdr-vam wdr-tar wdr-ui-btns-row";X933.l6B="padding-left";P933.f5O="wdr-close-search wdr-ui-icon wdr-icon-act_close";P933.I2O="wdr-row";s933.e9h=")";X933.i5B="dataStorage";P933.b4O=" - ";Q933.l2d="wdr-draggable";P933.X0O="wdr-search-opened";s933.M8d="0";Q933.h3d="ntr";X933.L0B="dataWidth";P933.Y3O="wdr-helper";P933.l5O="wdr-search-wrap";s933.o8d="}";s933.H9h="min";X933.o0B="level";s933.O4h="slice";X933.o5B="hasRowSorting";Q933.a4d=6;Q933.U2d="mousemove";s933.a0h="All";s933.j4B="filename";Q933.f3d="on";X933.G5B="rowsOnly";P933.l4O="wdr-pivot-title";X933.e5B="\\";X933.I6B="showAggregations";Q933.a3d="bottom";Q933.o3d="keypress";P933.b5O="wdr-folder";s933.t7h="portrait";X933.u1B="regularMeasures";X933.q5B="columnCount";Q933.S5d="text";s933.U1d=2E3;X933.Z0B="lastRowsTupleInteracted";P933.q8B="date";X933.G6B=".{0}{{1}}\n";X933.c5B="measures";P933.a7O="dblclick";Q933.G4d=14;Q933.D4d=35;P933.P0O="wdr-drag-handle";X933.S0B="isEmpty";s933.B8d="&#39;";P933.N9O="<";X933.G1B=".Month";Q933.I3d="inline-block";X933.z8B="' in CSV is invalid: ";X933.b6B="style='";Q933.s5d="paste";X933.I8B="desc";s933.C9h="*";X933.T5B="columnsOnly";s933.E9h=";";Q933.r2d="px";P933.H4O="max-height";X933.O1B="calculatedMeasures";P933.t6O="wdr-level-";X933.e6B=" cell";Q933.H3d="input";P933.p5O="wdr-droppable-invalid";X933.O8B="%d%";Q933.o4d=38;X933.s0B="columnSortTuple";X933.e2B="italic";P933.C3O="i";s933.Y9h="(";Q933.m4d=25;s933.f0d=",";X933.R5B="descendants";X933.R6B="#wdr-data-sheet";Q933.q4d=31;P933.J3O="wdr-filters";s933.Z6B=" rowHeaderCell level";P933.R7O="isFlatTable";X933.A1B="measures_";X933.v6B="showHeaders";P933.W5O="wdr-lst-hierarchies";s933.s8d="Month";Q933.B4d=30;Q933.j6d=200;Q933.u3d="none";P933.C5O="wdr-popup-content";Q933.O4d=9;P933.k3O="data-h";Q933.N3d="wdr-noselect";X933.x1B="measuresHierarchy";X933.D5B="rowSortTuple";s933.I5d="data-index";s933.w6B="</td>";P933.r4O="wdr-filtered";X933.F0B="pivot";P933.Y9O="!=";s933.B1h="Limitation!";X933.a0B=".[]";Q933.C3d="right";s933.S9h="truestyle";Q933.F6d=63;P933.E3O="z-index";s933.O8d=":";Q933.G2d="mousedown";P933.H0O="wdr-level";s933.J4h="rows";Q933.K4d=24;X933.b0B="uniqueName";P933.a0O="wdr-measure";X933.l5B="isClassic";X933.h5B="rowSortType";X933.d5B="rowSortMeasure";s933.X4h="exportcomplete";X933.A8B="**--!--**/";Q933.Z6d=60;s933.m5d="data";X933.f2B="rgb(0,0,0)";P933.L3O="wheel";function X933(){}Q933.T3d="undefined";P933.d7O="wdr-ui-btn-dark";Q933.q3d="span";Q933.e6d=64;Q933.s6d=40;s933.R7h="keydown";P933.m7O="wdr-popup-title";s933.l1d="<body>";Q933.y3d="a";X933.R2B="font-weight";X933.w0B="extendedDataWidth";P933.W3O="title";Q933.G3d="textarea";X933.m5B="measureDepth";Q933.t5d="wdr-selected";Q933.A4d=8;s933.D8d="{";P933.V5O="wdr-level-folder";X933.I0B="asc";X933.p2B="off";Q933.V3d="number";Q933.M4d=2;Q933.o2d="id";s933.K0d="length";P933.Z3O="wdr-rows-resize";P933.D6O=1E5;s933.W8d="\t";Q933.J3d="left";s933.i8d="dd/MM/yyyy HH:mm:ss";s933.w4h="aftergriddraw";P933.D7E="isReportComplete";X933.i1B=".Year";X933.J8B=".csv";X933.j0B="filter";X933.r5B="rowAxis";Q933.q2d="wdr-droppable";X933.I5B="columnAxis";X933.j5B="rowLevels";s933.D0d="\n";s933.w1d="/";s933.q4B=".json";s933.M5d="absolute";P933.a4O="max-width";P933.Z5O="wdr-moreicon-display";P933.L7O="tabindex";Q933.l3d="-";Q933.A6d=127;Q933.X3d="padding";Q933.Q6d=39;Q933.f2d="mouseup";s933.J7B="export";P933.T5O="wdr-search-inp";X933.Z8B=/^(\+|dt\+|t\+|n\+|-|ds\+|d\+|m\+|w\+|D\+|D4\+|url\+|img\+|id\+)/;P933.E5O="wdr-popup-subtitle";s933.L0d="scroll";s933.G0d="=";s933.h5d="label";P933.l8O="close";P933.V9O="==";X933.u6B=".columnHeaderCell{{0}}\n";s933.q1d="?";X933.W5B="measuresPosition";P933.U9E="solid";P933.M4O="color";X933.v5B="multiMeasures";P933.z5O="wdr-calc-display";X933.w8B="The following JSON meta object for the field '";X933.H2B="...";Q933.j2d="touchstart";Q933.a6d=100;P933.z2O="min-height";X933.V1B="hidden";X933.l8B="NaN";X933.U5B="columnLevels";P933.s2O="data-r";X933.J6B="font-size";X933.u5B="QUERY_ERROR";s933.i5d="wdr-ui-hgroup";Q933.p5d="wdr-ui-toggle-btn";X933.J1B="formula";s933.S4h="printcomplete";P933.G3O=".wdr-header";s933.m0d="Singleton";X933.i6B=".level{0}{{1}}\n";Q933.l4d=13;P933.Y5O="wdr-popup-header wdr-ui-row";s933.q5d="ul";P933.N3O=".wdr-cell";P933.H2O=".wdr-filters";P933.s0O="wdr-aggregations-view";s933.A1d="</title>";s933.i7h="members";s933.B1d="()";Q933.j4d=15;X933.i0B="month";X933.j1B=".Day";X933.v0B="hierarchy";Q933.E5d="position";P933.k5O="wdr-btn-add-measure";Q933.i4d=12;Q933.P3d="size";s933.G8d=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/i;s933.T4B="url";P933.c5O="wdr-list-content";s933.O9h="sum";s933.M1d="1px";P933.X2O="data-c";Q933.R2d=" ";s933.c8d=".";s933.k4h="columns";s933.s9h='"';X933.E0B="folder";Q933.d2d="all";X933.V2B="background-color";s933.I4B="</config>";s933.g6B="<td {0}>";Q933.u4d=10;X933.O5B="QUERY_COMPLETE";Q933.w5d="focusout";s933.C8d="true";P933.b9O=">";Q933.S2d=2048;Q933.J4d=3;Q933.P5d="type";P933.K5O="wdr-list-header";P933.L2O='">';P933.c9O="isInlineData";X933.N6B="class='";s933.j0d="&";Q933.S6d=50;s933.z6B="class='cell'";X933.P0B="hasColumnSorting";Q933.M3d="height";Q933.m3d="click";s933.B4B="\x3c!--";P933.F2O="line-height";X933.D6B="drillThrough";s933.N0d=1E3;P933.t5O="wdr-droppable-valid";Q933.g5d="focusin";X933.t0B="lastColsTupleInteracted";s933.B5d="allowMultipleSelection";Q933.n4d=21;Q933.c2d="touchend";Q933.Q5d="keyup";X933.B5B="rowCount";Q933.T4d=17;P933.I1O="<b>$1</b>";s933.J0d="GET";X933.A6B=".totalCell{{0}}\n";X933.g0B="dataHeight";P933.j5O="wdr-search-btn";Q933.k3d="top";X933.l0B="levelOrdinal";Q933.v6d=500;P933.u3O="wdr-rows-filter";s933.f1d="boolean";X933.M5B="search";s933.a9h="^";s933.T8d="rgb(255,255,255)";P933.A3O="wdr-compact-view";X933.E3B="%";s933.E1d="name";X933.k1B="hierarchies";Q933.v4d=32;X933.O6B=".rowHeaderCell{{0}}\n";s933.Q8d="Day";P933.a9O="value";X933.q3B="params";Q933.U4d=16;s933.H0d="html";P933.R5O="wdr-ui-col wdr-vam";s933.h8d="|";P933.e4O=" / ";s933.A0d="json";X933.p6B=" filterHeaderCell";X933.E2B="text-align";s933.C1d="<html>";P933.J5O="wdr-ui-btn-light wdr-icon-act_calc";X933.S8B=1E4;s933.V7h="function";s933.v4B=".js";P933.p4O="wdr-ui-label-light";Q933.V2d=null;s933.X9h="'";Q933.d4d=37;P933.Q0O="wdr-lst-measures";P933.W7O="compact";Q933.O6d=128;P933.w5O="wdr-aggr-display";function s933(){}X933.z0B="extendedDataHeight";Q933.R4d=0;s933.H1d="<title>";s933.A9h="max";X933.x8B="%q%";Q933.p3d="parent";Q933.I4d=27;Q933.C6d=99;s933.U0d="file";P933.S0O="wdr-values";X933.N2B="bold";P933.z3O="wdr-cols-resize";s933.n8d="\r";P933.m9E='"/>';X933.x6B=".filterHeaderCell{{0}}\n";s933.o7B="false";s933.P6B="caption";s933.Q9h=", ";Q933.s3d="";s933.j7B="if";function P933(){}X933.e0B="flat";s933.r5d="li";Q933.b2d="report.json";s933.n1d="relative";X933.y5B="rowMaxDepth";X933.Q0B="columnSortType";Q933.x4d=11;s933.j8d="#";P933.F5O="wdr-drop-indicator";Q933.A3d="block";Q933.c4d=19;Q933.h2d="mouseleave";P933.n7O="classic";X933.K5B="columnMaxDepth";s933.Z7h="landscape";Q933.H4d=7;X933.i8B="%n%";s933.Z4B="and";Q933.W4d=20;P933.r5O="wdr-prompt";Q933.E4d=1;Q933.Y3d="string";Q933.x6d=191;Q933.Z5d="_";P933.S3O="wdr-cols-sheet";P933.d7E="isReportDefined";Q933.C4d=5;P933.b7O="wdr-grid-layout";P933.s5O="isExpandAll";s933.x8d="dd/MM/yyyy";Q933.z5d="wdr-ui-prompt";function Q933(){}P933.e2O="isSmooth";s933.b8d="+";P933.U5O="wdr-ui-icon wdr-icon-act_search";X933.X0B="columnSortMeasure";P933.h8B="count";Q933.K3d="wdr-ui-btn";Q933.S3d="div";Q933.k4d=4;s933.u0d="text/xml";Q933.R3d="width";s933.g0d=1E6;s933.J1d="-9999px";X933.F6B=" totalCell";s933.g4h="beforegriddraw";P933.l3O="[Measures]";X933.n5B="dataLoaded";X933.M6B="font-family";Q933.i6d=192;s933.z9B="Year";function PivotApi(g7d){var P7d={version:pivot.Pivot.BUILD_VERSION},S7d=new pivot.Pivot(g7d,P7d);P7d.getAllConditions=function(){return S7d.getAllConditions();};P7d.getCondition=function(w7d){return S7d.getCondition(w7d);};P7d.addCondition=function(z7d){return S7d.addCondition(z7d);};P7d.removeCondition=function(Z7d){return S7d.removeCondition(Z7d);};P7d.removeAllConditions=function(){return S7d.removeAllConditions();};P7d.open=function(){return S7d.open();};P7d.load=function(t7d){return S7d.load(t7d);};P7d.getReport=function(p7d){return S7d.getReport(p7d);};P7d.setReport=function(F7d){return S7d.setReport(F7d);};P7d.getData=function(e7d,N7d,b7d){return S7d.getData(e7d,N7d,b7d);};P7d.save=function(V7d,Y7d,R7d,E7d,M7d){var i4E=Q933;void i4E.R4d===V7d&&(V7d={filename:i4E.b2d});void i4E.R4d===Y7d&&(Y7d=i4E.V2d);void i4E.R4d===R7d&&(R7d=i4E.V2d);void i4E.R4d===E7d&&(E7d=i4E.V2d);void i4E.R4d===M7d&&(M7d=!i4E.E4d);return S7d.save(V7d,Y7d,R7d,E7d,M7d);};P7d.updateData=function(J7d,k7d){return S7d.updateData(J7d,k7d);};P7d.connectTo=function(C7d){return S7d.connectTo(C7d);};P7d.addCalculatedMeasure=function(a7d){return S7d.addCalculatedMeasure(a7d);};P7d.removeCalculatedMeasure=function(H7d){return S7d.removeCalculatedMeasure(H7d);};P7d.removeAllCalculatedMeasures=function(){return S7d.removeAllCalculatedMeasures();};P7d.clear=function(){return S7d.clear();};P7d.dispose=function(){S7d.dispose();};P7d.refresh=function(){return S7d.refresh();};P7d.expandAllData=function(A7d){void Q933.R4d===A7d&&(A7d=!Q933.R4d);return S7d.expandAllData(A7d);};P7d.expandData=function(O7d){return S7d.expandData(O7d);};P7d.collapseAllData=function(){return S7d.collapseAllData();};P7d.collapseData=function(u7d){return S7d.collapseData(u7d);};P7d.print=function(x7d){void Q933.R4d===x7d&&(x7d=Q933.V2d);return S7d.print(x7d);};P7d.exportTo=function(G7d,i7d,l7d){var u4E=Q933;void u4E.R4d===i7d&&(i7d=u4E.V2d);void u4E.R4d===l7d&&(l7d=u4E.V2d);return S7d.exportTo(G7d,i7d,l7d);};P7d.getFilter=function(j7d){return S7d.getFilter(j7d);};P7d.getFilterProperties=function(U7d){return S7d.getFilterProperties(U7d);};P7d.setFilter=function(f7d,c7d,T7d){void Q933.R4d===T7d&&(T7d=!Q933.E4d);return S7d.setFilter(f7d,c7d,T7d);};P7d.clearFilter=function(W7d){return S7d.clearFilter(W7d);};P7d.runQuery=function(n7d){return S7d.runQuery(n7d);};P7d.on=function(y7d,K7d){return S7d.on(y7d,K7d);};P7d.off=function(m7d,r7d){return S7d.off(m7d,r7d);};P7d.getRows=function(){return S7d.getRows();};P7d.getColumns=function(){return S7d.getColumns();};P7d.getReportFilters=function(){return S7d.getPages();};P7d.getMeasures=function(){return S7d.getMeasures();};P7d.getAllMeasures=function(){return S7d.getAllMeasures();};P7d.sortValues=function(I7d,B7d,q7d,v7d){return S7d.sortValues(I7d,B7d,q7d,v7d);};P7d.setSort=function(h7d,D7d){return S7d.setSort(h7d,D7d);};P7d.getSort=function(d7d){return S7d.getSort(d7d);};P7d.setTopX=function(o7d,Q4d,s4d){return S7d.setTopX(o7d,Q4d,s4d);};P7d.setBottomX=function(X4d,P4d,S4d){return S7d.setBottomX(X4d,P4d,S4d);};P7d.getOptions=function(){return S7d.getOptions();};P7d.setOptions=function(L4d){return S7d.setOptions(L4d);};P7d.getMembers=function(g4d,w4d,z4d){return S7d.getMembers(g4d,w4d,z4d);};P7d.getAllHierarchies=function(){return S7d.getAllHierarchies();};P7d.replaceHierarchyCaption=function(Z4d){return S7d.replaceHierarchyCaption(Z4d);};P7d.getFormat=function(t4d){return S7d.getFormat(t4d);};P7d.setFormat=function(p4d,F4d){return S7d.setFormat(p4d,F4d);};P7d.getCell=function(e4d,N4d){return S7d.getCell(e4d,N4d);};P7d.getSelectedCell=function(){return S7d.getSelectedCell();};P7d.setSelectedCell=function(b4d,V4d){return S7d.setSelectedCell(b4d,V4d);};P7d.removeSelection=function(){return S7d.removeSelection();};P7d.openFieldsList=function(){return S7d.openFieldsList();};P7d.closeFieldsList=function(){return S7d.closeFieldsList();};P7d.customizeCell=function(Y4d){return S7d.customizeCell(Y4d);};if(void Q933.R4d!==window.WebDataRocksHighcharts){P7d.highcharts={instance:P7d};for(var L7d in window.WebDataRocksHighcharts)P7d.highcharts[L7d]=window.WebDataRocksHighcharts[L7d];}if(void Q933.R4d!==window.WebDataRocksFusioncharts)for(L7d in P7d.fusioncharts={instance:P7d},window.WebDataRocksFusioncharts)P7d.fusioncharts[L7d]=window.WebDataRocksFusioncharts[L7d];if(void Q933.R4d!==window.WebDataRocksGooglecharts)for(L7d in P7d.googlecharts={instance:P7d},window.WebDataRocksGooglecharts)P7d.googlecharts[L7d]=window.WebDataRocksGooglecharts[L7d];return window.webdatarocks=P7d;}var __extends=this&&this.__extends||function(){var Q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,P){X.__proto__=P;}||function(V,N){for(var F in N)N.hasOwnProperty(F)&&(V[F]=N[F]);};return function(R,Y){Q(R,Y);function E(){this.constructor=R;}R.prototype=Q933.V2d===Y?Object.create(Y):(E.prototype=Y.prototype,new E());};}(),events;(function(C){var J=function(){var i2d="event_resize";var x2d="event_close";var u2d="event_open";var O2d="event_cancel";var A2d="event_closed";var H2d="event_opened";var a2d="event_error";var C2d="event_change";var k2d="event_select";var J2d="event_progress";var M2d="event_connected";var E2d="event_complete";A.isNativeType=function(j){var Y2d="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange focusin focusout touchstart touchmove touchend touchenter touchleave touchcancel";return-Q933.E4d<Y2d.split(Q933.R2d).indexOf(j);};A.COMPLETE=E2d;A.CONNECTED=M2d;A.PROGRESS=J2d;function A(G,O,i){var V2E=Q933;void V2E.R4d===O&&(O=V2E.V2d);void V2E.R4d===i&&(i=V2E.V2d);this.type=G;this.target=O;this.data=i;}A.SELECT=k2d;A.CHANGE=C2d;A.ERROR=a2d;A.OPENED=H2d;A.CLOSED=A2d;A.CANCEL=O2d;A.OPEN=u2d;A.CLOSE=x2d;A.RESIZE=i2d;return A;}();C._Event=J;J=function(){U.prototype.areListenersEqual=function(W,K){return W.type==K.type&&W.handler==K.handler;};U.prototype.hasEventListener=function(B,Q9){var Y2E=Q933;if(utils.nullOrUndefined(this._listeners[B]))return!Y2E.E4d;for(var I=Y2E.R4d;I<this._listeners[B].length;I++)if(this.areListenersEqual(this._listeners[B][I],Q9))return!Y2E.R4d;return!Y2E.E4d;};U.prototype.addEventListener=function(s9,X9,P9){var R2E=Q933;void R2E.R4d===P9&&(P9=R2E.R4d);X9={type:s9,handler:X9,priority:P9};if(!this.hasEventListener(s9,X9))if(this.dispatchActive)utils.nullOrUndefined(this._addedListeners[s9])&&(this._addedListeners[s9]=[]),this._addedListeners[s9].push(X9);else if(utils.nullOrUndefined(this._listeners[s9])&&(this._listeners[s9]=[]),R2E.R4d==this._listeners[s9].length)this._listeners[s9].push(X9);else{this._listeners[s9][this._listeners[s9].length-R2E.E4d].priority>=P9&&this._listeners[s9].push(X9);for(var S9=R2E.R4d;S9<this._listeners[s9].length;S9++)if(this._listeners[s9][S9].priority<P9){this._listeners[s9].splice(S9,R2E.R4d,X9);break;}}};U.prototype.removeEventListener=function(L9,t9){if(!utils.nullOrUndefined(this._listeners[L9])){for(var Z9={type:L9,handler:t9},w9=this._listeners[L9].slice(Q933.R4d),z9=[],g9=Q933.R4d;g9<w9.length;g9++)this.areListenersEqual(w9[g9],Z9)?this.dispatchActive&&(utils.nullOrUndefined(this._deletedListeners[L9])&&(this._deletedListeners[L9]=[]),this._deletedListeners[L9].push(w9[g9])):z9.push(w9[g9]);this._listeners[L9]=z9;}};function U(){this.dispatchActive=!Q933.E4d;this._listeners=[];this._addedListeners=[];this._deletedListeners=[];}U.prototype.removeAllEventListeners=function(p9){void Q933.R4d===p9?(this._listeners=[],this._addedListeners=[],this._deletedListeners=[]):(utils.nullOrUndefined(this._listeners)||(this._listeners[p9]=[]),utils.nullOrUndefined(this._addedListeners)||(this._addedListeners[p9]=[]),utils.nullOrUndefined(this._deletedListeners)||(this._deletedListeners[p9]=[]));};U.prototype.dispatch=function(e9){var k2E=Q933;if(!utils.nullOrUndefined(this._listeners[e9.type])){this.dispatchActive=!k2E.R4d;for(var F9=this._listeners[e9.type].slice(k2E.R4d),N9=k2E.R4d;N9<F9.length;N9++){if(!utils.nullOrUndefined(this._deletedListeners[e9.type])){var V9=!k2E.E4d,Y9;for(Y9 in this._deletedListeners[e9.type])this.areListenersEqual(F9[N9],this._deletedListeners[e9.type][Y9])&&(V9=!k2E.R4d);if(V9)continue;}e9 instanceof pivot.model.APIEvent?F9[N9].handler.call(this,e9.data):F9[N9].handler.call(this,e9);}delete this._deletedListeners[e9.type];for(var b9 in this._addedListeners){if(utils.nullOrUndefined(this._listeners[b9]))F9=[];else if(this._listeners[b9]instanceof Array)F9=this._listeners[b9].slice(k2E.R4d);else continue;if(!utils.nullOrUndefined(this._addedListeners[b9]))for(N9=k2E.R4d;N9<this._addedListeners[b9].length;N9++)if(k2E.R4d==F9.length)F9.push(this._addedListeners[b9][N9]);else for(F9[F9.length-k2E.E4d].priority==this._addedListeners[b9][N9].priority&&F9.push(this._addedListeners[b9][N9]),e9=k2E.R4d;e9<F9.length;e9++)if(F9[e9].priority<this._addedListeners[b9][N9].priority){F9.splice(e9,k2E.R4d,this._addedListeners[b9][N9]);break;}this._listeners[b9]=F9;this._addedListeners[b9]=[];}this.dispatchActive=!k2E.E4d;}};U.prototype.dispatchWith=function(R9,E9,M9){R9=new C._Event(R9,Q933.V2d==E9?this:E9,M9);this.dispatch(R9);};return U;}();C.EventDispatcher=J;}(events||(events={})));var uicontrols;(function(J9){(function(C9){var k9=function(){var K2d="wdr-dragging-move";var n2d="wdr-dragging";a9.getInstance=function(){a9.instance||(a9.instance=new a9());return a9.instance;};a9.dispose=function(){a9.instance=Q933.V2d;};a9.prototype.makeDraggable=function(G9,j9){var l9=this;G9.addClass(Q933.l2d);var U9=function(T9){j9.handle&&!T9.target.matches(j9.handle)||l9.dragElement==G9||(Q933.V2d!=l9.dragElement&&l9.stopDrag(j9,T9),l9.dragElement=G9,l9.dragOptions=j9,l9.startX=l9.getX(T9),l9.startY=l9.getY(T9));};G9.addEventListener(Q933.G2d,U9);G9.addEventListener(Q933.j2d,U9);};a9.prototype.getX=function(f9){return f9 instanceof MouseEvent?f9.clientX:f9.changedTouches[Q933.R4d].clientX;};function a9(){var x8E=Q933;var W2d="touchcancel";var T2d="touchmove";var H9=this;this.distance=x8E.C4d;this._lastDraggable=x8E.V2d;utils.fmdocument.addEventListener(x8E.U2d,function(A9){return H9.onMouseMove(A9);});utils.fmdocument.addEventListener(T2d,function(O9){return H9.onTouchMove(O9);},!x8E.E4d);utils.fmdocument.addEventListener(x8E.f2d,function(u9){return H9.onMouseUp(u9);});utils.fmdocument.addEventListener(x8E.c2d,function(x9){return H9.onTouchEnd(x9);});utils.fmdocument.addEventListener(W2d,function(i9){return H9.onTouchEnd(i9);});}a9.prototype.getY=function(c9){return c9 instanceof MouseEvent?c9.clientY:c9.changedTouches[Q933.R4d].clientY;};a9.prototype.onMouseMove=function(W9){var U8E=Q933;if(U8E.E4d==W9.which&&this.dragElement)if(this.dragHelper&&this.dragElement.hasClass(n2d)){this.setHelperPosition(W9.clientX,W9.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,W9);W9.preventDefault();}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,W9)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(U8E.y2d,U8E.R4d),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(W9.clientX,W9.clientY,!U8E.R4d),this.dragElement.addClass(n2d)):(this.dragElement=U8E.V2d,this.dragHelper.removeFromParent(!U8E.R4d),this.dragHelper=U8E.V2d);};a9.prototype.isDistanceOK=function(n9,y9){return Math.abs(this.startX-n9)>this.distance||Math.abs(this.startY-y9)>this.distance?!Q933.R4d:!Q933.E4d;};a9.prototype.setHelperPosition=function(m9,r9,I9){var y8E=Q933;var I2d="margin-left";var m2d="margin-top";void y8E.R4d===I9&&(I9=!y8E.E4d);if(y8E.V2d!=this.dragHelper){var K9=pivot._view.PivotView.stage.container.getOffset();this.dragHelper.position({top:r9-K9.top,left:m9-K9.left});this.isDistanceOK(m9,r9)&&(this.dragHelper.css(y8E.y2d,y8E.E4d),this.dragElement.addClass(K2d));I9&&y8E.V2d!=this.dragElement&&(K9=this.dragElement.getOffset(),r9=Math.max(y8E.R4d,Math.min(this.dragElement.height,r9-K9.top)),m9=Math.max(y8E.R4d,Math.min(this.dragElement.width,this.dragHelper.width,m9-K9.left)),this.dragHelper.css(m2d,-r9+y8E.r2d),this.dragHelper.css(I2d,-m9+y8E.r2d));}};a9.prototype.onTouchMove=function(v9){var K8E=Q933;var B2d=".wdr-droppable";if(this.dragElement){var B9=v9.touches[K8E.R4d];if(this.dragHelper&&this.dragElement.hasClass(n2d)){this.setHelperPosition(B9.clientX,B9.clientY);if(this.dragOptions.onDrag)this.dragOptions.onDrag(this.dragElement,v9);v9.preventDefault();B9=v9.changedTouches[K8E.R4d];if(B9=J9.UIElement.convert(document.elementFromPoint(B9.clientX,B9.clientY))){var q9=B9.closest(B2d);q9&&q9.droppableOptions&&q9.droppableOptions.onDragOver&&(q9.droppableOptions.onDragOver(this.dragElement,this.dragHelper,q9,v9),this._lastDraggable=q9);}if((K8E.V2d==B9||K8E.V2d==q9)&&K8E.V2d!=this._lastDraggable&&this._lastDraggable.droppableOptions&&this._lastDraggable.droppableOptions.onDragLeave)this._lastDraggable.droppableOptions.onDragLeave(this.dragElement,this.dragHelper,this._lastDraggable,v9);}else utils.nullOrUndefined(this.dragOptions.onDragStart)||this.dragOptions.onDragStart(this.dragElement,v9)?(this.dragHelper=this.dragOptions.createHelper(this.dragElement),this.dragHelper.css(K8E.y2d,K8E.R4d),pivot._view.PivotView.stage.container.addChild(this.dragHelper),this.setHelperPosition(B9.clientX,B9.clientY,!K8E.R4d),this.dragElement.addClass(n2d)):(this.dragElement=K8E.V2d,this.dragHelper.removeFromParent(!K8E.R4d),this.dragHelper=K8E.V2d);}};a9.prototype.onMouseUp=function(h9){this.stopDrag(this.dragOptions,h9);};a9.prototype.onTouchEnd=function(o9){for(var D9=o9.changedTouches[Q933.R4d],d9=D9=J9.UIElement.convert(document.elementFromPoint(D9.clientX,D9.clientY));D9;){if(D9.hasClass(Q933.q2d)){utils.nullOrEmpty(D9.droppableOptions.itemSelector)||(d9=d9.closest(D9.droppableOptions.itemSelector));D9.droppableOptions.onDrop(this.dragElement,D9,d9,o9);break;}D9=D9.parent;}this.stopDrag(this.dragOptions,o9);};a9.prototype.stopDrag=function(s7,Q7){var r8E=Q933;r8E.V2d!=this.dragHelper&&(this.dragHelper.removeFromParent(!r8E.R4d),this.dragHelper=r8E.V2d);if(r8E.V2d!=this.dragElement){this.dragElement.removeClass(n2d);this.dragElement.removeClass(K2d);if(s7.onDragEnd&&this.isDistanceOK(this.getX(Q7),this.getY(Q7)))s7.onDragEnd(this.dragElement,Q7);this.dragElement=r8E.V2d;}this._lastDraggable=r8E.V2d;this.startY=this.startX=NaN;};a9.prototype.makeDroppable=function(S7,L7,P7){var I8E=Q933;var D2d="mouseover";var v2d="mouseenter";var X7=this;S7.hasClass(I8E.q2d)||(S7.addClass(I8E.q2d),S7.addEventListener(v2d,function(g7){if(I8E.V2d!=X7.dragElement&&I8E.E4d==g7.which&&P7.onDragEnter)P7.onDragEnter(X7.dragElement,X7.dragHelper,L7,g7);}),S7.addEventListener(I8E.h2d,function(w7){if(I8E.V2d!=X7.dragElement&&I8E.E4d==w7.which&&P7.onDragLeave)P7.onDragLeave(X7.dragElement,X7.dragHelper,L7,w7);}),S7.addEventListener(D2d,function(z7){if(I8E.V2d!=X7.dragElement&&I8E.E4d==z7.which&&P7.onDragOver)P7.onDragOver(X7.dragElement,X7.dragHelper,L7,z7);}),S7.addEventListener(I8E.f2d,function(t7){if(I8E.V2d!=X7.dragElement&&I8E.E4d==t7.which){var Z7=J9.UIElement.convert(t7.target);utils.nullOrEmpty(P7.itemSelector)||(Z7=Z7.closest(P7.itemSelector));P7.onDrop(X7.dragElement,S7,Z7,t7);}}));};return a9;}();C9.DragManager=k9;}(J9.dragndrop||(J9.dragndrop={})));}(uicontrols||(uicontrols={})));(function(p7){var F7=function(N7){var Q3d="wdr-ui-disabled";__extends(e7,N7);e7.prototype.validate=function(){this.invalidHash={};};e7.prototype.invalidate=function(R7){void Q933.R4d===R7&&(R7=Q933.d2d);this.invalidHash[R7]=!Q933.R4d;this.draw();};e7.prototype.isInvalid=function(){var H2E=Q933;for(var M7=[],E7=H2E.R4d;E7<arguments.length;E7++)M7[E7]=arguments[E7];if(this.invalidHash.all)return!H2E.R4d;for(E7=H2E.R4d;E7<M7.length;E7++)if(this.invalidHash[M7[E7]])return!H2E.R4d;return!H2E.E4d;};e7.prototype.draw=function(){this.validate();};e7.prototype.validateNow=function(){this.invalidate();};e7.prototype.show=function(){this.container.show();};e7.prototype.hide=function(){this.container.hide();};e7.prototype.getId=function(){return this.container.attr(Q933.o2d);};e7.prototype.setId=function(J7){this.container.attr(Q933.o2d,J7);};e7.prototype.getName=function(){return this.name;};e7.prototype.setName=function(k7){this.name=k7;};e7.prototype.html=function(C7){if(void Q933.R4d===C7)return this.container.html();this.container.html(C7);return this;};e7.prototype.setEnabled=function(a7){this.container.toggleClass(Q3d,!a7);};e7.prototype.getEnabled=function(){return!this.container.hasClass(Q3d);};e7.prototype.addClass=function(H7){void Q933.R4d===H7&&(H7=Q933.s3d);this.container.addClass(H7);};e7.prototype.removeClass=function(A7){this.container.removeClass(A7);};Object.defineProperty(e7.prototype,Q933.X3d,{get:function(){return this.container.padding;},set:function(O7){},enumerable:!Q933.R4d,configurable:!Q933.R4d});e7.prototype.getWidth=function(u7){return this.container.getWidth(u7);};e7.prototype.setWidth=function(x7){this.getWidth()!==x7&&(this.container.setWidth(x7),this.invalidate(Q933.P3d));};e7.prototype.getHeight=function(i7){void Q933.R4d===i7&&(i7=!Q933.E4d);return this.container.getHeight(i7);};e7.prototype.setHeight=function(l7){this.getHeight()!==l7&&(this.container.setHeight(l7),this.invalidate(Q933.P3d));};e7.prototype.isVisible=function(G7){void Q933.R4d===G7&&(G7=void Q933.R4d);void Q933.R4d!==G7&&(G7?this.show():this.hide());return this.container.visible;};e7.prototype.position=function(){return this.container.position();};e7.prototype.addChild=function(U7,j7){void Q933.R4d===j7&&(j7=!Q933.E4d);j7?this.container.prepend(U7.container):this.container.append(U7.container);};function e7(V7,Y7){var T2E=Q933;var g3d="wdr-ui-mobile";var L3d="wdr-ui ";void T2E.R4d===V7&&(V7=T2E.S3d);void T2E.R4d===Y7&&(Y7=T2E.s3d);var b7=N7.call(this)||this;b7.container=new p7.UIElement(V7);b7.container.addClass(L3d+Y7);utils.browserVersion().isMobile&&b7.container.addClass(g3d);b7.validate();return b7;}e7.prototype.removeFromParent=function(T7){void Q933.R4d===T7&&(T7=!Q933.E4d);T7?this.container.remove():this.container.detach();};e7.prototype.getX=function(){return this.container.left;};e7.prototype.getY=function(){return this.container.top;};e7.prototype.hitTestPoint=function(f7,c7){return f7>=this.getX()&&f7<=this.getX()+this.getWidth()&&c7>=this.getY()&&c7<=this.getY()+this.getHeight();};e7.prototype.addEventListener=function(W7,n7){this.container.addEventListener(W7,n7);};e7.prototype.removeEventListener=function(y7,K7){this.container.removeEventListener(y7,K7);};e7.prototype.dispatch=function(m7){this.container.dispatch(m7);};e7.prototype.dispatchWith=function(r7,I7,B7){this.container.dispatchWith(r7,I7,B7);};e7.prototype.addLayoutClasses=function(q7){var Z3d="wdr-layout-mobile-small";var z3d="wdr-layout-mobile";var w3d="wdr-layout-tablet";var o6d=768;var D6d=580;var q6d=460;void Q933.R4d===q7&&(q7=!Q933.E4d);q7=q7?this.getWidth(!Q933.R4d):pivot._view.PivotView.stageWidth;this.container.toggleClass(w3d,o6d>q7);this.container.toggleClass(z3d,D6d>q7);this.container.toggleClass(Z3d,q6d>q7);};return e7;}(events.EventDispatcher);p7.UIComponentBase=F7;}(uicontrols||(uicontrols={})));(function(v7){var h7=function(d7){var j4E=Q933;var c3d="droppableOptions";var j3d="visible";var i3d="y";var x3d="x";var E3d="borderWidth";var e3d="class";var F3d="nodeName";var t3d="element";__extends(D7,d7);Object.defineProperty(D7.prototype,t3d,{get:function(){return this._element;},set:function(X4){(this._element=X4)&&(this._element.uielement=this);},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.o2d,{get:function(){return this.element.id;},set:function(P4){this.element.id=P4;},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.p3d,{get:function(){return D7.convert(this.element.parentElement);},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,F3d,{get:function(){return this._element.nodeName.toLowerCase();},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.addChild=function(S4){this.element.appendChild(S4.element);};D7.prototype.children=function(){for(var L4=this.element.firstElementChild,g4=[];L4;)g4.push(D7.convert(L4)),L4=L4.nextElementSibling;return g4;};D7.prototype.contains=function(w4){return this.element.contains(w4.element);};D7.prototype.append=function(z4){z4&&this.addChild(z4);return this;};D7.prototype.prepend=function(Z4){this.element.insertBefore(Z4.element,this.element.firstChild);return this;};D7.prototype.before=function(t4){this.element.parentNode&&this.element.parentNode.insertBefore(t4.element,this.element);return this;};D7.prototype.after=function(p4){this.element.parentNode&&this.element.nextElementSibling?this.element.parentNode.insertBefore(p4.element,this.element.nextElementSibling):this.append(p4);return this;};D7.prototype.addComponent=function(F4){this.element.appendChild(F4.container.element);};D7.prototype.removeFromParent=function(e4){void j4E.R4d===e4&&(e4=!j4E.R4d);e4?this.remove():this.detach();};D7.prototype.remove=function(){j4E.V2d!=this.element&&(this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.dispose());};D7.prototype.detach=function(){if(j4E.V2d!=this.element&&this.element.parentNode){var N4=this.element.cloneNode(!j4E.R4d);this.element.parentNode.removeChild(this.element);this.element=N4;}};D7.prototype.removeAllChildren=function(){for(;this.element&&this.element.firstChild;){var b4=D7.convert(this.element.firstChild);b4&&b4.dispose&&b4.dispose();this.element.removeChild(this.element.firstChild);}};D7.prototype.clone=function(){return D7.convert(this.element.cloneNode(!j4E.R4d));};D7.convert=function(V4){return V4&&V4.nodeType==Node.ELEMENT_NODE?utils.nullOrUndefined(V4.uielement)?new D7(V4):V4.uielement:j4E.V2d;};D7.prototype.get=function(R4){var Y4=this.children();return j4E.R4d<Y4.length?Y4[R4]:j4E.V2d;};D7.prototype.find=function(k4,C4){if(void j4E.R4d===C4||!j4E.E4d==C4)return D7.convert(this.element.querySelector(k4));for(var M4=this.element.querySelectorAll(k4),J4=[],E4=j4E.R4d;E4<M4.length;E4++)J4.push(D7.convert(M4[E4]));return J4;};D7.prototype.closest=function(H4){if(!this.element)return j4E.V2d;for(var a4=this.element;j4E.V2d!=a4;){if(a4.matches){if(a4.matches(H4))return a4==this.element?this:D7.convert(a4);}else if(a4.msMatchesSelector(H4))return a4==this.element?this:D7.convert(a4);a4=a4.parentElement;}return j4E.V2d;};D7.prototype.addClass=function(u4){if(!this.element)return this;u4=u4.trim();for(var O4=u4.split(j4E.R2d),A4=j4E.R4d;A4<O4.length;A4++)j4E.R4d<O4[A4].length&&(utils.detectBrowser().isMsie?(u4=this.element.getAttribute(e3d),utils.nullOrUndefined(u4)?this.element.setAttribute(e3d,O4[A4]):-j4E.E4d==u4.split(j4E.R2d).indexOf(O4[A4])&&this.element.setAttribute(e3d,u4+j4E.R2d+O4[A4])):!j4E.E4d==this.element.classList.contains(O4[A4])&&this.element.classList.add(O4[A4]));return this;};D7.prototype.removeClass=function(x4){if(!this.element)return this;x4=x4.trim();if(j4E.R4d<x4.length)if(utils.detectBrowser().isMsie){var i4=this.element.getAttribute(e3d);utils.nullOrUndefined(i4)||(i4=i4.split(j4E.R2d),x4=i4.indexOf(x4),-j4E.E4d<x4&&(i4.splice(x4,j4E.E4d),this.element.setAttribute(e3d,i4.join(j4E.R2d))));}else this.element.classList.contains(x4)&&this.element.classList.remove(x4);return this;};D7.prototype.toggleClass=function(l4,G4){G4?this.addClass(l4):this.removeClass(l4);};D7.prototype.hasClass=function(j4){return this.element.classList.contains(j4);};D7.prototype.disableSelection=function(){this.addClass(j4E.N3d);return this;};D7.prototype.enableSelection=function(){var b3d="wdr-selectable";this.addClass(b3d);return this;};D7.prototype.getWidth=function(U4){void j4E.R4d===U4&&(U4=!j4E.E4d);if(!this.element)return j4E.R4d;var T4=window.getComputedStyle(this.element);U4=U4?j4E.R4d:(parseFloat(T4.paddingLeft)||j4E.R4d)+(parseFloat(T4.paddingRight)||j4E.R4d);return this.element.clientWidth-U4;};D7.prototype.setWidth=function(f4){j4E.V3d===typeof f4?this.element.style.width=f4+j4E.r2d:j4E.Y3d===typeof f4&&(this.element.style.width=f4);return this;};Object.defineProperty(D7.prototype,j4E.R3d,{get:function(){return this.getWidth();},set:function(c4){this.setWidth(c4);},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.X3d,{get:function(){var W4=window.getComputedStyle(this.element);return{left:parseFloat(W4.paddingLeft)||j4E.R4d,right:parseFloat(W4.paddingRight)||j4E.R4d,top:parseFloat(W4.paddingTop)||j4E.R4d,bottom:parseFloat(W4.paddingBottom)||j4E.R4d};},set:function(n4){},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,E3d,{get:function(){var y4=window.getComputedStyle(this.element);return{left:parseFloat(y4.borderLeftWidth||y4.borderWidth)||j4E.R4d,right:parseFloat(y4.borderRightWidth||y4.borderWidth)||j4E.R4d,top:parseFloat(y4.borderTopWidth||y4.borderWidth)||j4E.R4d,bottom:parseFloat(y4.borderBottomWidth||y4.borderWidth)||j4E.R4d};},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.getHeight=function(K4){void j4E.R4d===K4&&(K4=!j4E.E4d);var m4=window.getComputedStyle(this.element);K4=K4?j4E.R4d:(parseFloat(m4.paddingTop)||j4E.R4d)+(parseFloat(m4.paddingBottom)||j4E.R4d);return j4E.R4d>this.element.clientHeight-K4?j4E.R4d:this.element.clientHeight-K4;};D7.prototype.setHeight=function(r4){j4E.V3d===typeof r4?this.element.style.height=r4+j4E.r2d:j4E.Y3d===typeof r4&&(this.element.style.height=r4);return this;};Object.defineProperty(D7.prototype,j4E.M3d,{get:function(){return this.getHeight();},set:function(I4){this.setHeight(I4);},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.J3d,{get:function(){return this.element.getBoundingClientRect().left;},set:function(B4){this.element.style.left=B4+j4E.r2d;},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.k3d,{get:function(){return this.element.getBoundingClientRect().top;},set:function(v4){this.element.style.top=v4+j4E.r2d;},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.C3d,{get:function(){return this.element.getBoundingClientRect().right;},set:function(h4){this.element.style.right=h4+j4E.r2d;},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,j4E.a3d,{get:function(){return this.element.getBoundingClientRect().bottom;},set:function(D4){this.element.style.bottom=D4+j4E.r2d;},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.outerHtml=function(){return this.element.outerHTML;};D7.prototype.html=function(d4){if(void j4E.R4d===d4)return this.element.innerHTML;this.element.innerHTML=d4;return this;};D7.prototype.empty=function(){this.html(j4E.s3d);};D7.prototype.clear=function(){this.empty();};D7.prototype.text=function(o4){if(void j4E.R4d===o4)return this.element.textContent;j4E.H3d==this.element.tagName.toLowerCase()?this.element.value=o4:this.element.textContent=o4;return this;};function D7(Q4,s4){var O3d="wdr-ui-element";void j4E.R4d===Q4&&(Q4=j4E.S3d);void j4E.R4d===s4&&(s4=j4E.s3d);var o7=d7.call(this)||this;o7.display=j4E.A3d;o7.frames=[];o7.__handlers=[];o7.element=j4E.Y3d==typeof Q4?document.createElement(Q4):Q4;o7.addClass(O3d);o7.addClass(s4);return o7;}D7.prototype.focus=function(){this.element.focus();return this;};D7.prototype.blur=function(){this.element.blur();return this;};D7.prototype.show=function(){this.element.style.display=this.display;};D7.prototype.hide=function(){this.element.style.display=j4E.u3d;};Object.defineProperty(D7.prototype,x3d,{get:function(){return this.element.offsetLeft;},enumerable:!j4E.R4d,configurable:!j4E.R4d});Object.defineProperty(D7.prototype,i3d,{get:function(){return this.element.offsetTop;},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.offset=function(Q6){if(void j4E.R4d===Q6)return this.getOffset();this.css(j4E.J3d,Q6.left+j4E.r2d);this.css(j4E.k3d,Q6.top+j4E.r2d);};D7.prototype.getBoundingClientRect=function(){return this.element.getBoundingClientRect();};D7.prototype.position=function(s6){if(void j4E.R4d===s6)return{top:this.y,left:this.x};this.offset(s6);};D7.prototype.attr=function(X6,P6){if(void j4E.R4d===P6)return this.element.getAttribute(X6);try{this.element.setAttribute(X6,P6);}catch(S6){this.element.attributes[X6]=P6;}return this;};D7.prototype.removeAttr=function(L6){this.element.removeAttribute(L6);return this;};D7.prototype.css=function(g6,w6){if(void j4E.R4d===w6)return window.getComputedStyle(this.element)[D7.toCamelCase(g6)];this.element.style[D7.toCamelCase(g6)]=w6;return this;};D7.toCamelCase=function(z6){var Z6=z6.split(j4E.l3d);if(j4E.E4d<Z6.length){for(z6=j4E.E4d;z6<Z6.length;z6++)Z6[z6]=Z6[z6].charAt(j4E.R4d).toUpperCase()+Z6[z6].substr(j4E.E4d);return Z6.join(j4E.s3d);}return z6;};D7.prototype.val=function(){return j4E.H3d==this.element.tagName.toLowerCase()||j4E.G3d==this.element.tagName.toLowerCase()?this.element.value:this.element.textContent;};D7.prototype.requestAnimationFrame=function(p6){var t6=j4E.R4d;window.requestAnimationFrame?t6=window.requestAnimationFrame(p6):window.msRequestAnimationFrame?t6=window.msRequestAnimationFrame(p6):window.mozRequestAnimationFrame?t6=window.mozRequestAnimationFrame(p6):window.webkitRequestAnimationFrame?t6=window.webkitRequestAnimationFrame(p6):p6.call(j4E.V2d);this.frames.push(t6);return t6;};D7.prototype.cancelAnimationFrame=function(F6){this.frames.splice(this.frames.indexOf(F6),j4E.E4d);j4E.R4d!=F6&&(j4E.V2d!=window.cancelAnimationFrame?window.cancelAnimationFrame(F6):j4E.V2d!=window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(F6):j4E.V2d!=window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(F6):j4E.V2d!=window.webkitCancelAnimationFrame&&window.webkitCancelAnimationFrame(F6));};Object.defineProperty(D7.prototype,j3d,{get:function(){var U3d="display";return this.element&&j4E.u3d!=this.css(U3d);},set:function(e6){e6?this.show():this.hide();},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.getOffset=function(b6){void j4E.R4d===b6&&(b6=j4E.V2d);if(j4E.V2d==b6)return this.element.getBoundingClientRect();for(var V6=j4E.R4d,Y6=j4E.R4d,N6=this.element;N6&&N6!=b6&&!isNaN(N6.offsetLeft)&&!isNaN(N6.offsetTop);)V6+=N6.offsetLeft-N6.scrollLeft,Y6+=N6.offsetTop-N6.scrollTop,N6=N6.offsetParent;return{top:Y6,left:V6};};D7.prototype.getScrollTop=function(){return this.element.scrollTop;};D7.prototype.setScrollTop=function(R6){this.element.scrollTop=R6;return this;};D7.prototype.setScrollLeft=function(E6){this.element.scrollLeft=E6;return this;};D7.prototype.addEventListener=function(M6,J6,k6){j4E.T3d!==typeof this.element[j4E.f3d+M6]||events._Event.isNativeType(M6)?(utils.nullOrUndefined(this.__handlers[M6])&&(this.__handlers[M6]=[]),this.__handlers[M6][J6.toString()]=function(C6){J6(C6);},this.element.addEventListener(M6,this.__handlers[M6][J6.toString()],k6)):d7.prototype.addEventListener.call(this,M6,J6,k6);};D7.prototype.removeEventListener=function(a6,H6,A6){j4E.T3d!==typeof this.element[j4E.f3d+a6]||events._Event.isNativeType(a6)?this.__handlers[a6]&&this.element.removeEventListener(a6,this.__handlers[a6][H6.toString()],A6):d7.prototype.removeEventListener.call(this,a6,H6);};D7.prototype.dispatch=function(O6){d7.prototype.dispatch.call(this,O6);};D7.prototype.removeAllEventListeners=function(i6){for(var u6 in this.__handlers)if(void j4E.R4d===i6||i6==u6)for(var x6 in this.__handlers[u6])try{this.element.removeEventListener(u6,this.__handlers[u6][x6],!j4E.R4d),this.element.removeEventListener(u6,this.__handlers[u6][x6],!j4E.E4d);}catch(l6){console.error(l6);}this.__handlers=[];d7.prototype.removeAllEventListeners.call(this,u6);};D7.prototype.dispose=function(){this.removeAllEventListeners();this.removeAllChildren();this._element=this._element.uielement=j4E.V2d;for(var G6=j4E.R4d;G6<this.frames.length;G6++)this.cancelAnimationFrame(this.frames[G6]);this.frames=[];this._resizableHelper&&this._resizableHelper.dispose();};D7.prototype.refresh=function(){this.html(this.html());};D7.prototype.draggable=function(j6){v7.dragndrop.DragManager.getInstance().makeDraggable(this,j6);};D7.prototype.droppable=function(U6,T6){this._droppableOptions=U6;v7.dragndrop.DragManager.getInstance().makeDroppable(this,T6?T6:this,U6);};Object.defineProperty(D7.prototype,c3d,{get:function(){return this._droppableOptions;},enumerable:!j4E.R4d,configurable:!j4E.R4d});D7.prototype.index=function(){for(var f6=j4E.R4d,c6=this.element;c6=c6.previousElementSibling;)f6++;return f6;};D7.prototype.resizable=function(W6){this._resizableHelper=new v7.resizable.ResizableHelper(this,W6);};return D7;}(events.EventDispatcher);v7.UIElement=h7;}(uicontrols||(uicontrols={})));(function(n6){var y6=function(m6){var B3d="buttonclick";var n3d="buttonmousedown";var W3d="wdr-ui-pressed";__extends(K6,m6);K6.prototype.onClick=function(D6){this.getEnabled()&&this.dispatchWith(K6.CLICK_EVENT,this);D6.stopImmediatePropagation();};K6.prototype.onMouseDown=function(){var d6=this;this.container.toggleClass(W3d,!Q933.R4d);this.mouseDownTimeout=utils.fmSetInterval(function(){return d6.dispatchMouseDown();},this.getRepeatDelay());};K6.prototype.dispatchMouseDown=function(){this.dispatch(new events._Event(K6.MOUSE_DOWN_EVENT,this));};K6.prototype.onMouseUp=function(){this.container.toggleClass(W3d,!Q933.E4d);utils.fmClearInterval(this.mouseDownTimeout);};K6.prototype.onMouseOut=function(){this.container.toggleClass(W3d,!Q933.E4d);utils.fmClearInterval(this.mouseDownTimeout);};K6.prototype.getLabel=function(){return this.label;};K6.prototype.setRepeatDelay=function(o6){this.repeatDelay=o6;};K6.prototype.getRepeatDelay=function(){return this.repeatDelay;};K6.prototype.setLabel=function(Q2){this.label!=Q2&&(this.label=Q2,this.container.text(this.label));};K6.MOUSE_DOWN_EVENT=n3d;function K6(I6){var K2E=Q933;var r3d="mouseout";void K2E.R4d===I6&&(I6=K2E.s3d);var r6=m6.call(this,K2E.y3d,K2E.K3d)||this;r6.mouseDownTimeout=K2E.R4d;r6.repeatDelay=K2E.S6d;r6.addClass(I6);r6.container.addEventListener(K2E.m3d,function(B6){return r6.onClick(B6);});r6.container.addEventListener(K2E.G2d,function(q6){return r6.onMouseDown();});r6.container.addEventListener(K2E.f2d,function(v6){return r6.onMouseUp();});r6.container.addEventListener(r3d,function(h6){return r6.onMouseOut();});r6.container.display=K2E.I3d;return r6;}K6.CLICK_EVENT=B3d;return K6;}(n6.UIComponentBase);n6.UIButton=y6;}(uicontrols||(uicontrols={})));(function(s2){var X2=function(S2){__extends(P2,S2);P2.prototype.getLabel=function(){return this.label;};function P2(g2){var m2E=Q933;var v3d="wdr-ui wdr-ui-label";void m2E.R4d===g2&&(g2=m2E.s3d);var L2=S2.call(this,m2E.q3d,v3d)||this;L2.container.display=m2E.I3d;L2.setLabel(g2);return L2;}P2.prototype.setLabel=function(z2,w2){void Q933.R4d===w2&&(w2=!Q933.E4d);this.label!=z2&&(this.label=z2,w2?this.container.html(this.label):this.container.text(this.label));};P2.prototype.setSelectable=function(Z2){Z2?this.container.enableSelection():this.container.disableSelection();};return P2;}(s2.UIComponentBase);s2.UILabel=X2;}(uicontrols||(uicontrols={})));(function(t2){var p2=function(e2){var D3d="ntl";__extends(F2,e2);F2.prototype.onKeyUp=function(R2){this.dispatchChange();};F2.prototype.onInputPaste=function(E2){this.dispatchChange();};F2.prototype.dispatchChange=function(){this.dispatch(new events._Event(t2.UITextInput.CHANGE_EVENT,this));};F2.prototype.getText=function(){return this.container.val();};F2.prototype.setText=function(M2){this.getText()!=M2&&(this.container.element.value=M2,this.dispatchChange());};F2.prototype.clear=function(){this.setText(Q933.s3d);};F2.prototype.insertText=function(C2){var k2=this.getSelectionBeginIndex(),a2=this.getSelectionEndIndex(),J2=this.getText(),J2=J2.substr(Q933.R4d,k2)+C2+J2.substr(k2);this.setText(J2);this.setSelection(k2+C2.length,a2+C2.length);};F2.prototype.setSelection=function(A2,H2){void Q933.R4d===H2&&(H2=-Q933.E4d);this.container.element.focus();this.container.element.setSelectionRange(A2,Q933.R4d>H2?A2:H2);};F2.prototype.getSelectionBeginIndex=function(){return this.container.element.selectionStart;};F2.prototype.getSelectionEndIndex=function(){return this.container.element.selectionEnd;};F2.prototype.selectAll=function(){this.setSelection(Q933.R4d,this.getText().length);};F2.prototype.onKeyPressed=function(O2){O2.ctrlKey?(this.dispatchWith(F2.EVENT_CTRL_ENTER),O2.preventDefault()):Q933.l4d==O2.keyCode&&(this.dispatchWith(F2.EVENT_ENTER),O2.preventDefault());};F2.EVENT_ENTER=Q933.h3d;F2.EVENT_CTRL_ENTER=D3d;function F2(){var D2E=Q933;var d3d="wdr-ui-text-area";var N2=e2.call(this,D2E.G3d,d3d)||this;N2.container.addEventListener(D2E.o3d,function(b2){return N2.onKeyPressed(b2);});N2.container.addEventListener(D2E.Q5d,function(V2){return N2.onKeyUp(V2);});N2.container.addEventListener(D2E.s5d,function(Y2){return N2.onInputPaste(Y2);});return N2;}return F2;}(t2.UIComponentBase);t2.UITextArea=p2;}(uicontrols||(uicontrols={})));(function(u2){var x2=function(l2){var L5d="data-placeholder";__extends(i2,l2);i2.getChar=function(W2){var d2E=Q933;return d2E.V2d==W2.which?d2E.v4d>W2.keyCode?d2E.V2d:String.fromCharCode(W2.keyCode):d2E.R4d!=W2.which&&d2E.R4d!=W2.charCode?d2E.v4d>W2.which?d2E.V2d:String.fromCharCode(W2.which):d2E.V2d;};i2.prototype.onKeyPressed=function(n2){Q933.l4d==n2.keyCode&&this.dispatchWith(i2.EVENT_ENTER);if(!(utils.nullOrUndefined(this.restrictRule)||n2.ctrlKey||n2.altKey||n2.metaKey)){var y2=i2.getChar(n2);Q933.V2d!=y2&&!Q933.E4d===this.restrictRule.test(y2)&&n2.preventDefault();}};i2.prototype.onKeyUp=function(K2){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};function i2(){var Q3E=Q933;var X5d="wdr-ui-text-input";var G2=l2.call(this,Q3E.H3d,X5d)||this;G2.text=Q3E.s3d;G2.prompt=Q3E.s3d;G2.changeDelay=Q3E.R4d;G2.changeDispatched=!Q3E.R4d;G2.container.display=Q3E.I3d;G2.container.attr(Q3E.P5d,Q3E.S5d);G2.container.attr(L5d,Q3E.s3d);G2.container.addEventListener(Q3E.g5d,function(j2){return G2.onFocusIn();});G2.container.addEventListener(Q3E.w5d,function(U2){return G2.onFocusOut();});G2.container.addEventListener(Q3E.Q5d,function(T2){return G2.onKeyUp(T2);});G2.container.addEventListener(Q3E.o3d,function(f2){return G2.onKeyPressed(f2);});G2.container.addEventListener(Q3E.s5d,function(c2){return G2.onInputPaste(c2);});return G2;}i2.prototype.onInputPaste=function(m2){this.container.val()!==this.text&&(this.text=this.container.val(),this.dispatchChange());};i2.prototype.dispatchChange=function(){var r2=this;Q933.R4d<this.changeDelay?this.changeDispatched&&(this.changeDispatched=!Q933.E4d,utils.fmSetTimeout(function(){return r2._dispatchChange();},this.changeDelay)):this._dispatchChange();};i2.prototype._dispatchChange=function(){this.changeDispatched=!Q933.R4d;this.dispatch(new events._Event(i2.CHANGE_EVENT,this,this.text));};i2.prototype.onFocusIn=function(){Q933.R4d==this.text.length&&(this.container.text(Q933.s3d),this.enablePrompt(!Q933.E4d));};i2.prototype.onFocusOut=function(){this.enablePrompt(Q933.R4d==this.text.length);};i2.prototype.getText=function(){return this.text=this.container.val()==this.prompt?this.text:this.container.val();};i2.prototype.setText=function(I2){this.text!=I2&&(this.text=I2,this.container.text(this.text),this.enablePrompt(Q933.R4d==this.text.length));};i2.prototype.clear=function(B2){void Q933.R4d===B2&&(B2=!Q933.R4d);this.setText(Q933.s3d);B2&&this._dispatchChange();};i2.prototype.setPrompt=function(v2){v2!=this.prompt&&(this.prompt=v2,this.container.attr(L5d,this.prompt),this.enablePrompt(Q933.R4d==this.text.length));};i2.prototype.enablePrompt=function(h2){this.container.text(h2?this.prompt:this.text);this.container.toggleClass(Q933.z5d,h2);};i2.prototype.getPrompt=function(){return this.prompt;};i2.prototype.setRestriction=function(D2){this.restrictRule=D2;};i2.prototype.getRestriction=function(){return this.restrictRule;};i2.prototype.setChangeDelay=function(d2){this.changeDelay=d2;};i2.prototype.getChangeDelay=function(){return this.changeDelay;};i2.prototype.getType=function(){return this.container.attr(Q933.P5d);};i2.prototype.setType=function(o2){this.container.attr(Q933.P5d,o2);};i2.CHANGE_EVENT=Q933.Z5d;i2.EVENT_ENTER=Q933.h3d;return i2;}(u2.UIComponentBase);u2.UITextInput=x2;}(uicontrols||(uicontrols={})));(function(Q3){var s3=function(P3){__extends(X3,P3);X3.prototype.onClick=function(){this.getEnabled()&&(this.toggle(),this.dispatchWith(events._Event.CHANGE,this));};X3.prototype.toggle=function(){var p3E=Q933;this.selected=p3E.E4d==this.selected?p3E.R4d:p3E.E4d;this.container.toggleClass(p3E.t5d,p3E.E4d==this.selected);};X3.prototype.setSelection=function(L3){var F3E=Q933;this.selected==L3||F3E.E4d<L3||-F3E.E4d>L3||(this.selected=L3,this.container.toggleClass(F3E.t5d,F3E.E4d==this.selected));};function X3(){var e3E=Q933;var S3=P3.call(this)||this;S3.container.display=e3E.I3d;S3.container.hasClass(e3E.K3d)&&S3.container.removeClass(e3E.K3d);S3.container.addClass(e3E.p5d);S3.selected=e3E.R4d;S3.addEventListener(Q3.UIButton.CLICK_EVENT,function(){return S3.onClick();});return S3;}X3.prototype.getSelection=function(){return this.selected;};return X3;}(Q3.UIButton);Q3.UIToggleButton=s3;}(uicontrols||(uicontrols={})));(function(g3){var w3=function(Z3){var f4E=Q933;var e5d="checked";var F5d="wdr-ui-semi-selected";__extends(z3,Z3);z3.prototype.toggle=function(){Z3.prototype.toggle.call(this);this.container.toggleClass(F5d,-f4E.E4d==this.getSelection());};z3.prototype.setLabel=function(F3,p3){void f4E.R4d===p3&&(p3=!f4E.E4d);f4E.V2d!=this.labelHolder&&this.labelHolder.setLabel(F3,p3);};z3.prototype.getLabel=function(){return f4E.V2d!=this.labelHolder?this.labelHolder.getLabel():f4E.s3d;};z3.prototype.setSelection=function(e3){this.getSelection()==e3||f4E.E4d<e3||-f4E.E4d>e3||(Z3.prototype.setSelection.call(this,e3),this.container.toggleClass(F5d,-f4E.E4d==this.getSelection()));};Object.defineProperty(z3.prototype,e5d,{get:function(){return f4E.E4d==this.getSelection();},set:function(N3){this.setSelection(N3?f4E.E4d:f4E.R4d);},enumerable:!f4E.R4d,configurable:!f4E.R4d});z3.SELECTED=f4E.E4d;z3.UNSELECTED=f4E.R4d;function z3(){var b5d="Label";var N5d="wdr-ui-checkbox";var t3=Z3.call(this)||this;t3.container.display=f4E.I3d;t3.container.hasClass(f4E.p5d)&&t3.container.removeClass(f4E.p5d);t3.container.addClass(N5d);t3.labelHolder=new g3.UILabel(b5d);t3.container.append(t3.labelHolder.container);return t3;}z3.SEMI_SELECTED=-f4E.E4d;return z3;}(g3.UIToggleButton);g3.UICheckBox=w3;}(uicontrols||(uicontrols={})));(function(b3){var V3=function(R3){var c4E=Q933;var k5d="divider_moved_event";var J5d="containment";var V5d="direction";__extends(Y3,R3);Y3.prototype.onMouseDown=function(C3){this._height=this.direction==Y3.HORIZONTAL?this.getHeight():this.getWidth();this._baseOffset=this.container.parent.getOffset();utils.fmdocument.addEventListener(c4E.U2d,this.mouseMoveHandler);C3.preventDefault();C3.stopImmediatePropagation();};Y3.prototype.onMouseMove=function(a3){if(this.direction==Y3.HORIZONTAL){var H3=a3.clientY-this._baseOffset.top;if(this._containment&&(H3<this._containment[c4E.E4d]||H3>this._containment[c4E.J4d]))return;this.container.css(c4E.k3d,H3-this._height/c4E.M4d+c4E.r2d);this.dispatchWith(Y3.EVENT_MOVED,this,{top:H3});}this.direction==Y3.VERTICAL&&(a3=a3.clientX-this._baseOffset.left,this._containment&&(a3<this._containment[c4E.R4d]||a3>this._containment[c4E.M4d])||(this.container.css(c4E.J3d,a3-this._height/c4E.M4d+c4E.r2d),this.dispatchWith(Y3.EVENT_MOVED,this,{left:a3})));};Y3.prototype.onMouseUp=function(A3){utils.fmdocument.removeEventListener(c4E.U2d,this.mouseMoveHandler);};Object.defineProperty(Y3.prototype,V5d,{get:function(){return this._direction;},set:function(O3){var R5d="wdr-ui-vertical";var Y5d="wdr-ui-horizontal";this._direction=O3;this.container.toggleClass(Y5d,this._direction==Y3.HORIZONTAL);this.container.toggleClass(R5d,this._direction==Y3.VERTICAL);this.container.css(c4E.E5d,s933.M5d);},enumerable:!c4E.R4d,configurable:!c4E.R4d});Object.defineProperty(Y3.prototype,J5d,{set:function(u3){this._containment=u3;},enumerable:!c4E.R4d,configurable:!c4E.R4d});Y3.HORIZONTAL=c4E.R4d;Y3.VERTICAL=c4E.E4d;Y3.EVENT_MOVED=k5d;function Y3(){var C5d="wdr-ui-divider";var E3=R3.call(this,c4E.S3d,C5d)||this;E3.mouseMoveHandler=function(M3){return E3.onMouseMove(M3);};E3.mouseDownHandler=function(J3){return E3.onMouseDown(J3);};E3.mouseUpHandler=function(k3){return E3.onMouseUp(k3);};E3.direction=Y3.HORIZONTAL;E3.addEventListener(c4E.G2d,E3.mouseDownHandler);utils.fmdocument.addEventListener(c4E.f2d,E3.mouseUpHandler);E3.container.disableSelection();return E3;}return Y3;}(b3.UIComponentBase);b3.UIDivider=V3;}(uicontrols||(uicontrols={})));(function(x3){var i3=function(G3){var A5d="wdr-ui-transparent";var H5d="wdr-ui-opaque";__extends(l3,G3);function l3(){var a5d="wdr-ui-modal-overlay";return G3.call(this,Q933.S3d,a5d)||this;}l3.prototype.setTransparent=function(j3){this.container.toggleClass(H5d,!Q933.E4d);this.container.toggleClass(A5d,j3);};l3.prototype.setOpaque=function(U3){this.container.toggleClass(A5d,!Q933.E4d);this.container.toggleClass(H5d,U3);};return l3;}(x3.UIComponentBase);x3.UIModalOverlay=i3;}(uicontrols||(uicontrols={})));(function(T3){(function(c3){var f3=function(n3){__extends(W3,n3);W3.prototype.removeChild=function(K3){this.contains(K3)&&K3.container.detach();};W3.prototype.contains=function(m3){return utils.nullOrUndefined(m3)?!Q933.E4d:this.container.contains(m3.container);};W3.prototype.getWidth=function(){return this.container.width;};W3.prototype.getHeight=function(){return this.container.height;};W3.prototype.removeAllChildren=function(){for(var I3=this.container.children(),r3=I3.length-Q933.E4d;Q933.R4d<=r3;r3--)I3[r3].removeFromParent();};function W3(y3){var O5d="wdr-ui-container";void Q933.R4d===y3&&(y3=O5d);return n3.call(this,Q933.S3d,y3)||this;}return W3;}(T3.UIComponentBase);c3.UIContainer=f3;}(T3.containers||(T3.containers={})));}(uicontrols||(uicontrols={})));(function(B3){(function(v3){var h3=function(D3){__extends(d3,D3);function d3(){var u5d="wdr-ui-border-container";return D3.call(this,u5d)||this;}return d3;}(v3.UIContainer);v3.UIBorderContainer=h3;}(B3.containers||(B3.containers={})));}(uicontrols||(uicontrols={})));(function(o3){(function(Q5){var s5=function(P5){__extends(X5,P5);X5.prototype.setPosition=function(L5,g5){this.container.offset({left:Math.floor(L5),top:Math.floor(g5)});this.container.css(Q933.E5d,s933.M5d);};X5.prototype.getPosition=function(){return this.container.offset();};function X5(){var x5d="wdr-ui-window";var S5=P5.call(this)||this;S5.container.addClass(x5d);S5.hide();return S5;}return X5;}(Q5.UIContainer);Q5.UIWindow=s5;}(o3.containers||(o3.containers={})));}(uicontrols||(uicontrols={})));(function(w5){(function(z5){var Z5=function(t5){__extends(p5,t5);function p5(){return t5.call(this,s933.i5d)||this;}return p5;}(z5.UIContainer);z5.UIHGroup=Z5;}(w5.containers||(w5.containers={})));}(uicontrols||(uicontrols={})));(function(F5){(function(e5){var N5=function(b5){__extends(V5,b5);function V5(){var l5d="wdr-ui-vgroup";return b5.call(this,l5d)||this;}return V5;}(e5.UIContainer);e5.UIVGroup=N5;}(F5.containers||(F5.containers={})));}(uicontrols||(uicontrols={})));(function(Y5){(function(R5){var E5=function(M5){__extends(J5,M5);function J5(){var G5d="wdr-ui-panel";return M5.call(this,G5d)||this;}return J5;}(R5.UIContainer);R5.UIPanel=E5;}(Y5.containers||(Y5.containers={})));}(uicontrols||(uicontrols={})));(function(k5){(function(C5){var a5=function(A5){var f5d="overlay";var U5d="resize";__extends(H5,A5);function H5(u5){var j5d="wdr-ui-popup";var O5=A5.call(this)||this;O5._overlayClickHandler=function(){return O5.onOverlayClick();};O5.resizeHandler=function(x5){return O5.onWindowResize(x5);};O5.isOpaque=!Q933.E4d;O5._modalParent=u5;O5.container.addClass(j5d);O5.hide();O5._overlay=new k5.UIModalOverlay();O5._overlay.addEventListener(Q933.m3d,O5._overlayClickHandler);O5._overlay.hide();O5._modalParent&&O5._modalParent.addChild(O5._overlay.container);return O5;}H5.prototype.onWindowResize=function(l5){var i5=this;l5.target===window&&(this.container.requestAnimationFrame(function(){return i5.centerPosition();}),this.addLayoutClasses());};H5.prototype.onOverlayClick=function(){this.close();};H5.prototype.open=function(){var T5d="fm-ui-opaque";utils.fmwindow.addEventListener(U5d,this.resizeHandler);this._overlay.show();this._overlay.container.toggleClass(T5d,this.isOpaque);this.show();this.centerPosition();this.dispatchWith(events._Event.OPENED);this.addLayoutClasses();};H5.prototype.close=function(){utils.fmwindow.removeEventListener(U5d,this.resizeHandler);this._overlay.hide();this.hide();this.dispatchWith(events._Event.CLOSED);};H5.prototype.centerPosition=function(){var n9I=Q933;var G5=this._modalParent;if(G5){var j5=Math.max(n9I.R4d,(G5.getWidth(!n9I.R4d)-this.container.getWidth(!n9I.R4d)-n9I.M4d)/n9I.M4d),G5=Math.max(n9I.R4d,(G5.getHeight(!n9I.R4d)-this.container.getHeight(!n9I.R4d)-n9I.M4d)/n9I.M4d);this.setPosition(j5,G5);}};Object.defineProperty(H5.prototype,f5d,{get:function(){return this._overlay;},enumerable:!Q933.R4d,configurable:!Q933.R4d});return H5;}(C5.UIWindow);C5.UIPopup=a5;}(k5.containers||(k5.containers={})));}(uicontrols||(uicontrols={})));(function(U5){(function(T5){var f5=function(c5){__extends(W5,c5);function W5(){var c5d="wdr-ui-toolbar";return c5.call(this,c5d)||this;}return W5;}(T5.UIContainer);T5.UIToolbar=f5;}(U5.containers||(U5.containers={})));}(uicontrols||(uicontrols={})));(function(n5){(function(y5){var K5=function(r5){__extends(m5,r5);m5.prototype.setHeader=function(B5){this.header!=B5&&(this.header=B5,this.headerDisplay.setLabel(B5));};m5.prototype.getHeader=function(){return this.header;};m5.prototype.setLeftItem=function(q5){var W5d="wdr-ui-left";this.leftItem!=q5&&(Q933.V2d!=this.leftItem&&this.leftItem.removeFromParent(),this.leftItem=q5,Q933.V2d!=this.leftItem&&(this.leftItem.addClass(W5d),this.addChild(this.leftItem)));};function m5(){var y5d="wdr-ui-header-display";var n5d="wdr-ui-toolbar-mobile";var I5=r5.call(this,n5d)||this;I5.headerDisplay=new n5.UILabel();I5.headerDisplay.addClass(y5d);I5.addChild(I5.headerDisplay);return I5;}m5.prototype.setRightItem=function(v5){var K5d="wdr-ui-right";this.rightItem!=v5&&(Q933.V2d!=this.rightItem&&this.rightItem.removeFromParent(),this.rightItem=v5,Q933.V2d!=this.rightItem&&(this.rightItem.addClass(K5d),this.addChild(this.rightItem)));};return m5;}(y5.UIContainer);y5.UIToolbarMobile=K5;}(n5.containers||(n5.containers={})));}(uicontrols||(uicontrols={})));(function(h5){(function(d5){var D5=function(){o5.prototype.setItems=function(Q0){this.allItems=Q0;};o5.prototype.getItems=function(X0,P0){if(Q933.R4d>X0||P0>this.allItems.length+Q933.E4d)return[];this.items.length=Q933.R4d;for(var s0=X0;s0<P0;s0++)this.items.push(this.allItems[s0]);return this.items;};o5.prototype.getLength=function(){return this.allItems.length;};function o5(){this.items=[];this.allItems=[];}return o5;}();d5.SmartDataProvider=D5;}(h5.dataProviders||(h5.dataProviders={})));}(uicontrols||(uicontrols={})));(function(S0){(function(g0){var L0=function(z0){var M3E=Q933;__extends(w0,z0);w0.prototype.getRowHeight=function(){return M3E.R4d<this.visibleItems.length?this.visibleItems[M3E.R4d].getHeight():this.rowHeight;};w0.prototype.getStartIdx=function(){return M3E.R4d;};w0.prototype.getRowCount=function(){return this.dataProvider.length;};w0.prototype.draw=function(){this.isInvalid(s933.m5d)&&this.drawItems();this.validate();};w0.prototype.drawItems=function(){var F0=this,N0=this.container.getScrollTop();this.removeAllItems();for(var b0,e0=this.getDataProvider(),p0=M3E.R4d;p0<e0.length;p0++)b0=this.getItem(e0[p0],p0),this.addItem(b0);this.container.setScrollTop(N0);this.container.requestAnimationFrame(function(){M3E.R4d<F0.visibleItems.length&&(F0.rowHeight=F0.visibleItems[M3E.R4d].getHeight());});};w0.prototype.getItem=function(Y0,R0){var V0;this.useCache&&M3E.R4d<this.itemsCache.length?(V0=this.itemsCache.pop(),V0.setData(Y0),V0.setIndex(R0)):(V0=this.itemRendererFactory(Y0,R0),V0.setLabelField(this.labelField));return V0;};w0.prototype.addItem=function(E0){this.visibleItems.push(E0);this.addChild(E0);};w0.prototype.removeAllItems=function(){for(;M3E.R4d<this.visibleItems.length;)this._removeItem(this.visibleItems.pop());};w0.prototype.removeItem=function(J0){for(var M0=M3E.R4d;M0<this.visibleItems.length;M0++)if(this.visibleItems[M0]===J0){this.visibleItems.splice(M0,M3E.E4d);break;}this._removeItem(J0);};w0.prototype._removeItem=function(k0){M3E.V2d!=this.container.find(k0.container.element.nodeName)&&k0.container.remove();};w0.prototype.onItemClick=function(C0){C0=S0.UIElement.convert(C0.target).closest(s933.r5d);if(M3E.V2d!=C0){C0=parseInt(C0.attr(s933.I5d));var a0=this.getStartIdx()+C0,H0=this.selectedItem,A0=this.selectedIndex;this.setSelectedIndex(C0);this.dispatchWith(events._Event.CHANGE,this,{selectedItem:this.selectedItem,selectedIndex:this.selectedIndex,realIndex:a0,prevItem:H0,prevIndex:A0});}};w0.prototype.getDataProvider=function(){return this.dataProvider;};w0.prototype.setDataProvider=function(u0,O0){void M3E.R4d===O0&&(O0=!M3E.R4d);this.dataProvider=u0;O0&&this.invalidate(s933.m5d);};w0.prototype.getLabelField=function(){return this.labelField;};w0.prototype.setLabelField=function(x0){this.labelField!=x0&&(this.labelField=x0,this.invalidate(s933.m5d));};w0.prototype.setItemRendererFactory=function(i0){this.itemRendererFactory=i0;this.invalidate(s933.m5d);};w0.prototype.validateItemAt=function(l0){-M3E.E4d<l0&&l0<this.visibleItems.length&&this.visibleItems[l0].validateNow();};w0.prototype.validateItem=function(T0,G0){void M3E.R4d===G0&&(G0=M3E.s3d);for(var U0,j0=M3E.R4d;j0<this.visibleItems.length;j0++)if(U0=this.visibleItems[j0].getData(),M3E.R4d==G0.length&&U0===T0||M3E.R4d<G0.length&&U0.hasOwnProperty(G0)&&U0[G0]==T0[G0]){this.visibleItems[j0].validateNow();break;}};w0.prototype.getSelectedIndex=function(){return this.selectedIndex;};w0.prototype.setSelectedIndex=function(f0){var c0=this.getDataProvider();-M3E.E4d<f0&&f0<c0.length?this.updateSelectedItem(c0[f0],f0):this.updateSelectedItem(M3E.V2d,-M3E.E4d);};w0.prototype.getSelectedItem=function(){return this.selectedItem;};w0.prototype.setSelectedItem=function(y0,K0){var W0=this.getDataProvider();if(utils.nullOrUndefined(y0)||utils.nullOrEmpty(K0))-M3E.E4d<W0.indexOf(y0)&&this.updateSelectedItem(y0,W0.indexOf(y0));else for(var n0=M3E.R4d;n0<W0.length;n0++)if(!utils.nullOrUndefined(W0[n0])&&W0[n0][K0]==y0[K0]){this.updateSelectedItem(W0[n0],n0);break;}};w0.prototype.updateSelectedItem=function(I0,m0){if(this.allowMultipleSelection){var r0=-M3E.E4d<this.selectedIndices.indexOf(m0);!(r0=!r0)&&M3E.M4d>this.selectedIndices.length||(r0?(this.selectedIndices.push(m0),this.selectedItems.push(I0)):(this.selectedIndices.splice(this.selectedIndices.indexOf(m0),M3E.E4d),this.selectedItems.splice(this.selectedItems.indexOf(I0),M3E.E4d)),this.markSelected&&(I0.isSelected=r0,this.validateItemAt(m0)));}else this.markSelected&&M3E.V2d!=this.selectedItem&&(this.selectedItem.isSelected=!M3E.E4d,this.validateItemAt(this.selectedIndex)),this.selectedItem=I0,this.selectedIndex=m0,this.markSelected&&M3E.V2d!=this.selectedItem&&(this.selectedItem.isSelected=!M3E.R4d,this.validateItemAt(this.selectedIndex));};w0.prototype.defaultItemRendererFactory=function(q0,v0){var B0=new S0.renderers.UIItemRenderer();B0.setData(q0);B0.setIndex(v0);return B0;};w0.prototype.getMinHeight=function(){return this.getRowHeight();};w0.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getDataProvider().length;};Object.defineProperty(w0.prototype,s933.B5d,{get:function(){return this._allowMultipleSelection;},set:function(h0){this._allowMultipleSelection=h0;},enumerable:!M3E.R4d,configurable:!M3E.R4d});w0.prototype.getSelectedIndices=function(){return this.selectedIndices;};w0.prototype.setSelectedIndices=function(d0){this.selectedIndices=d0;this.selectedItems.length=M3E.R4d;d0=this.getDataProvider();for(var D0=M3E.R4d;D0<d0.length;D0++)-M3E.E4d<this.selectedIndices.indexOf(D0)?(this.selectedItems.push(d0[D0]),this.markSelected&&(d0[D0].isSelected=!M3E.R4d,this.validateItemAt(D0))):this.markSelected&&(d0[D0].isSelected=!M3E.E4d,this.validateItemAt(D0));};w0.prototype.getSelectedItems=function(){return this.selectedItems;};w0.prototype.setSelectedItems=function(Q1){this.selectedItems=Q1;this.selectedIndices.length=M3E.R4d;Q1=this.getDataProvider();for(var o0=M3E.R4d;o0<Q1.length;o0++)-M3E.E4d<this.selectedItems.indexOf(Q1[o0])?(this.selectedIndices.push(o0),this.markSelected&&(Q1[o0].isSelected=!M3E.R4d,this.validateItemAt(o0))):this.markSelected&&(Q1[o0].isSelected=!M3E.E4d,this.validateItemAt(o0));};function w0(){var v5d="wdr-ui-list";var Z0=z0.call(this,s933.q5d,v5d)||this;Z0.rowHeight=utils.browserVersion().isMobile?w0.DEFAULT_ROW_HEIGHT_MOBILE:w0.DEFAULT_ROW_HEIGHT;Z0.selectedItems=[];Z0.selectedIndices=[];Z0.markSelected=!M3E.E4d;Z0.useCache=!M3E.R4d;Z0._allowMultipleSelection=!M3E.E4d;Z0.dataProvider=[];Z0.itemsCache=[];Z0.visibleItems=[];Z0.labelField=s933.h5d;Z0.itemRendererFactory=Z0.defaultItemRendererFactory;Z0.selectedItem=M3E.V2d;Z0.selectedIndex=-M3E.E4d;Z0.container.addEventListener(M3E.m3d,function(t0){return Z0.onItemClick(t0);});return Z0;}w0.prototype.droppable=function(s1){this.container.droppable(s1,this);};w0.DEFAULT_ROW_HEIGHT=M3E.n4d;w0.DEFAULT_ROW_HEIGHT_MOBILE=M3E.q4d;return w0;}(S0.UIComponentBase);g0.UIList=L0;}(S0.lists||(S0.lists={})));}(uicontrols||(uicontrols={})));(function(X1){(function(P1){var S1=function(g1){var k3E=Q933;var X0d="markSelected";__extends(L1,g1);L1.prototype.itemRendererFactory=function(p1,F1){var t1=new X1.renderers.SelectItemRenderer();t1.setData(p1);t1.setIndex(F1);return t1;};L1.prototype.onListChange=function(e1){this.enablePrompt(k3E.V2d==e1.data.selectedItem);this.dispatchWith(events._Event.CHANGE,this,e1.data);this.allowMultipleSelection||this.close();};L1.prototype.onBtnChange=function(){this.dropDownBtn.getSelection()?this.open():this.close();};L1.prototype.enablePrompt=function(b1){var N1=this.dropDownList.getSelectedItem(),N1=b1||this.allowMultipleSelection||k3E.V2d==N1?this.prompt:N1[this.getLabelField()];this.dropDownBtn.setLabel(N1);this.container.toggleClass(k3E.z5d,b1);};L1.prototype.setPrompt=function(V1){this.prompt!==V1&&(this.prompt=V1,this.enablePrompt(!k3E.R4d));};function L1(){var o5d="wdr-ui-dropdown-list";var d5d="Choose item";var D5d="wdr-ui-dropdown";var w1=g1.call(this,k3E.S3d,D5d)||this;w1.prompt=d5d;w1.mouseHandler=function(z1){return w1.handleMouse(z1);};w1._allowMultipleSelection=!k3E.E4d;w1.container.display=k3E.I3d;w1.dropDownBtn=new P1.UIDropDownButton();w1.dropDownBtn.addEventListener(events._Event.CHANGE,function(){return w1.onBtnChange();});w1.dropDownListWrap=new X1.UIComponentBase(k3E.S3d,o5d);w1.dropDownListWrap.hide();w1.dropDownList=new P1.UIList();w1.dropDownList.markSelected=!k3E.R4d;w1.dropDownList.setItemRendererFactory(w1.itemRendererFactory);w1.dropDownList.addEventListener(events._Event.CHANGE,function(Z1){return w1.onListChange(Z1);});w1.dropDownListWrap.addChild(w1.dropDownList);w1.addChild(w1.dropDownBtn);w1.addChild(w1.dropDownListWrap);return w1;}L1.prototype.getPrompt=function(){return this.prompt;};L1.prototype.open=function(){this.getEnabled()&&(this.dropDownListWrap.show(),this.dropDownList.setWidth(this.dropDownBtn.getWidth(!k3E.R4d)),this.dropDownBtn.setSelection(k3E.E4d),document.body.addEventListener(k3E.G2d,this.mouseHandler));};L1.prototype.handleMouse=function(Y1){var Q0d=".fm-ui-dropdown";k3E.V2d==X1.UIElement.convert(Y1.target).closest(Q0d)&&(document.body.removeEventListener(k3E.G2d,this.mouseHandler),this.close());};L1.prototype.close=function(){this.getEnabled()&&(this.dropDownListWrap.hide(),this.dropDownBtn.setSelection(k3E.R4d),document.body.removeEventListener(k3E.f2d,this.mouseHandler));};L1.prototype.getDataProvider=function(){return this.dropDownList.getDataProvider();};L1.prototype.setDataProvider=function(R1){this.dropDownList.setDataProvider(R1);};L1.prototype.getLabelField=function(){return this.dropDownList.getLabelField();};L1.prototype.setLabelField=function(E1){this.dropDownList.setLabelField(E1);};L1.prototype.setItemRendererFactory=function(M1){this.dropDownList.setItemRendererFactory(M1);};L1.prototype.validateNow=function(){this.dropDownList.validateNow();};L1.prototype.validateItemAt=function(J1){this.dropDownList.validateItemAt(J1);};L1.prototype.getSelectedIndex=function(){return this.dropDownList.getSelectedIndex();};L1.prototype.setSelectedIndex=function(k1){this.dropDownList.setSelectedIndex(k1);this.enablePrompt(k3E.V2d==this.dropDownList.getSelectedItem());};L1.prototype.getSelectedIndices=function(){return this.dropDownList.getSelectedIndices();};L1.prototype.setSelectedIndices=function(C1){this.dropDownList.setSelectedIndices(C1);this.enablePrompt(!k3E.R4d);};L1.prototype.getSelectedItem=function(){return this.dropDownList.getSelectedItem();};L1.prototype.setSelectedItem=function(a1,H1){this.dropDownList.setSelectedItem(a1,H1);this.enablePrompt(k3E.V2d==this.dropDownList.getSelectedItem());};L1.prototype.getSelectedItems=function(){return this.dropDownList.getSelectedItems();};L1.prototype.setSelectedItems=function(A1){this.dropDownList.setSelectedItems(A1);this.enablePrompt(!k3E.R4d);};L1.prototype.show=function(){g1.prototype.show.call(this);};L1.prototype.getRowHeight=function(){return this.dropDownList.getRowHeight();};L1.prototype.getRowCount=function(){return this.dropDownList.getRowCount();};L1.prototype.validateItem=function(O1,u1){};L1.prototype.getMinHeight=function(){return k3E.R4d;};L1.prototype.getMaxHeight=function(){return k3E.R4d;};Object.defineProperty(L1.prototype,s933.B5d,{get:function(){return this._allowMultipleSelection;},set:function(x1){var s0d="wdr-ui-dropdown-multiple-selection-list";this._allowMultipleSelection=x1;this.dropDownList.allowMultipleSelection=x1;this._allowMultipleSelection?this.dropDownList.container.addClass(s0d):this.dropDownList.container.removeClass(s0d);},enumerable:!k3E.R4d,configurable:!k3E.R4d});Object.defineProperty(L1.prototype,X0d,{set:function(i1){this.dropDownList.markSelected=i1;},enumerable:!k3E.R4d,configurable:!k3E.R4d});return L1;}(X1.UIComponentBase);P1.UIDropDownList=S1;}(X1.lists||(X1.lists={})));}(uicontrols||(uicontrols={})));(function(l1){(function(G1){var j1=function(T1){__extends(U1,T1);U1.prototype.onScroll=function(){this.invalidate(s933.m5d);};U1.prototype.draw=function(){this._placeholder.setHeight(Math.min(this.getMaxHeight(),U1.MAX_HEIGHT));if(this.isInvalid(s933.m5d)){this._list.setDataProvider(this.getDataProvider());var c1=this.getStartIdx()*this.getRowHeight()*this.getScale()-this.getScaleFix();this._list.container.top=Math.min(c1,this._placeholder.getHeight()-this._list.container.height);}this.validate();};U1.prototype.getScale=function(){return this.getMaxHeight()>U1.MAX_HEIGHT?U1.MAX_HEIGHT/this.getMaxHeight():Q933.E4d;};U1.prototype.getStartIdx=function(){return Q933.E4d!=this.getScale()?Math.floor((this.getScrollPosition()+this.getScaleFix())/this.getScale()/this.getRowHeight()):Math.floor(this.getScrollPosition()/this.getRowHeight());};U1.prototype.getScaleFix=function(){return Q933.E4d!=this.getScale()?(this.getHeight()/this.getScale()-this.getHeight())*(this.getScrollPosition()/U1.MAX_HEIGHT)*this.getScale():Q933.R4d;};Object.defineProperty(U1.prototype,s933.B5d,{get:function(){return this._list.allowMultipleSelection;},set:function(W1){this._list.allowMultipleSelection=W1;},enumerable:!Q933.R4d,configurable:!Q933.R4d});U1.prototype.getLabelField=function(){return this._list.getLabelField();};U1.prototype.setLabelField=function(n1){this._list.setLabelField(n1);};U1.prototype.setItemRendererFactory=function(y1){this._list.setItemRendererFactory(y1);};U1.prototype.validateItemAt=function(K1){this._list.validateItemAt(K1);};U1.prototype.validateItem=function(r1,m1){void Q933.R4d===m1&&(m1=Q933.s3d);this._list.validateItem(r1,m1);};U1.prototype.getRowHeight=function(){return Q933.d4d;};U1.prototype.getRowCount=function(){return Q933.R4d<this.getRowHeight()?Math.ceil(this.getHeight()/this.getRowHeight())+Q933.E4d:Q933.R4d;};U1.prototype.getSelectedIndex=function(){return this._list.getSelectedIndex();};U1.prototype.setSelectedIndex=function(I1){this._list.setSelectedIndex(I1);};U1.prototype.getSelectedIndices=function(){return this._list.getSelectedIndices();};U1.prototype.setSelectedIndices=function(B1){this._list.setSelectedIndices(B1);};U1.prototype.getSelectedItem=function(){return this._list.getSelectedItem();};function U1(){var S0d="wdr-ui-vlist-placeholder";var P0d="wdr-ui-vlist";var f1=T1.call(this)||this;f1.addClass(P0d);f1._list=new G1.UIList();f1.addChild(f1._list);f1._placeholder=new l1.UIComponentBase(Q933.S3d,S0d);f1.addChild(f1._placeholder);f1.addEventListener(s933.L0d,function(){return f1.onScroll();});return f1;}U1.prototype.setSelectedItem=function(v1,h1){this._list.setSelectedItem(v1,h1);};U1.prototype.getSelectedItems=function(){return this._list.getSelectedItems();};U1.prototype.setSelectedItems=function(D1){this._list.setSelectedItems(D1);};U1.prototype.getMinHeight=function(){return this._list.getRowHeight();};U1.prototype.getMaxHeight=function(){return this.getRowHeight()*this.getSmartDataProvider().getLength();};U1.prototype.getSmartDataProvider=function(){return this.smartDataProvider;};U1.prototype.setSmartDataProvider=function(d1){this.smartDataProvider=d1;};U1.prototype.getScrollPosition=function(){return this.container.getScrollTop();};U1.prototype.setScrollPosition=function(o1){this.container.setScrollTop(o1);};U1.prototype.setDataProvider=function(Q8){this.getSmartDataProvider()&&(this.getSmartDataProvider().setItems(Q8),this.setScrollPosition(Q933.R4d),this.invalidate(s933.m5d));};U1.prototype.getDataProvider=function(){var s8=this.getStartIdx(),X8=s8+this.getRowCount();return this.getSmartDataProvider()?this.getSmartDataProvider().getItems(s8,X8):[];};U1.MAX_HEIGHT=s933.g0d;return U1;}(l1.UIComponentBase);G1.UIVirtualList=j1;}(l1.lists||(l1.lists={})));}(uicontrols||(uicontrols={})));(function(P8){(function(L8){var S8=function(w8){__extends(g8,w8);function g8(){var w0d="wdr-ui-dropdown-btn";var z8=w8.call(this)||this;z8.addClass(w0d);z8.labelDisplay=new P8.UILabel();z8.addChild(z8.labelDisplay);return z8;}g8.prototype.setLabel=function(Z8){this.labelDisplay.setLabel(Z8);};return g8;}(P8.UIToggleButton);L8.UIDropDownButton=S8;}(P8.lists||(P8.lists={})));}(uicontrols||(uicontrols={})));(function(t8){(function(F8){var p8=function(N8){__extends(e8,N8);e8.prototype.getData=function(){return this.data;};e8.prototype.setData=function(V8){Q933.V2d!=V8&&(this.data=V8,this.invalidate(s933.m5d));};e8.prototype.getIndex=function(){return parseInt(this.container.attr(s933.I5d));};e8.prototype.setIndex=function(Y8){this.container.attr(s933.I5d,Y8);};e8.prototype.getLabelField=function(){return this.labelField;};function e8(){var b8=N8.call(this,s933.r5d)||this;b8.labelField=s933.h5d;return b8;}e8.prototype.setLabelField=function(R8){this.labelField!=R8&&(this.labelField=R8,this.invalidate(s933.m5d));};e8.prototype.getLabelFunction=function(){return this.labelFunction;};e8.prototype.setLabelFunction=function(E8){this.labelFunction!=E8&&(this.labelFunction=E8,this.invalidate(s933.m5d));};e8.prototype.draw=function(){this.isInvalid(s933.m5d)&&this.container.text(this.data[this.labelField]);this.validate();};return e8;}(t8.UIComponentBase);F8.UIItemRenderer=p8;}(t8.renderers||(t8.renderers={})));}(uicontrols||(uicontrols={})));(function(M8){(function(J8){var k8=function(a8){__extends(C8,a8);C8.prototype.draw=function(){var s8E=Q933;var Z0d="wdr-not-selected";var z0d="#wdr-text-display";var H8=this.getData();s8E.V2d==this.label&&(this.label=new M8.UILabel(),this.label.setId(z0d),this.container.append(this.label.container));this.label.setLabel(H8[this.getLabelField()],!s8E.R4d);this.container.toggleClass(s8E.t5d,!s8E.R4d===H8.isSelected);this.container.toggleClass(Z0d,!s8E.R4d!==H8.isSelected);};function C8(){return a8.call(this)||this;}return C8;}(J8.UIItemRenderer);J8.SelectItemRenderer=k8;}(M8.renderers||(M8.renderers={})));}(uicontrols||(uicontrols={})));(function(A8){(function(u8){var O8=function(){x8.prototype.createHandles=function(){for(var f8=Q933.R4d;f8<this.options.sides.length;f8++)this.createHandle(this.options.sides[f8]);};x8.prototype.createHandle=function(W8){var p0d="fm-";var t0d="fm-resizable-handle";var c8=new A8.UIElement(Q933.S3d,t0d);c8.addClass(p0d+W8);c8.addEventListener(Q933.G2d,this._mouseDownHandler);this.target.addChild(c8);return c8;};x8.prototype.onMouseDown=function(n8){var e0d="fm-right";var F0d="fm-left";n8=A8.UIElement.convert(n8.target);n8.hasClass(F0d)?this._currentSide=Q933.J3d:n8.hasClass(e0d)&&(this._currentSide=Q933.C3d);this.startResizing();};x8.prototype.onMouseUp=function(y8){this.onResize(y8.clientX,y8.clientY);this.stopResizing();};x8.prototype.onMouseMove=function(K8){if(this._boundingRect&&(K8.clientX<this._boundingRect.left||K8.clientX>this._boundingRect.right||K8.clientY<this._boundingRect.top||K8.clientY>this._boundingRect.bottom))this.onMouseUp(K8);else this.onResize(K8.clientX,K8.clientY);};x8.prototype.onResize=function(I8,B8){var m8={left:this._originalPosition.left,top:this._originalPosition.top},r8={width:this._originalSize.width,height:this._originalSize.height};Q933.J3d==this._currentSide&&(m8.left=I8,r8.width+=this._originalPosition.left-m8.left);Q933.C3d==this._currentSide&&(r8.width=I8-this._originalPosition.left);this.options.resize&&this.options.resize({side:this._currentSide,originalPosition:this._originalPosition,originalSize:this._originalSize,position:m8,size:r8});};x8.prototype.startResizing=function(){var g8E=Q933;document.addEventListener(g8E.U2d,this._mouseMoveHandler);document.addEventListener(g8E.f2d,this._mouseUpHandler);this._originalSize={width:this.target.getWidth(!g8E.R4d),height:this.target.getHeight(!g8E.R4d)};this._originalPosition={left:this.target.getOffset().left,top:this.target.getOffset().top};this._boundingRect=this.options.containtment?this.options.containtment.getBoundingClientRect():g8E.V2d;};x8.prototype.stopResizing=function(){document.removeEventListener(Q933.U2d,this._mouseMoveHandler);document.removeEventListener(Q933.f2d,this._mouseUpHandler);};x8.prototype.dispose=function(){document.removeEventListener(Q933.U2d,this._mouseMoveHandler);document.removeEventListener(Q933.f2d,this._mouseUpHandler);};function x8(l8,G8){var i8=this;this._mouseDownHandler=function(j8){return i8.onMouseDown(j8);};this._mouseUpHandler=function(U8){return i8.onMouseUp(U8);};this._mouseMoveHandler=function(T8){return i8.onMouseMove(T8);};this.target=l8;this.options=G8;this.createHandles();}return x8;}();u8.ResizableHelper=O8;}(A8.resizable||(A8.resizable={})));}(uicontrols||(uicontrols={})));(function(q8){(function(h8){var v8=function(){D8.prototype.listen=function(P93){this.handler=P93;this.target.addEventListener(Q933.j2d,this.touchStartHandler);this.target.addEventListener(Q933.c2d,this.touchEndHandler);};D8.prototype.stop=function(){this.target.removeEventListener(Q933.j2d,this.touchStartHandler);this.target.removeEventListener(Q933.c2d,this.touchEndHandler);};D8.prototype.onTouchStart=function(L93){var S93=this;this.timer=utils.fmSetTimeout(function(){return S93.callHandler(L93);},this.delay);};D8.prototype.onTouchEnd=function(g93){this.timer&&utils.fmClearTimeout(this.timer);};D8.prototype.callHandler=function(w93){this.handler(w93,w93&&Q933.R4d<w93.changedTouches.length?w93.changedTouches[Q933.R4d]:Q933.V2d);};function D8(Q93,d8){void Q933.R4d===d8&&(d8=s933.N0d);var o8=this;this.touchStartHandler=function(s93){return o8.onTouchStart(s93);};this.touchEndHandler=function(X93){return o8.onTouchEnd(X93);};this.target=Q93;this.delay=d8;}return D8;}();h8.LongPressListener=v8;}(q8._utils||(q8._utils={})));}(uicontrols||(uicontrols={})));var pivot;(function(z93){var M0d="Seeking past EOF";var E0d="Seeking past start of the buffer";var N2d=1114111;var F2d=65536;var p2d=65535;var Z2d=57343;var z2d=56320;var w2d=55296;var Q2d=1023;var W6d=240;var Y93=function(){var W4E=Q933;var R0d="dataView";var Y0d="buffer";var V0d="byteLength";var b0d="byteOffset";Object.defineProperty(R93.prototype,b0d,{get:function(){return this._byteOffset;},set:function(k93){this._byteOffset=k93;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!W4E.R4d,configurable:!W4E.R4d});Object.defineProperty(R93.prototype,V0d,{get:function(){return this._byteLength-this._byteOffset;},enumerable:!W4E.R4d,configurable:!W4E.R4d});Object.defineProperty(R93.prototype,Y0d,{get:function(){this._trimAlloc();return this._buffer;},set:function(C93){this._buffer=C93;this._dataView=W4E.R4d==this._byteOffset?new DataView(this._buffer):new DataView(this._buffer,this._byteOffset);this._byteLength=this._buffer.byteLength;},enumerable:!W4E.R4d,configurable:!W4E.R4d});Object.defineProperty(R93.prototype,R0d,{get:function(){return this._dataView;},set:function(a93){this._byteOffset=a93.byteOffset;this._buffer=a93.buffer;this._dataView=new DataView(this._buffer,this._byteOffset);this._byteLength=this._byteOffset+a93.byteLength;},enumerable:!W4E.R4d,configurable:!W4E.R4d});R93.prototype.seek=function(H93){H93=Math.max(W4E.R4d,Math.min(this.byteLength,H93));this.position=isNaN(H93)||!isFinite(H93)?W4E.R4d:H93;};R93.prototype.writeString=function(A93){this.writeUint8Array(p93.encode(A93));};R93.prototype.writeUint32=function(u93,O93){void W4E.R4d===O93&&(O93=W4E.V2d);this._realloc(W4E.k4d);this._dataView.setUint32(this.position,u93,W4E.V2d==O93?this.endianness:O93);this.position+=W4E.k4d;};R93.prototype.writeUint8=function(x93){this._realloc(W4E.E4d);this._dataView.setUint8(this.position,x93);this.position+=W4E.E4d;};R93.prototype.writeUint8Array=function(i93){this._realloc(W4E.E4d*i93.length);if(i93 instanceof Uint8Array&&W4E.R4d==this.byteOffset+this.position%i93.BYTES_PER_ELEMENT)this.memcpy(this._buffer,this.byteOffset+this.position,i93.buffer,W4E.R4d,i93.byteLength),this.mapUint8Array(i93.length);else for(var l93=W4E.R4d;l93<i93.length;l93++)this.writeUint8(i93[l93]);};R93.prototype.readString=function(G93,j93){return F93.decode(this.mapUint8Array(G93));};R93.prototype.readUint32=function(){var U93=this._dataView.getUint32(this.position,this.endianness);this.position+=W4E.k4d;return U93;};R93.prototype.readUint8=function(){var T93=this._dataView.getUint8(this.position);this.position+=W4E.E4d;return T93;};R93.prototype.readUint8Array=function(f93){void W4E.R4d===f93&&(f93=-W4E.E4d);f93=W4E.R4d>f93?this.byteLength-this.position:f93;var c93=new Uint8Array(f93);this.memcpy(c93.buffer,W4E.R4d,this.buffer,this.byteOffset+this.position,f93*c93.BYTES_PER_ELEMENT);this.position+=c93.byteLength;return c93;};R93.prototype.mapUint8Array=function(W93){this._realloc(W4E.E4d*W93);var n93=new Uint8Array(this._buffer,this.byteOffset+this.position,W93);this.position+=W4E.E4d*W93;return n93;};R93.prototype._realloc=function(K93){if(this._dynamicSize){K93=this._byteOffset+this.position+K93;var y93=this._buffer.byteLength;if(K93<=y93)K93>this._byteLength&&(this._byteLength=K93);else{for(W4E.E4d>y93&&(y93=W4E.E4d);K93>y93;)y93*=W4E.M4d;var y93=new ArrayBuffer(y93),m93=new Uint8Array(this._buffer);new Uint8Array(y93,W4E.R4d,m93.length).set(m93);this.buffer=y93;this._byteLength=K93;}}};R93.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var r93=new ArrayBuffer(this._byteLength),I93=new Uint8Array(r93),B93=new Uint8Array(this._buffer,W4E.R4d,I93.length);I93.set(B93);this.buffer=r93;}};R93.prototype.memcpy=function(q93,D93,v93,d93,h93){q93=new Uint8Array(q93,D93,h93);v93=new Uint8Array(v93,d93,h93);q93.set(v93);};R93.BIG_ENDIAN=!W4E.E4d;R93.LITTLE_ENDIAN=!W4E.R4d;function R93(J93,E93,M93){void W4E.R4d===E93&&(E93=W4E.R4d);void W4E.R4d===M93&&(M93=R93.LITTLE_ENDIAN);this._dynamicSize=!W4E.R4d;this._byteLength=W4E.R4d;this._byteOffset=E93;this.buffer=J93;this.position=W4E.R4d;this.endianness=M93;}return R93;}();z93.DataStream=Y93;var p93=function(){o93.encode=function(Q73){Q73=Q73?String(Q73):Q933.s3d;var s73=[],X73=new V93(s73);Q73=new t93(Q73);Q933.V2d==o93.encoder&&(o93.encoder=new N93());for(;Q73.get()!==o93.EOF_code_point;)o93.encoder.encode(X73,Q73);var P73;do P73=o93.encoder.encode(X73,Q73);while(P73!==o93.EOF_byte);return new Uint8Array(s73);};o93.EOF_byte=-Q933.E4d;function o93(){}o93.EOF_code_point=-Q933.E4d;return o93;}();z93.TextEncoder=p93;var F93=function(){S73.decode=function(L73){var A3E=Q933;L73||(L73=new Uint8Array(A3E.R4d));L73=new Uint8Array(L73.buffer,L73.byteOffset,L73.byteLength);L73=new b93(L73);var w73=new e93(),g73;A3E.V2d==S73.decoder&&(S73.decoder=new Z93());for(;L73.get()!==S73.EOF_byte;)g73=S73.decoder.decode(L73),A3E.V2d!==g73&&g73!==S73.EOF_code_point&&w73.emit(g73);do g73=S73.decoder.decode(L73),A3E.V2d!==g73&&g73!==S73.EOF_code_point&&w73.emit(g73);while(g73!==S73.EOF_code_point);return w73.str();};function S73(){}S73.EOF_byte=-Q933.E4d;S73.EOF_code_point=-Q933.E4d;return S73;}();z93.TextDecoder=F93;var Z93=function(){z73.prototype.decode=function(t73){var O3E=Q933;var n6d=244;var c6d=239;var T6d=223;var l6d=194;var Z73=t73.get();if(Z73===this.EOF_byte)return this.EOF_code_point;t73.offset(O3E.E4d);if(O3E.R4d===this.utf8_bytes_needed){if(this.inRange(Z73,O3E.R4d,O3E.A6d))return Z73;if(this.inRange(Z73,l6d,T6d))this.utf8_bytes_needed=O3E.E4d,this.utf8_lower_boundary=O3E.O6d,this.utf8_code_point=Z73-O3E.i6d;else if(this.inRange(Z73,O3E.f6d,c6d))this.utf8_bytes_needed=O3E.M4d,this.utf8_lower_boundary=O3E.S2d,this.utf8_code_point=Z73-O3E.f6d;else if(this.inRange(Z73,W6d,n6d))this.utf8_bytes_needed=O3E.J4d,this.utf8_lower_boundary=F2d,this.utf8_code_point=Z73-W6d;else return this.EOF_code_point;this.utf8_code_point*=Math.pow(O3E.e6d,this.utf8_bytes_needed);return O3E.V2d;}if(!this.inRange(Z73,O3E.O6d,O3E.x6d))return this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=O3E.R4d,t73.offset(-O3E.E4d),this.EOF_code_point;this.utf8_bytes_seen+=O3E.E4d;this.utf8_code_point+=(Z73-O3E.O6d)*Math.pow(O3E.e6d,this.utf8_bytes_needed-this.utf8_bytes_seen);if(this.utf8_bytes_seen!==this.utf8_bytes_needed)return O3E.V2d;t73=this.utf8_code_point;Z73=this.utf8_lower_boundary;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=O3E.R4d;return this.inRange(t73,Z73,N2d)&&!this.inRange(t73,w2d,Z2d)?t73:this.EOF_code_point;};function z73(){this.EOF_code_point=this.EOF_byte=-Q933.E4d;this.utf8_lower_boundary=this.utf8_bytes_seen=this.utf8_bytes_needed=this.utf8_code_point=Q933.R4d;}z73.prototype.inRange=function(p73,F73,e73){return F73<=p73&&p73<=e73;};return z73;}();z93.UTF8Decoder=Z93;var N93=function(){N73.prototype.inRange=function(b73,V73,Y73){return V73<=b73&&b73<=Y73;};N73.prototype.div=function(R73,E73){return Math.floor(R73/E73);};function N73(){this.EOF_code_point=this.EOF_byte=-Q933.E4d;}N73.prototype.encode=function(C73,a73){var i3E=Q933;var P2d=2047;var M73=a73.get();if(M73===this.EOF_code_point)return this.EOF_byte;a73.offset(i3E.E4d);if(this.inRange(M73,w2d,Z2d))return this.EOF_code_point;if(this.inRange(M73,i3E.R4d,i3E.A6d))return C73.emit(M73);var k73,J73;this.inRange(M73,i3E.O6d,P2d)?(k73=i3E.E4d,J73=i3E.i6d):this.inRange(M73,i3E.S2d,p2d)?(k73=i3E.M4d,J73=i3E.f6d):this.inRange(M73,F2d,N2d)&&(k73=i3E.J4d,J73=W6d);for(J73=C73.emit(this.div(M73,Math.pow(i3E.e6d,k73))+J73);i3E.R4d<k73;)J73=this.div(M73,Math.pow(i3E.e6d,k73-i3E.E4d)),J73=C73.emit(i3E.O6d+J73%i3E.e6d),k73-=i3E.E4d;return J73;};return N73;}();z93.UTF8Encoder=N93;var b93=function(){H73.prototype.get=function(){return this.pos>=this.bytes.length?this.EOF_byte:Number(this.bytes[this.pos]);};H73.prototype.offset=function(O73){this.pos+=O73;if(Q933.R4d>this.pos)throw Error(E0d);if(this.pos>this.bytes.length)throw Error(M0d);};function H73(A73){this.EOF_byte=-Q933.E4d;this.pos=Q933.R4d;this.bytes=A73;}H73.prototype.match=function(x73){var D6E=Q933;if(x73.length>this.pos+this.bytes.length)return!D6E.E4d;var u73;for(u73=D6E.R4d;u73<x73.length;u73+=D6E.E4d)if(Number(this.bytes[this.pos+u73])!==x73[u73])return!D6E.E4d;return!D6E.R4d;};return H73;}();z93.ByteInputStream=b93;var V93=function(){i73.prototype.emit=function(U73){var G73=this.EOF_byte,j73;for(j73=Q933.R4d;j73<arguments.length;++j73)G73=Number(arguments[j73]),this.bytes[this.pos++]=G73;return G73;};function i73(l73){this.EOF_byte=-Q933.E4d;this.pos=Q933.R4d;this.bytes=l73;}return i73;}();z93.ByteOutputStream=V93;var t93=function(){T73.prototype.getCps=function(y73){var f3E=Q933;var t2d=65533;for(var c73=[],W73=f3E.R4d,m73=y73.length;W73<y73.length;){var n73=y73.charCodeAt(W73);if(this.inRange(n73,w2d,Z2d))if(this.inRange(n73,z2d,Z2d))c73.push(t2d);else if(W73===m73-f3E.E4d)c73.push(t2d);else{var K73=y73.charCodeAt(W73+f3E.E4d);this.inRange(K73,z2d,Z2d)?(n73&=Q2d,K73&=Q2d,W73+=f3E.E4d,c73.push(F2d+(n73<<f3E.u4d)+K73)):c73.push(t2d);}else c73.push(n73);W73+=f3E.E4d;}return c73;};T73.prototype.inRange=function(r73,I73,B73){return I73<=r73&&r73<=B73;};function T73(f73){this.pos=Q933.R4d;this.EOF_code_point=-Q933.E4d;this._str=f73;this.cps=this.getCps(this._str);}T73.prototype.offset=function(q73){this.pos+=q73;if(Q933.R4d>this.pos)throw Error(E0d);if(this.pos>this.cps.length)throw Error(M0d);};T73.prototype.get=function(){return this.pos>=this.cps.length?this.EOF_code_point:this.cps[this.pos];};return T73;}();z93.CodePointInputStream=t93;var e93=function(){v73.prototype.str=function(){return this._str;};function v73(){this._str=Q933.s3d;}v73.prototype.emit=function(h73){p2d>=h73?this._str+=String.fromCharCode(h73):(h73-=F2d,this._str+=String.fromCharCode(w2d+(h73>>Q933.u4d&Q2d)),this._str+=String.fromCharCode(z2d+(h73&Q2d)));};return v73;}();z93.CodePointOutputStream=e93;}(pivot||(pivot={})));var misc;(function(d73){var D73=function(Q43){__extends(o73,Q43);o73.prototype.load=function(P43){var k0d="arraybuffer";var X43=this;this.url=P43;this.connected=!Q933.E4d;this.close();this.xhr=new XMLHttpRequest();this.xhr.open(s933.J0d,P43,!Q933.R4d);this.xhr.responseType=k0d;this.xhr.onload=function(S43){return X43.onComplete(S43);};this.xhr.onprogress=function(L43){return X43.onProgress(L43);};this.xhr.onerror=function(g43){return X43.onError(g43);};this.xhr.onreadystatechange=function(w43){return X43.onReadyStateChange(w43);};this.xhr.send();};function o73(){var s43=Q43.call(this)||this;s43.connected=!Q933.E4d;return s43;}o73.prototype.onComplete=function(z43){this.response=this.xhr.response;this.dispatch(new events._Event(events._Event.COMPLETE,this));};o73.prototype.onProgress=function(Z43){this.dispatch(Z43);};o73.prototype.onError=function(t43){this.dispatch(t43);};o73.prototype.onReadyStateChange=function(p43){var I3E=Q933;I3E.V2d!=this.xhr&&I3E.k4d===this.xhr.readyState&&I3E.j6d!==this.xhr.status&&this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText));I3E.V2d!=this.xhr&&I3E.J4d>this.xhr.readyState&&!this.connected&&(this.connected=!I3E.R4d,this.dispatch(new events._Event(events._Event.CONNECTED)));};o73.prototype.close=function(){Q933.V2d!=this.xhr&&this.xhr.abort();};o73.prototype.dispose=function(){var q3E=Q933;this.response=q3E.V2d;q3E.V2d!=this.xhr&&(this.xhr.onload=q3E.V2d,this.xhr.onprogress=q3E.V2d,this.xhr.onerror=q3E.V2d,this.xhr.onreadystatechange=q3E.V2d);this.xhr=q3E.V2d;};return o73;}(events.EventDispatcher);d73.URLBinaryLoader=D73;}(misc||(misc={})));(function(F43){var e43=function(E43){__extends(R43,E43);function R43(){var v3E=Q933;var M43=E43.call(this)||this;M43.dataType=N43.TEXT;M43.contentType=b43.TEXT_PLAIN;M43.requestMethod=V43.GET;M43.connected=!v3E.E4d;M43.withCredentials=!v3E.E4d;M43._lastProgressTriggered=v3E.R4d;M43._lastEvent=v3E.V2d;M43.progressInterval=v3E.R4d;M43.requestHeaders=[];M43.data={};M43._bytesLoaded=v3E.R4d;return M43;}R43.prototype.load=function(a43,C43){var h3E=Q933;var C0d="Content-type";var k43=this;void h3E.R4d===C43&&(C43=h3E.V2d);this.url=a43;this._bytesLoaded=h3E.R4d;this.connected=!h3E.E4d;this.processRequestHeader(C43);this.close();this.xhr=new XMLHttpRequest();this.xhr.open(this.requestMethod,this.url,!h3E.R4d);this.xhr.onerror=function(H43){return k43.onError(H43);};this.xhr.onreadystatechange=function(A43){return k43.onReadyStateChange(A43);};this.xhr.onprogress=function(O43){return k43.onProgress(O43);};this.xhr.setRequestHeader(C0d,this.contentType);for(var J43=h3E.R4d;J43<this.requestHeaders.length;J43++)this.xhr.setRequestHeader(this.requestHeaders[J43].header,this.requestHeaders[J43].value);this.xhr.send(this.data);};R43.prototype.processRequestHeader=function(u43){this.requestHeaders=[];if(Q933.V2d!=u43)for(var x43 in u43)this.requestHeaders.push(new Y43(x43,u43[x43]));};R43.prototype.getBytesLoaded=function(){return this._bytesLoaded;};R43.prototype.success=function(){this.response=this.xhr.response||this.xhr.responseText;this._bytesLoaded=this._lastEvent?this._lastEvent.loaded:this.response.length;this.dispatch(new events._Event(events._Event.COMPLETE,this));};R43.prototype.onReadyStateChange=function(i43){var d3E=Q933;d3E.V2d!=this.xhr&&d3E.k4d===this.xhr.readyState&&(d3E.j6d===this.xhr.status?this.success():this.dispatch(new events._Event(events._Event.ERROR,this,this.xhr.statusText)));d3E.V2d!=this.xhr&&d3E.J4d>this.xhr.readyState&&!this.connected&&(this.connected=!d3E.R4d,this.dispatch(new events._Event(events._Event.CONNECTED)));};R43.prototype.onProgress=function(l43){utils.getTimer()-this._lastProgressTriggered>this.progressInterval?(this.response=this.xhr.response||this.xhr.responseText,this._bytesLoaded=l43.loaded,this.dispatch(l43),this._lastProgressTriggered=utils.getTimer(),this._lastEvent=Q933.V2d):this._lastEvent=l43;};R43.prototype.onError=function(G43){this.dispatch(new events._Event(events._Event.ERROR,this));};R43.prototype.close=function(){Q933.V2d!=this.xhr&&(this.xhr.onprogress=Q933.V2d,this.xhr.onreadystatechange=Q933.V2d,this.xhr.abort());};R43.prototype.dispose=function(){var s5E=Q933;this.data=this.response=s5E.V2d;this.requestHeaders=[];s5E.V2d!=this.xhr&&(this.xhr.onprogress=s5E.V2d,this.xhr.onreadystatechange=s5E.V2d);this._lastProgressTriggered=this._lastEvent=this.xhr=s5E.V2d;};return R43;}(events.EventDispatcher);F43.URLStream=e43;var N43=function(){var a0d="xml";j43.TEXT=Q933.S5d;j43.XML=a0d;j43.HTML=s933.H0d;function j43(){}j43.JSON=s933.A0d;return j43;}();F43.DataType=N43;var b43=function(){var i0d="application/x-www-form-urlencoded";var x0d="application/json";var O0d="text/plain";U43.TEXT_PLAIN=O0d;U43.TEXT_XML=s933.u0d;function U43(){}U43.APPLICATION_JSON=x0d;U43.APPLICATION_URLENCODED=i0d;return U43;}();F43.ContentType=b43;var V43=function(){var l0d="POST";T43.POST=l0d;function T43(){}T43.GET=s933.J0d;return T43;}();F43.URLRequestMethod=V43;var Y43=function(){return function(f43,c43){this.header=f43;this.value=c43;};}();F43.URLRequestHeader=Y43;e43=function(){W43.prototype.toString=function(){var n43=[],y43;for(y43 in this.data)n43.push(y43+s933.G0d+this.data[y43]);return n43.join(s933.j0d);};function W43(){this.data={};}return W43;}();F43.URLVariables=e43;}(misc||(misc={})));(function(m43){var r43=function(B43){__extends(I43,B43);function I43(){var q43=B43.call(this)||this;q43.dialogOpened=!Q933.E4d;document.body.onfocus=function(){return q43.onFocus();};return q43;}I43.prototype.browse=function(v43){var S5E=Q933;var c0d="change";var T0d="accept";var h43=this;void S5E.R4d===v43&&(v43=[]);this.input=document.createElement(S5E.H3d);this.input.setAttribute(S5E.P5d,s933.U0d);this.input.style.display=S5E.u3d;document.body.appendChild(this.input);this.input.setAttribute(T0d,v43.join(s933.f0d));this.input.addEventListener(c0d,function(){return h43.onChange();});this.dialogOpened=!S5E.R4d;this.input.click();};I43.prototype.onChange=function(){this.dialogOpened=!Q933.E4d;utils.nullOrUndefined(this.input.files)||utils.nullOrUndefined(this.input.files[Q933.R4d])||(this.file=this.input.files[Q933.R4d],this.dispatchWith(events._Event.SELECT));};I43.prototype.onFocus=function(){var D43=this;this.dialogOpened&&utils.fmSetTimeout(function(){(utils.nullOrUndefined(D43.input.files)||utils.nullOrUndefined(D43.input.files[Q933.R4d]))&&D43.dispatchWith(events._Event.CANCEL);D43.dialogOpened=!Q933.E4d;},Q933.v6d);};I43.prototype.load=function(o43){var d43=this;void Q933.R4d===o43&&(o43=K43.TEXT);Q933.V2d!=this.file&&(this.reader=new FileReader(),this.reader.onload=function(Q63){return d43.onLoad(Q63);},this.reader.onprogress=function(s63){return d43.onProgress(s63);},this.reader.onerror=function(X63){return d43.onError(X63);},o43==K43.ARRAY_BUFFER?this.reader.readAsArrayBuffer(this.file):this.reader.readAsText(this.file));};I43.prototype.onLoad=function(P63){this.response=this.reader.result;this.dispatch(new events._Event(events._Event.COMPLETE,this));};I43.prototype.onProgress=function(S63){this.dispatch(S63);};I43.prototype.onError=function(L63){this.dispatch(L63);};I43.prototype.dispose=function(){this.reader=this.file=this.response=Q933.V2d;};return I43;}(events.EventDispatcher);m43.FileReference=r43;var K43=function(){var n0d="ARRAY_BUFFER";var W0d="TEXT";g63.TEXT=W0d;function g63(){}g63.ARRAY_BUFFER=n0d;return g63;}();m43.ReadMethod=K43;}(misc||(misc={})));(function(Z63){var w63=function(){var B4E=Q933;var y0d="item";Object.defineProperty(p63.prototype,y0d,{get:function(){return this[B4E.R4d];},enumerable:!B4E.R4d,configurable:!B4E.R4d});p63.prototype.find=function(F63){return void B4E.R4d===this.item?this:this.item.find(F63);};p63.prototype.text=function(){return void B4E.R4d===this.item?B4E.s3d:this.item.text();};p63.prototype.attr=function(e63,N63){return void B4E.R4d===this.item?void B4E.R4d:N63?this.item.attr(e63,N63):this.item.attr(e63);};function p63(){}p63.prototype.children=function(){for(var V63=new p63(),b63=B4E.R4d;void B4E.R4d!==this[b63];)V63[b63++]=z63.convert(this[b63]);return V63;};p63.prototype.push=function(Y63){this[this.length]=Y63;return this;};Object.defineProperty(p63.prototype,s933.K0d,{get:function(){for(var R63=B4E.R4d;void B4E.R4d!==this[R63];)R63++;return R63;},enumerable:!B4E.R4d,configurable:!B4E.R4d});return p63;}();Z63.XMLNodeList=w63;var z63=function(M63){__extends(E63,M63);function E63(){return Q933.V2d!==M63&&M63.apply(this,arguments)||this;}E63.prototype.text=function(J63){return J63||!Q933.E4d===J63?(this.textContent=J63.toString(),this):J63=utils.nullOrUndefined(this.textContent)?Q933.s3d:this.textContent;};E63.prototype.append=function(k63){if(utils.nullOrUndefined(k63)||Q933.Y3d==typeof k63&&utils.nullOrEmpty(k63))return this;(k63 instanceof CDATASection||Q933.s3d!=k63.textContent)&&this.appendChild(k63);return this;};E63.prototype.isEmpty=function(){return Q933.s3d==this.text();};E63.prototype.find=function(a63){a63=this.querySelectorAll(a63);for(var H63=new w63(),C63=Q933.R4d;C63<a63.length;C63++)H63[C63]=E63.convert(a63[C63]);return H63;};E63.prototype.attr=function(O63,A63){if(A63||!Q933.E4d===A63)return this.setAttribute(O63,A63),this;A63=this.getAttribute(O63);Q933.V2d==A63&&(A63=void Q933.R4d);return A63;};E63.prototype.getChildren=function(){for(var x63=new w63(),u63=this.firstElementChild;u63;)u63.nodeType===Node.ELEMENT_NODE&&x63.push(E63.convert(u63)),u63=u63.nextElementSibling;return x63;};Object.defineProperty(E63.prototype,s933.K0d,{get:function(){return this.childNodes.length;},enumerable:!Q933.R4d,configurable:!Q933.R4d});E63.convert=function(i63){i63.find=E63.prototype.find;i63.append=E63.prototype.append;i63.text=E63.prototype.text;i63.attr=E63.prototype.attr;i63.isEmpty=E63.prototype.isEmpty;i63.getChildren=E63.prototype.getChildren;return i63;};return E63;}(Element);Z63.XMLNode=z63;var t63=function(){var V1d="<tmp/>";l63.create=function(G63){if(Q933.V2d==G63.firstChild){G63=new DOMParser().parseFromString(G63,s933.u0d);if(l63.isParseError(G63))return Q933.V2d;G63=G63.firstElementChild?G63.firstElementChild:G63.firstChild;}else G63=G63.firstChild;return z63.convert(G63);};function l63(){throw Error(s933.m0d);}l63.isParseError=function(j63){var E5E=Q933;var r0d="parsererror";if(!j63.getElementsByTagName(r0d)||!j63.getElementsByTagName(r0d)[E5E.R4d])return!E5E.E4d;var U63=j63.getElementsByTagName(r0d)[E5E.R4d].namespaceURI;return E5E.R4d<j63.getElementsByTagNameNS(U63,r0d).length;};l63.cdata=function(T63){return l63.doc.createCDATASection(T63);};l63.toXMLString=function(W63,c63){var M5E=Q933;void M5E.R4d===c63&&(c63=!M5E.E4d);M5E.V2d==l63.serializer&&(l63.serializer=new XMLSerializer());var f63=l63.serializer.serializeToString(W63);!M5E.R4d==c63&&(f63=l63.format(f63));return f63.trim();};l63.format=function(y63){var J5E=Q933;var b1d="]]\x3e";var N1d="<![CDATA[";var e1d=/xmlns\=/;var F1d=/xmlns\:/;var p1d=/<\?/;var t1d=/\/>/;var Z1d=/<\//;var z1d=/<\w/;var g1d=/^<\/[\w:\-\.\,]+/;var L1d=/^<[\w:\-\.\,]+/;var S1d=/^<\/\w/;var P1d=/^<\w/;var X1d=/!DOCTYPE/;var s1d=/\]>/;var Q1d=/--\x3e/;var o0d=/<!/;var d0d="    ";var h0d="~::~";var v0d="~::~xmlns=";var q0d="~::~xmlns:";var B0d="~::~<";var I0d="><";y63=y63.replace(/>\s{0,}</g,I0d).replace(/</g,B0d).replace(/\s*xmlns\:/g,q0d).replace(/\s*xmlns\=/g,v0d).split(h0d);for(var B63=y63.length,r63=!J5E.E4d,I63=J5E.R4d,K63=J5E.s3d,n63=J5E.R4d,m63=[s933.D0d],n63=J5E.R4d;J5E.W4d>n63;n63++)m63.push(m63[n63]+d0d);for(n63=J5E.R4d;n63<B63;n63++)if(-J5E.E4d<y63[n63].search(o0d)){if(K63+=m63[I63]+y63[n63],r63=!J5E.R4d,-J5E.E4d<y63[n63].search(Q1d)||-J5E.E4d<y63[n63].search(s1d)||-J5E.E4d<y63[n63].search(X1d))r63=!J5E.E4d;}else-J5E.E4d<y63[n63].search(Q1d)||-J5E.E4d<y63[n63].search(s1d)?(K63+=y63[n63],r63=!J5E.E4d):P1d.exec(y63[n63-J5E.E4d])&&S1d.exec(y63[n63])&&L1d.exec(y63[n63-J5E.E4d])[J5E.R4d]==g1d.exec(y63[n63])[J5E.R4d].replace(s933.w1d,J5E.s3d)?(K63+=y63[n63],r63||I63--):K63=-J5E.E4d<y63[n63].search(z1d)&&-J5E.E4d==y63[n63].search(Z1d)&&-J5E.E4d==y63[n63].search(t1d)?r63?K63+=y63[n63]:K63+=m63[I63++]+y63[n63]:-J5E.E4d<y63[n63].search(z1d)&&-J5E.E4d<y63[n63].search(Z1d)?r63?K63+=y63[n63]:K63+=m63[I63]+y63[n63]:-J5E.E4d<y63[n63].search(Z1d)?r63?K63+=y63[n63]:K63+=m63[--I63]+y63[n63]:-J5E.E4d<y63[n63].search(t1d)?r63?K63+=y63[n63]:K63+=m63[I63]+y63[n63]:-J5E.E4d<y63[n63].search(p1d)?K63+(m63[I63]+y63[n63]):-J5E.E4d<y63[n63].search(F1d)||-J5E.E4d<y63[n63].search(e1d)?K63+(m63[I63]+y63[n63]):K63+y63[n63];y63=s933.D0d==K63[J5E.R4d]?K63.slice(J5E.E4d):K63;y63=y63.replace(/[\r\n\s]*<\!\[CDATA\[/g,N1d);return y63=y63.replace(/]]\x3e\s*/g,b1d);};l63.doc=new DOMParser().parseFromString(V1d,s933.u0d);return l63;}();Z63.XML=t63;}(misc||(misc={})));(function(v63){var q63=function(){h63.print=function(X23,Q23,s23){var a5E=s933;var C5E=Q933;var j1d="</html>";var G1d="</body>";var i1d="</head>";var x1d="</style>";var u1d="body{-webkit-print-color-adjust:exact;}";var a1d="<head>";var k1d="<!DOCTYPE html>";var R1d="iframe";var Y1d="printer-";void C5E.R4d===Q23&&(Q23=C5E.s3d);void C5E.R4d===s23&&(s23=C5E.s3d);var d63=Y1d+new Date().getTime(),o63=new uicontrols.UIElement(R1d).attr(a5E.E1d,d63);o63.css(C5E.R3d,a5E.M1d).css(C5E.M3d,a5E.M1d).css(C5E.E5d,a5E.M5d).css(C5E.J3d,a5E.J1d);uicontrols.UIElement.convert(document.body).append(o63);var d63=window.frames[d63],D63=d63.document;D63.open();D63.write(k1d);D63.write(a5E.C1d);D63.write(a1d);D63.write(a5E.H1d);D63.write(s23);D63.write(a5E.A1d);D63.write(a5E.O1d);D63.write(Q23+u1d);D63.write(x1d);D63.write(i1d);D63.write(a5E.l1d);D63.write(X23);D63.write(G1d);D63.write(j1d);D63.close();d63.focus();d63.print();utils.fmSetTimeout(function(){o63.remove();},a5E.U1d);};function h63(){}return h63;}();v63.PrintJob=q63;}(misc||(misc={})));var utils;(function(P23){var T1d="target";var L23=function(){Object.defineProperty(w23.prototype,T1d,{get:function(){return Q933.V2d;},enumerable:!Q933.R4d,configurable:!Q933.R4d});w23.prototype.areListenersEqual=function(z23,Z23){return z23.type===Z23.type&&z23.handler===Z23.handler&&z23.useCapture===Z23.useCapture;};w23.prototype.hasEventListener=function(p23,F23){var A5E=Q933;if(P23.nullOrUndefined(this.listeners[p23]))return!A5E.E4d;for(var t23=A5E.R4d;t23<this.listeners[p23].length;t23++)if(this.areListenersEqual(this.listeners[p23][t23],F23))return!A5E.R4d;return!A5E.E4d;};w23.prototype.addEventListener=function(e23,b23,V23){var N23={type:e23,handler:b23,useCapture:V23};this.hasEventListener(e23,N23)||(P23.nullOrUndefined(this.listeners[e23])&&(this.listeners[e23]=[]),this.listeners[e23].push(N23),this.target.addEventListener(e23,b23,V23));};w23.prototype.removeEventListener=function(Y23,E23,M23){E23={type:Y23,handler:E23,useCapture:M23};for(Y23 in this.listeners){for(var J23=[],R23=Q933.R4d;R23<this.listeners[Y23].length;R23++)this.areListenersEqual(this.listeners[Y23][R23],E23)?s933.f1d===typeof M23?this.target.removeEventListener(Y23,this.listeners[Y23][R23].handler,M23):this.target.removeEventListener(Y23,this.listeners[Y23][R23].handler):J23.push(this.listeners[Y23][R23]);this.listeners[Y23]=J23;}};w23.prototype.dispose=function(){for(var k23 in this.listeners)for(var C23=Q933.R4d;C23<this.listeners[k23].length;C23++)this.target.removeEventListener(k23,this.listeners[k23][C23].handler,!Q933.R4d),this.target.removeEventListener(k23,this.listeners[k23][C23].handler,!Q933.E4d);this.listeners={};};function w23(){this.listeners={};}return w23;}(),g23=function(H23){__extends(a23,H23);function a23(){return Q933.V2d!==H23&&H23.apply(this,arguments)||this;}a23.getInstance=function(){Q933.V2d==a23.instance&&(a23.instance=new a23());return a23.instance;};Object.defineProperty(a23.prototype,T1d,{get:function(){return document;},enumerable:!Q933.R4d,configurable:!Q933.R4d});return a23;}(L23),L23=function(O23){__extends(A23,O23);A23.getInstance=function(){Q933.V2d==A23.instance&&(A23.instance=new A23());return A23.instance;};Object.defineProperty(A23.prototype,T1d,{get:function(){return window;},enumerable:!Q933.R4d,configurable:!Q933.R4d});function A23(){return Q933.V2d!==O23&&O23.apply(this,arguments)||this;}return A23;}(L23),S23=function(){u23.dispose=function(){for(;Q933.R4d<u23.timeouts.length;)clearTimeout(u23.timeouts.pop());for(;Q933.R4d<u23.intervals.length;)clearInterval(u23.intervals.pop());};u23.timeouts=[];function u23(){}u23.intervals=[];return u23;}();P23.Timers=S23;P23.fmSetTimeout=function(i23,l23){var x23=setTimeout(i23,l23);S23.timeouts.push(x23);return x23;};P23.fmClearTimeout=function(G23){clearTimeout(G23);S23.timeouts.splice(S23.timeouts.indexOf(G23),Q933.E4d);};P23.fmSetInterval=function(U23,T23){var j23=setInterval(U23,T23);S23.intervals.push(j23);return j23;};P23.fmClearInterval=function(f23){clearInterval(f23);S23.intervals.splice(S23.intervals.indexOf(f23),Q933.E4d);};P23.fmdocument=g23.getInstance();P23.fmwindow=L23.getInstance();}(utils||(utils={})));(function(W23){var c23=function(y23){var c1d="onresize";__extends(n23,y23);n23.prototype.resetTriggers=function(r23){var f5E=Q933;var I23=r23.__resizeTriggers__;r23=I23.firstElementChild;var I23=I23.lastElementChild,B23=r23.firstElementChild;I23.scrollLeft=I23.scrollWidth;I23.scrollTop=I23.scrollHeight;B23.style.width=r23.offsetWidth+f5E.E4d+f5E.r2d;B23.style.height=r23.offsetHeight+f5E.E4d+f5E.r2d;r23.scrollLeft=r23.scrollWidth;r23.scrollTop=r23.scrollHeight;};n23.prototype.checkTriggers=function(q23){return q23.offsetWidth!=q23.__resizeLast__.width||q23.offsetHeight!=q23.__resizeLast__.height;};n23.prototype.scrollListener=function(){var h23=this;if(Q933.V2d!=this._target){var v23=this._target.element;this.resetTriggers(v23);v23.__resizeRAF__&&this._target.cancelAnimationFrame(v23.__resizeRAF__);v23.__resizeRAF__=this._target.requestAnimationFrame(function(){h23.checkTriggers(v23)&&(v23.__resizeLast__.width=v23.offsetWidth,v23.__resizeLast__.height=v23.offsetHeight,h23.dispatchResize());});}};n23.prototype.dispatchResize=function(){this.dispatchWith(events._Event.RESIZE);};n23.prototype.startListener=function(D23){var K1d='<div class="wdr-expand-trigger"><div></div></div><div class="wdr-contract-trigger"></div>';var y1d="wdr-resize-triggers";var W1d="static";D23.attachEvent?D23.attachEvent(c1d,this._dispatchResize):D23.__resizeTriggers__||(W1d==getComputedStyle(D23).position&&(D23.style.position=s933.n1d),D23.__resizeLast__={},D23.__resizeListeners__=[],D23.__resizeTriggers__=document.createElement(Q933.S3d),D23.__resizeTriggers__.className=y1d,D23.__resizeTriggers__.innerHTML=K1d,D23.appendChild(D23.__resizeTriggers__),this.resetTriggers(D23),D23.addEventListener(s933.L0d,this._scrollListener,!Q933.R4d));};n23.prototype.stopListener=function(d23){d23.detachEvent?d23.detachEvent(c1d,this._dispatchResize):(d23.removeEventListener(s933.L0d,this._scrollListener),d23.__resizeTriggers__=!d23.removeChild(d23.__resizeTriggers__));};function n23(m23){var K23=y23.call(this)||this;K23._scrollListener=function(){return K23.scrollListener();};K23._dispatchResize=function(){return K23._dispatchResize();};K23._target=m23;K23.startListener(K23._target.element);return K23;}n23.prototype.dispose=function(){this._target&&this._target.element&&this.stopListener(this._target.element);this._dispatchResize=this._scrollListener=this._target=Q933.V2d;};return n23;}(events.EventDispatcher);W23.ResizeListener=c23;}(utils||(utils={})));(function(Q33){var o23=function(){var L2d=3600;s33.isHttpURL=function(X33){var r1d="https://";var m1d="http://";return Q933.V2d!=X33&&(Q933.R4d==X33.indexOf(m1d)||Q933.R4d==X33.indexOf(r1d));};function s33(){}s33.isBlobURL=function(P33){var I1d="blob:http";return Q933.V2d!=P33&&Q933.R4d==P33.indexOf(I1d);};s33.getUrl=function(S33,g33){var B5E=s933;var I5E=Q933;var v1d="..";void I5E.R4d===g33&&(g33=!I5E.E4d);if(!S33)return B5E.B1d;S33=S33.trim();if(I5E.R4d==S33.length)return B5E.B1d;if(s33.isBlobURL(S33))return S33;if(g33){var L33=-I5E.E4d<S33.indexOf(B5E.q1d)?B5E.j0d:B5E.q1d;S33+=L33+Math.round(Date.now()/L2d);}if(s33.isHttpURL(S33)||I5E.R4d==S33.indexOf(B5E.U0d)||B5E.w1d==S33.substr(I5E.R4d,I5E.E4d))return S33;if(-I5E.E4d!=S33.indexOf(v1d)){for(L33=S33.split(B5E.w1d);v1d==L33[I5E.R4d];)I5E.R4d<L33.length&&L33.shift();S33=B5E.w1d+L33.join(B5E.w1d);B5E.w1d==S33.substr(I5E.R4d,I5E.E4d)&&(S33=S33.substring(I5E.E4d));}return S33;};s33.addTimestamp=function(w33){var z33=-Q933.E4d<w33.indexOf(s933.q1d)?s933.j0d:s933.q1d;return w33+=z33+Math.round(Date.now()/L2d);};return s33;}();Q33.URLUtils=o23;}(utils||(utils={})));(function(t33){var Z33=function(){var k8d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December";var J8d="Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday";var h1d="UTC:";p33.isUTCFormat=function(F33){return h1d==F33.slice(Q933.R4d,Q933.k4d);};p33.format=function(N33,J33){var D5E=Q933;var E8d="rd";var R8d="nd";var Y8d="st";var V8d="th";var N8d="UTC";var e8d="PM";var F8d="AM";var p8d="P";var t8d="A";var Z8d="pm";var z8d="am";var w8d="p";var g8d="Milliseconds";var L8d="Seconds";var S8d="Minutes";var P8d="Hours";var X8d="FullYear";var o1d="Date";var d1d="get";var D1d="getUTC";var R33=!D5E.E4d;h1d==J33.slice(D5E.R4d,D5E.k4d)&&(J33=J33.slice(D5E.k4d),R33=!D5E.R4d);var e33=R33?D1d:d1d,b33=N33[e33+o1d](),E33=N33[e33+s933.Q8d](),Y33=N33[e33+s933.s8d](),M33=N33[e33+X8d](),V33=N33[e33+P8d](),C33=N33[e33+S8d](),a33=N33[e33+L8d](),e33=N33[e33+g8d](),k33=R33?D5E.R4d:N33.getTimezoneOffset(),H33={d:b33,dd:p33.pad(b33),ddd:p33.i18n.dayNames[E33],dddd:p33.i18n.dayNames[E33+D5E.H4d],D:b33,DD:p33.pad(b33),DDD:p33.i18n.dayNames[E33],DDDD:p33.i18n.dayNames[E33+D5E.H4d],M:Y33+D5E.E4d,MM:p33.pad(Y33+D5E.E4d),MMM:p33.i18n.monthNames[Y33],MMMM:p33.i18n.monthNames[Y33+D5E.i4d],yy:String(M33).slice(D5E.M4d),yyyy:M33,YY:String(M33).slice(D5E.M4d),YYYY:M33,h:V33%D5E.i4d||D5E.i4d,hh:p33.pad(V33%D5E.i4d||D5E.i4d),H:V33,HH:p33.pad(V33),m:C33,mm:p33.pad(C33),s:a33,ss:p33.pad(a33),l:p33.pad(e33,D5E.J4d),L:p33.pad(D5E.C6d<e33?Math.round(e33/D5E.u4d):e33),t:D5E.i4d>V33?D5E.y3d:w8d,tt:D5E.i4d>V33?z8d:Z8d,T:D5E.i4d>V33?t8d:p8d,TT:D5E.i4d>V33?F8d:e8d,Z:R33?N8d:(String(N33).match(p33.timezone)||[D5E.s3d]).pop().replace(p33.timezoneClip,D5E.s3d),o:(D5E.R4d<k33?D5E.l3d:s933.b8d)+p33.pad(D5E.a6d*Math.floor(Math.abs(k33)/D5E.Z6d)+Math.abs(k33)%D5E.Z6d,D5E.k4d),S:[V8d,Y8d,R8d,E8d][D5E.J4d<b33%D5E.u4d?D5E.R4d:(D5E.u4d!=b33%D5E.a6d-b33%D5E.u4d?D5E.E4d:D5E.R4d)*b33%D5E.u4d]};return J33.replace(p33.token,function(A33){return A33 in H33?H33[A33]:A33.slice(D5E.E4d,A33.length-D5E.E4d);});};p33.pad=function(x33,u33){var O33=Q933.s3d+x33;for(u33=u33||Q933.M4d;O33.length<u33;)O33=s933.M8d+O33;return O33;};p33.setDayNames=function(i33,l33){p33.i18n.dayNames=l33.concat(i33);};p33.setMonthNames=function(G33,j33){p33.i18n.monthNames=j33.concat(G33);};p33.token=/d{1,4}|D{1,4}|m{1,4}|M{1,4}|yy(?:yy)?|YY(?:YY)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g;function p33(){}p33.timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;p33.timezoneClip=/[^-+\dA-Z]/g;p33.i18n={dayNames:J8d.split(Q933.R2d),monthNames:k8d.split(Q933.R2d)};return p33;}();t33.DateFormat=Z33;}(utils||(utils={})));(function(U33){var f33=function(){var q8d="&#x2F;";var I8d="&quot;";var r8d="&gt;";var m8d="&lt;";var K8d="&amp;";n33.toBoolean=function(y33){return void Q933.R4d!==y33&&Q933.V2d!==y33&&(s933.C8d==y33.toLowerCase()||Q933.f3d==y33.toLowerCase());};n33.generateID=function(){var P0E=Q933;var X2d=2012;var K33=new Date().getTime()-new Date(X2d,P0E.M4d,P0E.A4d).getTime();if(n33.lastGeneratedID==K33)return K33.toString(P0E.D4d)+(n33.lastGeneratedIDSuffix++).toString();n33.lastGeneratedID=K33;n33.lastGeneratedIDSuffix=P0E.R4d;return K33.toString(P0E.D4d);};n33.bind=function(r33){var S0E=Q933;var A8d="gi";var H8d="\\}";var a8d="\\{";for(var I33=[],m33=S0E.E4d;m33<arguments.length;m33++)I33[m33-S0E.E4d]=arguments[m33];if(U33.nullOrUndefined(r33))return r33;for(m33=S0E.R4d;m33<I33.length;m33++)r33=r33.replace(RegExp(a8d+m33+H8d,A8d),S0E.V2d==I33[m33]?S0E.s3d:I33[m33].toString());return r33;};n33.concat=function(B33,h33){var L0E=Q933;var m6d=256;if(L0E.R4d==B33.length)return h33;var D33=L0E.R4d<B33.length?B33.charCodeAt(B33.length-L0E.E4d):-L0E.E4d,q33=L0E.R4d<B33.length?B33.charCodeAt(B33.length-L0E.M4d):-L0E.E4d,v33=L0E.s3d;if(-L0E.E4d!=q33&&L0E.O6d<q33&&m6d>q33&&!(L0E.x6d<q33&&L0E.f6d>q33))return v33=h33.charCodeAt(L0E.R4d),v33=String.fromCharCode((q33&L0E.j4d)<<L0E.i4d|(D33&L0E.F6d)<<L0E.a4d|v33&L0E.F6d),B33.substr(L0E.R4d,B33.length-L0E.M4d)+v33+h33.substr(L0E.E4d);if(!(L0E.O6d>D33||m6d<D33)){if(L0E.x6d<D33&&L0E.f6d>D33)return q33=h33.charCodeAt(L0E.R4d),v33=String.fromCharCode((D33&L0E.q4d)<<L0E.a4d|q33&L0E.F6d),B33.substr(L0E.R4d,B33.length-L0E.E4d)+v33+h33.substr(L0E.E4d);if(m6d>D33)return q33=h33.charCodeAt(L0E.R4d),v33=h33.charCodeAt(L0E.E4d),v33=String.fromCharCode((D33&L0E.j4d)<<L0E.i4d|(q33&L0E.F6d)<<L0E.a4d|v33&L0E.F6d),B33.substr(L0E.R4d,B33.length-L0E.E4d)+v33+h33.substr(L0E.M4d);}return B33+h33;};n33.toTime=function(d33){var w0E=s933;var g0E=Q933;var u8d="d ";if(isNaN(d33))return pivot.model._labels.Labels.INVALID_DATE;var Q53=g0E.s3d,s53=g0E.R4d>d33;g0E.R4d>d33&&(d33*=-g0E.E4d);d33=Math.round(d33);var o33=d33%g0E.Z6d,Q53=g0E.u4d>o33?w0E.M8d+o33:o33.toString();d33=(d33-o33)/g0E.Z6d;o33=d33%g0E.Z6d;Q53=(g0E.u4d>o33?w0E.M8d+o33:o33.toString())+w0E.O8d+Q53;d33=(d33-o33)/g0E.Z6d;o33=d33%g0E.K4d;Q53=(g0E.u4d>o33?w0E.M8d+o33:o33.toString())+w0E.O8d+Q53;d33=(d33-o33)/g0E.K4d;g0E.R4d<d33&&(Q53=d33.toString()+u8d+Q53);s53&&(Q53=g0E.l3d+Q53);return Q53;};n33.toDate=function(X53,P53){void Q933.R4d===P53&&(P53=s933.x8d);if(isNaN(X53)||Q933.R4d==X53)return pivot.model._labels.Labels.INVALID_DATE;var S53=new Date(X53);return isNaN(S53.getTime())?Q933.s3d:U33.DateFormat.format(S53,P53);};n33.toDateTime=function(g53,L53){void Q933.R4d===L53&&(L53=s933.i8d);return n33.toDate(g53,L53);};n33.isDate=function(w53){var l8d=/\d+/;return this.matchesISODate(w53)&&!isNaN(Date.parse(w53))&&(Q933.E4d<w53.match(l8d).length||Q933.E4d==w53.match(l8d).length&&new Date(Date.parse(w53)).toDateString()!=new Date(Date.parse(w53.match(l8d)[Q933.R4d])).toDateString());};n33.matchesISODate=function(z53){return U33.detectBrowser().isChrome&&!z53.match(s933.G8d)?!Q933.E4d:!Q933.R4d;};n33.fromRgbToHex=function(Z53){var b0E=Q933;var U8d="transparent";var K6d=255;if(T33(Z53))return b0E.R4d;if(s933.j8d===Z53.substr(b0E.R4d,b0E.E4d))return parseInt(Z53.substr(b0E.E4d),b0E.U4d);U8d==Z53&&(Z53=s933.T8d);Z53=Z53.replace(/[^\d,]/g,b0E.s3d);Z53=Z53.split(s933.f0d);var t53=parseInt(Z53[b0E.R4d]),p53=parseInt(Z53[b0E.E4d]),F53=parseInt(Z53[b0E.M4d]);b0E.R4d===parseInt(Z53[b0E.J4d])&&(t53=p53=F53=K6d);return F53|p53<<b0E.A4d|t53<<b0E.U4d;};n33.strToUint8Arr=function(N53){for(var b53=new Uint8Array(N53.length),e53=Q933.R4d,V53=N53.length;e53<V53;++e53)b53[e53]=N53.charCodeAt(e53);return b53;};n33.strToUint8ArrExtended=function(E53){for(var Y53=new pivot.DataStream(new ArrayBuffer(E53.length)),R53=Q933.R4d,M53=E53.length;R53<M53;++R53)Y53.writeString(E53.charAt(R53));Y53.seek(Q933.R4d);return Y53.readUint8Array(Y53.byteLength);};n33.dataURItoUint8Arr=function(J53){var E0E=Q933;var f8d="base64";J53=-E0E.E4d!==J53.split(s933.f0d)[E0E.R4d].indexOf(f8d)?atob(J53.split(s933.f0d)[E0E.E4d]):decodeURI(J53.split(s933.f0d)[E0E.E4d]);return n33.strToUint8Arr(J53);};n33.decode2=function(C53){var J0E=Q933;var a53,k53,O53,H53,A53,u53;a53=J0E.s3d;O53=C53.length;for(k53=J0E.R4d;k53<O53;)switch(H53=C53[k53++],H53>>J0E.k4d){case J0E.R4d:case J0E.E4d:case J0E.M4d:case J0E.J4d:case J0E.k4d:case J0E.C4d:case J0E.a4d:case J0E.H4d:a53+=String.fromCharCode(H53);break;case J0E.i4d:case J0E.l4d:A53=C53[k53++];a53+=String.fromCharCode((H53&J0E.q4d)<<J0E.a4d|A53&J0E.F6d);break;case J0E.G4d:A53=C53[k53++],u53=C53[k53++],a53+=String.fromCharCode((H53&J0E.j4d)<<J0E.i4d|(A53&J0E.F6d)<<J0E.a4d|(u53&J0E.F6d)<<J0E.R4d);}return a53;};n33.decode=function(l53){for(var i53=Q933.s3d,x53=Q933.R4d;x53<l53.length;x53++)i53+=String.fromCharCode(l53[x53]);return decodeURIComponent(escape(i53));};n33.contains=function(G53,j53){return-Q933.E4d<G53.toLowerCase().indexOf(j53);};n33.parseBool=function(U53){var a0E=Q933;a0E.Y3d==typeof U53&&(U53=String(U53).toLowerCase());return s933.C8d===U53||a0E.f3d===U53||a0E.E4d===U53||!a0E.R4d===U53;};n33.toNumber=function(T53){var A0E=Q933;if(A0E.V2d==T53)return NaN;if(A0E.V3d===typeof T53)return T53;A0E.Y3d!==typeof T53&&(T53=T53.toString());s933.f0d==pivot.model.format.FormatManager.getFormat(A0E.s3d).thousandsSeparator&&(T53=T53.replace(/,/gi,A0E.s3d));T53=T53.replace(s933.f0d,s933.c8d);T53=T53.replace(/[^[,|\.|\-|\d|e]]*/gi,A0E.s3d);return parseFloat(T53);};n33.trim=function(f53,n53){var u0E=Q933;void u0E.R4d===n53&&(n53=u0E.V2d);if(u0E.V2d==f53)return u0E.s3d;for(var c53=u0E.R4d;n33.isWhitespace(f53.charAt(c53),n53);)++c53;for(var W53=f53.length-u0E.E4d;n33.isWhitespace(f53.charAt(W53),n53);)--W53;return W53>=c53?f53.slice(c53,W53+u0E.E4d):u0E.s3d;};n33.trimLeft=function(K53,m53){var x0E=Q933;void x0E.R4d===m53&&(m53=x0E.V2d);if(x0E.V2d==K53)return x0E.s3d;for(var y53=x0E.R4d;n33.isWhitespace(K53.charAt(y53),m53);)++y53;var r53=K53.length-x0E.E4d;return r53>=y53?K53.slice(y53,r53+x0E.E4d):x0E.s3d;};n33.isWhitespace=function(B53,I53){var i0E=Q933;var y8d="\f";void i0E.R4d===I53&&(I53=i0E.V2d);if(i0E.V2d!=I53&&B53==I53)return!i0E.E4d;switch(B53){case i0E.R2d:case s933.W8d:case s933.n8d:case s933.D0d:case y8d:return!i0E.R4d;}return!i0E.E4d;};n33.isEntity=function(v53){for(var q53 in n33.entityMap)if(n33.entityMap[q53]==v53)return!Q933.R4d;return!Q933.E4d;};n33.escapeHtml=function(D53,h53){void Q933.R4d===h53&&(h53=!Q933.E4d);return h53?D53.replace(/[<>"'\/]/g,function(d53){return n33.entityMap[d53];}):D53.replace(/[&<>"'\/]/g,function(o53){return n33.entityMap[o53];});};n33.lastGeneratedIDSuffix=Q933.R4d;n33.entityMap={"&":K8d,"<":m8d,">":r8d,'"':I8d,"'":s933.B8d,"/":q8d};function n33(){}return n33;}();U33.StringUtils=f33;U33.nullOrUndefined=T33;U33.nullOrEmpty=function(Q03){var g6E=Q933;if(T33(Q03)||g6E.Y3d!=typeof Q03||g6E.R4d==Q03.trim().length)return!g6E.R4d;Q03=Q03.trim();for(var s03=g6E.R4d;s03<Q03.length;s03++)if(g6E.R4d!=Q03.charCodeAt(s03))return!g6E.E4d;return!g6E.R4d;};U33.strEncode=function(X03){var v8d="{%7C}";return X03.replace(/\|/g,v8d);};U33.strDecode=function(P03){return P03.replace(/{%7C}/g,s933.h8d);};function T33(){var z6E=Q933;for(var W33=[],c33=z6E.R4d;c33<arguments.length;c33++)W33[c33]=arguments[c33];for(c33=z6E.R4d;c33<W33.length;c33++)if(z6E.T3d===typeof W33[c33]||z6E.V2d===W33[c33])return!z6E.R4d;return!z6E.E4d;}}(utils||(utils={})));(function(L03){var S03=function(){var Z6E=Q933;g03.sortOn=function(w03,Z03,z03,F03){z03>>=Z6E.E4d;var t03=Z6E.E4d==z03%Z6E.M4d;z03=z03>>Z6E.E4d>>Z6E.E4d;var p03=Z6E.E4d==z03%Z6E.M4d;z03>>=Z6E.E4d;z03=Z6E.E4d==z03%Z6E.M4d;if(p03)return w03=g03.sortIndices(w03,Z03,F03),t03&&w03.reverse(),w03;z03?g03.sortNumeric(w03,Z03):Z6E.s3d==Z03?w03.sort():w03.sort(function(e03,N03){return e03[Z03]==N03[Z03]?Z6E.R4d:e03[Z03]>N03[Z03]?Z6E.E4d:-Z6E.E4d;});t03&&w03.reverse();return w03;};g03.sort=function(V03,b03,Y03){void Z6E.R4d===b03&&(b03=Z6E.R4d);return g03.sortOn(V03,Z6E.s3d,b03,Y03);};g03.sortNumeric=function(E03,R03){Z6E.s3d==R03?E03.sort(function(M03,J03){return isNaN(M03)?Z6E.E4d:isNaN(J03)?-Z6E.E4d:M03-J03;}):E03.sort(function(k03,C03){return isNaN(k03[R03])?Z6E.E4d:isNaN(C03[R03])?-Z6E.E4d:k03[R03]-C03[R03];});};g03.sortIndices=function(A03,H03,O03){var a03=[],u03;for(u03 in A03)a03.push([A03[u03],parseInt(u03)]);Z6E.s3d==H03?O03?a03.sort(function(i03,l03){return O03(i03[Z6E.R4d],l03[Z6E.R4d]);}):a03.sort(function(G03,j03){return G03[Z6E.R4d]==j03[Z6E.R4d]?Z6E.R4d:G03[Z6E.R4d]>j03[Z6E.R4d]?Z6E.E4d:-Z6E.E4d;}):O03?a03.sort(function(U03,T03){return O03(U03[Z6E.R4d][H03],T03[Z6E.R4d][H03]);}):a03.sort(function(f03,c03){return f03[Z6E.R4d][H03]==c03[Z6E.R4d][H03]?Z6E.R4d:f03[Z6E.R4d][H03]>c03[Z6E.R4d][H03]?Z6E.E4d:-Z6E.E4d;});A03=[];for(var x03 in a03)A03.push(a03[x03][Z6E.E4d]);return A03;};g03.find=function(y03,K03,n03){void Z6E.R4d===n03&&(n03=Z6E.V2d);for(var W03=y03.length-Z6E.E4d;-Z6E.E4d<W03;W03--)if(Z6E.V2d===n03&&y03[W03]===K03||Z6E.V2d!==n03&&y03[W03][n03]===K03)return y03[W03];return Z6E.V2d;};g03.findIndex=function(I03,B03,r03){void Z6E.R4d===r03&&(r03=Z6E.V2d);for(var m03=I03.length-Z6E.E4d;-Z6E.E4d<m03;m03--)if(Z6E.V2d===r03&&I03[m03]===B03||Z6E.V2d!==r03&&I03[m03][r03]===B03)return m03;return-Z6E.E4d;};g03.insert=function(h03,v03,D03){for(var q03=Z6E.R4d;q03<v03.length;q03++)h03.splice(D03+q03,Z6E.R4d,v03[q03]);};g03.CASEINSENSITIVE=Z6E.E4d;g03.DESCENDING=Z6E.M4d;g03.UNIQUESORT=Z6E.k4d;g03.RETURNINDEXEDARRAY=Z6E.A4d;function g03(){}g03.NUMERIC=Z6E.U4d;return g03;}();L03.ArrayUtils=S03;}(utils||(utils={})));(function(d03){var o03=function(){Q13.prototype.addItem=function(s13,X13){void Q933.R4d===this.values[s13]&&this.keys.push(s13);this.values[s13]=X13;};Q13.prototype.addUniqueItem=function(P13,S13){this.keys.push(P13);this.values[P13]=S13;};Q13.prototype.unshift=function(L13,g13){this.keys.unshift(L13);this.values[L13]=g13;};function Q13(){this.values={};this.keys=[];}Q13.prototype.setItemAt=function(w13,z13,Z13){this.keys[Z13]=w13;this.values[w13]=z13;};Q13.prototype.addItemAt=function(t13,p13,F13){Q933.V2d!=this.getItem(t13)&&this.removeItem(t13);this.keys.splice(F13,Q933.R4d,t13);this.values[t13]=p13;};Q13.prototype.removeItem=function(e13){Q933.V2d!=this.getItem(e13)&&(this.keys.splice(this.indexOf(e13),Q933.E4d),delete this.values[e13]);};Q13.prototype.removeItemAt=function(b13){var N13=this.getKeyAt(b13);Q933.V2d!=N13&&(this.keys.splice(b13,Q933.E4d),delete this.values[N13]);};Object.defineProperty(Q13.prototype,s933.K0d,{get:function(){return this.keys.length;},set:function(V13){},enumerable:!Q933.R4d,configurable:!Q933.R4d});Q13.prototype.indexOf=function(Y13){return this.keys.indexOf(Y13);};Q13.prototype.keyExists=function(R13){return Q933.V2d!=this.values[R13];};Q13.prototype.getItem=function(E13){return this.values[E13];};Q13.prototype.getItemAt=function(M13){return this.getItem(this.keys[M13]);};Q13.prototype.getKeyAt=function(J13){return this.keys[J13];};Q13.prototype.moveItemAt=function(k13,C13){this.keys.splice(C13,Q933.R4d,this.keys.splice(k13,Q933.E4d)[Q933.R4d]);};Q13.prototype.slice=function(a13,A13){var y0E=Q933;void y0E.R4d===a13&&(a13=y0E.R4d);void y0E.R4d===A13&&(A13=y0E.R4d);y0E.R4d==A13&&(A13=this.length-a13);for(var O13=new Q13(),H13=y0E.R4d;H13<A13;H13++)this.length>H13+a13&&(d03.nullOrUndefined(this.getItemAt(H13+a13))||O13.addItem(this.getKeyAt(H13+a13),this.getItemAt(H13+a13)));return O13;};Q13.prototype.concat=function(x13,l13){var K0E=Q933;void K0E.R4d===l13&&(l13=!K0E.R4d);if(!l13)return this._concat(x13),K0E.V2d;var u13,i13=new Q13();for(u13=K0E.R4d;u13<this.length;u13++)i13.addItem(this.getKeyAt(u13),this.getItemAt(u13));for(u13=K0E.R4d;u13<x13.length;u13++)i13.addItem(x13.getKeyAt(u13),x13.getItemAt(u13));return i13;};Q13.prototype._concat=function(j13){var G13,U13=j13.length;for(G13=Q933.R4d;G13<U13;G13++)this.addItem(j13.getKeyAt(G13),j13.getItemAt(G13));};Q13.prototype.splice=function(c13,T13){var r0E=Q933;void r0E.R4d===T13&&(T13=r0E.R4d);var W13=new Q13();c13+T13>this.length&&(T13=this.length-c13);r0E.E4d>T13&&(T13=this.length);for(var f13=r0E.R4d;f13<this.length;f13++)(f13<c13||f13>=c13+T13)&&W13.addItem(this.getKeyAt(f13),this.getItemAt(f13));return W13;};Q13.prototype.reverse=function(){var n13,y13=new Q13();for(n13=this.length-Q933.E4d;-Q933.E4d<n13;n13--)y13.addItem(this.getKeyAt(n13),this.getItemAt(n13));return y13;};Q13.prototype.toArray=function(K13){var B0E=Q933;void B0E.R4d===K13&&(K13=!B0E.E4d);if(K13)return this.keys.slice(B0E.R4d);K13=[];for(var m13=B0E.R4d;m13<this.length;m13++)K13.push(this.getItemAt(m13));return K13;};Q13.prototype.toKeyArray=function(r13){var q0E=Q933;void q0E.R4d===r13&&(r13=!q0E.E4d);if(r13)return this.keys.slice(q0E.R4d);r13=[];for(var I13=q0E.R4d;I13<this.length;I13++)r13.push(this.getKeyAt(I13));return r13;};Q13.fromArray=function(v13){for(var q13=new Q13(),B13=Q933.R4d;B13<v13.length;B13++)q13.addItem(B13.toString(),v13[B13]);return q13;};Q13.convert=function(D13,o13){for(var d13=new Q13(),h13=Q933.R4d;h13<D13.length;h13++)d13.addItem(D13[h13][o13],D13[h13]);return d13;};Q13.prototype.toString=function(){var d8d=": ";var Q83=[],s83;for(s83 in this.keys){var X83=s933.D8d+s83+d8d+this.getItem(s83)+s933.o8d;Q83.push(X83);}return Q83.join(s933.Q9h);};return Q13;}();d03.AssociativeArray=o03;}(utils||(utils={})));(function(S83){var P83=function(){var R9h="$";var g9h="@";L83.prototype.parse=function(g83){var o0E=s933;var d0E=Q933;var V9h="updatePercent()";var b9h="updateDifference()";var N9h="value()";var F9h="sum(@";var p9h="if(";var t9h="#updatePercent";var Z9h="#updateDifference";var z9h="#value";var w9h=/(\W)[\'|\"][^\'|^\"]*[\'|\"]/i;var L9h=/(\w\w\w\()[\'|\"][^\'|^\"]*[\'|\"]/i;var P9h="  ";try{this.quotes=[];for(var b83=[],e83=!d0E.E4d,N83=d0E.s3d,w83=d0E.R4d;w83<g83.length;w83++){var p83=g83.charAt(w83);o0E.s9h==p83||o0E.X9h==p83?(e83&&(this.quotes.push(N83),b83.push(p83),N83=d0E.s3d),e83=!e83):e83&&(N83+=p83);}g83=P9h+g83;for(var z83,w83=d0E.R4d;w83<this.quotes.length;w83++)if(o0E.S9h!=this.quotes[w83].toLowerCase()){var t83=b83[w83]+this.quotes[w83]+b83[w83],Z83=g83.substring(d0E.R4d,g83.indexOf(t83)+t83.length+d0E.M4d);z83=L9h;if(z83.test(Z83))g83=g83.replace(t83,g9h+w83);else{z83=w9h;var V83=(-d0E.E4d!=Z83.indexOf(z9h)||-d0E.E4d!=Z83.indexOf(Z9h)||-d0E.E4d!=Z83.indexOf(t9h))&&-d0E.E4d!=Z83.indexOf(p9h);z83.test(Z83)&&!V83?g83=g83.replace(t83,F9h+w83+o0E.e9h):(z83=w9h,g83=g83.replace(t83,g9h+w83));}}z83=/\#value/g;g83=g83.replace(z83,N9h);z83=/\#updateDifference/g;g83=g83.replace(z83,b9h);z83=/\#updatePercent/g;g83=g83.replace(z83,V9h);g83=g83.toLocaleLowerCase();var F83=this._parse(g83),F83=F83[d0E.E4d][d0E.R4d];}catch(Y83){return Q933.V2d;}return F83;};L83.prototype._parse=function(E83){var s1E=s933;var Q1E=Q933;for(var k83=[],M83=Q1E.s3d,C83=E83.length,R83=Q1E.R4d;R83<E83.length;R83++){var J83=E83.charAt(R83);if(s1E.Y9h==J83)M83+=R9h+k83.length+s1E.E9h,J83=this._parse(E83.slice(R83+Q1E.E4d)),k83.push(J83[Q1E.E4d]),R83=R83+J83[Q1E.R4d]+Q1E.E4d;else if(s1E.e9h==J83){C83=R83;break;}else M83+=J83;}E83=[];M83=M83.split(s1E.f0d);for(R83=Q1E.R4d;R83<M83.length;R83++)E83.push(this._parseOperands(M83[R83],k83));return[C83,E83];};L83.prototype._parseOperands=function(x83,l83){var P1E=s933;var X1E=Q933;var k9h="== != >= <= = > <";var J9h=" and ";var M9h=" or ";for(var A83=[[M9h,J9h],k9h.split(X1E.R2d),[X1E.l3d,P1E.b8d],[P1E.w1d,P1E.C9h],[P1E.a9h]],H83=X1E.R4d;H83<A83.length;H83++){var a83=Number.MIN_VALUE,u83=A83[H83][X1E.R4d];if(X1E.J4d==H83){var a83=x83.indexOf(A83[H83][X1E.R4d]),O83=x83.indexOf(A83[H83][X1E.E4d]);-X1E.E4d!=a83&&-X1E.E4d!=O83?u83=a83<O83?A83[H83][X1E.R4d]:A83[H83][X1E.E4d]:-X1E.E4d!=a83?u83=A83[H83][X1E.R4d]:-X1E.E4d!=O83&&(u83=A83[H83][X1E.E4d]);}else for(O83=X1E.R4d;O83<A83[H83].length;O83++){var i83=x83.indexOf(A83[H83][O83]);-X1E.E4d!=i83&&i83>=a83&&(u83=A83[H83][O83],a83=i83+u83.length);}a83=x83.split(u83);X1E.M4d<a83.length&&(O83=a83[a83.length-X1E.E4d],a83.pop(),a83=[a83.join(u83),O83]);if(X1E.M4d==a83.length)return[u83.trim(),[this._parseOperands(a83[X1E.R4d],l83),this._parseOperands(a83[X1E.E4d],l83)],!X1E.R4d];}return this._parseElements(x83,l83);};L83.prototype._parseElements=function(j83,U83){var L1E=s933;var S1E=Q933;j83=j83.trim();if(-S1E.E4d!=j83.indexOf(R9h)){var G83=j83.split(R9h),T83=G83[S1E.R4d],G83=parseInt(G83[S1E.E4d]);if(S1E.R4d<T83.length){var f83=S1E.Y3d!=typeof U83[G83][S1E.R4d];(L1E.H9h==T83||L1E.A9h==T83)&&S1E.E4d<U83[G83].length&&(f83=!S1E.R4d,S1E.Y3d==typeof U83[G83][S1E.R4d]&&(U83[G83][S1E.R4d]=[L1E.O9h,[U83[G83][S1E.R4d]],!S1E.E4d]),S1E.Y3d==typeof U83[G83][S1E.E4d]&&(U83[G83][S1E.E4d]=[L1E.O9h,[U83[G83][S1E.E4d]],!S1E.E4d]));return[T83,U83[G83],f83];}return U83[G83][S1E.R4d];}if(-S1E.E4d!=j83.indexOf(g9h))return T83=parseInt(j83.slice(S1E.E4d)),this.quotes[T83];if(L1E.S9h==j83.toLowerCase()||L1E.S9h==j83.substring(S1E.E4d,j83.length-S1E.E4d).toLowerCase())return L1E.S9h;T83=parseFloat(j83);return isNaN(T83)?S1E.R4d:T83;};function L83(){this.quotes=[];}return L83;}();S83.Lexer=P83;}(utils||(utils={})));(function(W83){var c83=function(){var F6E=Q933;var U9h="isAnd";var G9h="isIOS";var i9h="isWin";var u9h="isMac";Object.defineProperty(n83,u9h,{get:function(){var x9h=/Mac/i;return x9h.test(navigator.platform);},enumerable:!F6E.R4d,configurable:!F6E.R4d});Object.defineProperty(n83,i9h,{get:function(){var l9h=/Win/i;return l9h.test(navigator.platform);},enumerable:!F6E.R4d,configurable:!F6E.R4d});Object.defineProperty(n83,G9h,{get:function(){var j9h=/(iPhone|iPod|iPad)/i;return j9h.test(navigator.platform)||j9h.test(navigator.userAgent);},enumerable:!F6E.R4d,configurable:!F6E.R4d});function n83(){}Object.defineProperty(n83,U9h,{get:function(){var T9h=/Android/i;return T9h.test(navigator.userAgent);},enumerable:!F6E.R4d,configurable:!F6E.R4d});return n83;}();W83.OSUtil=c83;}(utils||(utils={})));(function(y83){var K83=function(){var f9h="object";m83.isEmptyObject=function(r83){for(var I83 in r83)if(!y83.nullOrUndefined(r83[I83]))return!Q933.E4d;return!Q933.R4d;};m83.deepCopy=function(B83){if(B83 instanceof Array)return m83.deepCopyArray(B83);var v83={},q83;for(q83 in B83)v83[q83]=f9h!=typeof B83[q83]?B83[q83]:m83.deepCopy(B83[q83]);return v83;};function m83(){}m83.deepCopyArray=function(D83){for(var d83=[],h83=Q933.R4d;h83<D83.length;h83++)d83[h83]=f9h!=typeof D83[h83]?D83[h83]:m83.deepCopy(D83[h83]);return d83;};return m83;}();y83.ObjectUtils=K83;}(utils||(utils={})));(function(o83){var Q9m=function(){X9m.dispose=function(){X9m.queue=[];X9m.instance=Q933.V2d;X9m.runningThread=Q933.V2d;};X9m.addTask=function(L9m,g9m,P9m,S9m){var t1E=Q933;void t1E.R4d===P9m&&(P9m=t1E.V2d);void t1E.R4d===S9m&&(S9m=t1E.V2d);X9m.queue.push({taskFunction:L9m,context:g9m,args:P9m,completeCallback:S9m});t1E.V2d==X9m.runningThread&&X9m.run();};X9m.run=function(){X9m.runningThread=new s9m(X9m.queue.shift(),function(){return X9m.onTaskComplete();});X9m.runningThread.run();};X9m.pause=function(){Q933.V2d!=X9m.runningThread&&X9m.runningThread.stop();};function X9m(){throw Error(s933.m0d);}X9m.resume=function(){Q933.V2d!=X9m.runningThread?X9m.runningThread.run():Q933.R4d<X9m.queue.length&&X9m.run();};X9m.onTaskComplete=function(){X9m.runningThread=Q933.V2d;Q933.R4d<X9m.queue.length&&this.run();};X9m.cancel=function(){Q933.V2d!=X9m.runningThread&&(X9m.runningThread.stop(),X9m.runningThread=Q933.V2d);X9m.queue=[];};X9m.isRunning=function(){return Q933.V2d!=X9m.runningThread;};X9m.adjustTaskSize=function(z9m,w9m){var A1E=Q933;var W9h=1.05;var c9h=0.95;A1E.u4d<z9m-A1E.S6d?w9m=Math.floor(c9h*w9m):-A1E.u4d>z9m-A1E.S6d&&(w9m=Math.floor(W9h*w9m));return Math.max(A1E.C4d,w9m);};X9m.queue=[];return X9m;}();o83.ThreadManager=Q9m;var s9m=function(){Z9m.prototype.run=function(){var F9m=this;this.currentTimeout=o83.fmSetTimeout(function(){return F9m.doTask();},this.delay);};Z9m.prototype.stop=function(){o83.fmClearTimeout(this.currentTimeout);};Z9m.prototype.doTask=function(){var e9m=this;this.isComplete=this.task.taskFunction.call(this.task.context,this.task.args);if(!Q933.R4d==this.isComplete)this.onComplete();else this.currentTimeout=o83.fmSetTimeout(function(){return e9m.doTask();},this.delay);};function Z9m(p9m,t9m){var u1E=Q933;void u1E.R4d===t9m&&(t9m=u1E.V2d);this.delay=u1E.E4d;this.isComplete=!u1E.E4d;this.task=p9m;this.completeCallback=t9m;}Z9m.prototype.onComplete=function(){Q933.V2d!=this.completeCallback&&this.completeCallback();Q933.V2d!=this.task.completeCallback&&this.task.completeCallback();};Z9m.prototype.dispose=function(){this.stop();this.completeCallback=this.task=Q933.V2d;};return Z9m;}();}(utils||(utils={})));(function(N9m){N9m.browserVersion=function(){return b9m();};N9m.detectBrowser=b9m;N9m.isFullscreen=function(){var e6E=Q933;return e6E.V2d!=document.fullscreenElement||e6E.V2d!=document.mozFullScreenElement||e6E.V2d!=document.webkitFullscreenElement||e6E.V2d!=document.msFullscreenElement;};N9m.isHTML5Supported=function(){var N6E=Q933;var K9h="Version/6.0";var y9h="Version/5.";var n9h="Safari/";try{var J9m;if(J9m=void N6E.R4d!==ArrayBuffer){var k9m;if(k9m=void N6E.R4d!==DataView){var C9m;if(C9m=void N6E.R4d!==Uint8Array){var a9m;if(window.chrome&&navigator.userAgent.match(/chrome.\d*/gi)){var H9m=navigator.userAgent.match(/chrome.\d*/gi)[N6E.R4d];a9m=N6E.i4d<=parseInt(H9m.replace(/[^\d]/g,N6E.s3d));}else a9m=!N6E.R4d;C9m=a9m&&(window.opera?N6E.j4d<=window.opera.version():!N6E.R4d)&&(navigator.userAgent.match(n9h)?!navigator.userAgent.match(y9h)&&!navigator.userAgent.match(K9h):!N6E.R4d);}k9m=C9m;}J9m=k9m;}return J9m;}catch(A9m){return!N6E.E4d;}};function b9m(){var b6E=Q933;var w7h=")( |/)([0-9]+)";var g7h="opera";var L7h="safari";var S7h="msie";var P7h="firefox";var X7h="chrome";var s7h=/trident/;var Q7h=/iPad|iPhone|iPod|BlackBerry/i;var o9h=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i;var d9h=/msie/;var D9h=/opera/;var h9h=/safari/;var v9h=/applewebkit/;var q9h=/edge/;var B9h=/chrome/;var I9h=/webkit/;var r9h=/firefox/;var m9h=/mozilla/;var Y9m=navigator.userAgent.toLowerCase(),V9m={};V9m.isFirefox=m9h.test(Y9m)&&r9h.test(Y9m);V9m.isChrome=I9h.test(Y9m)&&B9h.test(Y9m)&&!q9h.test(Y9m);V9m.isEdge=q9h.test(Y9m);V9m.isSafari=v9h.test(Y9m)&&h9h.test(Y9m)&&!B9h.test(Y9m);V9m.isOpera=D9h.test(Y9m);V9m.isMsie=d9h.test(Y9m);V9m.isMobile=o9h.test(Y9m)||Q7h.test(navigator.platform);V9m.version=NaN;V9m.isMsie||V9m.isFirefox||V9m.isChrome||V9m.isSafari||V9m.isOpera||!s7h.test(Y9m)||(V9m.isMsie=!b6E.R4d,V9m.version=b6E.x4d);if(isNaN(V9m.version))for(var E9m=[X7h,P7h,S7h,L7h,g7h],R9m=b6E.R4d;R9m<E9m.length;R9m++)try{V9m.version=parseInt(Y9m.match(RegExp(s933.Y9h+E9m[R9m]+w7h))[b6E.J4d]);break;}catch(M9m){}return V9m;}N9m.getCookie=function(x9m){var R6E=s933;var Y6E=Q933;var O9m=document.cookie,u9m=O9m.indexOf(Y6E.R2d+x9m+R6E.G0d);-Y6E.E4d==u9m&&(u9m=O9m.indexOf(x9m+R6E.G0d));-Y6E.E4d==u9m?O9m=Y6E.V2d:(u9m=O9m.indexOf(R6E.G0d,u9m)+Y6E.E4d,x9m=O9m.indexOf(R6E.E9h,u9m),-Y6E.E4d==x9m&&(x9m=O9m.length),O9m=decodeURI(O9m.substring(u9m,x9m)));return O9m;};N9m.setCookie=function(G9m,l9m){var z7h="; expires=";var s2d=1825;var i9m=new Date();i9m.setDate(i9m.getDate()+s2d);l9m=encodeURI(l9m)+z7h+i9m.toUTCString();document.cookie=G9m+s933.G0d+l9m;};N9m.isLandscapeOrientation=function(){return screen.orientation&&-Q933.E4d<screen.orientation.type.indexOf(s933.Z7h);};N9m.isPortraitOrientation=function(){return screen.orientation&&-Q933.E4d<screen.orientation.type.indexOf(s933.t7h);};N9m.viewportWidth=function(){return Math.max(document.documentElement.clientWidth);};N9m.viewportHeight=function(){return Math.max(document.documentElement.clientHeight);};}(utils||(utils={})));(function(j9m){var T9m=function(c9m){var A6E=Q933;var e7h="repeatCount";var F7h="running";var p7h="currentCount";__extends(f9m,c9m);f9m.prototype.onTimer=function(){this._currentCount++;this.dispatch(new events._Event(U9m.TIMER));A6E.R4d<this._repeatCount&&this._currentCount>=this._repeatCount&&(this.stop(),this.dispatch(new events._Event(U9m.TIMER_COMPLETE)));};f9m.prototype.start=function(){var K9m=this;this._running||(this._intervalId=j9m.fmSetInterval(function(){return K9m.onTimer();},this._delay),this._running=!A6E.R4d);};f9m.prototype.stop=function(){this._running&&!j9m.nullOrUndefined(this._intervalId)&&(j9m.fmClearInterval(this._intervalId),this._running=!A6E.E4d);};function f9m(y9m,n9m){void A6E.R4d===n9m&&(n9m=A6E.R4d);var W9m=c9m.call(this)||this;W9m._currentCount=A6E.R4d;W9m._delay=A6E.R4d;W9m._repeatCount=A6E.R4d;W9m._running=!A6E.E4d;W9m._delay=y9m;W9m._repeatCount=n9m;return W9m;}f9m.prototype.reset=function(){this._currentCount=A6E.R4d;this.stop();};Object.defineProperty(f9m.prototype,p7h,{get:function(){return this._currentCount;},set:function(m9m){},enumerable:!A6E.R4d,configurable:!A6E.R4d});Object.defineProperty(f9m.prototype,F7h,{get:function(){return this._running;},set:function(r9m){},enumerable:!A6E.R4d,configurable:!A6E.R4d});Object.defineProperty(f9m.prototype,e7h,{get:function(){return this._repeatCount;},set:function(I9m){this._repeatCount=I9m;this._currentCount>=this._repeatCount&&this.stop();},enumerable:!A6E.R4d,configurable:!A6E.R4d});return f9m;}(events.EventDispatcher);j9m.Timer=T9m;var U9m=function(){var b7h="complete";var N7h="timer";B9m.TIMER=N7h;B9m.TIMER_COMPLETE=b7h;function B9m(){}return B9m;}();j9m.TimerEvent=U9m;j9m.getTimer=function(){return Q933.T3d!==typeof performance&&s933.V7h===typeof window.performance.now?performance.now():new Date().getTime();};}(utils||(utils={})));(function(q9m){var h9m=function(d9m){var C7h="isFocused";__extends(D9m,d9m);D9m.getInstance=function(){Q933.V2d==D9m._instance&&(D9m._instance=new D9m(pivot._view.PivotView.stage.container));return D9m._instance;};function D9m(Q7m){var U1E=s933;var j1E=Q933;var k7h="pivot-hiddenInput";var J7h="0px";var M7h="fixed";var E7h="pivot-hiddenInputContainer";var Y7h="KeyboardListener is singleton";var o9m=d9m.call(this)||this;o9m._isFocused=!j1E.E4d;o9m._keydownHandler=function(s7m){return o9m.onKeyDown(s7m);};o9m.inputKeyUpHandler=function(X7m){return o9m.onInputKeyUp(X7m);};if(j1E.V2d!=D9m._instance)throw Error(Y7h);o9m.target=Q7m;q9m.browserVersion().isMobile||(q9m.fmdocument.addEventListener(U1E.R7h,o9m._keydownHandler),o9m._inputContainer=new uicontrols.UIElement(j1E.S3d),o9m._inputContainer.attr(j1E.o2d,E7h),o9m._inputContainer.css(j1E.E5d,M7h).css(j1E.J3d,J7h).css(j1E.k3d,J7h).css(j1E.y2d,U1E.M8d).css(j1E.R3d,J7h).css(j1E.M3d,J7h),o9m._inputContainer.hide(),o9m._input=new uicontrols.UITextArea(),o9m._input.setId(k7h),o9m._input.container.css(j1E.R3d,U1E.M1d).css(j1E.M3d,U1E.M1d).css(j1E.X3d,J7h),o9m._input.addEventListener(j1E.g5d,function(){o9m._isFocused=!Q933.R4d;}),o9m._input.addEventListener(j1E.w5d,function(){o9m._isFocused=!Q933.E4d;}),o9m._inputContainer.append(o9m._input.container),Q7m.append(o9m._inputContainer));return o9m;}Object.defineProperty(D9m.prototype,C7h,{get:function(){return this._isFocused;},enumerable:!Q933.R4d,configurable:!Q933.R4d});D9m.prototype.onKeyDown=function(S7m){var P7m=new v9m(v9m.KEY_DOWN);P7m.keyCode=S7m.keyCode;P7m.altKey=S7m.altKey;P7m.ctrlKey=S7m.ctrlKey;P7m.metaKey=S7m.metaKey;P7m.shiftKey=S7m.shiftKey;this.dispatch(P7m);};D9m.prototype.onInputKeyUp=function(L7m){this._inputContainer.hide();this._input.setText(Q933.s3d);this._input.container.blur();this._input.removeEventListener(Q933.Q5d,this.inputKeyUpHandler);};D9m.prototype.copy=function(g7m){this._inputContainer.show();this._input.setText(g7m);this._input.container.focus();this._input.selectAll();this._input.container.focus();this._input.addEventListener(Q933.Q5d,this.inputKeyUpHandler);};return D9m;}(events.EventDispatcher);q9m.KeyboardListener=h9m;var v9m=function(z7m){var a7h="event_keydown";__extends(w7m,z7m);function w7m(Z7m){return z7m.call(this,Z7m)||this;}w7m.KEY_DOWN=a7h;return w7m;}(events._Event);q9m.KeyboardEvent=v9m;}(utils||(utils={})));(function(t7m){t7m.debug=function(){var i6E=Q933;for(var F7m=[],p7m=i6E.R4d;p7m<arguments.length;p7m++)F7m[p7m]=arguments[p7m];if(i6E.V2d!=console&&i6E.V2d!=console.log)for(p7m=utils.browserVersion().isFirefox&&utils.browserVersion().isMobile?i6E.R4d:i6E.E4d;p7m<F7m.length;p7m++);};t7m.stackTrace=function(){var E6d=77;var e7m=Error();return e7m&&e7m.stack?e7m.stack.substr(E6d):Q933.s3d;};}(pivot||(pivot={})));(function(N7m){N7m.uialert=function(J7m,V7m,Y7m,R7m,E7m,M7m){var G6E=Q933;void G6E.R4d===V7m&&(V7m=G6E.s3d);void G6E.R4d===Y7m&&(Y7m=b7m.ALERT);void G6E.R4d===R7m&&(R7m=G6E.V2d);void G6E.R4d===E7m&&(E7m=G6E.V2d);void G6E.R4d===M7m&&(M7m=!G6E.E4d);N7m._view.AlertView.getInstance().openView(J7m,V7m,Y7m,R7m,E7m,M7m);};var b7m=function(){var u7h="info";var O7h="error";var A7h="confirmation";var H7h="alert";k7m.ALERT=H7h;k7m.CONFIRMATION=A7h;function k7m(){}k7m.ERROR=O7h;k7m.INFO=u7h;return k7m;}();N7m.AlertType=b7m;}(pivot||(pivot={})));(function(C7m){C7m.preloader=function(a7m,H7m,A7m,O7m,u7m){void Q933.R4d===a7m&&(a7m=!Q933.R4d);C7m._view.Preloader.getInstance().show(a7m,H7m,A7m,O7m,u7m);};}(pivot||(pivot={})));(function(x7m){(function(i7m){var l7m=function(j7m){var U7h="WebDataRocks";var l7h="(All)";__extends(G7m,j7m);G7m.getInstance=function(){Q933.V2d==this.instance&&(this.instance=new G7m());return this.instance;};G7m.prototype.init=function(T7m){G7m.id=T7m.id?T7m.id:Q933.s3d;i7m.JavaScriptHandlers.setHandlers(T7m);i7m._labels.LabelsManager.getInstance().reset();x7m._view.grid.vo.GridCell.customizeCellFunction=T7m.customizeCell;this.state_.init(T7m);};G7m.prototype.open=function(){this.state_.open();};G7m.prototype.load=function(f7m){this.state_.load(f7m);};G7m.prototype.save=function(n7m,c7m,y7m,K7m,W7m){var T6I=Q933;void T6I.R4d===c7m&&(c7m=T6I.V2d);void T6I.R4d===W7m&&(W7m=!T6I.E4d);return this.state_.save(n7m,c7m,y7m,K7m,W7m);};G7m.prototype.setReport=function(m7m){this.state_.setReport(m7m);};G7m.prototype.getReport=function(r7m){void Q933.R4d===r7m&&(r7m={});return this.state_.getReport(r7m);};G7m.prototype.clear=function(){this.state_.clear();};G7m.prototype.checkDataObject=function(I7m){var B7m={};utils.nullOrUndefined(I7m.dataSourceType)||(B7m.dataSourceType=I7m.dataSourceType);utils.nullOrUndefined(I7m.filename)||(B7m.filename=I7m.filename);utils.nullOrUndefined(I7m.requestHeader)||(B7m.requestHeader=I7m.requestHeader);utils.nullOrUndefined(I7m.fieldSeparator)||(B7m.fieldSeparator=I7m.fieldSeparator);utils.nullOrUndefined(I7m.recordsetDelimiter)||(B7m.recordsetDelimiter=I7m.recordsetDelimiter);utils.nullOrUndefined(I7m.browseForFile)||(B7m.browseForFile=I7m.browseForFile);utils.nullOrUndefined(I7m.data)||(B7m.data=I7m.data);utils.nullOrUndefined(I7m.ignoreQuotedLineBreaks)||(B7m.ignoreQuotedLineBreaks=I7m.ignoreQuotedLineBreaks);utils.nullOrUndefined(I7m.hash)||(B7m.hash=I7m.hash);utils.nullOrUndefined(I7m.username)||(B7m.username=I7m.username);utils.nullOrUndefined(I7m.password)||(B7m.password=I7m.password);return B7m;};G7m.prototype.connectTo=function(q7m){this.state_.connectTo(this.checkDataObject(q7m));};G7m.prototype.updateData=function(h7m,v7m){v7m.partial?this.state_.updateDataPartial(h7m.data,v7m):this.state_.updateData(this.checkDataObject(h7m),v7m);};G7m.prototype.getData=function(D7m,o7m,Q4m){if(Q933.V2d!=Q4m)x7m.Pivot.instance.on(s933.x7h,function(){x7m.Pivot.instance.getData(D7m,Q4m);});if(Q933.V2d!=D7m&&Q933.V2d!=D7m.slice){var d7m=D7m.slice instanceof x7m.data_._structure.Slice?D7m.slice:x7m.data_._structure.Slice.fromObject(i7m.report.SliceValueObject.fromObject(D7m.slice),this.cube_.structure_);i7m.integration.IntegrationDataManager.getInstance().selectData(d7m,o7m);}else d7m=i7m.integration.IntegrationDataManager.getInstance().getData(),o7m(d7m.toObject());};G7m.prototype.getAllConditions=function(){return i7m.condition.ConditionManager.getObjects();};G7m.prototype.getCondition=function(s4m){return(s4m=i7m.condition.ConditionManager.get(s4m))?s4m.toObject():Q933.V2d;};G7m.prototype.addCondition=function(X4m){i7m.condition.ConditionManager.add(i7m.condition.vo.ConditionValueObject.fromObject(X4m));};G7m.prototype.removeCondition=function(P4m){i7m.condition.ConditionManager.remove(P4m);};G7m.prototype.removeAllConditions=function(){i7m.condition.ConditionManager.removeAll();};G7m.prototype.addCalculatedMeasure=function(S4m){this.cube_.addCalculatedMeasure(S4m);};G7m.prototype.removeCalculatedMeasure=function(L4m){this.cube_.removeCalculatedMeasure(L4m);};G7m.prototype.removeAllCalculatedMeasures=function(){this.cube_.removeAllCalculatedMeasures();};G7m.prototype.expandAllData=function(g4m){void Q933.R4d===g4m&&(g4m=!Q933.R4d);this.cube_.slice_.expandAll=!Q933.R4d;this.cube_.slice_.drillAll=g4m;this.cube_.slice_.clearExpands();this.cube_.slice_.clearDrills();x7m.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};G7m.prototype.expandData=function(w4m){this.dataProvider_.expandData(w4m);};G7m.prototype.collapseAllData=function(){this.cube_.slice_.expandAll=!Q933.E4d;this.cube_.slice_.drillAll=!Q933.E4d;this.cube_.slice_.columnAxis.expandedTuples=[];this.cube_.slice_.columnAxis.drilledTuples=[];this.cube_.slice_.rowAxis.expandedTuples=[];this.cube_.slice_.rowAxis.drilledTuples=[];x7m.data_.dataprovider_.DataProviderFactory.dispose();this.refresh();};G7m.prototype.collapseData=function(z4m){this.dataProvider_.collapseData(z4m);};function G7m(){var U7m=j7m.call(this)||this;if(Q933.V2d!=G7m.instance)throw Error(s933.m0d);U7m.cube_=x7m.data_.Cube.getInstance();U7m.state_=new i7m._state.StateManager();return U7m;}G7m.prototype.setOptions=function(Z4m){Q933.V2d!=Z4m.localSettingsUrl&&delete Z4m.localSettingsUrl;Q933.V2d!=Z4m.zoom&&delete Z4m.zoom;i7m._options.OptionsManager.setOptions(Z4m,!Q933.E4d);};G7m.prototype.print=function(t4m){i7m.printing.PrintingManager.getInstance().print(t4m);};G7m.prototype.exportTo=function(e4m,p4m,F4m){var h6I=Q933;void h6I.R4d===p4m&&(p4m=h6I.V2d);void h6I.R4d===F4m&&(F4m=h6I.V2d);i7m._export.ExportManager.exportTo(e4m,p4m,F4m);};G7m.prototype.getFilter=function(N4m){var D6I=Q933;if(D6I.V2d==this.cube_||D6I.V2d==this.cube_.structure_)return[];var Y4m=[];if((N4m=this.cube_.structure_.allHierarchies(!D6I.E4d).getItem(N4m))&&N4m.hasFilter())for(var R4m=N4m.filter,b4m=D6I.R4d;b4m<R4m.length;b4m++){var V4m=R4m.getItemAt(b4m);Y4m.push({caption:V4m.caption,uniqueName:V4m.uniqueName,hierarchyName:N4m.uniqueName,parentMember:V4m.parent.uniqueName});}return Y4m;};G7m.prototype.getFilterProperties=function(E4m){var o6I=Q933;if(o6I.V2d==this.cube_||o6I.V2d==this.cube_.structure_)return[];var M4m={};M4m.type=x7m.data_.consts.FilterType.NONE;M4m.members=[];if((E4m=this.cube_.structure_.allHierarchies(!o6I.E4d).getItem(E4m))&&E4m.hasFilter()){if(E4m.hasMembersFilter()){M4m.type=s933.i7h;for(var C4m=E4m.filterMembers,J4m=o6I.R4d;J4m<C4m.length;J4m++){var k4m=C4m.getItemAt(J4m);M4m.members.push({caption:k4m.caption,uniqueName:k4m.uniqueName,hierarchyName:E4m.uniqueName,parentMember:k4m.parent.uniqueName});}}E4m.hasValuesFilter()&&(M4m.type=E4m.filterType,M4m.quantity=E4m.filterQuantity,M4m.measure=E4m.filterMeasureName,M4m.measureName=E4m.filterMeasureName);}return M4m;};G7m.prototype.setFilter=function(H4m,O4m,A4m){void Q933.R4d===A4m&&(A4m=!Q933.E4d);if(H4m=this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(H4m)){var a4m={};a4m.members=O4m;a4m.negation=A4m;x7m.data_._structure.GenericHierarchy.filterFromObject(a4m,H4m);i7m.JavaScriptHandlers.getInstance().dispatch(new i7m.APIEvent(i7m.JavaScriptHandlers.REPORT_CHANGE));this.cube_.filter();}};G7m.prototype.clearFilter=function(u4m){if(u4m=this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(u4m))u4m.clearFilter(),this.cube_.select();};G7m.prototype.getRows=function(){if(Q933.V2d==this.cube_||Q933.V2d==this.cube_.slice_)return[];for(var l4m=this.cube_.slice_.rows,G4m=[],i4m=Q933.R4d;i4m<l4m.length;i4m++){var x4m=l4m.getItemAt(i4m);G4m.push({caption:x4m.caption,uniqueName:x4m.uniqueName,sort:x4m.sortName,folder:x4m.folder});}return G4m;};G7m.prototype.getColumns=function(){if(Q933.V2d==this.cube_||Q933.V2d==this.cube_.slice_)return[];for(var T4m=this.cube_.slice_.columns,f4m=[],U4m=Q933.R4d;U4m<T4m.length;U4m++){var j4m=T4m.getItemAt(U4m);f4m.push({caption:j4m.caption,uniqueName:j4m.uniqueName,sort:j4m.sortName,folder:j4m.folder});}return f4m;};G7m.prototype.getPages=function(){if(Q933.V2d==this.cube_||Q933.V2d==this.cube_.slice_)return[];for(var n4m=this.cube_.slice_.pages,y4m=[],W4m=Q933.R4d;W4m<n4m.length;W4m++){var c4m=n4m.getItemAt(W4m);y4m.push({caption:c4m.caption,uniqueName:c4m.uniqueName,sort:c4m.sortName,folder:c4m.folder});}return y4m;};G7m.prototype.getMeasures=function(){var g2I=Q933;if(g2I.V2d==this.cube_||g2I.V2d==this.cube_.slice_)return[];var r4m,K4m,m4m,B4m=[];if(i7m._options.OptionsManager.flatView){var I4m=this.cube_.slice_.flatten();for(r4m=g2I.R4d;r4m<I4m.length;r4m++)if(K4m=I4m.getItemAt(r4m),K4m=this.cube_.structure_.hierarchyToMeasure(K4m.uniqueName))m4m=x7m.data_._structure.GenericMeasure.toObject(K4m),m4m.availableAggregations=[],m4m.availableAggregationsCaptions=[],m4m.caption=m4m.grandTotalCaption=K4m.originalCaption,B4m.push(m4m);}else for(I4m=this.cube_.slice_.measures_,r4m=g2I.R4d;r4m<I4m.length;r4m++){K4m=I4m.getItemAt(r4m);m4m=x7m.data_._structure.GenericMeasure.toObject(K4m);var q4m=K4m.availableAggregations;g2I.R4d!=K4m.availableAggregations.length||K4m.calculated||(q4m=x7m.data_.consts.AggregationName.ALL_AGGREGATIONS);m4m.availableAggregations=q4m;m4m.availableAggregationsCaptions=x7m.data_.consts.AggregationName.aggregationCaptions(q4m);B4m.push(m4m);}return B4m;};G7m.prototype.getAllMeasures=function(){var t2I=Q933;if(t2I.V2d==this.cube_||t2I.V2d==this.cube_.structure_)return[];for(var o4m=this.cube_.structure_.measures_,Q6m=[],D4m=t2I.R4d;D4m<o4m.length;D4m++){var h4m=o4m.getItemAt(D4m),v4m=x7m.data_._structure.GenericMeasure.toObject(h4m);if(i7m._options.OptionsManager.flatView)v4m.availableAggregations=[],v4m.availableAggregationsCaptions=[],v4m.caption=v4m.grandTotalCaption=h4m.originalCaption;else{var d4m=h4m.availableAggregations;t2I.R4d!=h4m.availableAggregations.length||h4m.calculated||(d4m=x7m.data_.consts.AggregationName.ALL_AGGREGATIONS);v4m.availableAggregations=d4m;v4m.availableAggregationsCaptions=x7m.data_.consts.AggregationName.aggregationCaptions(d4m);}Q6m.push(v4m);}return Q6m;};G7m.prototype.replaceHierarchyCaption=function(s6m){this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(s6m.name).label=s6m.caption;};G7m.prototype.getAllHierarchies=function(){var G2I=Q933;if(G2I.V2d==this.cube_||G2I.V2d==this.cube_.structure_)return[];for(var S6m=this.cube_.structure_.allHierarchies(!G2I.E4d),L6m=[],X6m=G2I.R4d;X6m<S6m.length;X6m++){var P6m=S6m.getItemAt(X6m);L6m.push({caption:P6m.caption,uniqueName:P6m.uniqueName,folder:P6m.folder});}return L6m;};G7m.prototype.sortValues=function(g6m,z6m,Z6m,w6m){g6m=this.cube_.slice_.axes.getItem(g6m);if(Q933.V2d!=g6m){if(w6m=this.cube_.structure_.measures_.getItem(w6m))g6m.sortType=z6m,g6m.sortTuple=Z6m,g6m.sortMeasure=w6m;this.cube_.sort();}};G7m.prototype.setSort=function(N6m,e6m){var t6m=this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(N6m);if(t6m){var p6m=this.cube_.slice_.axes.getItem(x7m.data_.consts.AxisName.COLUMNS_AXIS),F6m=this.cube_.slice_.axes.getItem(x7m.data_.consts.AxisName.ROWS_AXIS);-Q933.E4d!=p6m.hierarchies.indexOf(t6m.uniqueName)?this.cube_.clearSortValues(F6m):-Q933.E4d!=F6m.hierarchies.indexOf(t6m.uniqueName)&&this.cube_.clearSortValues(p6m);t6m.sortName=e6m;i7m._options.OptionsManager.flatView&&(this.dataProvider_.columnSortType=e6m,this.dataProvider_.columnSortTuple=this.dataProvider_.getColumnTupleByName(t6m.uniqueName),this.dataProvider_.columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(t6m.uniqueName));}this.cube_.select();};G7m.prototype.getSort=function(b6m){var x2I=Q933;if(x2I.V2d==this.cube_||x2I.V2d==this.cube_.structure_)return x2I.s3d;b6m=this.cube_.structure_.allHierarchies(!x2I.E4d).getItem(b6m);return x2I.V2d!=b6m?b6m.sortName:x2I.s3d;};G7m.prototype.setTopX=function(V6m,R6m,Y6m){V6m=this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(V6m);var E6m=i7m._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(Y6m):this.cube_.slice_.measures_.getItem(Y6m);V6m&&E6m&&!V6m.isMeasures&&(V6m.filterType=x7m.data_.consts.FilterType.TOP,V6m.filterQuantity=R6m,V6m.filterMeasureName=Y6m,V6m.sortName=x7m.data_.consts.SortType.UNSORTED,R6m=this.cube_.slice_.findAxis(x7m.data_.consts.AxisName.ROWS_AXIS),Y6m=this.cube_.slice_.findAxis(x7m.data_.consts.AxisName.COLUMNS_AXIS),-Q933.E4d!=R6m.hierarchies.indexOf(V6m.uniqueName)&&(Y6m.sortTuple=[],Y6m.sortType=x7m.data_.consts.SortType.DESC,Y6m.sortMeasure=this.cube_.slice_.measures_.getItem(V6m.filterMeasureName)),-Q933.E4d!=Y6m.hierarchies.indexOf(V6m.uniqueName)&&(R6m.sortTuple=[],R6m.sortType=x7m.data_.consts.SortType.DESC,R6m.sortMeasure=this.cube_.slice_.measures_.getItem(V6m.filterMeasureName)));this.cube_.filter();};G7m.prototype.setBottomX=function(M6m,k6m,J6m){M6m=this.cube_.structure_.allHierarchies(!Q933.E4d).getItem(M6m);var C6m=i7m._options.OptionsManager.flatView?this.cube_.structure_.measures_.getItem(J6m):this.cube_.slice_.measures_.getItem(J6m);M6m&&C6m&&!M6m.isMeasures&&(M6m.filterType=x7m.data_.consts.FilterType.BOTTOM,M6m.filterQuantity=k6m,M6m.filterMeasureName=J6m,M6m.sortName=x7m.data_.consts.SortType.UNSORTED,k6m=this.cube_.slice_.findAxis(x7m.data_.consts.AxisName.ROWS_AXIS),J6m=this.cube_.slice_.findAxis(x7m.data_.consts.AxisName.COLUMNS_AXIS),-Q933.E4d!=k6m.hierarchies.indexOf(M6m.uniqueName)&&(J6m.sortTuple=[],J6m.sortType=x7m.data_.consts.SortType.ASC,J6m.sortMeasure=this.cube_.slice_.measures_.getItem(M6m.filterMeasureName)),-Q933.E4d!=J6m.hierarchies.indexOf(M6m.uniqueName)&&(k6m.sortTuple=[],k6m.sortType=x7m.data_.consts.SortType.ASC,k6m.sortMeasure=this.cube_.slice_.measures_.getItem(M6m.filterMeasureName)));this.cube_.filter();};G7m.prototype.getMembers=function(a6m,H6m,A6m){var A2I=Q933;if(A2I.V2d==this.cube_||A2I.V2d==this.cube_.structure_)return[];a6m=this.cube_.structure_.allHierarchies(!A2I.E4d).getItem(a6m);H6m=[];a6m&&(H6m=this.getAllChildren(a6m.allMember),A2I.V2d!=A6m&&A6m(H6m));return H6m;};G7m.prototype.getChildrenByMember=function(u6m,G6m){for(var i6m=Q933.s3d==G6m?u6m.allMember.children:u6m.findMember(G6m).children,l6m=[],x6m=Q933.R4d;x6m<i6m.length;x6m++){var O6m=i6m.getItemAt(x6m),j6m=O6m.level.num==O6m.hierarchy_.levels_.length-Q933.E4d;O6m.uniqueName!=u6m.allMemberName&&l6m.push({caption:O6m.caption,uniqueName:O6m.uniqueName,hierarchyName:u6m.uniqueName,parentMember:O6m.parent.isAll?l7h:O6m.parent.uniqueName,isLeaf:j6m});}return l6m;};G7m.prototype.getAllChildren=function(T6m){var a2I=Q933;T6m=T6m.hierarchy_.sortChildren(T6m,!a2I.E4d);for(var c6m=[],f6m=a2I.R4d;f6m<T6m.length;f6m++){var U6m=T6m.getItemAt(f6m),n6m=U6m.level.num==U6m.hierarchy_.levels_.length-a2I.E4d,W6m=[];if(a2I.E4d!=U6m.children.length||U6m.children.getItemAt(a2I.R4d).caption!=i7m._labels.Labels.MEMBER_BLANK)W6m=this.getAllChildren(U6m);c6m.push({caption:U6m.caption,uniqueName:U6m.uniqueName,hierarchyName:U6m.hierarchy_.uniqueName,children:W6m,parentMember:U6m.parent.isAll?l7h:U6m.parent.uniqueName,isLeaf:n6m});}return c6m;};G7m.prototype.runQuery=function(y6m){this.state_.runQuery(y6m);};G7m.prototype.getOptions=function(){return i7m._options.OptionsManager.getOptions(!Q933.R4d,!Q933.R4d).toObject();};G7m.prototype.getFormat=function(K6m){K6m=this.cube_&&this.cube_.structure_?this.cube_.structure_.findMeasure(K6m):Q933.V2d;return(K6m?K6m.getFormat():i7m.format.FormatManager.getFormat(Q933.s3d)).toObject(!Q933.R4d);};G7m.prototype.setFormat=function(m6m,B6m){var J2I=Q933;m6m.hasOwnProperty(s933.E1d)||(m6m.name=utils.StringUtils.generateID());try{i7m.format.FormatManager.setFormat(m6m);}catch(q6m){var G7h="Can't add format. Component's configuration requires more parameters.";x7m.uialert(G7h);return;}try{var r6m=this.cube_.structure_.findMeasure(B6m);r6m&&(r6m.format=m6m.name);if(J2I.s3d!=m6m.name&&(J2I.s3d==B6m||J2I.V2d==B6m))for(var I6m=J2I.R4d;I6m<this.cube_.structure_.measures_.length;I6m++)r6m=this.cube_.structure_.measures_.getItemAt(I6m),r6m.format=m6m.name;}catch(v6m){var j7h="List of measures is empty. There is nothing to format.";x7m.uialert(j7h);}};G7m.prototype.refresh=function(){this.cube_.filter();};G7m.prototype.dispose=function(){x7m.data_.dataprovider_.DataProviderFactory.dispose();this.cube_&&this.cube_.dispose();this.state_&&this.state_.dispose();this.dataProvider_=this.state_=this.cube_=Q933.V2d;G7m.instance=Q933.V2d;};G7m.id=U7h;return G7m;}(events.EventDispatcher);i7m.PivotModel=l7m;}(x7m.model||(x7m.model={})));}(pivot||(pivot={})));(function(h6m){(function(d6m){var D6m=function(){return function(Q2m,o6m){void Q933.R4d===o6m&&(o6m=Q933.V2d);this.type=Q2m;this.data=o6m;};}();d6m.APIEvent=D6m;D6m=function(X2m){var c1E=s933;var e4h="beforetoolbarcreated";var F4h="fieldslistclose";var p4h="fieldslistopen";var t4h="filteropen";var Z4h="celldoubleclick";var z4h="cellclick";var L4h="ready";var P4h="printstart";var s4h="exportstart";var Q4h="reportchange";var o7h="reportcomplete";var d7h="localizationerror";var D7h="localizationloaded";var h7h="loadinglocalization";var v7h="queryerror";var q7h="querycomplete";var B7h="runningquery";var I7h="datachanged";var r7h="datafilecancelled";var m7h="dataerror";var K7h="dataloaded";var y7h="loadingdata";var n7h="reportfilecancelled";var W7h="reportfileerror";var c7h="reportfileloaded";var f7h="loadingreportfile";var T7h="openingreportfile";__extends(s2m,X2m);s2m.getInstance=function(){Q933.V2d==s2m.instance&&(s2m.instance=new s2m());return s2m.instance;};s2m.dispose=function(){s2m.instance=Q933.V2d;};s2m.toTypes=function(S2m){return s2m.isValidType(S2m)?S2m:Q933.s3d;};s2m.isValidType=function(L2m){return-Q933.E4d<s2m.types.indexOf(L2m);};s2m.prototype.addEventListener=function(g2m,z2m,w2m){void Q933.R4d===w2m&&(w2m=Q933.R4d);g2m=s2m.toTypes(g2m);s2m.isValidType(g2m)&&X2m.prototype.addEventListener.call(this,g2m,z2m,w2m);};function s2m(){var P2m=this,P2m=X2m.call(this)||this;if(Q933.V2d!=s2m.instance)throw Error(c1E.m0d);return P2m;}s2m.prototype.removeEventListener=function(Z2m,t2m){Z2m=s2m.toTypes(Z2m);s2m.isValidType(Z2m)&&X2m.prototype.removeEventListener.call(this,Z2m,t2m);};s2m.setHandlers=function(p2m){s2m.setHandler(s2m.READY,p2m[s2m.READY]);s2m.setHandler(s2m.OPENING_REPORT_FILE,p2m[s2m.OPENING_REPORT_FILE]);s2m.setHandler(s2m.LOADING_REPORT_FILE,p2m[s2m.LOADING_REPORT_FILE]);s2m.setHandler(s2m.REPORT_FILE_LOADED,p2m[s2m.REPORT_FILE_LOADED]);s2m.setHandler(s2m.REPORT_FILE_ERROR,p2m[s2m.REPORT_FILE_ERROR]);s2m.setHandler(s2m.REPORT_FILE_CANCELLED,p2m[s2m.REPORT_FILE_CANCELLED]);s2m.setHandler(s2m.REPORT_CHANGE,p2m[s2m.REPORT_CHANGE]);s2m.setHandler(s2m.LOADING_DATA,p2m[s2m.LOADING_DATA]);s2m.setHandler(s2m.DATA_LOADED,p2m[s2m.DATA_LOADED]);s2m.setHandler(s2m.DATA_ERROR,p2m[s2m.DATA_ERROR]);s2m.setHandler(s2m.DATA_FILE_CANCELLED,p2m[s2m.DATA_FILE_CANCELLED]);s2m.setHandler(s2m.DATA_CHANGED,p2m[s2m.DATA_CHANGED]);s2m.setHandler(s2m.RUNNING_QUERY,p2m[s2m.RUNNING_QUERY]);s2m.setHandler(s2m.QUERY_COMPLETE,p2m[s2m.QUERY_COMPLETE]);s2m.setHandler(s2m.QUERY_ERROR,p2m[s2m.QUERY_ERROR]);s2m.setHandler(s2m.LOADING_LOCALIZATION,p2m[s2m.LOADING_LOCALIZATION]);s2m.setHandler(s2m.LOCALIZATION_LOADED,p2m[s2m.LOCALIZATION_LOADED]);s2m.setHandler(s2m.LOCALIZATION_ERROR,p2m[s2m.LOCALIZATION_ERROR]);s2m.setHandler(s2m.REPORT_COMPLETE,p2m[s2m.REPORT_COMPLETE]);s2m.setHandler(s2m.PRINT_START,p2m[s2m.PRINT_START]);s2m.setHandler(s2m.PRINT_COMPLETE,p2m[s2m.PRINT_COMPLETE]);s2m.setHandler(s2m.EXPORT_START,p2m[s2m.EXPORT_START]);s2m.setHandler(s2m.EXPORT_COMPLETE,p2m[s2m.EXPORT_COMPLETE]);s2m.setHandler(s2m.UPDATE,p2m[s2m.UPDATE]);s2m.setHandler(s2m.BEFORE_GRID_DRAW,p2m[s2m.BEFORE_GRID_DRAW]);s2m.setHandler(s2m.AFTER_GRID_DRAW,p2m[s2m.AFTER_GRID_DRAW]);s2m.setHandler(s2m.CELL_CLICK,p2m[s2m.CELL_CLICK]);s2m.setHandler(s2m.CELL_DOUBLE_CLICK,p2m[s2m.CELL_DOUBLE_CLICK]);s2m.setHandler(s2m.FILTER_OPEN,p2m[s2m.FILTER_OPEN]);s2m.setHandler(s2m.FILDS_LIST_OPEN,p2m[s2m.FILDS_LIST_OPEN]);s2m.setHandler(s2m.FILDS_LIST_CLOSE,p2m[s2m.FILDS_LIST_CLOSE]);s2m.setHandler(s2m.BEFORE_TOOLBAR_CREATED,p2m[s2m.BEFORE_TOOLBAR_CREATED]);};s2m.setHandler=function(e2m,F2m){if(F2m){Q933.Y3d==typeof F2m&&(F2m=s2m.getFunctionByName(F2m));var N2m=F2m;e2m!=s2m.BEFORE_TOOLBAR_CREATED&&e2m!=s2m.BEFORE_GRID_DRAW&&e2m!=s2m.AFTER_GRID_DRAW&&(N2m=function(){for(var V2m=[],b2m=Q933.R4d;b2m<arguments.length;b2m++)V2m[b2m]=arguments[b2m];utils.fmSetTimeout(function(){F2m.apply(Q933.V2d,V2m);},Q933.E4d);});s2m.getInstance().addEventListener(e2m,N2m);}};s2m.getFunctionByName=function(J2m,Y2m){var Z2I=Q933;void Z2I.R4d===Y2m&&(Y2m=window);for(var R2m=J2m.split(c1E.c8d),M2m=R2m.pop(),E2m=Z2I.R4d;E2m<R2m.length;E2m++){if(Z2I.V2d==Y2m)return Z2I.V2d;Y2m=Y2m[R2m[E2m]];}return Y2m[M2m];};s2m.OPENING_REPORT_FILE=T7h;s2m.LOADING_REPORT_FILE=f7h;s2m.REPORT_FILE_LOADED=c7h;s2m.REPORT_FILE_ERROR=W7h;s2m.REPORT_FILE_CANCELLED=n7h;s2m.LOADING_DATA=y7h;s2m.DATA_LOADED=K7h;s2m.DATA_ERROR=m7h;s2m.DATA_FILE_CANCELLED=r7h;s2m.DATA_CHANGED=I7h;s2m.RUNNING_QUERY=B7h;s2m.QUERY_COMPLETE=q7h;s2m.QUERY_ERROR=v7h;s2m.LOADING_LOCALIZATION=h7h;s2m.LOCALIZATION_LOADED=D7h;s2m.LOCALIZATION_ERROR=d7h;s2m.REPORT_COMPLETE=o7h;s2m.REPORT_CHANGE=Q4h;s2m.EXPORT_START=s4h;s2m.EXPORT_COMPLETE=c1E.X4h;s2m.PRINT_START=P4h;s2m.PRINT_COMPLETE=c1E.S4h;s2m.READY=L4h;s2m.UPDATE=c1E.x7h;s2m.BEFORE_GRID_DRAW=c1E.g4h;s2m.AFTER_GRID_DRAW=c1E.w4h;s2m.CELL_CLICK=z4h;s2m.CELL_DOUBLE_CLICK=Z4h;s2m.FILTER_OPEN=t4h;s2m.FILDS_LIST_OPEN=p4h;s2m.FILDS_LIST_CLOSE=F4h;s2m.BEFORE_TOOLBAR_CREATED=e4h;s2m.types=[s2m.READY,s2m.OPENING_REPORT_FILE,s2m.LOADING_REPORT_FILE,s2m.REPORT_FILE_LOADED,s2m.REPORT_FILE_ERROR,s2m.REPORT_FILE_CANCELLED,s2m.LOADING_DATA,s2m.DATA_LOADED,s2m.DATA_ERROR,s2m.DATA_FILE_CANCELLED,s2m.DATA_CHANGED,s2m.RUNNING_QUERY,s2m.QUERY_COMPLETE,s2m.QUERY_ERROR,s2m.LOADING_LOCALIZATION,s2m.LOCALIZATION_LOADED,s2m.LOCALIZATION_ERROR,s2m.REPORT_COMPLETE,s2m.REPORT_CHANGE,s2m.PRINT_START,s2m.PRINT_COMPLETE,s2m.EXPORT_START,s2m.EXPORT_COMPLETE,s2m.UPDATE,s2m.BEFORE_GRID_DRAW,s2m.AFTER_GRID_DRAW,s2m.CELL_CLICK,s2m.CELL_DOUBLE_CLICK,s2m.FILTER_OPEN,s2m.FILDS_LIST_OPEN,s2m.FILDS_LIST_CLOSE,s2m.BEFORE_TOOLBAR_CREATED];return s2m;}(events.EventDispatcher);d6m.JavaScriptHandlers=D6m;}(h6m.model||(h6m.model={})));}(pivot||(pivot={})));(function(k2m){(function(a2m){var C2m=function(){H2m.valid=function(A2m){var z2I=Q933;var M4h="onerror";var E4h="onmouseover";var R4h="expression(";var Y4h="<object";var V4h="<iframe";var b4h="javascript:";var N4h="<script";if(void z2I.R4d==A2m)return!z2I.R4d;A2m=A2m.toLowerCase();return-z2I.E4d==A2m.indexOf(N4h)&&-z2I.E4d==A2m.indexOf(b4h)&&-z2I.E4d==A2m.indexOf(V4h)&&-z2I.E4d==A2m.indexOf(Y4h)&&-z2I.E4d==A2m.indexOf(R4h)&&-z2I.E4d==A2m.indexOf(E4h)&&-z2I.E4d==A2m.indexOf(M4h);};H2m.validate=function(u2m,O2m){void Q933.R4d===O2m&&(O2m=!Q933.E4d);return utils.StringUtils.escapeHtml(u2m,O2m);};function H2m(){}return H2m;}();a2m.XSSCheck=C2m;}(k2m.model||(k2m.model={})));}(pivot||(pivot={})));(function(x2m){(function(i2m){(function(l2m){var G2m=function(){j2m.getInstance=function(){Q933.V2d==j2m.instance&&(j2m.instance=new j2m());return j2m.instance;};j2m.dispose=function(){j2m.instance=Q933.V2d;};j2m.prototype.getData=function(){var U2m=x2m.data_.dataprovider_.DataProviderFactory.getDataProvider();return this.composeData(U2m);};function j2m(){}j2m.prototype.selectData=function(c2m,W2m){var T2m=x2m.data_.Cube.getInstance(),f2m=x2m.data_.LocalDataStorage.clone(T2m.localDataStorage);f2m.slice_=c2m;f2m.filter();f2m.select();T2m=new x2m.data_.dataprovider_.ChartDataProvider();T2m.reset();T2m.dataStorage=f2m;T2m.slice=c2m;T2m.load();f2m=this.composeData(T2m);W2m(f2m.toObject());T2m.reset();};j2m.prototype.composeData=function(K2m){var W5i=Q933;var A4h="c";var H4h="r";var a4h="Name";var C4h="v";var I2m=new l2m.OutputDataValueObject();if(void W5i.R4d==K2m.slice)return I2m;I2m.slice=K2m.slice.toObject();I2m.meta={vAmount:K2m.slice.measures_.length,formats:[]};var Q3m=W5i.R4d,o2m=W5i.R4d;if(K2m.dataLoaded&&!K2m.isEmpty){var X3m,s3m;X3m=W5i.f3d==i2m._options.OptionsManager.showGrandTotals||s933.J4h==i2m._options.OptionsManager.showGrandTotals?K2m.dataWidth-W5i.E4d:K2m.dataWidth;s3m=W5i.f3d==i2m._options.OptionsManager.showGrandTotals||s933.k4h==i2m._options.OptionsManager.showGrandTotals?K2m.dataHeight-W5i.E4d:K2m.dataHeight;var q2m,h2m,n2m=NaN,m2m=W5i.s3d,m2m=W5i.s3d,B2m;I2m.data=[];q2m=[];h2m=[];B2m={};for(var y2m=W5i.R4d;y2m<K2m.measures.length;y2m++){n2m=K2m.measures.getItemAt(y2m);I2m.meta[C4h+y2m+a4h]=n2m.caption;var D2m=i2m.PivotModel.getInstance().getFormat(n2m.uniqueName);I2m.meta.formats.push(D2m);n2m=K2m.getValue(q2m,h2m,n2m);B2m[C4h+y2m]=n2m;}I2m.data.push(B2m);for(D2m=W5i.R4d;D2m<s3m;D2m++){B2m={};q2m=K2m.getRowTuple(D2m);Q3m=Math.max(Q3m,q2m.length);h2m=[];y2m=K2m.rowsOnly;for(n2m=W5i.R4d;n2m<q2m.length;n2m++){var v2m=n2m,m2m=y2m.getItemAt(v2m),r2m=q2m[n2m],r2m=m2m.members.getItemAt(r2m);I2m.meta[H4h+v2m+a4h]=m2m.caption;m2m=this.getDataFromMember(r2m);B2m[H4h+v2m]=m2m;}for(y2m=W5i.R4d;y2m<K2m.measures.length;y2m++)n2m=K2m.measures.getItemAt(y2m),n2m=K2m.getValue(q2m,h2m,n2m),B2m[C4h+y2m]=n2m;I2m.data.push(B2m);}for(var d2m=W5i.R4d;d2m<X3m;d2m++){B2m={};q2m=[];h2m=K2m.getColumnTuple(d2m);o2m=Math.max(o2m,h2m.length);y2m=K2m.columnsOnly;for(n2m=W5i.R4d;n2m<h2m.length;n2m++)v2m=n2m,m2m=y2m.getItemAt(v2m),r2m=h2m[n2m],r2m=m2m.members.getItemAt(r2m),I2m.meta[A4h+v2m+a4h]=m2m.caption,m2m=this.getDataFromMember(r2m),B2m[A4h+v2m]=m2m;for(y2m=W5i.R4d;y2m<K2m.measures.length;y2m++)n2m=K2m.measures.getItemAt(y2m),n2m=K2m.getValue(q2m,h2m,n2m),B2m[C4h+y2m]=n2m;I2m.data.push(B2m);}for(D2m=W5i.R4d;D2m<s3m;D2m++)for(q2m=K2m.getRowTuple(D2m),Q3m=Math.max(Q3m,q2m.length),d2m=W5i.R4d;d2m<X3m;d2m++){h2m=K2m.getColumnTuple(d2m);o2m=Math.max(o2m,h2m.length);B2m={};y2m=K2m.rowsOnly;for(n2m=W5i.R4d;n2m<q2m.length;n2m++)v2m=n2m,m2m=y2m.getItemAt(v2m),r2m=q2m[n2m],r2m=m2m.members.getItemAt(r2m),m2m=this.getDataFromMember(r2m),B2m[H4h+v2m]=m2m;y2m=K2m.columnsOnly;for(n2m=W5i.R4d;n2m<h2m.length;n2m++)v2m=n2m,m2m=y2m.getItemAt(v2m),r2m=h2m[n2m],r2m=m2m.members.getItemAt(r2m),m2m=this.getDataFromMember(r2m),B2m[A4h+v2m]=m2m;for(y2m=W5i.R4d;y2m<K2m.measures.length;y2m++)n2m=K2m.measures.getItemAt(y2m),n2m=K2m.getValue(q2m,h2m,n2m),B2m[C4h+y2m]=n2m;I2m.data.push(B2m);}}I2m.meta.rAmount=Q3m;I2m.meta.cAmount=o2m;return I2m;};j2m.prototype.getDataFromMember=function(P3m){return P3m.level.type==x2m.data_.types.LevelType.NUMBER||P3m.level.type==x2m.data_.types.LevelType.TIME?P3m.levelOrdinal:P3m.level.type==x2m.data_.types.LevelType.TIME_DATE?Date.parse(P3m.caption):P3m.level.type==x2m.data_.types.LevelType.DAY?isNaN(parseFloat(P3m.caption))?P3m.caption:parseFloat(P3m.caption):P3m.caption;};return j2m;}();l2m.IntegrationDataManager=G2m;}(i2m.integration||(i2m.integration={})));}(x2m.model||(x2m.model={})));}(pivot||(pivot={})));(function(S3m){(function(L3m){(function(w3m){var g3m=function(){z3m.prototype.toObject=function(){var t3m={},Z3m;for(Z3m in this)s933.O4h!=Z3m&&s933.V7h!==typeof this[Z3m]&&(t3m[Z3m]=this[Z3m]);return t3m;};function z3m(){this.slice={};this.meta={};this.data=[];}return z3m;}();w3m.OutputDataValueObject=g3m;}(L3m.integration||(L3m.integration={})));}(S3m.model||(S3m.model={})));}(pivot||(pivot={})));(function(p3m){(function(F3m){(function(N3m){var e3m=function(){var u4h="WebDataRocks Reporting Tool";b3m.DEFAULT_EXPORT_TITLE=u4h;function b3m(){}return b3m;}();N3m.Labels=e3m;}(F3m._labels||(F3m._labels={})));}(p3m.model||(p3m.model={})));}(pivot||(pivot={})));(function(V3m){(function(Y3m){(function(R3m){var E3m=function(){M3m.prototype.load=function(k3m,C3m,a3m){var J3m=this;this.successHandler=C3m;this.errorHandler=a3m;this.xhr=new XMLHttpRequest();this.xhr.open(s933.J0d,k3m,!Q933.R4d);this.xhr.onerror=function(H3m){return J3m.onError(H3m);};this.xhr.onreadystatechange=function(A3m){return J3m.onReadyStateChange(A3m);};this.xhr.send();};M3m.prototype.onReadyStateChange=function(O3m){Q933.V2d!=this.xhr&&Q933.k4d===this.xhr.readyState&&(Q933.j6d===this.xhr.status?this.success():this.errorHandler());};function M3m(){}M3m.prototype.success=function(){if(this.xhr.response&&Q933.V2d==this.xhr.response.error){if(Q933.V2d!=this.successHandler)this.onLoaded(this.xhr.response);}else this.errorHandler&&this.errorHandler();};M3m.prototype.onError=function(u3m){Q933.V2d!=this.errorHandler&&this.errorHandler();};M3m.prototype.onLoaded=function(i3m){try{var x3m=JSON.parse(i3m);this.successHandler(R3m.LabelsValueObject.fromObject(x3m));}catch(l3m){console.error(l3m),this.errorHandler();}};return M3m;}();R3m.LabelsLoader=E3m;}(Y3m._labels||(Y3m._labels={})));}(V3m.model||(V3m.model={})));}(pivot||(pivot={})));(function(G3m){(function(j3m){(function(U3m){var T3m=function(){f3m.getInstance=function(){Q933.V2d==f3m.instance&&(f3m.instance=new f3m());return f3m.instance;};f3m.dispose=function(){var i5i=Q933;U3m.Labels.MONTHS_LABELS=i5i.V2d;U3m.Labels.MONTHS_LABELS_SHORT=i5i.V2d;U3m.Labels.WEEKDAYS_LABELS=i5i.V2d;U3m.Labels.WEEKDAYS_LABELS_SHORT=i5i.V2d;U3m.Labels.QUARTER_LABELS=i5i.V2d;f3m.instance.defaults=i5i.V2d;f3m.instance.globals=i5i.V2d;f3m.instance.reports=i5i.V2d;f3m.instance=i5i.V2d;};f3m.prototype.getReportLocalization=function(){return this.reports;};function f3m(){if(Q933.V2d!=f3m.instance)throw Error(s933.m0d);this.defaults=new U3m.LabelsValueObject();this.defaults.setDefaults();}f3m.prototype.setReportLocalization=function(c3m){this.reports!=c3m&&(this.reports=c3m,this.updateLabels());};f3m.prototype.updateLabels=function(){var I5h="weekdaysShort/seventh";var r5h="weekdaysShort/sixth";var m5h="weekdaysShort/fifth";var K5h="weekdaysShort/fourth";var y5h="weekdaysShort/third";var n5h="weekdaysShort/second";var W5h="weekdaysShort/first";var c5h="weekdays/seventh";var f5h="weekdays/sixth";var T5h="weekdays/fifth";var U5h="weekdays/fourth";var j5h="weekdays/third";var G5h="weekdays/second";var l5h="weekdays/first";var i5h="monthsShort/december";var x5h="monthsShort/november";var u5h="monthsShort/october";var O5h="monthsShort/september";var A5h="monthsShort/august";var H5h="monthsShort/july";var a5h="monthsShort/june";var C5h="monthsShort/may";var k5h="monthsShort/april";var J5h="monthsShort/march";var M5h="monthsShort/february";var E5h="monthsShort/january";var R5h="months/december";var Y5h="months/november";var V5h="months/october";var b5h="months/september";var N5h="months/august";var e5h="months/july";var F5h="months/june";var p5h="months/may";var t5h="months/april";var Z5h="months/march";var z5h="months/february";var w5h="months/january";var g5h="quarters/q4";var L5h="quarters/q3";var S5h="quarters/q2";var P5h="quarters/q1";var X5h="date/day";var s5h="date/month";var Q5h="date/quarter";var o3h="date/year";var d3h="contextMenu/sortRowDesc";var D3h="contextMenu/sortRowAsc";var h3h="contextMenu/sortColumnDesc";var v3h="contextMenu/sortColumnAsc";var q3h="contextMenu/openFilter";var B3h="contextMenu/expand";var I3h="contextMenu/drillThrough";var r3h="contextMenu/collapse";var m3h="contextMenu/clearSorting";var K3h="buttons/no";var y3h="buttons/yes";var n3h="buttons/select";var W3h="buttons/clear";var c3h="buttons/save";var f3h="buttons/cancel";var T3h="buttons/apply";var U3h="buttons/ok";var j3h="messages/noGoogleClientKey";var G3h="messages/cantExpandTitle";var l3h="messages/cantExpand";var i3h="messages/tooManyColumnsInClassicMode";var x3h="messages/csvHeaderParsingError";var u3h="messages/invalidReportFormat";var O3h="messages/unknownError";var A3h="messages/ocsvIncompatible";var H3h="messages/dataWasUpdated";var a3h="messages/saveDataToFile";var C3h="messages/noDataAvailable";var k3h="messages/excelExportLimitation";var J3h="messages/excelPdfExportLimitation";var M3h="messages/wrongFormulaFormat";var E3h="messages/invalidJSONdata";var R3h="messages/inappropriateFileFormat";var Y3h="messages/unableTwoFileBrowsingSessions";var V3h="messages/unableToOpenFile";var b3h="messages/dataStreamError";var N3h="messages/invalidDataSource";var e3h="messages/inputReportName";var F3h="messages/inputNewName";var p3h="messages/loadReportFromFile";var t3h="messages/saveReportToFile";var Z3h="messages/cantSaveToClipboard";var z3h="messages/cantSaveFile";var w3h="messages/uploading";var g3h="messages/pagesWereGenerated";var L3h="messages/pleaseWait";var S3h="messages/generatingPDF";var P3h="messages/exportError";var X3h="messages/exportProgress";var s3h="messages/exportComplete";var Q3h="messages/fullscreen";var o2h="messages/loadingLevels";var d2h="messages/loadingMembers";var D2h="messages/loadingMeasures";var h2h="messages/loadingHierarchies";var v2h="messages/loadingDimensions";var q2h="messages/saving";var B2h="messages/analyzingRecords";var I2h="messages/analyzingProgress";var r2h="messages/analyzing";var m2h="messages/progressUnknown";var K2h="messages/progress";var y2h="messages/waiting";var n2h="messages/loadingData";var W2h="messages/loadingConfiguration";var c2h="messages/loading";var f2h="messages/reportFileType";var T2h="messages/confirmation";var U2h="messages/browse";var j2h="messages/limitation";var G2h="messages/warning";var l2h="messages/error";var i2h="aggregations/none/caption";var x2h="aggregations/index/grandTotalCaption";var u2h="aggregations/index/totalCaption";var O2h="aggregations/index/caption";var A2h="aggregations/percentOfRow/grandTotalCaption";var H2h="aggregations/percentOfRow/totalCaption";var a2h="aggregations/percentOfRow/caption";var C2h="aggregations/percentOfColumn/grandTotalCaption";var k2h="aggregations/percentOfColumn/totalCaption";var J2h="aggregations/percentOfColumn/caption";var M2h="aggregations/percent/grandTotalCaption";var E2h="aggregations/percent/totalCaption";var R2h="aggregations/percent/caption";var Y2h="aggregations/max/grandTotalCaption";var V2h="aggregations/max/totalCaption";var b2h="aggregations/max/caption";var N2h="aggregations/min/grandTotalCaption";var e2h="aggregations/min/totalCaption";var F2h="aggregations/min/caption";var p2h="aggregations/product/grandTotalCaption";var t2h="aggregations/product/totalCaption";var Z2h="aggregations/product/caption";var z2h="aggregations/average/grandTotalCaption";var w2h="aggregations/average/totalCaption";var g2h="aggregations/average/caption";var L2h="aggregations/percentDifference/grandTotalCaption";var S2h="aggregations/percentDifference/totalCaption";var P2h="aggregations/percentDifference/caption";var X2h="aggregations/difference/grandTotalCaption";var s2h="aggregations/difference/totalCaption";var Q2h="aggregations/difference/caption";var o6h="aggregations/distinctCount/grandTotalCaption";var d6h="aggregations/distinctCount/totalCaption";var D6h="aggregations/distinctCount/caption";var h6h="aggregations/count/grandTotalCaption";var v6h="aggregations/count/totalCaption";var q6h="aggregations/count/caption";var B6h="aggregations/sum/grandTotalCaption";var I6h="aggregations/sum/totalCaption";var r6h="aggregations/sum/caption";var m6h="tooltips/close";var K6h="tooltips/sortedAscIcon";var y6h="tooltips/sortedDescIcon";var n6h="tooltips/sortIcon";var W6h="tooltips/drillUp";var c6h="tooltips/drillDown";var f6h="tooltips/collapseIcon";var T6h="tooltips/expandIcon";var U6h="tooltips/filtered";var j6h="tooltips/filterIcon";var G6h="tooltips/headerFit";var l6h="tooltips/headerResize";var i6h="tooltips/column";var x6h="tooltips/row";var u6h="grid/dateInvalidCaption";var O6h="grid/blankMember";var A6h="grid/grandTotal";var H6h="grid/totals";var a6h="grid/total";var C6h="calculatedView/allValues";var k6h="calculatedView/header";var J6h="calculatedView/removeValueMessage";var M6h="calculatedView/removeValueTitle";var E6h="calculatedView/removeValue";var R6h="calculatedView/calculateIndividualValues";var Y6h="calculatedView/formulaPrompt";var V6h="calculatedView/formula";var b6h="calculatedView/measureName";var N6h="calculatedView/measureBox";var e6h="calculatedView/title";var F6h="drillThrough/value";var p6h="drillThrough/column";var t6h="drillThrough/row";var Z6h="drillThrough/title";var z6h="filter/sort";var w6h="filter/amountFound";var g6h="filter/amountSelected";var L6h="filter/search";var S6h="filter/clearTopX";var P6h="filter/topX";var X6h="filter/descSort";var s6h="filter/ascSort";var Q6h="filter/bottom";var o4h="filter/top";var d4h="filter/selectAllResults";var D4h="filter/selectAll";var h4h="filter/multipleItems";var v4h="filter/all";var q4h="fieldsList/subtitle";var B4h="fieldsList/title";var I4h="fieldsList/dropField";var r4h="fieldsList/filters";var m4h="fieldsList/columns";var K4h="fieldsList/rows";var y4h="fieldsList/allFields";var n4h="fieldsList/formulasGroupName";var W4h="fieldsList/collapseAll";var c4h="fieldsList/expandAll";var f4h="fieldsList/addCalculatedMeasure";var T4h="fieldsList/values";var U4h="fieldsList/measureBox";var j4h="fieldsList/columnBox";var G4h="fieldsList/rowBox";var l4h="fieldsList/filterBox";var i4h="fieldsList/hierarchyBox";var x4h="fieldsList/flatHierarchyBox";U3m.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX=this.getLabel(x4h);U3m.Labels.FIELDS_LIST_HIERARCHY_BOX=this.getLabel(i4h);U3m.Labels.FIELDS_LIST_FILTER_BOX=this.getLabel(l4h);U3m.Labels.FIELDS_LIST_ROW_BOX=this.getLabel(G4h);U3m.Labels.FIELDS_LIST_COLUMN_BOX=this.getLabel(j4h);U3m.Labels.FIELDS_LIST_MEASURE_BOX=this.getLabel(U4h);U3m.Labels.FIELDS_LIST_VALUES=this.getLabel(T4h);U3m.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE=this.getLabel(f4h);U3m.Labels.FIELDS_LIST_EXPAND_ALL=this.getLabel(c4h);U3m.Labels.FIELDS_LIST_COLLAPSE_ALL=this.getLabel(W4h);U3m.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME=this.getLabel(n4h);U3m.Labels.FIELDS_LIST_ALL_FIELDS=this.getLabel(y4h);U3m.Labels.FIELDS_LIST_ROWS=this.getLabel(K4h);U3m.Labels.FIELDS_LIST_COLUMNS=this.getLabel(m4h);U3m.Labels.FIELDS_LIST_FILTERS=this.getLabel(r4h);U3m.Labels.FIELDS_LIST_DROP_FIELD=this.getLabel(I4h);U3m.Labels.FIELDS_LIST_TITLE=this.getLabel(B4h);U3m.Labels.FIELDS_LIST_SUBTITLE=this.getLabel(q4h);U3m.Labels.FILTER_ALL=this.getLabel(v4h);U3m.Labels.FILTER_MULTIPLE_ITEMS=this.getLabel(h4h);U3m.Labels.FILTER_SELECT_ALL=this.getLabel(D4h);U3m.Labels.FILTER_SELECT_ALL_RESULTS=this.getLabel(d4h);U3m.Labels.FILTER_TOP=this.getLabel(o4h);U3m.Labels.FILTER_BOTTOM=this.getLabel(Q6h);U3m.Labels.FILTER_ASC_SORT=this.getLabel(s6h);U3m.Labels.FILTER_DESC_SORT=this.getLabel(X6h);U3m.Labels.FILTER_TOP_X=this.getLabel(P6h);U3m.Labels.FILTER_TOP_X_CLEAR=this.getLabel(S6h);U3m.Labels.FILTER_SEARCH=this.getLabel(L6h);U3m.Labels.FILTER_AMOUNT_SELECTED=this.getLabel(g6h);U3m.Labels.FILTER_AMOUNT_FOUND=this.getLabel(w6h);U3m.Labels.FILTER_SORT=this.getLabel(z6h);U3m.Labels.DRILL_THROUGH_TITLE=this.getLabel(Z6h);U3m.Labels.DRILL_THROUGH_ROW=this.getLabel(t6h);U3m.Labels.DRILL_THROUGH_COLUMN=this.getLabel(p6h);U3m.Labels.DRILL_THROUGH_VALUE=this.getLabel(F6h);U3m.Labels.CALCULATED_VIEW_TITLE=this.getLabel(e6h);U3m.Labels.CALCULATED_VIEW_MEASURE_BOX=this.getLabel(N6h);U3m.Labels.CALCULATED_VIEW_MEASURE_NAME=this.getLabel(b6h);U3m.Labels.CALCULATED_VIEW_FORMULA=this.getLabel(V6h);U3m.Labels.CALCULATED_VIEW_FORMULA_PROMPT=this.getLabel(Y6h);U3m.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES=this.getLabel(R6h);U3m.Labels.CALCULATED_VIEW_REMOVE_VALUE=this.getLabel(E6h);U3m.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE=this.getLabel(M6h);U3m.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE=this.getLabel(J6h);U3m.Labels.CALCULATED_VIEW_HEADER=this.getLabel(k6h);U3m.Labels.CALCULATED_VIEW_ALL_VALUES=this.getLabel(C6h);U3m.Labels.GRID_TOTAL=this.getLabel(a6h);U3m.Labels.GRID_TOTALS=this.getLabel(H6h);U3m.Labels.GRID_GRAND_TOTAL=this.getLabel(A6h);U3m.Labels.MEMBER_BLANK=this.getLabel(O6h);U3m.Labels.INVALID_DATE=this.getLabel(u6h);U3m.Labels.TOOLTIPS_ROW=this.getLabel(x6h);U3m.Labels.TOOLTIPS_COLUMN=this.getLabel(i6h);U3m.Labels.TOOLTIPS_HEADER_RESIZE=this.getLabel(l6h);U3m.Labels.TOOLTIPS_HEADER_FIT=this.getLabel(G6h);U3m.Labels.TOOLTIPS_FILTER_ICON=this.getLabel(j6h);U3m.Labels.TOOLTIPS_FILTERED=this.getLabel(U6h);U3m.Labels.TOOLTIPS_EXPAND_ICON=this.getLabel(T6h);U3m.Labels.TOOLTIPS_COLLAPSE_ICON=this.getLabel(f6h);U3m.Labels.TOOLTIPS_DRILL_DOWN=this.getLabel(c6h);U3m.Labels.TOOLTIPS_DRILL_UP=this.getLabel(W6h);U3m.Labels.TOOLTIPS_SORT_ICON=this.getLabel(n6h);U3m.Labels.TOOLTIPS_SORTED_DESC=this.getLabel(y6h);U3m.Labels.TOOLTIPS_SORTED_ASC=this.getLabel(K6h);U3m.Labels.TOOLTIPS_CLOSE=this.getLabel(m6h);U3m.Labels.SUM_CAPTION=this.getLabel(r6h);U3m.Labels.SUM_TOTAL_CAPTION=this.getLabel(I6h);U3m.Labels.SUM_GRAND_TOTAL_CAPTION=this.getLabel(B6h);U3m.Labels.COUNT_CAPTION=this.getLabel(q6h);U3m.Labels.COUNT_TOTAL_CAPTION=this.getLabel(v6h);U3m.Labels.COUNT_GRAND_TOTAL_CAPTION=this.getLabel(h6h);U3m.Labels.DISTINCT_COUNT_CAPTION=this.getLabel(D6h);U3m.Labels.DISTINCT_COUNT_TOTAL_CAPTION=this.getLabel(d6h);U3m.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION=this.getLabel(o6h);U3m.Labels.DIFFERENCE_CAPTION=this.getLabel(Q2h);U3m.Labels.DIFFERENCE_TOTAL_CAPTION=this.getLabel(s2h);U3m.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(X2h);U3m.Labels.PERCENT_DIFFERENCE_CAPTION=this.getLabel(P2h);U3m.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION=this.getLabel(S2h);U3m.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION=this.getLabel(L2h);U3m.Labels.AVERAGE_CAPTION=this.getLabel(g2h);U3m.Labels.AVERAGE_TOTAL_CAPTION=this.getLabel(w2h);U3m.Labels.AVERAGE_GRAND_TOTAL_CAPTION=this.getLabel(z2h);U3m.Labels.PRODUCT_CAPTION=this.getLabel(Z2h);U3m.Labels.PRODUCT_TOTAL_CAPTION=this.getLabel(t2h);U3m.Labels.PRODUCT_GRAND_TOTAL_CAPTION=this.getLabel(p2h);U3m.Labels.MIN_CAPTION=this.getLabel(F2h);U3m.Labels.MIN_TOTAL_CAPTION=this.getLabel(e2h);U3m.Labels.MIN_GRAND_TOTAL_CAPTION=this.getLabel(N2h);U3m.Labels.MAX_CAPTION=this.getLabel(b2h);U3m.Labels.MAX_TOTAL_CAPTION=this.getLabel(V2h);U3m.Labels.MAX_GRAND_TOTAL_CAPTION=this.getLabel(Y2h);U3m.Labels.PERCENT_CAPTION=this.getLabel(R2h);U3m.Labels.PERCENT_TOTAL_CAPTION=this.getLabel(E2h);U3m.Labels.PERCENT_GRAND_TOTAL_CAPTION=this.getLabel(M2h);U3m.Labels.PERCENT_COLUMN_CAPTION=this.getLabel(J2h);U3m.Labels.PERCENT_COLUMN_TOTAL_CAPTION=this.getLabel(k2h);U3m.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION=this.getLabel(C2h);U3m.Labels.PERCENT_ROW_CAPTION=this.getLabel(a2h);U3m.Labels.PERCENT_ROW_TOTAL_CAPTION=this.getLabel(H2h);U3m.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION=this.getLabel(A2h);U3m.Labels.INDEX_CAPTION=this.getLabel(O2h);U3m.Labels.INDEX_TOTAL_CAPTION=this.getLabel(u2h);U3m.Labels.INDEX_GRAND_TOTAL_CAPTION=this.getLabel(x2h);U3m.Labels.NONE_CAPTION=this.getLabel(i2h);U3m.Labels.ERROR=this.getLabel(l2h);U3m.Labels.WARNING=this.getLabel(G2h);U3m.Labels.LIMITATION=this.getLabel(j2h);U3m.Labels.BROWSE=this.getLabel(U2h);U3m.Labels.CONFIRMATION=this.getLabel(T2h);U3m.Labels.REPORT_FILE_TYPE=this.getLabel(f2h);U3m.Labels.MESSAGE_LOADING=this.getLabel(c2h);U3m.Labels.MESSAGE_LOADING_CONFIGURATION=this.getLabel(W2h);U3m.Labels.MESSAGE_LOADING_DATA=this.getLabel(n2h);U3m.Labels.MESSAGE_LOADING_WAITING=this.getLabel(y2h);U3m.Labels.MESSAGE_LOADING_PROGRESS=this.getLabel(K2h);U3m.Labels.MESSAGE_LOADING_PROGRESS_UNKNOWN=this.getLabel(m2h);U3m.Labels.MESSAGE_ANALYZING_DATA=this.getLabel(r2h);U3m.Labels.MESSAGE_ANALYZING_PROGRESS=this.getLabel(I2h);U3m.Labels.MESSAGE_ANALYZING_RECORDS=this.getLabel(B2h);U3m.Labels.MESSAGE_SAVING=this.getLabel(q2h);U3m.Labels.MESSAGE_LOADING_DIMENSIONS=this.getLabel(v2h);U3m.Labels.MESSAGE_LOADING_HIERARCHIES=this.getLabel(h2h);U3m.Labels.MESSAGE_LOADING_MEASURES=this.getLabel(D2h);U3m.Labels.MESSAGE_LOADING_MEMBERS=this.getLabel(d2h);U3m.Labels.MESSAGE_LOADING_LEVELS=this.getLabel(o2h);U3m.Labels.MESSAGE_FULLSCREEN=this.getLabel(Q3h);U3m.Labels.MESSAGE_EXPORT_COMPLETE=this.getLabel(s3h);U3m.Labels.MESSAGE_EXPORT_PROGRESS=this.getLabel(X3h);U3m.Labels.MESSAGE_EXPORT_ERROR=this.getLabel(P3h);U3m.Labels.MESSAGE_GENERATING_PDF=this.getLabel(S3h);U3m.Labels.MESSAGE_PLEASE_WAIT=this.getLabel(L3h);U3m.Labels.MESSAGE_PAGES_WERE_GENERATED=this.getLabel(g3h);U3m.Labels.MESSAGE_UPLOADING=this.getLabel(w3h);U3m.Labels.MESSAGE_CANT_SAVE_FILE=this.getLabel(z3h);U3m.Labels.MESSAGE_CANT_WRITE_TO_CLIPBOARD=this.getLabel(Z3h);U3m.Labels.MESSAGE_SAVE_REPORT_TO_FILE=this.getLabel(t3h);U3m.Labels.MESSAGE_LOAD_REPORT_FROM_FILE=this.getLabel(p3h);U3m.Labels.MESSAGE_INPUT_NEW_NAME=this.getLabel(F3h);U3m.Labels.MESSAGE_INPUT_REPORT_NAME=this.getLabel(e3h);U3m.Labels.MESSAGE_INVALID_DATASOURCE=this.getLabel(N3h);U3m.Labels.MESSAGE_DATA_STREAM_ERROR=this.getLabel(b3h);U3m.Labels.MESSAGE_UNABLE_TO_OPEN_FILE=this.getLabel(V3h);U3m.Labels.MESSAGE_DOUBLE_FILE_BROWSING_SESSION=this.getLabel(Y3h);U3m.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT=this.getLabel(R3h);U3m.Labels.MESSAGE_INVALID_JSON_DATA=this.getLabel(E3h);U3m.Labels.MESSAGE_WRONG_FORMULA_FORMAT=this.getLabel(M3h);U3m.Labels.MESSAGE_EXCEL_PDF_EXPORT_LIMITATION=this.getLabel(J3h);U3m.Labels.MESSAGE_EXPORT_LIMITATION=this.getLabel(k3h);U3m.Labels.MESSAGE_NO_DATA_AVAILABLE=this.getLabel(C3h);U3m.Labels.MESSAGE_SAVE_DATA_TO_FILE=this.getLabel(a3h);U3m.Labels.MESSAGE_DATA_WAS_UPDATED=this.getLabel(H3h);U3m.Labels.MESSAGE_OCSV_INCOMPATIBLE=this.getLabel(A3h);U3m.Labels.MESSAGE_UNKNOWN_ERROR=this.getLabel(O3h);U3m.Labels.MESSAGE_INVALID_REPORT_FORMAT=this.getLabel(u3h);U3m.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR=this.getLabel(x3h);U3m.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE=this.getLabel(i3h);U3m.Labels.MESSAGE_CANT_EXPAND=this.getLabel(l3h);U3m.Labels.MESSAGE_CANT_EXPAND_TITLE=this.getLabel(G3h);U3m.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY=this.getLabel(j3h);U3m.Labels.BUTTON_OK=this.getLabel(U3h);U3m.Labels.BUTTON_APPLY=this.getLabel(T3h);U3m.Labels.BUTTON_CANCEL=this.getLabel(f3h);U3m.Labels.BUTTON_SAVE=this.getLabel(c3h);U3m.Labels.BUTTON_CLEAR=this.getLabel(W3h);U3m.Labels.BUTTON_SELECT=this.getLabel(n3h);U3m.Labels.BUTTON_YES=this.getLabel(y3h);U3m.Labels.BUTTON_NO=this.getLabel(K3h);U3m.Labels.CONTEXT_MENU_CLEAR_SORTING=this.getLabel(m3h);U3m.Labels.CONTEXT_MENU_COLLAPSE=this.getLabel(r3h);U3m.Labels.CONTEXT_MENU_DRILL_THROUGH=this.getLabel(I3h);U3m.Labels.CONTEXT_MENU_EXPAND=this.getLabel(B3h);U3m.Labels.CONTEXT_MENU_OPEN_FILTER=this.getLabel(q3h);U3m.Labels.CONTEXT_MENU_SORT_COLUMN_ASC=this.getLabel(v3h);U3m.Labels.CONTEXT_MENU_SORT_COLUMN_DESC=this.getLabel(h3h);U3m.Labels.CONTEXT_MENU_SORT_ROW_ASC=this.getLabel(D3h);U3m.Labels.CONTEXT_MENU_SORT_ROW_DESC=this.getLabel(d3h);U3m.Labels.YEAR=this.getLabel(o3h);U3m.Labels.QUARTER=this.getLabel(Q5h);U3m.Labels.MONTH=this.getLabel(s5h);U3m.Labels.DAY=this.getLabel(X5h);U3m.Labels.QUARTER_LABELS=[this.getLabel(P5h),this.getLabel(S5h),this.getLabel(L5h),this.getLabel(g5h)];U3m.Labels.MONTHS_LABELS=[this.getLabel(w5h),this.getLabel(z5h),this.getLabel(Z5h),this.getLabel(t5h),this.getLabel(p5h),this.getLabel(F5h),this.getLabel(e5h),this.getLabel(N5h),this.getLabel(b5h),this.getLabel(V5h),this.getLabel(Y5h),this.getLabel(R5h)];U3m.Labels.MONTHS_LABELS_SHORT=[this.getLabel(E5h),this.getLabel(M5h),this.getLabel(J5h),this.getLabel(k5h),this.getLabel(C5h),this.getLabel(a5h),this.getLabel(H5h),this.getLabel(A5h),this.getLabel(O5h),this.getLabel(u5h),this.getLabel(x5h),this.getLabel(i5h)];U3m.Labels.WEEKDAYS_LABELS=[this.getLabel(l5h),this.getLabel(G5h),this.getLabel(j5h),this.getLabel(U5h),this.getLabel(T5h),this.getLabel(f5h),this.getLabel(c5h)];U3m.Labels.WEEKDAYS_LABELS_SHORT=[this.getLabel(W5h),this.getLabel(n5h),this.getLabel(y5h),this.getLabel(K5h),this.getLabel(m5h),this.getLabel(r5h),this.getLabel(I5h)];utils.DateFormat.setDayNames(U3m.Labels.WEEKDAYS_LABELS,U3m.Labels.WEEKDAYS_LABELS_SHORT);utils.DateFormat.setMonthNames(U3m.Labels.MONTHS_LABELS,U3m.Labels.MONTHS_LABELS_SHORT);};f3m.prototype.getLabel=function(n3m){var O5i=Q933;if(!O5i.E4d==utils.nullOrUndefined(this.reports)){var W3m=this.reports.getLabel(n3m);if(!O5i.E4d==utils.nullOrUndefined(W3m))return W3m;}return!O5i.E4d==utils.nullOrUndefined(this.globals)&&(W3m=this.globals.getLabel(n3m),!O5i.E4d==utils.nullOrUndefined(W3m))?W3m:this.defaults.getLabel(n3m);};f3m.prototype.reset=function(){this.reports=Q933.V2d;this.updateLabels();};f3m.prototype.load=function(K3m,y3m,m3m){var H5i=Q933;var r3m=this;void H5i.R4d===m3m&&(m3m=!H5i.E4d);try{if(H5i.Y3d==typeof K3m&&!H5i.E4d==utils.nullOrEmpty(K3m))new U3m.LabelsLoader().load(utils.URLUtils.getUrl(K3m,!H5i.R4d),function(I3m){r3m.onLoadingComplete(I3m,m3m);H5i.V2d!=y3m&&y3m(!H5i.R4d);},function(){H5i.V2d!=y3m&&y3m(!H5i.E4d);});else{if(K3m instanceof Object)this.onLoadingComplete(U3m.LabelsValueObject.fromObject(K3m),m3m);else this.reset();H5i.V2d!=y3m&&y3m(!H5i.R4d);}}catch(B3m){console.error(B3m),H5i.V2d!=y3m&&y3m(!H5i.E4d);}};f3m.prototype.onLoadingComplete=function(v3m,q3m){void Q933.R4d===q3m&&(q3m=!Q933.E4d);q3m?this.globals=v3m:this.reports=v3m;this.updateLabels();};f3m.prototype.generateLocalization=function(){var h3m=new U3m.LabelsValueObject();h3m.setDefaults();h3m.merge(this.globals);return h3m.toObject();};f3m.prototype.getCurrentLocalization=function(){var D3m=new U3m.LabelsValueObject();D3m.setDefaults();D3m.merge(this.globals);this.reports&&D3m.merge(this.reports);return D3m;};return f3m;}();U3m.LabelsManager=T3m;}(j3m._labels||(j3m._labels={})));}(G3m.model||(G3m.model={})));}(pivot||(pivot={})));(function(d3m){(function(o3m){(function(s5m){var Q5m=function(){X5m.prototype.setDefaults=function(){var E5i=s933;var x4B="Portrait";var u4B="Landscape";var O4B="Choose page orientation";var A4B="Show subtotal columns only";var H4B="Show subtotal rows only";var a4B="Show subtotals";var C4B="Do not show subtotals";var k4B="Subtotals";var J4B="Show for columns only";var M4B="Show for rows only";var E4B="Show grand totals";var R4B="Do not show grand totals";var Y4B="Grand totals";var V4B="Flat form";var b4B="Classic form";var N4B="Compact form";var e4B="Layout";var F4B="Layout options";var p4B="Highlight";var t4B="Text";var z4B="Empty";var w4B="Between";var g4B="Not equal to";var L4B="Equal to";var S4B="Greater than or equal to";var P4B="Greater than";var X4B="Less than or equal to";var s4B="Less than";var Q4B="Add condition";var d7B="Format as percent";var D7B="Null value";var h7B="Currency align";var v7B="Currency symbol";var q7B="Decimal places";var B7B="Decimal separator";var I7B="Thousand separator";var r7B="(Space)";var m7B="None";var K7B="Text align";var y7B="Open remote report";var n7B="Password";var W7B="Username";var c7B="credentials";var f7B="Open remote CSV";var T7B="Then";var U7B="If";var G7B="Delete";var i7B="Value";var x7B="Done";var u7B="To PDF";var O7B="To Image";var A7B="To Excel";var H7B="To CSV";var a7B="To HTML";var C7B="Print";var k7B="Export";var M7B="Minimize";var E7B="Fullscreen";var R7B="Options";var Y7B="Conditional";var V7B="Conditional formatting";var b7B="Format cells";var N7B="Format";var e7B="Compact";var F7B="Classic";var p7B="Flat";var t7B="Grid";var Z7B="JSON report";var z7B="Report";var w7B="Remote report";var g7B="Local report";var L7B="Open";var S7B="CSV";var P7B="To remote CSV";var X7B="To Google Drive";var s7B="To local JSON";var Q7B="To local CSV";var o9B="Connect";var d9B="Sat";var D9B="Fri";var h9B="Thu";var v9B="Wed";var q9B="Tue";var B9B="Mon";var I9B="Sun";var r9B="Saturday";var m9B="Friday";var K9B="Thursday";var y9B="Wednesday";var n9B="Tuesday";var W9B="Monday";var c9B="Sunday";var f9B="Dec";var T9B="Nov";var U9B="Oct";var j9B="Sep";var G9B="Aug";var l9B="Jul";var i9B="Jun";var x9B="Apr";var u9B="Mar";var O9B="Feb";var A9B="Jan";var H9B="December";var a9B="November";var C9B="October";var k9B="September";var J9B="August";var M9B="July";var E9B="June";var R9B="May";var Y9B="April";var V9B="March";var b9B="February";var N9B="January";var e9B="Quarter 4";var F9B="Quarter 3";var p9B="Quarter 2";var t9B="Quarter 1";var Z9B="Quarter";var w9B="Sort column asc";var g9B="Sort column desc";var L9B="Clear sorting";var S9B="Sort row asc";var P9B="Sort row desc";var X9B="Expand";var s9B="Collapse";var Q9B="Open filter";var o8h="Drill through";var d8h="No";var D8h="Yes";var h8h="Select";var v8h="Save";var q8h="Cancel";var B8h="Apply";var I8h="OK";var r8h="Data set is too large";var m8h="Some fields cannot be expanded. Please narrow down the data set.";var K8h="Too many columns for classic form. Switched layout to compact form.";var y8h="Invalid report format or access to file is denied.";var n8h="Unknown error occurred.";var W8h="Unable to read data source. It seems that OCSV file was compressed with a newer version. Please update the component to version {0} or newer.";var c8h="Data source has been updated on the server. Refresh the report?";var f8h="CSV header parsing error.";var T8h="Data source is empty. Please check the CSV file.";var U8h="Export is not available in the current edition.";var j8h="Export to Microsoft Excel or PDF is not available in the current edition.";var G8h="JSON data is invalid.";var l8h="The data file is of inappropriate format.";var i8h="Wrong formula format. Please check.";var x8h="Please enter Google Client Key in index.html file.";var u8h="Browse file dialog is already opened.";var O8h="Unable to open file {0}.<br/><br/>It seems that this file doesn't exist or 'Access-Control-Allow-Origin' header is absent in the resource requested.";var A8h="Stream error occurred while loading '{0}'";var H8h="Please input report name";var a8h="Input new name";var C8h="Select report file to be loaded.";var k8h='Data is ready to be saved to file, please click "Save" button to save the file.';var J8h='Report is ready to be saved to file, please click "Save" button to save the report.';var M8h="Error: Cannot write to the clipboard.";var E8h="Cannot save file.";var R8h="Failed to export. An unexpected error occurred.";var Y8h="Export in progress...";var V8h="pages were generated.";var b8h="Please wait.";var N8h="Generating PDF";var e8h='Export data is created, please click "Save" button to save the _data.';var F8h="Open report in full screen?";var p8h="Loading levels...";var t8h="Loading members...";var Z8h="Loading measures...";var z8h="Loading hierarchies...";var w8h="Loading dimensions...";var g8h="Saving...";var L8h="{0} records";var S8h="{0} records of {1} ({2}%)";var P8h="Analyzing data...";var X8h="loaded {0}K";var s8h="{0}K";var Q8h="Waiting for the response {0} sec.";var o1h="Uploading...";var d1h="Loading data...";var D1h="Loading...";var h1h="WebDataRocks report file";var v1h="Confirmation";var q1h="Browse";var I1h="Warning!";var r1h="Error!";var m1h="No Calculation";var K1h="% Difference of {0}";var y1h="% Difference";var n1h="Difference of {0}";var W1h="Difference";var c1h="Index of {0}";var f1h="Index";var T1h="Total % of Row of {0}";var U1h="% of Row of {0}";var j1h="% of Row";var G1h="Total % of Column of {0}";var l1h="% of Column of {0}";var i1h="% of Column";var x1h="Total % of Grand Total of {0}";var u1h="% of Grand Total of {0}";var O1h="% of Grand Total";var A1h="Total Max of {0}";var H1h="Max of {0}";var a1h="Max";var C1h="Total Min of {0}";var k1h="Min of {0}";var J1h="Min";var M1h="Total Product of {0}";var E1h="Product of {0}";var R1h="Product";var Y1h="Total Average of {0}";var V1h="Average of {0}";var b1h="Average";var N1h="Total Distinct Count of {0}";var e1h="Distinct Count of {0}";var F1h="Distinct Count";var p1h="Total Count of {0}";var t1h="Count of {0}";var Z1h="Count";var z1h="Total Sum of {0}";var w1h="Sum of {0}";var g1h="Sum";var L1h="Click to close";var S1h="Click to sort Asc";var P1h="Click to sort Desc";var X1h="Click to drill up";var s1h="Click to drill down";var Q1h="Click to collapse";var o0h="Click to expand";var d0h="Filtered";var D0h="Click to filter";var h0h="Double click to fit";var v0h="Drag to resize";var q0h="Column:";var B0h="Row:";var I0h="Invalid date";var r0h="(blank)";var m0h="Grand Total";var K0h="Totals";var y0h="Total";var n0h="All values";var W0h="Are you sure you want to remove this calculated value?";var c0h="Remove {0}?";var f0h="Remove";var T0h="Calculate individual values";var U0h="Drop values and edit formula here";var j0h="Formula";var G0h="Value name";var l0h="Drag values to formula";var i0h="Calculated Value";var x0h="{0}: <b>{1}</b>";var u0h="Column: <b>{0}</b>";var O0h="Row: <b>{0}</b>";var A0h="Details";var H0h="Sort:";var C0h="Multiple Items";var k0h="{0} of {1} found are selected";var J0h="{0} of {1} selected";var M0h="Select All Results";var E0h="Select All";var R0h="Search";var Y0h="Choose value";var V0h="Bottom";var b0h="Top";var N0h="Clear";var e0h="Top 10";var F0h="zA";var p0h="Az";var t0h="Drag and drop fields to arrange";var Z0h="Fields";var z0h="Calculated Values";var w0h="Collapse All";var g0h="Expand All";var L0h="Add calculated value";var S0h="Drop field here";var P0h="Report Filters";var X0h="Columns";var s0h="Rows";var Q0h="All Fields";var o5h="Values";var d5h="Drop & Arrange Values";var D5h="Drop & Arrange Columns";var h5h="Drop & Arrange Rows";var v5h="Drop & Arrange Report Filter";var q5h="Drag Dimensions";var B5h="Select and arrange columns";this.fieldsList.flatHierarchyBox=B5h;this.fieldsList.hierarchyBox=q5h;this.fieldsList.filterBox=v5h;this.fieldsList.rowBox=h5h;this.fieldsList.columnBox=D5h;this.fieldsList.measureBox=d5h;this.fieldsList.values=o5h;this.fieldsList.allFields=Q0h;this.fieldsList.rows=s0h;this.fieldsList.columns=X0h;this.fieldsList.filters=P0h;this.fieldsList.dropField=S0h;this.fieldsList.addCalculatedMeasure=L0h;this.fieldsList.expandAll=g0h;this.fieldsList.collapseAll=w0h;this.fieldsList.formulasGroupName=z0h;this.fieldsList.title=Z0h;this.fieldsList.subtitle=t0h;this.filter.ascSort=p0h;this.filter.descSort=F0h;this.filter.topX=e0h;this.filter.clearTopX=N0h;this.filter.top=b0h;this.filter.bottom=V0h;this.filter.measuresPrompt=Y0h;this.filter.search=R0h;this.filter.selectAll=E0h;this.filter.selectAllResults=M0h;this.filter.amountSelected=J0h;this.filter.amountFound=k0h;this.filter.multipleItems=C0h;this.filter.all=E5i.a0h;this.filter.sort=H0h;this.drillThrough.title=A0h;this.drillThrough.row=O0h;this.drillThrough.column=u0h;this.drillThrough.value=x0h;this.calculatedView.title=i0h;this.calculatedView.measureBox=l0h;this.calculatedView.measureName=G0h;this.calculatedView.formula=j0h;this.calculatedView.formulaPrompt=U0h;this.calculatedView.calculateIndividualValues=T0h;this.calculatedView.removeValue=f0h;this.calculatedView.removeValueTitle=c0h;this.calculatedView.removeValueMessage=W0h;this.calculatedView.header=L0h;this.calculatedView.allValues=n0h;this.grid.total=y0h;this.grid.totals=K0h;this.grid.grandTotal=m0h;this.grid.blankMember=r0h;this.grid.dateInvalidCaption=I0h;this.tooltips.row=B0h;this.tooltips.column=q0h;this.tooltips.headerResize=v0h;this.tooltips.headerFit=h0h;this.tooltips.filterIcon=D0h;this.tooltips.filtered=d0h;this.tooltips.expandIcon=o0h;this.tooltips.collapseIcon=Q1h;this.tooltips.drillDown=s1h;this.tooltips.drillUp=X1h;this.tooltips.sortIcon=P1h;this.tooltips.sortedDescIcon=S1h;this.tooltips.sortedAscIcon=P1h;this.tooltips.close=L1h;this.aggregations.sum.caption=g1h;this.aggregations.sum.totalCaption=w1h;this.aggregations.sum.grandTotalCaption=z1h;this.aggregations.count.caption=Z1h;this.aggregations.count.totalCaption=t1h;this.aggregations.count.grandTotalCaption=p1h;this.aggregations.distinctCount.caption=F1h;this.aggregations.distinctCount.totalCaption=e1h;this.aggregations.distinctCount.grandTotalCaption=N1h;this.aggregations.average.caption=b1h;this.aggregations.average.totalCaption=V1h;this.aggregations.average.grandTotalCaption=Y1h;this.aggregations.product.caption=R1h;this.aggregations.product.totalCaption=E1h;this.aggregations.product.grandTotalCaption=M1h;this.aggregations.min.caption=J1h;this.aggregations.min.totalCaption=k1h;this.aggregations.min.grandTotalCaption=C1h;this.aggregations.max.caption=a1h;this.aggregations.max.totalCaption=H1h;this.aggregations.max.grandTotalCaption=A1h;this.aggregations.percent.caption=O1h;this.aggregations.percent.totalCaption=u1h;this.aggregations.percent.grandTotalCaption=x1h;this.aggregations.percentOfColumn.caption=i1h;this.aggregations.percentOfColumn.totalCaption=l1h;this.aggregations.percentOfColumn.grandTotalCaption=G1h;this.aggregations.percentOfRow.caption=j1h;this.aggregations.percentOfRow.totalCaption=U1h;this.aggregations.percentOfRow.grandTotalCaption=T1h;this.aggregations.index.caption=f1h;this.aggregations.index.totalCaption=c1h;this.aggregations.index.grandTotalCaption=c1h;this.aggregations.difference.caption=W1h;this.aggregations.difference.totalCaption=n1h;this.aggregations.difference.grandTotalCaption=n1h;this.aggregations.percentDifference.caption=y1h;this.aggregations.percentDifference.totalCaption=K1h;this.aggregations.percentDifference.grandTotalCaption=K1h;this.aggregations.none.caption=m1h;this.messages.error=r1h;this.messages.warning=I1h;this.messages.limitation=E5i.B1h;this.messages.browse=q1h;this.messages.confirmation=v1h;this.messages.reportFileType=h1h;this.messages.loading=D1h;this.messages.loadingConfiguration=Q933.s3d;this.messages.loadingData=d1h;this.messages.uploading=o1h;this.messages.waiting=Q8h;this.messages.progress=s8h;this.messages.progressUnknown=X8h;this.messages.analyzing=P8h;this.messages.analyzingProgress=S8h;this.messages.analyzingRecords=L8h;this.messages.saving=g8h;this.messages.loadingDimensions=w8h;this.messages.loadingHierarchies=z8h;this.messages.loadingMeasures=Z8h;this.messages.loadingMembers=t8h;this.messages.loadingLevels=p8h;this.messages.fullscreen=F8h;this.messages.exportComplete=e8h;this.messages.generatingPDF=N8h;this.messages.pleaseWait=b8h;this.messages.pagesWereGenerated=V8h;this.messages.exportProgress=Y8h;this.messages.exportError=R8h;this.messages.cantSaveFile=E8h;this.messages.cantSaveToClipboard=M8h;this.messages.saveReportToFile=J8h;this.messages.saveDataToFile=k8h;this.messages.loadReportFromFile=C8h;this.messages.inputNewName=a8h;this.messages.inputReportName=H8h;this.messages.dataStreamError=A8h;this.messages.unableToOpenFile=O8h;this.messages.unableTwoFileBrowsingSessions=u8h;this.messages.noGoogleClientKey=x8h;this.messages.wrongFormulaFormat=i8h;this.messages.inappropriateFileFormat=l8h;this.messages.invalidJSONdata=G8h;this.messages.excelPdfExportLimitation=j8h;this.messages.excelExportLimitation=U8h;this.messages.noDataAvailable=T8h;this.messages.csvHeaderParsingError=f8h;this.messages.dataWasUpdated=c8h;this.messages.ocsvIncompatible=W8h;this.messages.unknownError=n8h;this.messages.invalidReportFormat=y8h;this.messages.tooManyColumnsInClassicMode=K8h;this.messages.cantExpand=m8h;this.messages.cantExpandTitle=r8h;this.buttons.ok=I8h;this.buttons.apply=B8h;this.buttons.cancel=q8h;this.buttons.save=v8h;this.buttons.clear=N0h;this.buttons.select=h8h;this.buttons.yes=D8h;this.buttons.no=d8h;this.contextMenu.drillThrough=o8h;this.contextMenu.openFilter=Q9B;this.contextMenu.collapse=s9B;this.contextMenu.expand=X9B;this.contextMenu.sortRowDesc=P9B;this.contextMenu.sortRowAsc=S9B;this.contextMenu.clearSorting=L9B;this.contextMenu.sortColumnDesc=g9B;this.contextMenu.sortColumnAsc=w9B;this.date.year=E5i.z9B;this.date.quarter=Z9B;this.date.month=E5i.s8d;this.date.day=E5i.Q8d;this.quarters.q1=t9B;this.quarters.q2=p9B;this.quarters.q3=F9B;this.quarters.q4=e9B;this.months.january=N9B;this.months.february=b9B;this.months.march=V9B;this.months.april=Y9B;this.months.may=R9B;this.months.june=E9B;this.months.july=M9B;this.months.august=J9B;this.months.september=k9B;this.months.october=C9B;this.months.november=a9B;this.months.december=H9B;this.monthsShort.january=A9B;this.monthsShort.february=O9B;this.monthsShort.march=u9B;this.monthsShort.april=x9B;this.monthsShort.may=R9B;this.monthsShort.june=i9B;this.monthsShort.july=l9B;this.monthsShort.august=G9B;this.monthsShort.september=j9B;this.monthsShort.october=U9B;this.monthsShort.november=T9B;this.monthsShort.december=f9B;this.weekdays.first=c9B;this.weekdays.second=W9B;this.weekdays.third=n9B;this.weekdays.fourth=y9B;this.weekdays.fifth=K9B;this.weekdays.sixth=m9B;this.weekdays.seventh=r9B;this.weekdaysShort.first=I9B;this.weekdaysShort.second=B9B;this.weekdaysShort.third=q9B;this.weekdaysShort.fourth=v9B;this.weekdaysShort.fifth=h9B;this.weekdaysShort.sixth=D9B;this.weekdaysShort.seventh=d9B;this.toolbar.connect=o9B;this.toolbar.connect_local_csv=Q7B;this.toolbar.connect_local_json=s7B;this.toolbar.connect_google_drive=X7B;this.toolbar.connect_remote_csv=P7B;this.toolbar.connect_remote_csv_mobile=S7B;this.toolbar.open=L7B;this.toolbar.local_report=g7B;this.toolbar.remote_report=w7B;this.toolbar.remote_report_mobile=z7B;this.toolbar.save=v8h;this.toolbar.load_json=Z7B;this.toolbar.grid=t7B;this.toolbar.grid_flat=p7B;this.toolbar.grid_classic=F7B;this.toolbar.grid_compact=e7B;this.toolbar.format=N7B;this.toolbar.format_cells=b7B;this.toolbar.format_cells_mobile=N7B;this.toolbar.conditional_formatting=V7B;this.toolbar.conditional_formatting_mobile=Y7B;this.toolbar.options=R7B;this.toolbar.fullscreen=E7B;this.toolbar.minimize=M7B;this.toolbar[E5i.J7B]=k7B;this.toolbar.export_print=C7B;this.toolbar.export_html=a7B;this.toolbar.export_csv=H7B;this.toolbar.export_excel=A7B;this.toolbar.export_image=O7B;this.toolbar.export_pdf=u7B;this.toolbar.fields=Z0h;this.toolbar.ok=I8h;this.toolbar.apply=B8h;this.toolbar.done=x7B;this.toolbar.cancel=q8h;this.toolbar.value=i7B;this.toolbar[E5i.l7B]=G7B;this.toolbar[E5i.j7B]=U7B;this.toolbar.then=T7B;this.toolbar.open_remote_csv=f7B;this.toolbar.csv=S7B;this.toolbar.credentials=c7B;this.toolbar.username=W7B;this.toolbar.password=n7B;this.toolbar.open_remote_report=y7B;this.toolbar.choose_value=Y0h;this.toolbar.text_align=K7B;this.toolbar.align_left=Q933.J3d;this.toolbar.align_right=Q933.C3d;this.toolbar.none=m7B;this.toolbar.space=r7B;this.toolbar.thousand_separator=I7B;this.toolbar.decimal_separator=B7B;this.toolbar.decimal_places=q7B;this.toolbar.currency_symbol=v7B;this.toolbar.currency_align=h7B;this.toolbar.null_value=D7B;this.toolbar.is_percent=d7B;this.toolbar.true_value=E5i.C8d;this.toolbar.false_value=E5i.o7B;this.toolbar.conditional=Y7B;this.toolbar.add_condition=Q4B;this.toolbar.less_than=s4B;this.toolbar.less_than_or_equal=X4B;this.toolbar.greater_than=P4B;this.toolbar.greater_than_or_equal=S4B;this.toolbar.equal_to=L4B;this.toolbar.not_equal_to=g4B;this.toolbar.between=w4B;this.toolbar.is_empty=z4B;this.toolbar.all_values=n0h;this.toolbar.and=E5i.Z4B;this.toolbar.and_symbole=E5i.j0d;this.toolbar.cp_text=t4B;this.toolbar.cp_highlight=p4B;this.toolbar.layout_options=F4B;this.toolbar.layout=e4B;this.toolbar.compact_view=N4B;this.toolbar.classic_view=b4B;this.toolbar.flat_view=V4B;this.toolbar.grand_totals=Y4B;this.toolbar.grand_totals_off=R4B;this.toolbar.grand_totals_on=E4B;this.toolbar.grand_totals_on_rows=M4B;this.toolbar.grand_totals_on_columns=J4B;this.toolbar.subtotals=k4B;this.toolbar.subtotals_off=C4B;this.toolbar.subtotals_on=a4B;this.toolbar.subtotals_on_rows=H4B;this.toolbar.subtotals_on_columns=A4B;this.toolbar.choose_page_orientation=O4B;this.toolbar.landscape=u4B;this.toolbar.portrait=x4B;this.toolbar.message_error=this.messages.error;this.toolbar.message_no_google_client_id=this.messages.noGoogleClientKey;};X5m.prototype.getLabel=function(P5m){var R5i=Q933;P5m=P5m.split(s933.w1d);return R5i.E4d==P5m.length?this[P5m[R5i.R4d]]:R5i.M4d!=P5m.length||utils.nullOrUndefined(this[P5m[R5i.R4d]])||utils.nullOrUndefined(this[P5m[R5i.R4d]][P5m[R5i.E4d]])?R5i.J4d!=P5m.length||utils.nullOrUndefined(this[P5m[R5i.R4d]])||utils.nullOrUndefined(this[P5m[R5i.R4d]][P5m[R5i.E4d]])||utils.nullOrUndefined(this[P5m[R5i.R4d]][P5m[R5i.E4d]][P5m[R5i.M4d]])?R5i.V2d:this[P5m[R5i.R4d]][P5m[R5i.E4d]][P5m[R5i.M4d]]:this[P5m[R5i.R4d]][P5m[R5i.E4d]];};X5m.prototype.merge=function(S5m){X5m.nodeFromObject(S5m,this);};function X5m(){var V5i=Q933;this.fieldsList={flatHierarchyBox:V5i.V2d,hierarchyBox:V5i.V2d,filterBox:V5i.V2d,rowBox:V5i.V2d,columnBox:V5i.V2d,measureBox:V5i.V2d,values:V5i.V2d,addCalculatedMeasure:V5i.V2d,expandAll:V5i.V2d,collapseAll:V5i.V2d,formulasGroupName:V5i.V2d,allFields:V5i.V2d,rows:V5i.V2d,columns:V5i.V2d,filters:V5i.V2d,dropField:V5i.V2d,title:V5i.V2d,subtitle:V5i.V2d};this.filter={all:V5i.V2d,multipleItems:V5i.V2d,selectAll:V5i.V2d,selectAllResults:V5i.V2d,top:V5i.V2d,bottom:V5i.V2d,ascSort:V5i.V2d,descSort:V5i.V2d,topX:V5i.V2d,clearTopX:V5i.V2d,measuresPrompt:V5i.V2d,search:V5i.V2d,amountSelected:V5i.V2d,amountFound:V5i.V2d,sort:V5i.V2d};this.drillThrough={title:V5i.V2d,row:V5i.V2d,column:V5i.V2d,value:V5i.V2d};this.calculatedView={title:V5i.V2d,measureBox:V5i.V2d,measureName:V5i.V2d,formula:V5i.V2d,formulaPrompt:V5i.V2d,calculateIndividualValues:V5i.V2d,removeValue:V5i.V2d,removeValueTitle:V5i.V2d,removeValueMessage:V5i.V2d,header:V5i.V2d,allValues:V5i.V2d};this.grid={total:V5i.V2d,totals:V5i.V2d,grandTotal:V5i.V2d,blankMember:V5i.V2d,dateInvalidCaption:V5i.V2d};this.tooltips={row:V5i.V2d,column:V5i.V2d,headerResize:V5i.V2d,headerFit:V5i.V2d,filterIcon:V5i.V2d,filtered:V5i.V2d,expandIcon:V5i.V2d,collapseIcon:V5i.V2d,drillDown:V5i.V2d,drillUp:V5i.V2d,sortIcon:V5i.V2d,sortedDescIcon:V5i.V2d,sortedAscIcon:V5i.V2d,close:V5i.V2d};this.aggregations={sum:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},count:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},distinctCount:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},difference:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},percentDifference:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},average:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},product:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},min:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},max:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},percent:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},percentOfColumn:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},percentOfRow:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},index:{caption:V5i.V2d,totalCaption:V5i.V2d,grandTotalCaption:V5i.V2d},none:{caption:V5i.V2d}};this.messages={error:V5i.V2d,warning:V5i.V2d,limitation:V5i.V2d,browse:V5i.V2d,confirmation:V5i.V2d,reportFileType:V5i.V2d,loading:V5i.V2d,loadingConfiguration:V5i.V2d,loadingData:V5i.V2d,waiting:V5i.V2d,progress:V5i.V2d,progressUnknown:V5i.V2d,analyzing:V5i.V2d,analyzingProgress:V5i.V2d,analyzingRecords:V5i.V2d,saving:V5i.V2d,loadingDimensions:V5i.V2d,loadingHierarchies:V5i.V2d,loadingMeasures:V5i.V2d,loadingMembers:V5i.V2d,loadingLevels:V5i.V2d,loadingProperties:V5i.V2d,fullscreen:V5i.V2d,exportComplete:V5i.V2d,exportProgress:V5i.V2d,exportError:V5i.V2d,generatingPDF:V5i.V2d,pleaseWait:V5i.V2d,pagesWereGenerated:V5i.V2d,uploading:V5i.V2d,cantSaveFile:V5i.V2d,cantSaveToClipboard:V5i.V2d,saveReportToFile:V5i.V2d,loadReportFromFile:V5i.V2d,inputNewName:V5i.V2d,inputReportName:V5i.V2d,invalidDataSource:V5i.V2d,dataStreamError:V5i.V2d,unableToOpenFile:V5i.V2d,unableTwoFileBrowsingSessions:V5i.V2d,noGoogleClientKey:V5i.V2d,inappropriateFileFormat:V5i.V2d,invalidJSONdata:V5i.V2d,wrongFormulaFormat:V5i.V2d,excelPdfExportLimitation:V5i.V2d,excelExportLimitation:V5i.V2d,noDataAvailable:V5i.V2d,saveDataToFile:V5i.V2d,dataWasUpdated:V5i.V2d,ocsvIncompatible:V5i.V2d,unknownError:V5i.V2d,invalidReportFormat:V5i.V2d,csvHeaderParsingError:V5i.V2d,tooManyColumnsInClassicMode:V5i.V2d,cantExpand:V5i.V2d,cantExpandTitle:V5i.V2d};this.buttons={ok:V5i.V2d,apply:V5i.V2d,cancel:V5i.V2d,save:V5i.V2d,clear:V5i.V2d,select:V5i.V2d,yes:V5i.V2d,no:V5i.V2d};this.contextMenu={clearSorting:V5i.V2d,collapse:V5i.V2d,drillThrough:V5i.V2d,expand:V5i.V2d,openFilter:V5i.V2d,sortColumnAsc:V5i.V2d,sortColumnDesc:V5i.V2d,sortRowAsc:V5i.V2d,sortRowDesc:V5i.V2d};this.date={year:V5i.V2d,quarter:V5i.V2d,month:V5i.V2d,day:V5i.V2d};this.quarters={q1:V5i.V2d,q2:V5i.V2d,q3:V5i.V2d,q4:V5i.V2d};this.months={january:V5i.V2d,february:V5i.V2d,march:V5i.V2d,april:V5i.V2d,may:V5i.V2d,june:V5i.V2d,july:V5i.V2d,august:V5i.V2d,september:V5i.V2d,october:V5i.V2d,november:V5i.V2d,december:V5i.V2d};this.monthsShort={january:V5i.V2d,february:V5i.V2d,march:V5i.V2d,april:V5i.V2d,may:V5i.V2d,june:V5i.V2d,july:V5i.V2d,august:V5i.V2d,september:V5i.V2d,october:V5i.V2d,november:V5i.V2d,december:V5i.V2d};this.weekdays={first:V5i.V2d,second:V5i.V2d,third:V5i.V2d,fourth:V5i.V2d,fifth:V5i.V2d,sixth:V5i.V2d,seventh:V5i.V2d};this.weekdaysShort={first:V5i.V2d,second:V5i.V2d,third:V5i.V2d,fourth:V5i.V2d,fifth:V5i.V2d,sixth:V5i.V2d,seventh:V5i.V2d};this.toolbar={connect:V5i.V2d,connect_local_csv:V5i.V2d,connect_local_json:V5i.V2d,connect_remote_csv:V5i.V2d,connect_remote_csv_mobile:V5i.V2d,connect_google_drive:V5i.V2d,open:V5i.V2d,local_report:V5i.V2d,remote_report:V5i.V2d,remote_report_mobile:V5i.V2d,save:V5i.V2d,save_json:V5i.V2d,load_json:V5i.V2d,grid:V5i.V2d,grid_flat:V5i.V2d,grid_classic:V5i.V2d,grid_compact:V5i.V2d,format:V5i.V2d,format_cells:V5i.V2d,format_cells_mobile:V5i.V2d,conditional_formatting:V5i.V2d,conditional_formatting_mobile:V5i.V2d,options:V5i.V2d,fullscreen:V5i.V2d,minimize:V5i.V2d,"export":V5i.V2d,export_print:V5i.V2d,export_html:V5i.V2d,export_csv:V5i.V2d,export_excel:V5i.V2d,export_image:V5i.V2d,export_pdf:V5i.V2d,fields:V5i.V2d,ok:V5i.V2d,apply:V5i.V2d,done:V5i.V2d,cancel:V5i.V2d,value:V5i.V2d,"delete":V5i.V2d,"if":V5i.V2d,then:V5i.V2d,open_remote_csv:V5i.V2d,csv:V5i.V2d,open_remote_report:V5i.V2d,choose_value:V5i.V2d,text_align:V5i.V2d,align_left:V5i.V2d,align_right:V5i.V2d,none:V5i.V2d,space:V5i.V2d,thousand_separator:V5i.V2d,decimal_separator:V5i.V2d,decimal_places:V5i.V2d,currency_symbol:V5i.V2d,currency_align:V5i.V2d,null_value:V5i.V2d,is_percent:V5i.V2d,true_value:V5i.V2d,false_value:V5i.V2d,conditional:V5i.V2d,add_condition:V5i.V2d,less_than:V5i.V2d,less_than_or_equal:V5i.V2d,greater_than:V5i.V2d,greater_than_or_equal:V5i.V2d,equal_to:V5i.V2d,not_equal_to:V5i.V2d,between:V5i.V2d,is_empty:V5i.V2d,all_values:V5i.V2d,and:V5i.V2d,and_symbole:V5i.V2d,cp_text:V5i.V2d,cp_highlight:V5i.V2d,layout_options:V5i.V2d,layout:V5i.V2d,compact_view:V5i.V2d,classic_view:V5i.V2d,flat_view:V5i.V2d,grand_totals:V5i.V2d,grand_totals_off:V5i.V2d,grand_totals_on:V5i.V2d,grand_totals_on_rows:V5i.V2d,grand_totals_on_columns:V5i.V2d,subtotals:V5i.V2d,subtotals_off:V5i.V2d,subtotals_on:V5i.V2d,subtotals_on_rows:V5i.V2d,subtotals_on_columns:V5i.V2d,choose_page_orientation:V5i.V2d,landscape:V5i.V2d,portrait:V5i.V2d,message_error:V5i.V2d,message_no_google_client_id:V5i.V2d};}X5m.prototype.toObject=function(){var g5m={},L5m;for(L5m in this)this[L5m]instanceof Function||utils.nullOrUndefined(this[L5m])||(g5m[L5m]=this[L5m]);return JSON.stringify(g5m,Q933.V2d,Q933.M4d);};X5m.fromObject=function(z5m){var w5m=new X5m();X5m.nodeFromObject(z5m,w5m);return w5m;};X5m.nodeFromObject=function(t5m,F5m){if(!utils.nullOrUndefined(t5m)&&!utils.nullOrUndefined(F5m)&&t5m instanceof Object)for(var p5m in t5m){var Z5m=t5m[p5m];utils.nullOrUndefined(Z5m)||(Q933.Y3d==typeof Z5m?F5m[p5m]=Z5m:Z5m instanceof Object&&X5m.nodeFromObject(Z5m,F5m[p5m]));}};return X5m;}();s5m.LabelsValueObject=Q5m;}(o3m._labels||(o3m._labels={})));}(d3m.model||(d3m.model={})));}(pivot||(pivot={})));(function(e5m){(function(N5m){(function(Y5m){var b5m=function(){var G4B="cancel";var l4B="fail";var i4B="load";R5m.REPORT_FILE_LOADED=i4B;function R5m(){}R5m.REPORT_FILE_FAILED=l4B;R5m.REPORT_FILE_CANCELLED=G4B;return R5m;}();Y5m.ReportEvent=b5m;var V5m=function(E5m){__extends(M5m,E5m);function M5m(k5m){var J5m=E5m.call(this,b5m.REPORT_FILE_LOADED)||this;J5m.report=k5m;return J5m;}return M5m;}(events._Event);Y5m.ReportFileLoadedEvent=V5m;V5m=function(C5m){__extends(a5m,C5m);function a5m(A5m){var H5m=C5m.call(this,b5m.REPORT_FILE_FAILED)||this;H5m.message=A5m;return H5m;}return a5m;}(events._Event);Y5m.ReportFileFailedEvent=V5m;}(N5m.report||(N5m.report={})));}(e5m.model||(e5m.model={})));}(pivot||(pivot={})));(function(O5m){(function(u5m){(function(x5m){var i5m=function(G5m){__extends(l5m,G5m);l5m.prototype.open=function(){var U5m=this;this.localReportLoader=new x5m.LocalReportLoader();this.localReportLoader.addEventListener(x5m.ReportEvent.REPORT_FILE_LOADED,function(T5m){return U5m.onReportFileLoaded(T5m);});this.localReportLoader.addEventListener(x5m.ReportEvent.REPORT_FILE_FAILED,function(f5m){return U5m.onReportFileFailed(f5m);});this.localReportLoader.addEventListener(x5m.ReportEvent.REPORT_FILE_CANCELLED,function(){return U5m.onReportFileCancelled();});this.localReportLoader.load();};l5m.prototype.load=function(W5m){var c5m=this;O5m.preloader(!Q933.R4d,u5m._labels.Labels.MESSAGE_LOADING);this.urlReportLoader=new x5m.UrlReportLoader();this.urlReportLoader.addEventListener(x5m.ReportEvent.REPORT_FILE_LOADED,function(n5m){return c5m.onReportFileLoaded(n5m);});this.urlReportLoader.addEventListener(x5m.ReportEvent.REPORT_FILE_FAILED,function(y5m){return c5m.onReportFileFailed(y5m);});this.urlReportLoader.load(utils.URLUtils.addTimestamp(W5m));};l5m.prototype.cancel=function(){this.localReportLoader&&(this.localReportLoader.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_LOADED),this.localReportLoader.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_FAILED),this.localReportLoader=Q933.V2d);this.urlReportLoader&&(this.urlReportLoader.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_LOADED),this.urlReportLoader.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_FAILED),this.urlReportLoader=Q933.V2d);this.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_LOADED);this.removeAllEventListeners(x5m.ReportEvent.REPORT_FILE_FAILED);};l5m.prototype.onReportFileLoaded=function(K5m){this.dispatch(new x5m.ReportFileLoadedEvent(K5m.report));};l5m.prototype.onReportFileFailed=function(m5m){O5m.uialert(m5m.message,u5m._labels.Labels.ERROR,O5m.AlertType.ERROR);this.dispatchWith(x5m.ReportEvent.REPORT_FILE_FAILED);};l5m.prototype.onReportFileCancelled=function(){this.dispatchWith(x5m.ReportEvent.REPORT_FILE_CANCELLED);};l5m.prototype.save=function(r5m,q5m,v5m,h5m,o5m,I5m){var t5i=Q933;var f4B="embedData";var U4B="destination";var D5m=this;void t5i.R4d===q5m&&(q5m=t5i.V2d);void t5i.R4d===o5m&&(o5m=!t5i.E4d);this.saveCallbackHandler=v5m;v5m=!t5i.E4d;var B5m=t5i.Y3d==typeof r5m?r5m:t5i.V2d,d5m=h5m;h5m=o5m;r5m instanceof Object&&(r5m.hasOwnProperty(s933.j4B)&&(B5m=r5m.filename),r5m.hasOwnProperty(U4B)&&(q5m=r5m.destination),r5m.hasOwnProperty(s933.T4B)&&(d5m=r5m.url),r5m.hasOwnProperty(f4B)&&(h5m=r5m.embedData));if(t5i.V2d==B5m||t5i.s3d==B5m)B5m=this.defaultFilename;I5m.connectionInfo.dataSourceType==O5m.data_.consts.DataSourceType.CSV&&I5m.options.gridType!=O5m._view.grid.GridType.FLAT&&(I5m.connectionInfo instanceof O5m.data_.vo.FileConnectionInfo&&I5m.connectionInfo.browseForFile||I5m.connectionInfo.embedded||h5m)&&(r5m=new O5m.data_.vo.CSVConnectionInfo(),r5m.embedded=!t5i.R4d,I5m.connectionInfo=r5m,v5m=!t5i.R4d);q5m=t5i.V2d==q5m?x5m.DestinationType.FILE:q5m.toLowerCase();switch(q5m){case x5m.DestinationType.SERVER:v5m?new O5m.data_.csv.CSVSaver().getData(function(Q0m){return D5m.saveToServer(d5m,B5m,I5m,Q0m);}):this.saveToServer(d5m,B5m,I5m);break;case x5m.DestinationType.FILE:v5m?new O5m.data_.csv.CSVSaver().getData(function(s0m){return D5m.saveToFile(B5m,I5m,s0m);}):this.saveToFile(B5m,I5m);break;default:v5m?new O5m.data_.csv.CSVSaver().getData(function(X0m){return D5m.saveToFile(B5m,I5m,X0m);}):this.saveToFile(B5m,I5m);}return t5i.V2d;};function l5m(){var j5m=G5m.call(this)||this;j5m.defaultFilename=Q933.b2d;return j5m;}l5m.prototype.dispatchReportSaved=function(P0m){if(Q933.V2d!=this.saveCallbackHandler)try{this.saveCallbackHandler(P0m);}catch(S0m){var c4B="Error! ";this.saveCallbackHandler(c4B+S0m);}};l5m.prototype.defineReportType=function(L0m){return JSON.stringify(L0m.toObject(),Q933.V2d,Q933.k4d);};l5m.prototype.saveToFile=function(Z0m,t0m,g0m){void Q933.R4d===g0m&&(g0m=Q933.V2d);var w0m=[this.defineReportType(t0m)];Q933.V2d!=g0m&&(w0m.push(s933.D0d),w0m.push(g0m));try{var z0m=this;O5m.uialert(u5m._labels.Labels.MESSAGE_SAVE_REPORT_TO_FILE,u5m._labels.Labels.CONFIRMATION,O5m.AlertType.CONFIRMATION,[u5m._labels.Labels.BUTTON_SAVE,u5m._labels.Labels.BUTTON_CANCEL],[function(){var W4B="text/js;charset=utf-8";var p0m=new Blob(w0m,{type:W4B});savingAs(p0m,Z0m);z0m.dispatchReportSaved(!Q933.R4d);},function(){z0m.dispatchReportSaved(!Q933.E4d);}]);}catch(F0m){O5m.uialert(u5m._labels.Labels.MESSAGE_CANT_SAVE_FILE,u5m._labels.Labels.ERROR,O5m.AlertType.ERROR),this.dispatchReportSaved(!Q933.E4d);}};l5m.prototype.saveToServer=function(Y0m,E0m,R0m,b0m){var P5i=Q933;var n4B="Report cannot be saved. Save report url is empty.";var V0m=this;void P5i.R4d===b0m&&(b0m=P5i.V2d);utils.nullOrEmpty(Y0m)&&O5m.uialert(n4B,u5m._labels.Labels.WARNING,O5m.AlertType.ERROR);var N0m=new misc.URLVariables();N0m.data.name=E0m;N0m.data.report=P5i.V2d==b0m?this.defineReportType(R0m):this.defineReportType(R0m)+s933.D0d+b0m;N0m.data.type=s933.A0d;var e0m=new misc.URLStream();e0m.data=N0m.toString();e0m.contentType=misc.ContentType.APPLICATION_URLENCODED;e0m.requestMethod=misc.URLRequestMethod.POST;e0m.addEventListener(events._Event.COMPLETE,function(){return V0m.onSaveComplete(e0m);});e0m.addEventListener(events._Event.ERROR,function(){return V0m.onError(e0m);});e0m.load(Y0m);O5m.preloader(!P5i.R4d,u5m._labels.Labels.MESSAGE_UPLOADING);return P5i.V2d;};l5m.prototype.onSaveComplete=function(M0m){O5m.preloader(!Q933.E4d);this.dispatchReportSaved(M0m.response);};l5m.prototype.onError=function(J0m){var y4B=' (<a href="{0}">{0}</a>)';O5m.preloader(!Q933.E4d);this.dispatchReportSaved(!Q933.E4d);J0m=u5m.XSSCheck.valid(J0m.url)?J0m.url:u5m.XSSCheck.validate(J0m.url);O5m.uialert(u5m._labels.Labels.MESSAGE_CANT_SAVE_FILE+utils.StringUtils.bind(y4B,J0m),u5m._labels.Labels.ERROR,O5m.AlertType.ERROR);};return l5m;}(events.EventDispatcher);x5m.ReportManager=i5m;}(u5m.report||(u5m.report={})));}(O5m.model||(O5m.model={})));}(pivot||(pivot={})));(function(k0m){(function(C0m){(function(a0m){var H0m=function(){A0m.fromObject=function(O0m){var Q5i=Q933;if(Q5i.V2d==O0m)return Q5i.V2d;O0m instanceof A0m||(O0m=A0m.toPlainObject(O0m));var u0m=new A0m();u0m.connectionInfo=k0m.data_.vo.ConnectionInfo.fromObject(Q5i.V2d!=O0m.connectionInfo?O0m.connectionInfo:O0m);u0m.options=C0m._options.vo.OptionsValueObject.fromObject(Q5i.V2d!=O0m.options?O0m.options:O0m);u0m.slice=a0m.SliceValueObject.fromObject(Q5i.V2d!=O0m.slice?O0m.slice:O0m,u0m.connectionInfo,u0m.options.gridType==k0m._view.grid.GridType.FLAT);Q5i.V2d!=O0m.formats&&O0m.formats.length&&(u0m.formats=O0m.formats);Q5i.V2d!=O0m.conditions&&O0m.conditions.length&&(u0m.conditions=O0m.conditions);Q5i.V2d!=O0m.columnSizes&&Q5i.Y3d!=typeof O0m.columnSizes&&(u0m.columnSizes=O0m.columnSizes);Q5i.V2d!=O0m.rowSizes&&Q5i.Y3d!=typeof O0m.rowSizes&&(u0m.rowSizes=O0m.rowSizes);Q5i.V2d!=O0m.columnHeaderSizes&&Q5i.Y3d!=typeof O0m.columnHeaderSizes&&(u0m.columnHeaderSizes=O0m.columnHeaderSizes);Q5i.V2d!=O0m.rowHeaderSizes&&Q5i.Y3d!=typeof O0m.rowHeaderSizes&&(u0m.rowHeaderSizes=O0m.rowHeaderSizes);Q5i.V2d!=O0m.rowFilterSizes&&Q5i.Y3d!=typeof O0m.rowFilterSizes&&(u0m.rowFilterSizes=O0m.rowFilterSizes);Q5i.V2d!=O0m.columnSizesByIdx&&(u0m.columnSizesByIdx=O0m.columnSizesByIdx);Q5i.V2d!=O0m.rowSizesByIdx&&(u0m.rowSizesByIdx=O0m.rowSizesByIdx);Q5i.V2d!=O0m.customFields&&(u0m.customFields=O0m.customFields);Q5i.V2d!=O0m.localization&&(u0m.localization=O0m.localization);return u0m;};A0m.prototype.toObject=function(){var o3i=Q933;var i0m={},x0m=this.connectionInfo.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(x0m)||(i0m.dataSource=x0m);x0m=this.slice.toObject(this.withDefaults);utils.ObjectUtils.isEmptyObject(x0m)||(i0m.slice=x0m);x0m=this.options.toObject();utils.ObjectUtils.isEmptyObject(x0m)||(i0m.options=x0m);x0m=this.composeConditionsObject();o3i.R4d<x0m.length&&(i0m.conditions=x0m);if(o3i.V2d!=this.formats&&o3i.R4d!=this.formats.length){for(var x0m=[],j0m=!this.options.saveAllFormats&&o3i.C4d<this.formats.length,G0m=o3i.R4d;G0m<this.formats.length;G0m++){var l0m=this.formats[G0m];o3i.s3d!=l0m.name&&(o3i.V2d==this.slice.formatsInUse[l0m.name]||j0m&&!this.slice.formatsInUse[l0m.name])||x0m.push(l0m);}i0m.formats=x0m;}x0m=this.composeTableSizesObject();utils.ObjectUtils.isEmptyObject(x0m)||(i0m.tableSizes=x0m);o3i.V2d!=this.customFields&&o3i.R4d!=this.customFields.length&&(i0m.customFields=this.customFields);o3i.V2d!=this.localization&&o3i.s3d!=this.localization&&(i0m.localization=this.localization);return i0m;};function A0m(){this.withDefaults=!Q933.E4d;this.connectionInfo=new k0m.data_.vo.ConnectionInfo();this.slice=new a0m.SliceValueObject();this.options=new C0m._options.vo.OptionsValueObject();this.formats=[];this.conditions=[];this.columnSizes={};this.rowSizes={};this.columnHeaderSizes=[];this.rowHeaderSizes=[];this.rowFilterSizes=[];this.columnSizesByIdx={};this.rowSizesByIdx={};this.customFields=[];this.labels={};this.localization=Q933.V2d;}A0m.prototype.composeConditionsObject=function(){var D3i=Q933;for(var c0m=[],f0m=D3i.R4d;f0m<this.conditions.length;f0m++){var U0m=this.conditions[f0m],T0m={};T0m.formula=U0m.formula;-D3i.E4d<U0m.row&&(T0m.row=U0m.row);-D3i.E4d<U0m.column&&(T0m.column=U0m.column);-D3i.E4d<U0m.isTotal&&(T0m.isTotal=D3i.E4d==U0m.isTotal?!D3i.R4d:!D3i.E4d);U0m.measure&&D3i.R4d<U0m.measure.length&&(T0m.measure=U0m.measure);U0m.hierarchy&&D3i.R4d<U0m.hierarchy.length&&(T0m.hierarchy=U0m.hierarchy);U0m.member&&D3i.R4d<U0m.member.length&&(T0m.member=U0m.member);U0m.format&&!utils.ObjectUtils.isEmptyObject(U0m.format)&&(T0m.format=U0m.format);c0m.push(T0m);}return c0m;};A0m.prototype.composeTableSizesObject=function(){var v3i=Q933;var n0m={},y0m,W0m,K0m,m0m;if(v3i.V2d!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes)||v3i.V2d!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes)){n0m.columns=[];if(v3i.V2d!=this.columnHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.columnHeaderSizes))for(W0m=v3i.R4d;W0m<this.columnHeaderSizes.length;W0m++)v3i.V2d!=this.columnHeaderSizes[W0m]&&n0m.columns.push({idx:W0m,width:this.columnHeaderSizes[W0m]});W0m=a0m.SliceValueObject.findMeasure(this.slice.columns);if(v3i.V2d!=this.columnSizes&&!utils.ObjectUtils.isEmptyObject(this.columnSizes))for(y0m in this.columnSizes)K0m=y0m.split(s933.f0d),v3i.R4d<=W0m?(m0m=K0m.pop(),n0m.columns.push({tuple:K0m,measure:m0m,width:this.columnSizes[y0m]})):n0m.columns.push({tuple:K0m,width:this.columnSizes[y0m]});}if(v3i.V2d!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes)||v3i.V2d!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes)||v3i.V2d!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes)){n0m.rows=[];if(v3i.V2d!=this.rowFilterSizes&&!utils.ObjectUtils.isEmptyObject(this.rowFilterSizes))for(W0m=v3i.R4d;W0m<this.rowFilterSizes.length;W0m++)v3i.V2d!=this.rowFilterSizes[W0m]&&n0m.rows.push({idx:W0m,height:this.rowFilterSizes[W0m]});if(v3i.V2d!=this.rowHeaderSizes&&!utils.ObjectUtils.isEmptyObject(this.rowHeaderSizes))for(W0m=v3i.R4d;W0m<this.rowHeaderSizes.length;W0m++)v3i.V2d!=this.rowHeaderSizes[W0m]&&n0m.rows.push({idx:W0m,height:this.rowHeaderSizes[W0m]});W0m=a0m.SliceValueObject.findMeasure(this.slice.rows);if(v3i.V2d!=this.rowSizes&&!utils.ObjectUtils.isEmptyObject(this.rowSizes))for(y0m in this.rowSizes)K0m=y0m.split(s933.f0d),v3i.R4d<=W0m?(m0m=K0m.pop(),n0m.rows.push({tuple:K0m,measure:m0m,height:this.rowSizes[y0m]})):n0m.rows.push({tuple:K0m,height:this.rowSizes[y0m]});}return n0m;};A0m.toPlainObject=function(r0m){var B3i=Q933;var I0m={};if(void B3i.R4d==r0m)return I0m;B3i.V2d!=r0m.columnSizes&&(I0m.columnSizes=r0m.columnSizes);B3i.V2d!=r0m.rowSizes&&(I0m.rowSizes=r0m.rowSizes);B3i.V2d!=r0m.columnHeaderSizes&&(I0m.columnHeaderSizes=r0m.columnHeaderSizes);B3i.V2d!=r0m.rowHeaderSizes&&(I0m.rowHeaderSizes=r0m.rowHeaderSizes);B3i.V2d!=r0m.rowFilterSizes&&(I0m.rowFilterSizes=r0m.rowFilterSizes);B3i.V2d!=r0m.rowSizesByIdx&&(I0m.rowSizesByIdx=r0m.rowSizesByIdx);B3i.V2d!=r0m.columnSizesByIdx&&(I0m.columnSizesByIdx=r0m.columnSizesByIdx);B3i.V2d!=r0m.customFields&&(I0m.customFields=r0m.customFields);B3i.V2d!=r0m.labels&&(I0m.labels=r0m.labels);I0m.connectionInfo=B3i.V2d!=r0m.connectionInfo?k0m.data_.vo.ConnectionInfo.toPlainObject(r0m.connectionInfo):k0m.data_.vo.ConnectionInfo.toPlainObject(r0m);I0m.slice=B3i.V2d!=r0m.slice?a0m.SliceValueObject.toPlainObject(r0m.slice):a0m.SliceValueObject.toPlainObject(r0m);I0m.options=B3i.V2d!=r0m.options?C0m._options.vo.OptionsValueObject.toPlainObject(r0m.options):C0m._options.vo.OptionsValueObject.toPlainObject(r0m);B3i.V2d!=r0m.formats&&B3i.R4d<r0m.formats.length&&(I0m.formats=r0m.formats);B3i.V2d!=r0m.conditions&&B3i.R4d<r0m.conditions.length&&(I0m.conditions=r0m.conditions);if(B3i.V2d!=r0m.tableSizes){var B0m,v0m;if(B3i.V2d!=r0m.tableSizes.columns){var q0m=r0m.tableSizes.columns;for(B0m=B3i.R4d;B0m<q0m.length;B0m++)if(B3i.V2d!=q0m[B0m].idx&&(B3i.V2d==I0m.columnSizesByIdx&&(I0m.columnSizesByIdx={}),I0m.columnSizesByIdx[parseInt(q0m[B0m].idx)]=parseInt(q0m[B0m].width)),B3i.V2d!=q0m[B0m].tuple||B3i.V2d!=q0m[B0m].measure)B3i.V2d==I0m.columnSizes&&(I0m.columnSizes={}),v0m=B3i.V2d==q0m[B0m].tuple?[]:q0m[B0m].tuple.slice(),B3i.V2d!=q0m[B0m].measure&&v0m.push(q0m[B0m].measure),I0m.columnSizes[v0m.join(s933.f0d)]=parseInt(q0m[B0m].width);}if(B3i.V2d!=r0m.tableSizes.rows)for(q0m=r0m.tableSizes.rows,B0m=B3i.R4d;B0m<q0m.length;B0m++)if(B3i.V2d!=q0m[B0m].idx&&(B3i.V2d==I0m.rowSizesByIdx&&(I0m.rowSizesByIdx={}),I0m.rowSizesByIdx[parseInt(q0m[B0m].idx)]=parseInt(q0m[B0m].height)),B3i.V2d!=q0m[B0m].tuple||B3i.V2d!=q0m[B0m].measure)B3i.V2d==I0m.rowSizes&&(I0m.rowSizes={}),v0m=B3i.V2d==q0m[B0m].tuple?[]:q0m[B0m].tuple.slice(),B3i.V2d!=q0m[B0m].measure&&v0m.push(q0m[B0m].measure),I0m.rowSizes[v0m.join(s933.f0d)]=parseInt(q0m[B0m].height);}B3i.V2d!=r0m.localization&&(I0m.localization=r0m.localization);return I0m;};A0m.prototype.merge=function(D0m){var m4B="options";var K4B="connectionInfo";if(utils.nullOrUndefined(D0m))return this;D0m=A0m.toPlainObject(D0m);var d0m=A0m.toPlainObject(this),h0m;for(h0m in D0m)D0m.hasOwnProperty(h0m)&&(K4B==h0m?k0m.data_.vo.ConnectionInfo.fromObject(D0m.connectionInfo).isEmpty||(d0m[h0m]=D0m[h0m]):m4B==h0m?(this.options.mergeWith(D0m[h0m]),d0m[h0m]=C0m._options.vo.OptionsValueObject.toPlainObject(this.options)):d0m[h0m]=D0m[h0m]);return A0m.fromObject(d0m);};return A0m;}();a0m.ReportValueObject=H0m;}(C0m.report||(C0m.report={})));}(k0m.model||(k0m.model={})));}(pivot||(pivot={})));(function(o0m){(function(Q1m){(function(s1m){var X1m=function(S1m){__extends(P1m,S1m);P1m.prototype.dispatchReportLoaded=function(L1m){L1m?this.dispatch(new s1m.ReportFileLoadedEvent(L1m)):this.dispatch(new s1m.ReportFileFailedEvent(Q1m._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT));};P1m.prototype.parseReport=function(w1m){try{var g1m=-Q933.E4d,g1m=w1m.indexOf(s933.r4B);return JSON.parse(-Q933.E4d<g1m?w1m.substring(Q933.R4d,g1m):w1m);}catch(z1m){return console.error(z1m),Q933.V2d;}};P1m.prototype.getStringByteLength=function(t1m){var Z1m=new o0m.DataStream(new ArrayBuffer(Q933.R4d),Q933.R4d,o0m.DataStream.BIG_ENDIAN);Z1m.writeString(t1m);return Z1m.byteLength;};function P1m(){return Q933.V2d!==S1m&&S1m.apply(this,arguments)||this;}return P1m;}(events.EventDispatcher);s1m.ReportLoader=X1m;}(Q1m.report||(Q1m.report={})));}(o0m.model||(o0m.model={})));}(pivot||(pivot={})));(function(p1m){(function(F1m){(function(e1m){var N1m=function(V1m){__extends(b1m,V1m);b1m.prototype.load=function(E1m){var R1m=this;this.url=E1m;this.bytesLoaded=Q933.R4d;this.loader=new misc.URLStream();this.loader.dataType=misc.DataType.TEXT;this.loader.addEventListener(events._Event.PROGRESS,function(M1m){return R1m.onProgress(M1m);});this.loader.addEventListener(events._Event.COMPLETE,function(){return R1m.onLoaded();});this.loader.addEventListener(events._Event.ERROR,function(){return R1m.onError();});this.loader.load(E1m);};b1m.prototype.onProgress=function(J1m){var W3i=Q933;J1m=W3i.R4d;if(W3i.V2d!=this.loader&&-W3i.E4d<(J1m=this.loader.response.indexOf(s933.I4B))&&J1m+this.embeddedDataJSONStartSign.length+W3i.E4d<this.loader.response.length)this.onLoaded();};b1m.prototype.onLoaded=function(){var f3i=Q933;if(f3i.V2d!=this.loader){this.loader.removeAllEventListeners(events._Event.COMPLETE);var k1m=this.parseReport(this.loader.response);if(k1m instanceof e1m.ReportValueObject){if(k1m.connectionInfo instanceof p1m.data_.vo.CSVConnectionInfo&&!f3i.R4d==k1m.connectionInfo.embedded){var C1m=k1m.connectionInfo;C1m.filename=this.loader.url;C1m.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(f3i.R4d,this.loader.response.indexOf(s933.I4B)+f3i.O4d)+s933.D0d);this.loader.response.indexOf(this.embeddedStartDataSign);k1m.connectionInfo=C1m;}}else utils.nullOrUndefined(k1m)||utils.nullOrUndefined(k1m.dataSource)||!f3i.R4d!=k1m.dataSource.embedded||(k1m.dataSource.filename=this.loader.url,k1m.dataSource.embeddedDataOffset=this.getStringByteLength(this.loader.response.substring(f3i.R4d,this.loader.response.indexOf(this.embeddedDataJSONStartSign))));this.dispatchReportLoaded(k1m);this.dispose();}};b1m.prototype.onError=function(){this.loader.removeAllEventListeners(events._Event.PROGRESS);this.loader.removeAllEventListeners(events._Event.COMPLETE);this.loader.removeAllEventListeners(events._Event.ERROR);var a1m=F1m.XSSCheck.valid(this.url)?this.url:F1m.XSSCheck.validate(this.url),a1m=utils.StringUtils.bind(F1m._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,a1m);this.dispatch(new e1m.ReportFileFailedEvent(a1m));this.dispose();};function b1m(){var Y1m=V1m.call(this)||this;Y1m.counter=Q933.R4d;Y1m.embeddedStartDataSign=s933.B4B;Y1m.embeddedDataJSONStartSign=s933.r4B;return Y1m;}b1m.prototype.dispose=function(){Q933.V2d!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=Q933.V2d);};return b1m;}(e1m.ReportLoader);e1m.UrlReportLoader=N1m;}(F1m.report||(F1m.report={})));}(p1m.model||(p1m.model={})));}(pivot||(pivot={})));(function(H1m){(function(A1m){(function(O1m){var u1m=function(i1m){__extends(x1m,i1m);x1m.prototype.load=function(){var l1m=this;this.file=new misc.FileReference();this.file.addEventListener(events._Event.SELECT,function(){return l1m.onSelected();});this.file.addEventListener(events._Event.COMPLETE,function(){return l1m.onLoaded();});this.file.addEventListener(events._Event.CANCEL,function(){return l1m.onCancel();});this.file.addEventListener(events._Event.ERROR,function(){return l1m.onError();});this.file.browse([s933.q4B,s933.v4B]);};x1m.prototype.onSelected=function(){Q933.V2d!=this.file&&this.file.load(misc.ReadMethod.ARRAY_BUFFER);};x1m.prototype.onLoaded=function(){var x3i=Q933;try{var T1m=new H1m.DataStream(this.file.response,x3i.R4d,H1m.DataStream.BIG_ENDIAN),j1m=T1m.readString(T1m.byteLength),G1m=this.parseReport(j1m);if(G1m instanceof O1m.ReportValueObject){if(G1m.connectionInfo instanceof H1m.data_.vo.CSVConnectionInfo&&!x3i.R4d==G1m.connectionInfo.embedded){var U1m=G1m.connectionInfo;U1m.embeddedDataToLoad=this.file.response;U1m.embeddedDataOffset=this.getStringByteLength(j1m.substring(x3i.R4d,j1m.indexOf(s933.I4B)+x3i.O4d)+s933.D0d);G1m.connectionInfo=U1m;}}else utils.nullOrUndefined(G1m)||utils.nullOrUndefined(G1m.dataSource)||!x3i.R4d!=G1m.dataSource.embedded||(G1m.dataSource.embeddedDataToLoad=this.file.response,G1m.dataSource.embeddedDataOffset=this.getStringByteLength(j1m.substring(x3i.R4d,j1m.indexOf(s933.r4B))));this.dispatchReportLoaded(G1m);this.dispose();}catch(f1m){console.error(f1m),this.onError();}};function x1m(){return i1m.call(this)||this;}x1m.prototype.onError=function(){var c1m=utils.StringUtils.bind(A1m._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,Q933.s3d);this.dispatch(new O1m.ReportFileFailedEvent(c1m));this.dispose();};x1m.prototype.onCancel=function(){this.dispatchWith(O1m.ReportEvent.REPORT_FILE_CANCELLED);this.dispose();};x1m.prototype.dispose=function(){Q933.V2d!=this.file&&(this.file.removeAllEventListeners(),this.file.dispose(),this.file=Q933.V2d);};return x1m;}(O1m.ReportLoader);O1m.LocalReportLoader=u1m;}(A1m.report||(A1m.report={})));}(H1m.model||(H1m.model={})));}(pivot||(pivot={})));(function(W1m){(function(n1m){(function(K1m){var y1m=function(){var d4B="plain";var D4B="binary";var h4B="server";m1m.validType=function(r1m){return r1m==m1m.FILE||r1m==m1m.SERVER||r1m==m1m.BINARY||r1m==m1m.PLAIN;};m1m.FILE=s933.U0d;function m1m(){}m1m.SERVER=h4B;m1m.BINARY=D4B;m1m.PLAIN=d4B;return m1m;}();K1m.DestinationType=y1m;}(n1m.report||(n1m.report={})));}(W1m.model||(W1m.model={})));}(pivot||(pivot={})));(function(I1m){(function(B1m){(function(v1m){var q1m=function(){h1m.customFields=[];function h1m(){}return h1m;}();v1m.CustomFieldsManager=q1m;}(B1m.report||(B1m.report={})));}(I1m.model||(I1m.model={})));}(pivot||(pivot={})));(function(D1m){(function(d1m){(function(Q8m){var o1m=function(){s8m.prototype.normalizeSlice=function(X8m){if(Q933.R4d<=s8m.findMeasure(X8m.rows)){var P8m=s8m.findMeasure(X8m.columns);Q933.R4d<=P8m&&(X8m.columns[P8m]=X8m.columns[Q933.R4d],X8m.columns.shift());}};s8m.findMeasure=function(L8m){for(var g8m=D1m.data_.Cube.MEASURES_NAME,S8m=Q933.R4d;S8m<L8m.length;S8m++)if(L8m[S8m].uniqueName==g8m)return S8m;return-Q933.E4d;};s8m.readExpandedFromObject=function(z8m){var k3i=Q933;for(var p8m=[],Z8m,w8m=k3i.R4d;w8m<z8m.length;w8m++){Z8m=[];Z8m.push(k3i.V2d!=z8m[w8m].measure?z8m[w8m].measure:k3i.s3d);if(k3i.V2d!=z8m[w8m].tuple)for(var t8m=k3i.R4d;t8m<z8m[w8m].tuple.length;t8m++)Z8m.push(z8m[w8m].tuple[t8m]);p8m.push(Z8m);}return p8m;};s8m.readDrilledFromObject=function(e8m){var J3i=Q933;for(var V8m=[],N8m,F8m=J3i.R4d;F8m<e8m.length;F8m++){N8m=[];N8m.push(J3i.V2d!=e8m[F8m].level?e8m[F8m].level:J3i.s3d);N8m.push(J3i.V2d!=e8m[F8m].measure?e8m[F8m].measure:-J3i.E4d);if(J3i.V2d!=e8m[F8m].tuple){N8m.push(e8m[F8m].tuple[e8m[F8m].tuple.length-J3i.E4d]);for(var b8m=J3i.R4d;b8m<e8m[F8m].tuple.length;b8m++)N8m.push(e8m[F8m].tuple[b8m]);}V8m.push(N8m);}return V8m;};s8m.fromObject=function(Y8m,M8m,E8m){var M3i=Q933;void M3i.R4d===M8m&&(M8m=M3i.V2d);void M3i.R4d===E8m&&(E8m=!M3i.E4d);if(M3i.V2d==Y8m)return M3i.V2d;Y8m instanceof s8m||(Y8m=s8m.toPlainObject(Y8m));var R8m=new s8m();M3i.V2d!=Y8m.measures&&Y8m.measures.length&&(R8m.measures=Y8m.measures);M3i.V2d==M8m&&d1m.PivotModel.getInstance();M3i.V2d!=Y8m.pages&&Y8m.pages.length&&(R8m.pages=s8m.hierarchiesFromObject(Y8m.pages));M3i.V2d!=Y8m.columns&&Y8m.columns.length&&(R8m.columns=s8m.hierarchiesFromObject(Y8m.columns,E8m));M3i.V2d!=Y8m.rows&&Y8m.rows.length&&(R8m.rows=s8m.hierarchiesFromObject(Y8m.rows,E8m));M3i.V2d!=Y8m.flatOrder&&Y8m.flatOrder.length&&(R8m.flatOrder=Y8m.flatOrder);R8m.normalizeSlice(R8m);M3i.V2d!=Y8m.rowSorting&&(R8m.rowSorting=Y8m.rowSorting);M3i.V2d!=Y8m.columnSorting&&(R8m.columnSorting=Y8m.columnSorting);M3i.V2d!=Y8m.expandAll&&(R8m.expandAll=Y8m.expandAll);M3i.V2d!=Y8m.expandedRows&&Y8m.expandedRows.length&&(R8m.expandedRows=Y8m.expandedRows);M3i.V2d!=Y8m.expandedColumns&&Y8m.expandedColumns.length&&(R8m.expandedColumns=Y8m.expandedColumns);M3i.V2d!=Y8m.drillAll&&(R8m.drillAll=Y8m.drillAll);M3i.V2d!=Y8m.drilledRows&&Y8m.drilledRows.length&&(R8m.drilledRows=Y8m.drilledRows);M3i.V2d!=Y8m.drilledColumns&&Y8m.drilledColumns.length&&(R8m.drilledColumns=Y8m.drilledColumns);return R8m;};s8m.hierarchiesFromObject=function(k8m,H8m){var o4B="sort";void Q933.R4d===H8m&&(H8m=!Q933.E4d);for(var C8m=[],J8m=Q933.R4d;J8m<k8m.length;J8m++){C8m[J8m]={};H8m&&!k8m[J8m].sort&&(k8m[J8m].sort=D1m.data_.consts.SortType.UNSORTED);for(var a8m in k8m[J8m])o4B==a8m?C8m[J8m].sortName=k8m[J8m].sort:C8m[J8m][a8m]=k8m[J8m][a8m];}return C8m;};s8m.prototype.toObject=function(x8m){var R3i=Q933;void R3i.R4d===x8m&&(x8m=!R3i.E4d);var u8m={},A8m,O8m=[];for(A8m=R3i.R4d;A8m<this.pages.length;A8m++)O8m.push(this.hierarchyToJSON(this.pages[A8m],x8m));R3i.R4d<O8m.length&&(u8m.reportFilters=O8m);O8m=[];for(A8m=R3i.R4d;A8m<this.rows.length;A8m++)O8m.push(this.hierarchyToJSON(this.rows[A8m],x8m));R3i.R4d<O8m.length&&(u8m.rows=O8m);O8m=[];for(A8m=R3i.R4d;A8m<this.columns.length;A8m++)O8m.push(this.hierarchyToJSON(this.columns[A8m],x8m));R3i.R4d<O8m.length&&(u8m.columns=O8m);O8m=[];for(A8m=R3i.R4d;A8m<this.measures.length;A8m++)O8m.push(this.measureToJSON(this.measures[A8m],x8m));R3i.R4d<O8m.length&&(u8m.measures=O8m);if(R3i.V2d!=this.rowSorting&&R3i.V2d!=this.rowSorting.type&&this.rowSorting.type!=D1m.data_.consts.SortType.UNSORTED||R3i.V2d!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=D1m.data_.consts.SortType.UNSORTED)u8m.sorting={},R3i.V2d!=this.rowSorting&&R3i.V2d!=this.rowSorting.type&&this.rowSorting.type!=D1m.data_.consts.SortType.UNSORTED&&(u8m.sorting.row=this.rowSorting),R3i.V2d!=this.columnSorting&&this.columnSorting.type&&this.columnSorting.type!=D1m.data_.consts.SortType.UNSORTED&&(u8m.sorting.column=this.columnSorting);A8m={};if(x8m||this.expandAll)A8m.expandAll=this.expandAll;R3i.R4d<this.expandedRows.length&&(A8m.rows=this.expandedElementsToJSON(this.expandedRows));R3i.R4d<this.expandedColumns.length&&(A8m.columns=this.expandedElementsToJSON(this.expandedColumns));utils.ObjectUtils.isEmptyObject(A8m)||(u8m.expands=A8m);A8m={};if(x8m||this.drillAll)A8m.drillAll=this.drillAll;R3i.R4d<this.drilledRows.length&&(A8m.rows=this.drilledElementsToJSON(this.drilledRows));R3i.R4d<this.drilledColumns.length&&(A8m.columns=this.drilledElementsToJSON(this.drilledColumns));utils.ObjectUtils.isEmptyObject(A8m)||(u8m.drills=A8m);R3i.R4d<this.flatOrder.length&&(u8m.flatOrder=this.flatOrder);return u8m;};s8m.prototype.expandedElementsToJSON=function(T8m){var Y3i=Q933;for(var j8m=[],i8m,l8m,U8m,G8m=Y3i.R4d;G8m<T8m.length;G8m++)i8m={},l8m=T8m[G8m].slice(Y3i.R4d),U8m=l8m.shift(),Y3i.R4d!=l8m.length&&(i8m.tuple=l8m,Y3i.s3d!=U8m&&(i8m.measure=U8m),j8m.push(i8m));return j8m;};s8m.prototype.drilledElementsToJSON=function(m8m){var V3i=Q933;for(var n8m=[],c8m,y8m,K8m,f8m,W8m=V3i.R4d;W8m<m8m.length;W8m++)c8m={},f8m=m8m[W8m].slice(V3i.R4d),y8m=f8m.shift(),K8m=f8m.shift(),f8m.shift(),V3i.R4d!=f8m.length&&(c8m.tuple=f8m,V3i.s3d!=K8m&&(c8m.measure=K8m),V3i.s3d!=y8m&&(c8m.level=y8m),n8m.push(c8m));return n8m;};s8m.prototype.measureToJSON=function(r8m,B8m){var b3i=Q933;var I8m={};I8m.uniqueName=r8m.uniqueName;if(b3i.V2d!=r8m.formula&&b3i.s3d!=r8m.formula)I8m.formula=r8m.formula,r8m.individual&&(I8m.individual=!b3i.R4d),I8m.caption=r8m.caption;else if(B8m||r8m.aggregation!=D1m.data_.consts.AggregationName.NONE)I8m.aggregation=r8m.aggregation;if(B8m||!b3i.E4d==r8m.active)I8m.active=r8m.active;b3i.V2d!=r8m.format&&b3i.s3d!=r8m.format&&(I8m.format=r8m.format,this.formatsInUse[r8m.format]=r8m.active);b3i.V2d!=r8m.availableAggregations&&b3i.R4d<r8m.availableAggregations.length&&(I8m.availableAggregations=r8m.availableAggregations);return I8m;};s8m.prototype.hierarchyToJSON=function(q8m,D8m){var e3i=Q933;var v8m={};v8m.uniqueName=q8m.uniqueName;e3i.V2d!=q8m.activeLevelName&&(v8m.levelName=q8m.activeLevelName);if(e3i.V2d!=q8m.filter&&(v8m.filter={},e3i.V2d!=q8m.filter.type&&q8m.filter.type!=D1m.data_.consts.FilterType.NONE&&(v8m.filter={type:q8m.filter.type,quantity:q8m.filter.quantity,measure:q8m.filter.measure}),e3i.V2d!=q8m.filter.members)){var h8m=e3i.Y3d==typeof q8m.filter.members?q8m.filter.members.split(s933.f0d):q8m.filter.members;e3i.R4d<h8m.length&&(v8m.filter.members=h8m,!e3i.R4d===q8m.filter.negation&&(v8m.filter.negation=q8m.filter.negation));}q8m.filterEnabled||(v8m.filterEnabled=!e3i.R4d);q8m.uniqueName!=D1m.data_.Cube.MEASURES_NAME&&q8m.sortName&&(D8m||q8m.sortName!=D1m.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME)&&(v8m.sort=q8m.sortName);q8m.uniqueName!=D1m.data_.Cube.MEASURES_NAME&&q8m.sortAs&&(v8m.sortAs=q8m.sortAs);return v8m;};s8m.toPlainObject=function(d8m){var p3i=Q933;var o8m={};if(void p3i.R4d==d8m)return o8m;p3i.V2d!=d8m.pages&&(o8m.pages=d8m.pages);p3i.V2d!=d8m.reportFilters&&(o8m.pages=d8m.reportFilters);p3i.V2d!=d8m.rows&&(o8m.rows=d8m.rows);p3i.V2d!=d8m.columns&&(o8m.columns=d8m.columns);p3i.V2d!=d8m.measures&&(o8m.measures=d8m.measures);p3i.V2d!=d8m.rowSorting&&(o8m.rowSorting=d8m.rowSorting,p3i.V2d!=o8m.rowSorting.tuple&&p3i.Y3d==typeof o8m.rowSorting.tuple&&(o8m.rowSorting.tuple=o8m.rowSorting.tuple.split(s933.f0d)));p3i.V2d!=d8m.sorting&&p3i.V2d!=d8m.sorting.row&&(o8m.rowSorting=d8m.sorting.row);p3i.V2d!=d8m.columnSorting&&(o8m.columnSorting=d8m.columnSorting,p3i.V2d!=o8m.columnSorting.tuple&&p3i.Y3d==typeof o8m.columnSorting.tuple&&(o8m.columnSorting.tuple=o8m.columnSorting.tuple.split(s933.f0d)));p3i.V2d!=d8m.sorting&&p3i.V2d!=d8m.sorting.column&&(o8m.columnSorting=d8m.sorting.column);p3i.V2d!=d8m.expandAll&&(o8m.expandAll=d8m.expandAll);p3i.V2d!=d8m.expandedRows&&(o8m.expandedRows=d8m.expandedRows);p3i.V2d!=d8m.expandedColumns&&(o8m.expandedColumns=d8m.expandedColumns);p3i.V2d!=d8m.expands&&(p3i.V2d!=d8m.expands.expandAll&&(o8m.expandAll=d8m.expands.expandAll),p3i.V2d!=d8m.expands.rows&&(o8m.expandedRows=s8m.readExpandedFromObject(d8m.expands.rows)),p3i.V2d!=d8m.expands.columns&&(o8m.expandedColumns=s8m.readExpandedFromObject(d8m.expands.columns)));p3i.V2d!=d8m.drillAll&&(o8m.drillAll=d8m.drillAll);p3i.V2d!=d8m.drilledRows&&(o8m.drilledRows=d8m.drilledRows);p3i.V2d!=d8m.drilledColumns&&(o8m.drilledColumns=d8m.drilledColumns);p3i.V2d!=d8m.drills&&(p3i.V2d!=d8m.drills.drillAll&&(o8m.drillAll=d8m.drills.drillAll),p3i.V2d!=d8m.drills.rows&&(o8m.drilledRows=s8m.readDrilledFromObject(d8m.drills.rows)),p3i.V2d!=d8m.drills.columns&&(o8m.drilledColumns=s8m.readDrilledFromObject(d8m.drills.columns)));p3i.V2d!=d8m.flatOrder&&(o8m.flatOrder=d8m.flatOrder);p3i.V2d!=d8m.slice&&(d8m=d8m.slice,p3i.V2d!=d8m.pages&&d8m.pages.length&&(o8m.pages=d8m.pages),p3i.V2d!=d8m.reportFilters&&d8m.reportFilters.length&&(o8m.pages=d8m.reportFilters),p3i.V2d!=d8m.rows&&d8m.rows.length&&(o8m.rows=d8m.rows),p3i.V2d!=d8m.columns&&d8m.columns.length&&(o8m.columns=d8m.columns),p3i.V2d!=d8m.measures&&d8m.measures.length&&(o8m.measures=d8m.measures),p3i.V2d!=d8m.sorting&&p3i.V2d!=d8m.sorting.row&&(o8m.rowSorting=d8m.sorting.row),p3i.V2d!=d8m.sorting&&p3i.V2d!=d8m.sorting.column&&(o8m.columnSorting=d8m.sorting.column),p3i.V2d!=d8m.expands&&(p3i.V2d!=d8m.expands.expandAll&&(o8m.expandAll=d8m.expands.expandAll),p3i.V2d!=d8m.expands.rows&&(o8m.expandedRows=s8m.readExpandedFromObject(d8m.expands.rows)),p3i.V2d!=d8m.expands.columns&&(o8m.expandedColumns=s8m.readExpandedFromObject(d8m.expands.columns))),p3i.V2d!=d8m.drills&&(p3i.V2d!=d8m.drills.drillAll&&(o8m.drillAll=d8m.drills.drillAll),p3i.V2d!=d8m.drills.rows&&(o8m.drilledRows=s8m.readDrilledFromObject(d8m.drills.rows)),p3i.V2d!=d8m.drills.columns&&(o8m.drilledColumns=s8m.readDrilledFromObject(d8m.drills.columns))),p3i.V2d!=d8m.flatOrder&&d8m.flatOrder.length&&(o8m.flatOrder=d8m.flatOrder));return o8m;};function s8m(){this.rows=[];this.columns=[];this.pages=[];this.measures=[];this.rowSorting={};this.columnSorting={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.drillAll=this.expandAll=!Q933.E4d;this.flatOrder=[];this.formatsInUse={};}return s8m;}();Q8m.SliceValueObject=o1m;}(d1m.report||(d1m.report={})));}(D1m.model||(D1m.model={})));}(pivot||(pivot={})));(function(Q9Y){(function(s9Y){(function(X9Y){(function(S9Y){var P9Y=function(){L9Y.toReport=function(g9Y){var k0i=Q933;var w9Y,z9Y=new s9Y.report.ReportValueObject();z9Y.withDefaults=g9Y.withDefaults;z9Y.connectionInfo=g9Y._connectionInfo;if(g9Y._slice){var Z9Y=Q9Y.data_._structure.Axis.toObject(g9Y._slice.findAxis(Q9Y.data_.consts.AxisName.ROWS_AXIS)),F9Y=Q9Y.data_._structure.Axis.toObject(g9Y._slice.findAxis(Q9Y.data_.consts.AxisName.COLUMNS_AXIS));w9Y=Q9Y.data_._structure.Axis.toObject(g9Y._slice.findAxis(Q9Y.data_.consts.AxisName.PAGES_AXIS));z9Y.slice=new s9Y.report.SliceValueObject();z9Y.slice.rows=Z9Y.hierarchies;z9Y.slice.columns=F9Y.hierarchies;z9Y.slice.pages=w9Y.hierarchies;z9Y.slice.measures=[];var p9Y;for(w9Y=k0i.R4d;w9Y<g9Y._slice.measures_.length;w9Y++)p9Y=g9Y._slice.measures_.getItemAt(w9Y),p9Y=Q9Y.data_._structure.GenericMeasure.toObject(p9Y),p9Y.active=!k0i.R4d,z9Y.slice.measures.push(p9Y);for(w9Y=k0i.R4d;w9Y<g9Y._structure.measures_.length;w9Y++)p9Y=g9Y._structure.measures_.getItemAt(w9Y),g9Y._slice.measures_.keyExists(p9Y.uniqueName)||p9Y.hasDefaultParams()||(p9Y=Q9Y.data_._structure.GenericMeasure.toObject(p9Y),p9Y.active=!k0i.E4d,z9Y.slice.measures.push(p9Y));z9Y.slice.rowSorting=Z9Y.sort;z9Y.slice.columnSorting=F9Y.sort;z9Y.slice.expandAll=g9Y._slice.expandAll;z9Y.slice.expandedRows=g9Y.expandedRows;z9Y.slice.expandedColumns=g9Y.expandedColumns;z9Y.slice.drillAll=g9Y._slice.drillAll;z9Y.slice.drilledRows=g9Y.drilledRows;z9Y.slice.drilledColumns=g9Y.drilledColumns;z9Y.slice.flatOrder=g9Y._slice.flatOrder;}z9Y.options=g9Y._options;Z9Y=[];for(w9Y=k0i.R4d;w9Y<g9Y.formats.length;w9Y++)Z9Y[w9Y]=g9Y.formats.getItemAt(w9Y).toObject();z9Y.formats=Z9Y;Z9Y=[];for(w9Y=k0i.R4d;w9Y<g9Y.conditions.length;w9Y++)Z9Y[w9Y]=s9Y.condition.vo.ConditionValueObject.toObject(g9Y.conditions.getItemAt(w9Y));z9Y.conditions=Z9Y;z9Y.customFields=g9Y.customFields;z9Y.labels=g9Y.labels;var t9Y;w9Y={};for(t9Y in g9Y.columnSizes)w9Y[t9Y]=g9Y.columnSizes[t9Y];z9Y.columnSizes=w9Y;Z9Y=[];for(t9Y in g9Y.columnHeaderSizes)w9Y=parseInt(t9Y),Z9Y[w9Y]=g9Y.columnHeaderSizes[t9Y];z9Y.columnHeaderSizes=Z9Y;w9Y={};for(t9Y in g9Y.rowSizes)w9Y[t9Y]=g9Y.rowSizes[t9Y];z9Y.rowSizes=w9Y;Z9Y=[];for(t9Y in g9Y.rowHeaderSizes)w9Y=parseInt(t9Y),Z9Y[w9Y+g9Y.startTableRow]=g9Y.rowHeaderSizes[t9Y];z9Y.rowHeaderSizes=Z9Y;Z9Y=[];if(k0i.R4d!=g9Y.startTableRow)for(t9Y in g9Y.rowFilterSizes)w9Y=parseInt(t9Y),Z9Y[w9Y]=g9Y.rowFilterSizes[t9Y];z9Y.rowFilterSizes=Z9Y;z9Y.localization=g9Y.localization;return z9Y;};function L9Y(){this.formats=new utils.AssociativeArray();this.conditions=new utils.AssociativeArray();this.customFields=[];this.rowSizes={};this.columnSizes={};this.startTableRow=Q933.R4d;this.rowHeaderSizes={};this.columnHeaderSizes={};this.rowFilterSizes={};this.expandedRows=[];this.expandedColumns=[];this.drilledRows=[];this.drilledColumns=[];this.localization=Q933.V2d;this.labels={};this.withGlobals=this.withDefaults=!Q933.E4d;}return L9Y;}();S9Y.StateValueObject=P9Y;}(X9Y.vo||(X9Y.vo={})));}(s9Y._state||(s9Y._state={})));}(Q9Y.model||(Q9Y.model={})));}(pivot||(pivot={})));(function(e9Y){(function(N9Y){(function(V9Y){var b9Y=function(){var Q6B="table";Y9Y.getInstance=function(){Q933.V2d==Y9Y._instance&&(Y9Y._instance=new Y9Y());return Y9Y._instance;};Y9Y.dispose=function(){Y9Y._instance=Q933.V2d;};Y9Y.prototype.print=function(E9Y){void Q933.R4d===E9Y&&(E9Y=Q933.V2d);this._printInProgress||(this._printInProgress=!Q933.R4d,this._options=E9Y||new N9Y.printing.PrintOptions(),N9Y.PivotModel.getInstance().addEventListener(e9Y.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler),N9Y.PivotModel.getInstance().dispatchWith(e9Y.PivotEvent.PRINT));};Y9Y.prototype.onPrintCompleted=function(){N9Y.PivotModel.getInstance().removeEventListener(e9Y.PivotEvent.PRINT_COMPLETE,this.printCompletedHandler);this._printInProgress=!Q933.E4d;};Y9Y.prototype.run=function(M9Y,J9Y){this.grid=M9Y;this.dataProvider=J9Y;this.gridLayout=Q933.V2d!=M9Y?M9Y.gridLayout:Q933.V2d;this.start();};Y9Y.prototype.start=function(){var s3i=Q933;var d6d=756;var h6d=576;var k9Y=this;this.pageNumber=s3i.R4d;this._pageWidth=h6d-s3i.M4d*this.MARGINS;this._pageHeight=d6d-s3i.M4d*this.MARGINS;this.pages=new uicontrols.UIElement(s3i.S3d);this.stylesList=[];this.rowsShift=this.columnsShift=s3i.R4d;utils.ThreadManager.addTask(this.generatePageColumn,this,s3i.V2d,function(){return k9Y.finish();});};Y9Y.prototype.clear=function(){var Q3i=Q933;this._printInProgress=!Q3i.E4d;this.columnsShift=this.pageNumber=this.rowsShift=this.columnsShift=Q3i.R4d;this.pages=this.printSprite=Q3i.V2d;this.footerHeight=this.headerHeight=Q3i.R4d;};Y9Y.prototype.generatePageColumn=function(){return this.addColumn();};Y9Y.prototype.addColumn=function(){var o2i=Q933;var s6B="td:last-child";if(o2i.V2d==this.printSprite)this.printSprite=this.createPage(),this.printTable=this.printSprite.find(Q6B);else if(!(this.printSprite.getWidth(!o2i.R4d)<=this._pageWidth&&o2i.R4d!=this.columnsShift)&&(this.printSprite.getWidth(!o2i.R4d)>this._pageWidth&&(this.columnsShift--,this.printSprite.find(s6B).remove()),this.addPageToPJ(),this.printSprite=this.createPage(),this.printTable=this.printSprite.find(Q6B),!o2i.E4d==this.grid.isFlatTable)){var C9Y=this.columnsShift;o2i.R4d!=this.columnsShift&&(this.columnsShift=o2i.R4d,this.addColumnOnPage(),this.columnsShift=C9Y,this.columnsShift+o2i.E4d<=this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?o2i.E4d:o2i.R4d)&&(this.columnsShift+=o2i.E4d));}this.addColumnOnPage();if(!(!o2i.R4d==this.shift()))return!o2i.E4d;this.addPageToPJ();return!o2i.R4d;};Y9Y.prototype.createPage=function(){var D2i=Q933;var X6B="page";var a9Y=new uicontrols.UIElement(D2i.S3d).addClass(X6B);a9Y.css(D2i.E5d,s933.M5d).css(D2i.J3d,s933.J1d);if(D2i.V2d!=this._options.header){var H9Y=this.createHeaderFooter(this._options.header);a9Y.append(H9Y);}var O9Y=new uicontrols.UIElement(Q6B);D2i.R4d==this.pageNumber&&D2i.R4d<N9Y._options.OptionsManager.gridTitle.length&&O9Y.append(new uicontrols.UIElement(s933.P6B).text(N9Y._options.OptionsManager.gridTitle));a9Y.append(O9Y);if(D2i.V2d!=this._options.footer){var A9Y=this.createHeaderFooter(this._options.footer);a9Y.append(A9Y);}this.grid.container.append(a9Y);this.headerHeight=D2i.V2d!=H9Y?H9Y.getHeight():D2i.R4d;this.footerHeight=D2i.V2d!=A9Y?A9Y.getHeight():D2i.R4d;return a9Y;};Y9Y.prototype.createHeaderFooter=function(u9Y){var x9Y=new uicontrols.UIElement(Q933.S3d);u9Y=u9Y.replace(/##PAGE-NUMBER##/gi,(this.pageNumber+Q933.E4d).toString());u9Y=u9Y.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());x9Y.html(u9Y);return x9Y;};function Y9Y(){var R9Y=this;this.MARGINS=Q933.m4d;this._printInProgress=!Q933.E4d;this.printCompletedHandler=function(){return R9Y.onPrintCompleted();};this.footerHeight=this.headerHeight=Q933.R4d;}Y9Y.prototype.addPageToPJ=function(){var q2i=Q933;var S6B="tr:last-child";this.pageNumber++;e9Y.preloader(!q2i.R4d,N9Y._labels.Labels.MESSAGE_PLEASE_WAIT,this.pageNumber+q2i.R2d+N9Y._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!q2i.R4d);this.rowHeightSum>this._pageHeight&&(this._rowIdx--,this.printSprite.find(S6B).remove());this.printSprite.detach();this.printSprite.css(q2i.E5d,q2i.s3d).css(q2i.J3d,q2i.s3d);this.pages.append(this.printSprite);return!q2i.E4d;};Y9Y.prototype.shift=function(){var I2i=Q933;++this.columnsShift;this.columnsShift>this.dataProvider.extendedDataWidth-(this.grid.isFlatTable?I2i.E4d:I2i.R4d)&&(this.columnsShift=I2i.R4d,this.rowsShift+=this._rowIdx-this.grid.FIRST_DATA_ROW);return s933.N0d<=this.pageNumber||this.rowsShift>=this.dataProvider.extendedDataHeight?!I2i.R4d:!I2i.E4d;};Y9Y.prototype.addColumnOnPage=function(){this.rowHeightSum=Q933.R4d;var l9Y=this.grid.START_HEADERS_COLUMN+this.columnsShift,i9Y=this._pageHeight-this.headerHeight-this.footerHeight;for(this._rowIdx=this.grid.START_TABLE_ROW;this.rowHeightSum<=i9Y&&this._rowIdx<this.dataProvider.extendedDataHeight+this.grid.FIRST_DATA_ROW-this.rowsShift;this._rowIdx++){this.rowIndex=this._rowIdx<this.grid.FIRST_DATA_ROW?this._rowIdx:this._rowIdx+this.rowsShift;var G9Y=this.gridLayout.getCell(this.rowIndex,l9Y,!Q933.R4d,!Q933.R4d);this.rowHeightSum+=this.addCell(this._rowIdx,this.columnsShift,G9Y);if(this.rowHeightSum>=i9Y)break;}};Y9Y.prototype.addCell=function(T9Y,f9Y,j9Y){var m2i=X933;var K2i=s933;var y2i=Q933;var V6B="maxWidth:400px'";var L6B="tr";f9Y=this.printTable.find(L6B,!y2i.R4d);for(f9Y=y2i.R4d<f9Y.length?f9Y[T9Y]:y2i.V2d;y2i.V2d==f9Y;)this.printTable.append(new uicontrols.UIElement(L6B)),f9Y=this.printTable.find(L6B,!y2i.R4d)[T9Y];T9Y=K2i.g6B+(j9Y?j9Y.getLabel():y2i.s3d)+K2i.w6B;if(y2i.V2d==j9Y)T9Y=utils.StringUtils.bind(T9Y,K2i.z6B);else{var U9Y=y2i.s3d,c9Y=y2i.s3d;j9Y.isCustomized&&(c9Y=j9Y.style.getStyleString(),U9Y=j9Y.style.getCustomClassString(),this.appendStylesList(j9Y.style.customStyleNames));U9Y=j9Y.isRowHeader?U9Y+(K2i.Z6B+j9Y.level):j9Y.isColumnHeader?U9Y+K2i.t6B:j9Y.isFilterHeader?U9Y+m2i.p6B:j9Y.isTotal&&y2i.s3d!=j9Y.getLabel()?U9Y+m2i.F6B:U9Y+m2i.e6B;y2i.s3d!=U9Y.trim()&&(U9Y=m2i.N6B+U9Y.trim()+K2i.X9h);y2i.s3d!=c9Y.trim()&&(c9Y=m2i.b6B+c9Y.trim()+V6B);T9Y=utils.StringUtils.bind(T9Y,U9Y+y2i.R2d+c9Y);}f9Y.element.innerHTML+=T9Y;return f9Y.getHeight(!y2i.R4d)+y2i.k4d;};Y9Y.prototype.appendStylesList=function(n9Y){for(var W9Y=Q933.R4d;W9Y<n9Y.length;W9Y++)Q933.R4d>this.stylesList.indexOf(n9Y[W9Y])&&this.stylesList.push(n9Y[W9Y]);};Y9Y.prototype.finish=function(){var W2i=Q933;var Y6B="Sending pages to printer...";e9Y.preloader(!W2i.R4d,N9Y._labels.Labels.MESSAGE_PLEASE_WAIT,Y6B,!W2i.E4d,!W2i.R4d);misc.PrintJob.print(this.pages.html(),this.generateStyle(),N9Y._options.OptionsManager.gridTitle);e9Y.preloader(!W2i.E4d);N9Y.PivotModel.getInstance().dispatchWith(e9Y.PivotEvent.PRINT_COMPLETE);this.clear();};Y9Y.prototype.generateStyle=function(){var c2i=X933;var f2i=Q933;var j6B=".page:not(:last-child), svg { page-break-after: always; }";var a6B="border: 1px solid #eee;";var C6B="td{white-space:nowrap;{0}}\n";var k6B="caption{{0}}\n";var E6B="table{width:100%;border-collapse:collapse;{0}}\n";for(var y9Y=f2i.s3d,m9Y=uicontrols.UIElement.convert(this.gridLayout.element),K9Y=m9Y.find(c2i.R6B),y9Y=y9Y+utils.StringUtils.bind(E6B,e9Y._view.grid.vo.StyleValueObject.fromItemToString(m9Y,[c2i.M6B,c2i.J6B])),y9Y=y9Y+utils.StringUtils.bind(k6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.TITLE,m9Y)),y9Y=y9Y+utils.StringUtils.bind(C6B,utils.browserVersion().isChrome?f2i.s3d:a6B),y9Y=y9Y+utils.StringUtils.bind(c2i.H6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.CELL,K9Y)),y9Y=y9Y+utils.StringUtils.bind(c2i.A6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.CELL+f2i.R2d+e9Y._view.grid.vo.GridStyleName.TOTAL,K9Y)),y9Y=y9Y+utils.StringUtils.bind(c2i.O6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.CELL+f2i.R2d+e9Y._view.grid.vo.GridStyleName.HEADER+f2i.R2d+e9Y._view.grid.vo.GridStyleName.HEADER_ROW,m9Y)),y9Y=y9Y+utils.StringUtils.bind(c2i.u6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.CELL+f2i.R2d+e9Y._view.grid.vo.GridStyleName.HEADER+f2i.R2d+e9Y._view.grid.vo.GridStyleName.HEADER_COLUMN,m9Y)),y9Y=y9Y+utils.StringUtils.bind(c2i.x6B,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.CELL+f2i.R2d+e9Y._view.grid.vo.GridStyleName.HEADER+f2i.R2d+e9Y._view.grid.vo.GridStyleName.FILTER_HEADER,m9Y)),K9Y=f2i.E4d;f2i.W4d>=K9Y;K9Y++)y9Y+=utils.StringUtils.bind(c2i.i6B,K9Y,e9Y._view.grid.vo.StyleValueObject.fromClassToString(e9Y._view.grid.vo.GridStyleName.HEADER_ROW+f2i.R2d+e9Y._view.grid.vo.GridStyleName.LEVEL+K9Y,m9Y,[c2i.l6B]));for(K9Y=f2i.R4d;K9Y<this.stylesList.length;K9Y++)y9Y+=utils.StringUtils.bind(c2i.G6B,this.stylesList[K9Y],e9Y._view.grid.vo.StyleValueObject.fromClassToString(this.stylesList[K9Y],m9Y));return y9Y+j6B;};return Y9Y;}();V9Y.PrintingManager=b9Y;}(N9Y.printing||(N9Y.printing={})));}(e9Y.model||(e9Y.model={})));}(pivot||(pivot={})));(function(r9Y){(function(I9Y){(function(q9Y){var B9Y=function(){v9Y.fromObject=function(h9Y){var D9Y=new v9Y();Q933.V2d!=h9Y&&(Q933.V2d!=h9Y.header&&(D9Y.header=h9Y.header),Q933.V2d!=h9Y.footer&&(D9Y.footer=h9Y.footer));return D9Y;};function v9Y(){}return v9Y;}();q9Y.PrintOptions=B9Y;}(I9Y.printing||(I9Y.printing={})));}(r9Y.model||(r9Y.model={})));}(pivot||(pivot={})));(function(d9Y){(function(o9Y){(function(Q7Y){var s7Y=function(P7Y){var B6I=Q933;var t2B="showReportFiltersArea";var Z2B="grandTotalsPosition";var z2B="showAggregationLabels";var w2B="defaultHierarchySortName";var g2B="selectEmptyCells";var L2B="showCalculatedValuesButton";var S2B="dateTimePattern";var P2B="datePattern";var X2B="showGrandTotals";var s2B="showTotals";var Q2B="saveAllFormats";var o6B="showHierarchies";var d6B="showDrillThroughConfigurator";var h6B="sorting";var q6B="showExtraTotalLabels";var B6B="showHierarchyCaptions";var r6B="showEmptyData";var m6B="showDefaultSlice";var K6B="showFilter";var y6B="gridTitle";var n6B="flatView";var W6B="gridType";var c6B="classicView";var f6B="configuratorButton";var T6B="configuratorActive";var U6B="configuratorOpened";__extends(X7Y,P7Y);X7Y.getInstance=function(){utils.nullOrUndefined(X7Y.instance)&&(X7Y.instance=new X7Y());return X7Y.instance;};X7Y.dispose=function(){X7Y._globals._defaults=B6I.V2d;X7Y._globals=B6I.V2d;X7Y._options=B6I.V2d;X7Y._defaults=B6I.V2d;X7Y.instance=B6I.V2d;};X7Y.setGlobalOptions=function(L7Y){X7Y._globals=L7Y;};X7Y.getOptions=function(w7Y,z7Y){void B6I.R4d===w7Y&&(w7Y=!B6I.E4d);void B6I.R4d===z7Y&&(z7Y=!B6I.E4d);var g7Y=new Q7Y.vo.OptionsValueObject();w7Y&&g7Y.mergeWith(X7Y._defaults);z7Y&&g7Y.mergeWith(X7Y._globals);g7Y.mergeWith(X7Y._options);w7Y||g7Y.cleanFromDefaults();return g7Y;};X7Y.clear=function(){this._options=new Q7Y.vo.OptionsValueObject();};function X7Y(){var S7Y=P7Y.call(this)||this;X7Y._defaults=new Q7Y.vo.OptionsValueObject();X7Y._defaults.setDefaults();X7Y._options=new Q7Y.vo.OptionsValueObject();if(X7Y.instance)throw Error(s933.m0d);return S7Y;}X7Y.setOptions=function(N7Y,p7Y){void B6I.R4d===p7Y&&(p7Y=!B6I.R4d);if(utils.nullOrUndefined(X7Y._options)||p7Y){var Z7Y=X7Y.configuratorOpened;X7Y._options=new Q7Y.vo.OptionsValueObject();X7Y._options.configuratorOpened=Z7Y;}var Z7Y=Q7Y.vo.OptionsValueObject.toPlainObject(N7Y),F7Y=!B6I.E4d;X7Y.dispatchSuspended=!B6I.R4d;var e7Y=X7Y.getOptions(!B6I.R4d,!B6I.R4d),t7Y;for(t7Y in Z7Y)if(void B6I.R4d!=e7Y[t7Y]&&Z7Y[t7Y]!=e7Y[t7Y]&&(F7Y=!B6I.R4d,X7Y.optionAffectDataProvider(t7Y))){X7Y.optionAffectedDataProvider=!B6I.R4d;break;}X7Y._options.mergeWith(Z7Y);d9Y.data_._structure.GenericHierarchy.DEFAULT_SORT_NAME=X7Y.defaultHierarchySortName;X7Y.dispatchSuspended=!B6I.E4d;F7Y&&X7Y.dispatchReportChange();};X7Y.optionAffectDataProvider=function(b7Y){return-B6I.E4d<X7Y._optionsAffectDataProvider.indexOf(b7Y);};X7Y.getOption=function(V7Y){return B6I.V2d!=X7Y._options[V7Y]?X7Y._options[V7Y]:X7Y._globals&&B6I.V2d!=X7Y._globals[V7Y]?X7Y._globals[V7Y]:X7Y._defaults[V7Y];};Object.defineProperty(X7Y,U6B,{get:function(){return X7Y._options.configuratorOpened;},set:function(Y7Y){X7Y._options.configuratorOpened=Y7Y;},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,T6B,{get:function(){return X7Y.getOption(T6B);},set:function(R7Y){X7Y._options.configuratorActive!=R7Y&&(X7Y.configuratorOpened=X7Y._options.configuratorActive=R7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,f6B,{get:function(){return X7Y.getOption(f6B);},set:function(E7Y){X7Y._options.configuratorButton!=E7Y&&(X7Y._options.configuratorButton=E7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,c6B,{get:function(){return X7Y.getOption(W6B)==d9Y._view.grid.GridType.CLASSIC;},set:function(M7Y){X7Y._options.gridType!=d9Y._view.grid.GridType.CLASSIC&&(X7Y._options.gridType=d9Y._view.grid.GridType.CLASSIC,X7Y.optionAffectedDataProvider=X7Y.optionAffectDataProvider(W6B),X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,n6B,{get:function(){return X7Y.getOption(W6B)==d9Y._view.grid.GridType.FLAT;},set:function(J7Y){X7Y._options.gridType!=d9Y._view.grid.GridType.FLAT&&(X7Y._options.gridType=d9Y._view.grid.GridType.FLAT,X7Y.optionAffectedDataProvider=X7Y.optionAffectDataProvider(W6B),X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,W6B,{get:function(){return X7Y.getOption(W6B);},set:function(k7Y){X7Y._options.gridType!=k7Y&&(X7Y._options.gridType=k7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,y6B,{get:function(){return X7Y.getOption(y6B);},set:function(C7Y){X7Y._options.gridTitle!=C7Y&&(X7Y._options.gridTitle=C7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,K6B,{get:function(){return X7Y.getOption(K6B);},set:function(a7Y){X7Y._options.showFilter!=a7Y&&(X7Y._options.showFilter=a7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,m6B,{get:function(){return X7Y.getOption(m6B);},set:function(H7Y){X7Y._options.showDefaultSlice!=H7Y&&(X7Y._options.showDefaultSlice=H7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,r6B,{get:function(){return X7Y.getOption(r6B);},set:function(A7Y){X7Y._options.showEmptyData!=A7Y&&(X7Y._options.showEmptyData=A7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,X933.I6B,{get:function(){return X7Y.getOption(X933.I6B);},set:function(O7Y){X7Y._options.showAggregations!=O7Y&&(X7Y._options.showAggregations=O7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,B6B,{get:function(){return X7Y.getOption(B6B);},set:function(u7Y){X7Y._options.showHierarchyCaptions!=u7Y&&(X7Y._options.showHierarchyCaptions=u7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,q6B,{get:function(){return X7Y.getOption(q6B);},set:function(x7Y){X7Y._options.showExtraTotalLabels!=x7Y&&(X7Y._options.showExtraTotalLabels=x7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,X933.v6B,{get:function(){return X7Y.getOption(X933.v6B);},set:function(i7Y){X7Y._options.showHeaders!=i7Y&&(X7Y._options.showHeaders=i7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,h6B,{get:function(){return X7Y.getOption(h6B);},set:function(l7Y){X7Y._options.sorting!=l7Y&&(X7Y._options.sorting=l7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,X933.D6B,{get:function(){return X7Y.getOption(X933.D6B);},set:function(G7Y){X7Y._options.drillThrough!=G7Y&&(X7Y._options.drillThrough=G7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,d6B,{get:function(){return X7Y.getOption(d6B);},set:function(j7Y){X7Y._options.showDrillThroughConfigurator!=j7Y&&(X7Y._options.showDrillThroughConfigurator=j7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,o6B,{get:function(){return X7Y.getOption(o6B);},set:function(U7Y){X7Y._options.showHierarchies!=U7Y&&(X7Y._options.showHierarchies=U7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,Q2B,{get:function(){return X7Y.getOption(Q2B);},set:function(T7Y){X7Y._options.saveAllFormats!=T7Y&&(X7Y._options.saveAllFormats=T7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,s2B,{get:function(){return X7Y.getOption(s2B);},set:function(f7Y){X7Y._options.showTotals!=f7Y&&(X7Y._options.showTotals=f7Y,X7Y.optionAffectedDataProvider=X7Y.optionAffectDataProvider(s2B),X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,X2B,{get:function(){return X7Y.getOption(X2B);},set:function(c7Y){X7Y._options.showGrandTotals!=c7Y&&(X7Y._options.showGrandTotals=c7Y,X7Y.optionAffectedDataProvider=X7Y.optionAffectDataProvider(X2B),X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,P2B,{get:function(){return X7Y.getOption(P2B);},set:function(W7Y){X7Y._options.datePattern!=W7Y&&(X7Y._options.datePattern=W7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,S2B,{get:function(){return X7Y.getOption(S2B);},set:function(n7Y){X7Y._options.dateTimePattern!=n7Y&&(X7Y._options.dateTimePattern=n7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,L2B,{get:function(){return X7Y.getOption(L2B);},set:function(y7Y){X7Y._options.showCalculatedValuesButton!=y7Y&&(X7Y._options.showCalculatedValuesButton=y7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,g2B,{get:function(){return X7Y.getOption(g2B);},set:function(K7Y){X7Y._options.selectEmptyCells!=K7Y&&(X7Y._options.selectEmptyCells=K7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,w2B,{get:function(){return X7Y.getOption(w2B);},set:function(m7Y){X7Y._options.defaultHierarchySortName!=m7Y&&(X7Y._options.defaultHierarchySortName=m7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,z2B,{get:function(){return X7Y.getOption(z2B);},set:function(r7Y){X7Y._options.showAggregationLabels!=r7Y&&(X7Y._options.showAggregationLabels=r7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,Z2B,{get:function(){return X7Y.getOption(Z2B);},set:function(I7Y){X7Y._options.grandTotalsPosition!=I7Y&&(X7Y._options.grandTotalsPosition=I7Y,X7Y.optionAffectedDataProvider=X7Y.optionAffectDataProvider(Z2B),X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});Object.defineProperty(X7Y,t2B,{get:function(){return X7Y.getOption(t2B);},set:function(B7Y){X7Y._options.showReportFiltersArea!=B7Y&&(X7Y._options.showReportFiltersArea=B7Y,X7Y.dispatchReportChange());},enumerable:!B6I.R4d,configurable:!B6I.R4d});X7Y.dispatchReportChange=function(){X7Y.dispatchSuspended||X7Y.getInstance().dispatch(new events._Event(o9Y._state.StateEvent.REPORT_CHANGED));};X7Y.optionAffectedDataProvider=!B6I.E4d;X7Y.dispatchSuspended=!B6I.E4d;X7Y._optionsAffectDataProvider=[W6B,s2B,X2B,Z2B];X7Y.defaultDatePattern=s933.x8d;X7Y.defaultDateTimePattern=s933.i8d;return X7Y;}(events.EventDispatcher);Q7Y.OptionsManager=s7Y;}(o9Y._options||(o9Y._options={})));}(d9Y.model||(d9Y.model={})));}(pivot||(pivot={})));(function(q7Y){(function(v7Y){(function(h7Y){(function(d7Y){var D7Y=function(){o7Y.prototype.setDefaults=function(){for(var Q4Y in this._defaults)this[Q4Y]=this._defaults[Q4Y];};o7Y.prototype.cleanFromDefaults=function(){for(var s4Y in this._defaults)this[s4Y]==this._defaults[s4Y]&&(this[s4Y]=void Q933.R4d);};function o7Y(){var H0i=Q933;this._defaults={configuratorActive:!H0i.E4d,configuratorOpened:!H0i.E4d,configuratorButton:!H0i.R4d,gridType:q7Y._view.grid.GridType.COMPACT,gridTitle:H0i.s3d,showFilter:!H0i.R4d,showDefaultSlice:!H0i.R4d,showEmptyData:!H0i.R4d,showAggregations:!H0i.R4d,showHierarchyCaptions:!H0i.R4d,drillthroughMaxRows:s933.N0d,showHeaders:!H0i.R4d,showReportFiltersArea:!H0i.R4d,showExtraTotalLabels:!H0i.E4d,drillThrough:!H0i.R4d,showDrillThroughConfigurator:!H0i.R4d,sorting:H0i.f3d,showHierarchies:!H0i.R4d,saveAllFormats:!H0i.E4d,showTotals:H0i.f3d,showGrandTotals:H0i.f3d,datePattern:s933.x8d,dateTimePattern:s933.i8d,showCalculatedValuesButton:!H0i.R4d,selectEmptyCells:!H0i.R4d,defaultHierarchySortName:q7Y.data_.consts.SortType.ASC,showAggregationLabels:!H0i.R4d,grandTotalsPosition:H0i.k3d};}o7Y.fromObject=function(X4Y){var u0i=s933;var O0i=Q933;var P4Y=new o7Y();if(void O0i.R4d==X4Y)return P4Y;O0i.V2d!=X4Y.options&&(X4Y=X4Y.options);X4Y instanceof o7Y||(X4Y=o7Y.toPlainObject(X4Y));O0i.V2d!=X4Y.configuratorActive&&(P4Y.configuratorActive=X4Y.configuratorActive);O0i.V2d!=X4Y.configuratorButton&&(P4Y.configuratorButton=X4Y.configuratorButton);O0i.V2d!=X4Y.gridTitle&&(P4Y.gridTitle=X4Y.gridTitle);O0i.V2d!=X4Y.gridType&&(P4Y.gridType=X4Y.gridType);O0i.V2d!=X4Y.showFilter&&(P4Y.showFilter=X4Y.showFilter);O0i.V2d!=X4Y.showDefaultSlice&&(P4Y.showDefaultSlice=X4Y.showDefaultSlice);O0i.V2d!=X4Y.showEmptyData&&(P4Y.showEmptyData=X4Y.showEmptyData);O0i.V2d!=X4Y.showAggregations&&(P4Y.showAggregations=X4Y.showAggregations);O0i.V2d!=X4Y.showHierarchyCaptions&&(P4Y.showHierarchyCaptions=X4Y.showHierarchyCaptions);O0i.V2d!=X4Y.showHeaders&&(P4Y.showHeaders=X4Y.showHeaders);O0i.V2d!=X4Y.showReportFiltersArea&&(P4Y.showReportFiltersArea=X4Y.showReportFiltersArea);O0i.V2d!=X4Y.showExtraTotalLabels&&(P4Y.showExtraTotalLabels=X4Y.showExtraTotalLabels);O0i.V2d!=X4Y.drillThrough&&(P4Y.drillThrough=X4Y.drillThrough);O0i.V2d!=X4Y.showDrillThroughConfigurator&&(P4Y.showDrillThroughConfigurator=X4Y.showDrillThroughConfigurator);O0i.V2d!=X4Y.sorting&&(P4Y.sorting=X4Y.sorting,u0i.C8d==P4Y.sorting.toString().toLowerCase()&&(P4Y.sorting=O0i.f3d),u0i.o7B==P4Y.sorting.toString().toLowerCase()&&(P4Y.sorting=X933.p2B));O0i.V2d!=X4Y.showHierarchies&&(P4Y.showHierarchies=X4Y.showHierarchies);O0i.V2d!=X4Y.saveAllFormats&&(P4Y.saveAllFormats=X4Y.saveAllFormats);O0i.V2d!=X4Y.showTotals&&(P4Y.showTotals=X4Y.showTotals,u0i.C8d==P4Y.showTotals.toString().toLowerCase()&&(P4Y.showTotals=O0i.f3d),u0i.o7B==P4Y.showTotals.toString().toLowerCase()&&(P4Y.showTotals=X933.p2B));O0i.V2d!=X4Y.showGrandTotals&&(P4Y.showGrandTotals=X4Y.showGrandTotals,u0i.C8d==P4Y.showGrandTotals.toString().toLowerCase()&&(P4Y.showGrandTotals=O0i.f3d),u0i.o7B==P4Y.showGrandTotals.toString().toLowerCase()&&(P4Y.showGrandTotals=X933.p2B));O0i.V2d!=X4Y.datePattern&&(P4Y.datePattern=X4Y.datePattern);O0i.V2d!=X4Y.dateTimePattern&&(P4Y.dateTimePattern=X4Y.dateTimePattern);O0i.V2d!=X4Y.showCalculatedValuesButton&&(P4Y.showCalculatedValuesButton=X4Y.showCalculatedValuesButton);O0i.V2d!=X4Y.selectEmptyCells&&(P4Y.selectEmptyCells=X4Y.selectEmptyCells);O0i.V2d!=X4Y.defaultHierarchySortName&&(P4Y.defaultHierarchySortName=X4Y.defaultHierarchySortName);O0i.V2d!=X4Y.showAggregationLabels&&(P4Y.showAggregationLabels=X4Y.showAggregationLabels);O0i.V2d!=X4Y.grandTotalsPosition&&(P4Y.grandTotalsPosition=X4Y.grandTotalsPosition);return P4Y;};o7Y.toPlainObject=function(S4Y){var l0i=s933;var i0i=Q933;var L4Y={};if(void i0i.R4d==S4Y)return L4Y;i0i.V2d!=S4Y.configuratorActive&&(L4Y.configuratorActive=S4Y.configuratorActive);i0i.V2d!=S4Y.configuratorButton&&(L4Y.configuratorButton=S4Y.configuratorButton);i0i.V2d!=S4Y.showAggregations&&(L4Y.showAggregations=S4Y.showAggregations);i0i.V2d!=S4Y.showCalculatedValuesButton&&(L4Y.showCalculatedValuesButton=S4Y.showCalculatedValuesButton);i0i.V2d!=S4Y.drillThrough&&(L4Y.drillThrough=S4Y.drillThrough);i0i.V2d!=S4Y.showDrillThroughConfigurator&&(L4Y.showDrillThroughConfigurator=S4Y.showDrillThroughConfigurator);i0i.V2d!=S4Y.sorting&&(L4Y.sorting=S4Y.sorting);i0i.V2d!=S4Y.datePattern&&(L4Y.datePattern=S4Y.datePattern);i0i.V2d!=S4Y.dateTimePattern&&(L4Y.dateTimePattern=S4Y.dateTimePattern);i0i.V2d!=S4Y.saveAllFormats&&(L4Y.saveAllFormats=S4Y.saveAllFormats);i0i.V2d!=S4Y.showDefaultSlice&&(L4Y.showDefaultSlice=S4Y.showDefaultSlice);i0i.V2d!=S4Y.showEmptyData&&(L4Y.showEmptyData=S4Y.showEmptyData);i0i.V2d!=S4Y.defaultHierarchySortName&&(L4Y.defaultHierarchySortName=S4Y.defaultHierarchySortName);i0i.V2d!=S4Y.selectEmptyCells&&(L4Y.selectEmptyCells=S4Y.selectEmptyCells);i0i.V2d!=S4Y.showAggregationLabels&&(L4Y.showAggregationLabels=S4Y.showAggregationLabels);i0i.V2d!=S4Y.classicView&&(L4Y.classicView=S4Y.classicView);i0i.V2d!=S4Y.flatView&&(L4Y.flatView=S4Y.flatView);i0i.V2d!=S4Y.gridType&&(L4Y.gridType=S4Y.gridType);i0i.V2d!=S4Y.gridTitle&&(L4Y.gridTitle=S4Y.gridTitle);i0i.V2d!=S4Y.showFilter&&(L4Y.showFilter=S4Y.showFilter);i0i.V2d!=S4Y.showHeaders&&(L4Y.showHeaders=S4Y.showHeaders);i0i.V2d!=S4Y.showTotals&&(L4Y.showTotals=S4Y.showTotals);i0i.V2d!=S4Y.showGrandTotals&&(L4Y.showGrandTotals=S4Y.showGrandTotals);i0i.V2d!=S4Y.grandTotalsPosition&&(L4Y.grandTotalsPosition=S4Y.grandTotalsPosition);i0i.V2d!=S4Y.showExtraTotalLabels&&(L4Y.showExtraTotalLabels=S4Y.showExtraTotalLabels);i0i.V2d!=S4Y.showHierarchies&&(L4Y.showHierarchies=S4Y.showHierarchies);i0i.V2d!=S4Y.showHierarchyCaptions&&(L4Y.showHierarchyCaptions=S4Y.showHierarchyCaptions);i0i.V2d!=S4Y.drillthroughMaxRows&&(L4Y.drillthroughMaxRows=S4Y.drillthroughMaxRows);i0i.V2d!=S4Y.showReportFiltersArea&&(L4Y.showReportFiltersArea=S4Y.showReportFiltersArea);i0i.V2d!=S4Y.grid&&(S4Y=S4Y.grid,i0i.V2d!=S4Y.type&&(L4Y.gridType=S4Y.type),i0i.V2d!=S4Y.title&&(L4Y.gridTitle=S4Y.title),i0i.V2d!=S4Y.showFilter&&(L4Y.showFilter=S4Y.showFilter),i0i.V2d!=S4Y.showHeaders&&(L4Y.showHeaders=S4Y.showHeaders),i0i.V2d!=S4Y.showTotals&&(L4Y.showTotals=S4Y.showTotals,l0i.C8d==L4Y.showTotals.toString().toLowerCase()&&(L4Y.showTotals=i0i.f3d),l0i.o7B==L4Y.showTotals.toString().toLowerCase()&&(L4Y.showTotals=X933.p2B)),i0i.V2d!=S4Y.showGrandTotals&&(L4Y.showGrandTotals=S4Y.showGrandTotals,l0i.C8d==L4Y.showGrandTotals.toString().toLowerCase()&&(L4Y.showGrandTotals=i0i.f3d),l0i.o7B==L4Y.showGrandTotals.toString().toLowerCase()&&(L4Y.showGrandTotals=X933.p2B)),i0i.V2d!=S4Y.grandTotalsPosition&&(L4Y.grandTotalsPosition=S4Y.grandTotalsPosition),i0i.V2d!=S4Y.showExtraTotalLabels&&(L4Y.showExtraTotalLabels=S4Y.showExtraTotalLabels),i0i.V2d!=S4Y.showHierarchies&&(L4Y.showHierarchies=S4Y.showHierarchies),i0i.V2d!=S4Y.showHierarchyCaptions&&(L4Y.showHierarchyCaptions=S4Y.showHierarchyCaptions),i0i.V2d!=S4Y.drillthroughMaxRows&&(L4Y.drillthroughMaxRows=S4Y.drillthroughMaxRows),i0i.V2d!=S4Y.showReportFiltersArea&&(L4Y.showReportFiltersArea=S4Y.showReportFiltersArea));return L4Y;};o7Y.prototype.toObject=function(){var j0i=Q933;var g4Y={},w4Y={};this.gridType===q7Y._view.grid.GridType.COMPACT?w4Y.type=q7Y._view.grid.GridType.COMPACT:this.gridType===q7Y._view.grid.GridType.CLASSIC?w4Y.type=q7Y._view.grid.GridType.CLASSIC:this.gridType===q7Y._view.grid.GridType.FLAT&&(w4Y.type=q7Y._view.grid.GridType.FLAT);j0i.V2d!=this.gridTitle&&(w4Y.title=this.gridTitle);j0i.V2d!=this.showFilter&&(w4Y.showFilter=this.showFilter);j0i.V2d!=this.showHeaders&&(w4Y.showHeaders=this.showHeaders);j0i.V2d!=this.showTotals&&(w4Y.showTotals=this.showTotals);j0i.V2d!=this.showGrandTotals&&(w4Y.showGrandTotals=this.showGrandTotals);j0i.V2d!=this.grandTotalsPosition&&(w4Y.grandTotalsPosition=this.grandTotalsPosition);j0i.V2d!=this.showExtraTotalLabels&&(w4Y.showExtraTotalLabels=this.showExtraTotalLabels);j0i.V2d!=this.showHierarchies&&(w4Y.showHierarchies=this.showHierarchies);j0i.V2d!=this.showHierarchyCaptions&&(w4Y.showHierarchyCaptions=this.showHierarchyCaptions);j0i.V2d!=this.drillthroughMaxRows&&(w4Y.drillthroughMaxRows=this.drillthroughMaxRows);j0i.V2d!=this.showReportFiltersArea&&(w4Y.showReportFiltersArea=this.showReportFiltersArea);utils.ObjectUtils.isEmptyObject(w4Y)||(g4Y.grid=w4Y);j0i.V2d!=this.configuratorActive&&(g4Y.configuratorActive=this.configuratorActive);j0i.V2d!=this.configuratorButton&&(g4Y.configuratorButton=this.configuratorButton);j0i.V2d!=this.showAggregations&&(g4Y.showAggregations=this.showAggregations);j0i.V2d!=this.showCalculatedValuesButton&&(g4Y.showCalculatedValuesButton=this.showCalculatedValuesButton);j0i.V2d!=this.drillThrough&&(g4Y.drillThrough=this.drillThrough);j0i.V2d!=this.showDrillThroughConfigurator&&(g4Y.showDrillThroughConfigurator=this.showDrillThroughConfigurator);j0i.V2d!=this.sorting&&(g4Y.sorting=this.sorting);j0i.V2d!=this.datePattern&&(g4Y.datePattern=this.datePattern);j0i.V2d!=this.dateTimePattern&&(g4Y.dateTimePattern=this.dateTimePattern);j0i.V2d!=this.saveAllFormats&&(g4Y.saveAllFormats=this.saveAllFormats);j0i.V2d!=this.showDefaultSlice&&(g4Y.showDefaultSlice=this.showDefaultSlice);j0i.V2d!=this.showEmptyData&&(g4Y.showEmptyData=this.showEmptyData);j0i.V2d!=this.defaultHierarchySortName&&(g4Y.defaultHierarchySortName=this.defaultHierarchySortName);j0i.V2d!=this.selectEmptyCells&&(g4Y.selectEmptyCells=this.selectEmptyCells);j0i.V2d!=this.showAggregationLabels&&(g4Y.showAggregationLabels=this.showAggregationLabels);return g4Y;};o7Y.prototype.mergeWith=function(Z4Y){for(var z4Y in Z4Y)this._defaults.hasOwnProperty(z4Y)&&void Q933.R4d!=Z4Y[z4Y]&&(this[z4Y]=Z4Y[z4Y]);};return o7Y;}();d7Y.OptionsValueObject=D7Y;}(h7Y.vo||(h7Y.vo={})));}(v7Y._options||(v7Y._options={})));}(q7Y.model||(q7Y.model={})));}(pivot||(pivot={})));(function(t4Y){(function(p4Y){(function(e4Y){var F4Y=function(b4Y){__extends(N4Y,b4Y);N4Y.getInstance=function(){Q933.V2d==N4Y.instance&&(N4Y.instance=new N4Y());return N4Y.instance;};N4Y.dispose=function(){N4Y.conditions=Q933.V2d;N4Y.instance=Q933.V2d;};N4Y.add=function(Y4Y){Q933.V2d!=Y4Y&&(N4Y.conditions.addItem(Y4Y.id,Y4Y),this.dispatchReportChange());};N4Y.get=function(R4Y){return N4Y.conditions.getItem(R4Y);};N4Y.remove=function(E4Y){N4Y.conditions.removeItem(E4Y);this.dispatchReportChange();};N4Y.removeAll=function(){N4Y.conditions=new utils.AssociativeArray();this.dispatchReportChange();};N4Y.getObjects=function(){for(var J4Y=[],M4Y=Q933.R4d;M4Y<N4Y.conditions.length;M4Y++){var k4Y=N4Y.conditions.getItemAt(M4Y);k4Y.isUpdate||J4Y.push(k4Y.toObject());}return J4Y;};N4Y.dispatchReportChange=function(){N4Y.getInstance().dispatchWith(p4Y._state.StateEvent.REPORT_CHANGED);};function N4Y(){var V4Y=b4Y.call(this)||this;if(Q933.V2d!=N4Y.instance)throw Error(s933.m0d);return V4Y;}N4Y.conditions=new utils.AssociativeArray();return N4Y;}(events.EventDispatcher);e4Y.ConditionManager=F4Y;}(p4Y.condition||(p4Y.condition={})));}(t4Y.model||(t4Y.model={})));}(pivot||(pivot={})));(function(C4Y){(function(a4Y){(function(H4Y){(function(O4Y){var u4Y=function(){var F2B="isUpdate";Object.defineProperty(x4Y.prototype,F2B,{get:function(){return-Q933.E4d<this.formula.toLowerCase().indexOf(C4Y.data_.consts.FunctionName.UPDATE_DIFFERENCE)||-Q933.E4d<this.formula.toLowerCase().indexOf(C4Y.data_.consts.FunctionName.UPDATE_PERCENT);},enumerable:!Q933.R4d,configurable:!Q933.R4d});x4Y.prototype.toObject=function(){var i4Y={};i4Y.id=this.id;i4Y.row=this.row;i4Y.column=this.column;void Q933.R4d!==this.isTotal&&(i4Y.isTotal=this.isTotal);i4Y.measure=this.measure;i4Y.member=this.member;i4Y.hierarchy=this.hierarchy;i4Y.formula=this.formula;Q933.V2d!=this.format&&(i4Y.format=this.format.toObject(),i4Y.formatCSS=this.format.toString());return i4Y;};x4Y.toObject=function(l4Y){return l4Y.toObject();};x4Y.fromObject=function(G4Y){var c0i=Q933;var j4Y=new x4Y();j4Y.id=c0i.V2d!=G4Y.id?G4Y.id:utils.StringUtils.generateID();c0i.V2d!=G4Y.row&&(j4Y.row=G4Y.row);c0i.V2d!=G4Y.column&&(j4Y.column=G4Y.column);if(c0i.V2d!=G4Y.isTotal){if(!c0i.R4d==G4Y.isTotal||c0i.E4d==G4Y.isTotal)j4Y.isTotal=!c0i.R4d;if(!c0i.E4d==G4Y.isTotal||c0i.R4d==G4Y.isTotal)j4Y.isTotal=!c0i.E4d;}c0i.V2d!=G4Y.measure&&(j4Y.measure=G4Y.measure);j4Y.formula=G4Y.formula;c0i.V2d!=G4Y.trueStyle&&c0i.V2d==G4Y.format&&(G4Y.format=G4Y.trueStyle);c0i.V2d!=G4Y.format&&(j4Y.format=c0i.Y3d===typeof G4Y.format?A4Y.fromString(G4Y.format):A4Y.fromObject(G4Y.format));G4Y=new utils.Lexer();j4Y.params=G4Y.parse(j4Y.formula);return c0i.V2d==j4Y.params?c0i.V2d:j4Y;};function x4Y(){this.id=Q933.s3d;this.column=this.row=-Q933.E4d;this.formula=this.hierarchy=this.member=this.measure=Q933.s3d;this.params=[];}return x4Y;}();O4Y.ConditionValueObject=u4Y;var A4Y=function(){U4Y.fromObject=function(T4Y){var n0i=Q933;var b2B=1.5;var f4Y=new U4Y();if(n0i.V2d==T4Y)return f4Y;n0i.V2d!=T4Y.backgroundColor&&(f4Y.backgroundColor=U4Y.color(T4Y.backgroundColor));n0i.V2d!=T4Y.color&&(f4Y.color=U4Y.color(T4Y.color));n0i.V2d!=T4Y.fontFamily&&(f4Y.fontFamily=T4Y.fontFamily);n0i.V2d!=T4Y.fontSize&&(f4Y.fontSize=U4Y.size(T4Y.fontSize));n0i.V2d!=T4Y.italic&&T4Y.italic&&(f4Y.fontStyle=X933.e2B);n0i.V2d!=T4Y.fontStyle&&(f4Y.fontStyle=T4Y.fontStyle);n0i.V2d!=T4Y.bold&&T4Y.bold&&(f4Y.fontWeight=X933.N2B);n0i.V2d!=T4Y.fontWeight&&(f4Y.fontWeight=T4Y.fontWeight);n0i.V2d!=T4Y.padding&&(f4Y.padding=U4Y.size(Math.round(b2B*T4Y.padding)));n0i.V2d!=T4Y.textAlign&&(f4Y.textAlign=T4Y.textAlign);n0i.V2d!=T4Y.textIndent&&(f4Y.textIndent=U4Y.size(T4Y.textIndent));return f4Y;};function U4Y(){}U4Y.fromString=function(c4Y){var m0i=Q933;var n4Y={};c4Y=c4Y.split(s933.E9h);if(m0i.V2d!=c4Y)for(var W4Y=m0i.R4d;W4Y<c4Y.length;W4Y++){var y4Y=c4Y[W4Y].split(s933.O8d)[m0i.R4d],K4Y=c4Y[W4Y].split(s933.O8d)[m0i.E4d];m0i.s3d!=y4Y&&(n4Y[y4Y]=K4Y);}return U4Y.fromObject(n4Y);};U4Y.prototype.toObject=function(){var r0i=Q933;var m4Y={};r0i.V2d!=this.backgroundColor&&(m4Y.backgroundColor=this.backgroundColor);r0i.V2d!=this.color&&(m4Y.color=this.color);r0i.V2d!=this.fontFamily&&(m4Y.fontFamily=this.fontFamily);r0i.V2d!=this.fontSize&&(m4Y.fontSize=this.fontSize);r0i.V2d!=this.fontStyle&&(m4Y.fontStyle=this.fontStyle);r0i.V2d!=this.fontWeight&&(m4Y.fontWeight=this.fontWeight);r0i.V2d!=this.padding&&(m4Y.padding=this.padding);r0i.V2d!=this.textAlign&&(m4Y.textAlign=this.textAlign);r0i.V2d!=this.textIndent&&(m4Y.textIndent=this.textIndent);return m4Y;};U4Y.prototype.toCSSObject=function(){var B0i=X933;var I0i=Q933;var M2B="text-indent";var Y2B="font-style";var r4Y={};I0i.V2d!=this.backgroundColor&&(r4Y[B0i.V2B]=this.backgroundColor);I0i.V2d!=this.color&&(r4Y.color=this.color);I0i.V2d!=this.fontFamily&&(r4Y[B0i.M6B]=this.fontFamily);I0i.V2d!=this.fontSize&&(r4Y[B0i.J6B]=this.fontSize);I0i.V2d!=this.fontStyle&&(r4Y[Y2B]=this.fontStyle);I0i.V2d!=this.fontWeight&&(r4Y[B0i.R2B]=this.fontWeight);I0i.V2d!=this.padding&&(r4Y.padding=this.padding);I0i.V2d!=this.textAlign&&(r4Y[B0i.E2B]=this.textAlign);I0i.V2d!=this.textIndent&&(r4Y[M2B]=this.textIndent);return r4Y;};U4Y.prototype.toString=function(){var I4Y=Q933.s3d,B4Y=this.toCSSObject(),q4Y;for(q4Y in B4Y)I4Y+=q4Y+s933.O8d+B4Y[q4Y]+s933.E9h;return I4Y;};U4Y.color=function(v4Y){var J2B="0x";return v4Y.replace(J2B,s933.j8d);};U4Y.size=function(h4Y){var D0i=Q933;return D0i.V3d==typeof h4Y?h4Y+D0i.r2d:D0i.Y3d==typeof h4Y&&D0i.R4d>h4Y.indexOf(D0i.r2d)?h4Y.trim()+D0i.r2d:h4Y;};return U4Y;}();O4Y.CSSValueObject=A4Y;}(H4Y.vo||(H4Y.vo={})));}(a4Y.condition||(a4Y.condition={})));}(C4Y.model||(C4Y.model={})));}(pivot||(pivot={})));(function(D4Y){(function(d4Y){(function(Q6Y){var o4Y=function(X6Y){var H6I=Q933;var a2B=/[A-Za-z]+/;var C2B="columnSizesNamed";var k2B="rowSizesNamed";__extends(s6Y,X6Y);s6Y.getInstance=function(){H6I.V2d==s6Y.instance&&(s6Y.instance=new s6Y());return s6Y.instance;};s6Y.dispose=function(){s6Y.rowFilterSizes=H6I.V2d;s6Y.rowHeaderSizes=H6I.V2d;s6Y.rowSizes=H6I.V2d;s6Y.rowSizesByIdx=H6I.V2d;s6Y._rowSizesNamed=H6I.V2d;s6Y._rowSizesNamedToApply=H6I.V2d;s6Y.columnHeaderSizes=H6I.V2d;s6Y.columnSizes=H6I.V2d;s6Y.columnSizesByIdx=H6I.V2d;s6Y._columnSizesNamed=H6I.V2d;s6Y._columnSizesNamedToApply=H6I.V2d;s6Y.instance=H6I.V2d;};Object.defineProperty(s6Y,k2B,{get:function(){return this._rowSizesNamed=s6Y.toNamedSizes(D4Y.data_.consts.AxisName.ROWS_AXIS);},enumerable:!H6I.R4d,configurable:!H6I.R4d});Object.defineProperty(s6Y,C2B,{get:function(){return this._columnSizesNamed=s6Y.toNamedSizes(D4Y.data_.consts.AxisName.COLUMNS_AXIS);},enumerable:!H6I.R4d,configurable:!H6I.R4d});s6Y.clear=function(){s6Y.rowSizes={};s6Y.columnSizes={};s6Y._rowSizesNamedToApply={};s6Y._rowSizesNamed={};s6Y._columnSizesNamedToApply={};s6Y._columnSizesNamed={};s6Y.rowSizesByIdx={};s6Y.columnSizesByIdx={};s6Y.rowHeaderSizes={};s6Y.columnHeaderSizes={};s6Y.rowFilterSizes={};};function s6Y(){var P6Y=X6Y.call(this)||this;if(H6I.V2d!=s6Y.instance)throw Error(s933.m0d);return P6Y;}s6Y.applySizes=function(S6Y,L6Y,g6Y,w6Y,z6Y,Z6Y,t6Y){if(s6Y.basedOnNamesArray(S6Y)||s6Y.basedOnNamesArray(L6Y))s6Y._rowSizesNamedToApply=s6Y.convertSizes(S6Y),s6Y._columnSizesNamedToApply=s6Y.convertSizes(L6Y),s6Y.processSizes();else if(s6Y.basedOnNamesObject(S6Y)||s6Y.basedOnNamesObject(L6Y))s6Y._rowSizesNamedToApply=S6Y,s6Y._columnSizesNamedToApply=L6Y,s6Y.processSizes();s6Y.rowSizesByIdx=g6Y;s6Y.columnSizesByIdx=w6Y;s6Y.rowHeaderSizes=z6Y;s6Y.columnHeaderSizes=Z6Y;s6Y.rowFilterSizes=t6Y;};s6Y.processSizes=function(){if(d4Y.PivotModel.getInstance().state_.reportState==d4Y._state.StateEvent.REPORT_COMPLETE)this.onDataLoaded();else D4Y.data_.Cube.getInstance().addEventListener(D4Y.data_.DataEvent.QUERY_COMPLETE,s6Y.onDataLoaded,H6I.E4d);};s6Y.basedOnNamesArray=function(p6Y){var F6Y=a2B,e6Y;for(e6Y in p6Y)if(-H6I.E4d<p6Y[e6Y].toString().search(F6Y))return!H6I.R4d;return!H6I.E4d;};s6Y.basedOnNamesObject=function(V6Y){var N6Y=a2B,b6Y;for(b6Y in V6Y)if(-H6I.E4d<b6Y.toString().search(N6Y))return!H6I.R4d;return!H6I.E4d;};s6Y.convertSizes=function(R6Y){var E6Y={};if(H6I.V2d!=R6Y)for(var M6Y in R6Y){var Y6Y=R6Y[M6Y];if(Y6Y instanceof Array&&H6I.R4d<Y6Y.length){var J6Y=parseInt(Y6Y.pop());E6Y[Y6Y.toString()]=J6Y;}}return E6Y;};s6Y.onDataLoaded=function(){D4Y.data_.Cube.getInstance().removeEventListener(D4Y.data_.DataEvent.QUERY_COMPLETE,s6Y.onDataLoaded);s6Y.rowSizes=s6Y.fromNamedSizes(D4Y.data_.consts.AxisName.ROWS_AXIS);s6Y._rowSizesNamedToApply={};s6Y.columnSizes=s6Y.fromNamedSizes(D4Y.data_.consts.AxisName.COLUMNS_AXIS);s6Y._columnSizesNamedToApply={};};s6Y.fromNamedSizes=function(O6Y){var i6Y={},x6Y=O6Y==D4Y.data_.consts.AxisName.ROWS_AXIS?s6Y._rowSizesNamedToApply:s6Y._columnSizesNamedToApply,u6Y;for(u6Y in x6Y){var C6Y=u6Y.split(s933.f0d),j6Y=x6Y[u6Y],l6Y=D4Y.data_.Cube.getInstance().slice_.axes.getItem(O6Y).hasMeasures,G6Y;l6Y&&!d4Y._options.OptionsManager.flatView&&(G6Y=C6Y[C6Y.length-H6I.E4d],C6Y.splice(C6Y.length-H6I.E4d,H6I.E4d));for(var A6Y=!H6I.E4d,H6Y=[],a6Y=H6I.R4d;a6Y<C6Y.length;a6Y++)if(d4Y._options.OptionsManager.flatView)if(O6Y==D4Y.data_.consts.AxisName.ROWS_AXIS)H6Y.push(C6Y[a6Y]);else{var k6Y=C6Y[a6Y],k6Y=D4Y.data_.Cube.getInstance().localDataStorage.keys.indexOf(k6Y);if(-H6I.E4d==k6Y){A6Y=!H6I.R4d;break;}H6Y.push(k6Y);}else{k6Y=C6Y[a6Y];k6Y=(O6Y==D4Y.data_.consts.AxisName.ROWS_AXIS?D4Y.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(a6Y):D4Y.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(a6Y)).members.getItem(k6Y);if(H6I.V2d==k6Y){A6Y=!H6I.R4d;break;}k6Y.isAll?H6Y.push(H6I.s3d):H6Y.push(k6Y.ordinal.toString());}if(!A6Y){if(l6Y&&!d4Y._options.OptionsManager.flatView){C6Y=D4Y.data_.Cube.getInstance().slice_.measures_.indexOf(G6Y);if(H6I.s3d!=G6Y&&-H6I.E4d==C6Y)continue;H6Y.push(C6Y);}i6Y[H6Y.toString()]=j6Y;}}return i6Y;};s6Y.toNamedSizes=function(y6Y){var I6Y={},B6Y=y6Y==D4Y.data_.consts.AxisName.ROWS_AXIS?s6Y.rowSizes:s6Y.columnSizes,m6Y;for(m6Y in B6Y){var T6Y=m6Y.split(s933.f0d),q6Y=B6Y[m6Y],K6Y=D4Y.data_.Cube.getInstance().slice_.axes.getItem(y6Y).hasMeasures,W6Y;K6Y&&!d4Y._options.OptionsManager.flatView&&(W6Y=parseInt(T6Y[T6Y.length-H6I.E4d]),T6Y.splice(T6Y.length-H6I.E4d,H6I.E4d));for(var n6Y=!H6I.E4d,c6Y=[],f6Y=H6I.R4d;f6Y<T6Y.length;f6Y++)if(d4Y._options.OptionsManager.flatView)if(y6Y==D4Y.data_.consts.AxisName.ROWS_AXIS)c6Y.push(T6Y[f6Y]);else{var U6Y=H6I.s3d===T6Y[f6Y]?H6I.R4d:parseInt(T6Y[f6Y]),U6Y=D4Y.data_.Cube.getInstance().localDataStorage.keys[U6Y];if(H6I.V2d==U6Y){n6Y=!H6I.R4d;break;}c6Y.push(U6Y);}else{var U6Y=H6I.s3d===T6Y[f6Y]?H6I.R4d:parseInt(T6Y[f6Y]),r6Y=y6Y==D4Y.data_.consts.AxisName.ROWS_AXIS?D4Y.data_.Cube.getInstance().slice_.rowsOnly.getItemAt(f6Y):D4Y.data_.Cube.getInstance().slice_.columnsOnly.getItemAt(f6Y);if(H6I.V2d==r6Y){n6Y=!H6I.R4d;break;}U6Y=r6Y.members.getItemAt(U6Y);if(H6I.V2d==U6Y){n6Y=!H6I.R4d;break;}c6Y.push(U6Y.uniqueName);}if(!n6Y){if(K6Y&&!d4Y._options.OptionsManager.flatView){if(W6Y>=D4Y.data_.Cube.getInstance().slice_.measures_.length)continue;-H6I.E4d==W6Y&&H6I.E4d==D4Y.data_.Cube.getInstance().slice_.measures_.length&&(W6Y=H6I.R4d);c6Y.push(D4Y.data_.Cube.getInstance().slice_.measures_.getKeyAt(W6Y));}I6Y[c6Y.toString()]=q6Y;}}return I6Y;};s6Y.rowSizes={};s6Y.columnSizes={};s6Y._rowSizesNamedToApply={};s6Y._rowSizesNamed={};s6Y._columnSizesNamedToApply={};s6Y._columnSizesNamed={};s6Y.startTableRow=H6I.R4d;s6Y.rowSizesByIdx={};s6Y.columnSizesByIdx={};s6Y.rowHeaderSizes={};s6Y.columnHeaderSizes={};s6Y.rowFilterSizes={};return s6Y;}(events.EventDispatcher);Q6Y.SizesManager=o4Y;}(d4Y.sizes||(d4Y.sizes={})));}(D4Y.model||(D4Y.model={})));}(pivot||(pivot={})));(function(v6Y){(function(h6Y){(function(D6Y){var d6Y=function(){var M6I=Q933;var v2B="Helvetica";var q2B=3.779;var T2B=0.9;var U2B="fullPageWidth";var j2B="fullPageHeight";var G2B="JPEG";var r6d=297;var U6d=210;o6Y.run=function(Q2Y,s2Y,X2Y,P2Y){var O2B="a4";var A2B="mm";var S2Y=this;v6Y.preloader(!M6I.R4d,h6Y._labels.Labels.MESSAGE_PLEASE_WAIT,X933.H2B,!M6I.R4d,!M6I.R4d);o6Y.clear();o6Y.grid=Q2Y;o6Y.dataHeight=P2Y;o6Y.dataWidth=X2Y;o6Y.coords=Q2Y.gridLayout.coords;o6Y.exportOptions=s2Y;o6Y.pdf=new jsPDF(s2Y.pageOrientation,A2B,O2B,!utils.browserVersion().isMsie);o6Y.pageHeight=o6Y.fullPageHeight-M6I.M4d*o6Y.PAGE_MARGIN;o6Y.pageWidth=o6Y.fullPageWidth-M6I.M4d*o6Y.PAGE_MARGIN;o6Y.totalColumnCount=o6Y.grid.FIRST_DATA_COLUMN+X2Y;o6Y.totalRowCount=o6Y.grid.FIRST_DATA_ROW+P2Y;o6Y.widthSize={};o6Y.currentYPos=o6Y.PAGE_MARGIN;try{o6Y.calculateColumnCount(),o6Y.getStyles(),o6Y.createHeaderAndFooter(o6Y.exportOptions.header,o6Y.exportOptions.footer,function(){return S2Y.onHeaderAndFooterCreated();});}catch(L2Y){var u2B="Export PDF error:";console.error(u2B,L2Y),v6Y.uialert(h6Y._labels.Labels.MESSAGE_EXPORT_ERROR,h6Y._labels.Labels.ERROR,v6Y.AlertType.ERROR),v6Y.preloader(!M6I.E4d),h6Y.PivotModel.getInstance().dispatch(new events._Event(v6Y.PivotEvent.EXPORT_COMPLETE)),o6Y.clear();}};o6Y.createHeaderAndFooter=function(z2Y,Z2Y,F2Y){var l2B="image/jpeg";var i2B="white";var x2B="background";var y4d=23;try{o6Y.headerHeight=M6I.R4d;o6Y.footerHeight=M6I.R4d;var t2Y=M6I.V2d==z2Y,p2Y=M6I.V2d==Z2Y;if(t2Y&&p2Y)F2Y();else{if(!t2Y){z2Y=z2Y.replace(/##PAGE-NUMBER##/gi,(o6Y.pageNumber+M6I.E4d).toString());z2Y=z2Y.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var g2Y=new uicontrols.UIElement(M6I.S3d);g2Y.css(M6I.E5d,s933.M5d);g2Y.css(x2B,i2B);g2Y.setWidth(o6Y.mm2px(o6Y.fullPageWidth-M6I.M4d*o6Y.HEADER_FOOTER_MARGIN));g2Y.html(z2Y);v6Y._view.PivotView.stage.container.prepend(g2Y);html2canvas(g2Y.element,{onrendered:function(e2Y){g2Y.remove();var N2Y=e2Y.toDataURL(l2B).slice(y4d);o6Y.headerImage=atob(N2Y);o6Y.headerHeight=o6Y.px2mm(e2Y.height);t2Y=!M6I.R4d;p2Y&&F2Y();},async:!M6I.R4d});}if(!p2Y){Z2Y=Z2Y.replace(/##PAGE-NUMBER##/gi,(o6Y.pageNumber+M6I.E4d).toString());Z2Y=Z2Y.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString());var w2Y=new uicontrols.UIElement(M6I.S3d);w2Y.css(M6I.E5d,s933.M5d);w2Y.css(x2B,i2B);w2Y.setWidth(o6Y.mm2px(o6Y.fullPageWidth-M6I.M4d*o6Y.HEADER_FOOTER_MARGIN));w2Y.html(Z2Y);v6Y._view.PivotView.stage.container.prepend(w2Y);html2canvas(w2Y.element,{onrendered:function(b2Y){w2Y.remove();var V2Y=b2Y.toDataURL(l2B).slice(y4d);o6Y.footerImage=atob(V2Y);o6Y.footerHeight=o6Y.px2mm(b2Y.height);p2Y=!M6I.R4d;t2Y&&F2Y();},async:!M6I.R4d});}}}catch(Y2Y){o6Y.headerImage=M6I.V2d,o6Y.headerHeight=M6I.R4d,o6Y.footerImage=M6I.V2d,o6Y.footerHeight=M6I.R4d,F2Y();}};o6Y.addHeader=function(R2Y,E2Y){R2Y.addImage(E2Y,G2B,o6Y.HEADER_FOOTER_MARGIN,o6Y.HEADER_FOOTER_MARGIN);};o6Y.addFooter=function(M2Y,J2Y){M2Y.addImage(J2Y,G2B,o6Y.HEADER_FOOTER_MARGIN,o6Y.fullPageHeight-o6Y.footerHeight-o6Y.HEADER_FOOTER_MARGIN);};o6Y.addHeaderAndFooter=function(){M6I.V2d!=o6Y.headerImage&&o6Y.addHeader(o6Y.pdf,o6Y.headerImage);M6I.V2d!=o6Y.footerImage&&o6Y.addFooter(o6Y.pdf,o6Y.footerImage);o6Y.pageHeight=o6Y.fullPageHeight;o6Y.pageHeight-=M6I.R4d==o6Y.headerHeight?o6Y.PAGE_MARGIN:o6Y.headerHeight+M6I.M4d*o6Y.HEADER_FOOTER_MARGIN;o6Y.pageHeight-=M6I.R4d==o6Y.footerHeight?o6Y.PAGE_MARGIN:o6Y.footerHeight+M6I.M4d*o6Y.HEADER_FOOTER_MARGIN;o6Y.currentYPos=M6I.R4d==o6Y.headerHeight?o6Y.PAGE_MARGIN:o6Y.headerHeight+M6I.M4d*o6Y.HEADER_FOOTER_MARGIN;};Object.defineProperty(o6Y,j2B,{get:function(){return s933.t7h===o6Y.exportOptions.pageOrientation?r6d:U6d;},enumerable:!M6I.R4d,configurable:!M6I.R4d});Object.defineProperty(o6Y,U2B,{get:function(){return s933.t7h===o6Y.exportOptions.pageOrientation?U6d:r6d;},enumerable:!M6I.R4d,configurable:!M6I.R4d});o6Y.onHeaderAndFooterCreated=function(){o6Y.addHeaderAndFooter();o6Y.addTitle(h6Y._options.OptionsManager.gridTitle,o6Y.pdf);utils.nullOrEmpty(h6Y._options.OptionsManager.gridTitle)||M6I.R4d!=o6Y.pageNumber||(o6Y.currentYPos+=M6I.C4d);o6Y.preprocessData();utils.ThreadManager.addTask(o6Y.generateRow,M6I.V2d,M6I.V2d,function(){return o6Y.onPdfGenerated();});};o6Y.addTitle=function(C2Y,k2Y){if(!utils.nullOrEmpty(C2Y)){k2Y.setTextColor(M6I.R4d,M6I.R4d,M6I.R4d);k2Y.setFontStyle(X933.N2B);k2Y.setFontSize(M6I.i4d);var a2Y=M6I.i4d*k2Y.getStringUnitWidth(C2Y)/k2Y.internal.scaleFactor;k2Y.text(C2Y,(k2Y.internal.pageSize.width-a2Y)/M6I.M4d,o6Y.currentYPos);}};o6Y.getStyles=function(){var H2Y=o6Y.grid.gridLayout,A2Y=H2Y.find(X933.R6B);o6Y.cellStyle=v6Y._view.grid.vo.StyleValueObject.fromClass(v6Y._view.grid.vo.GridStyleName.CELL,A2Y);o6Y.totalCellStyle=v6Y._view.grid.vo.StyleValueObject.fromClass(v6Y._view.grid.vo.GridStyleName.CELL+M6I.R2d+v6Y._view.grid.vo.GridStyleName.TOTAL,A2Y);o6Y.rowHeaderCellStyle=v6Y._view.grid.vo.StyleValueObject.fromClass(v6Y._view.grid.vo.GridStyleName.CELL+M6I.R2d+v6Y._view.grid.vo.GridStyleName.HEADER+M6I.R2d+v6Y._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(H2Y.element));o6Y.columnHeaderCellStyle=v6Y._view.grid.vo.StyleValueObject.fromClass(v6Y._view.grid.vo.GridStyleName.CELL+M6I.R2d+v6Y._view.grid.vo.GridStyleName.HEADER+M6I.R2d+v6Y._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(H2Y.element));o6Y.filterHeaderCellStyle=v6Y._view.grid.vo.StyleValueObject.fromClass(v6Y._view.grid.vo.GridStyleName.CELL+M6I.R2d+v6Y._view.grid.vo.GridStyleName.HEADER+M6I.R2d+v6Y._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(H2Y.element));};o6Y.getColumnWidth=function(O2Y){O2Y=o6Y.pixel2mm(o6Y.grid.gridLayout.coords.getColWidth(O2Y));O2Y=O2Y<o6Y.pageWidth?O2Y:o6Y.pageWidth-M6I.E4d;return T2B*O2Y;};o6Y.setDefaultCellStyle=function(x2Y,u2Y){var W2B="rgb(222,222,222)";var c2B="rgb(0,0,0,0)";if(M6I.V2d!=x2Y&&x2Y.isCustomized){var i2Y=M6I.R4d<x2Y.style.customStyleNames.length?v6Y._view.grid.vo.StyleValueObject.fromClass(x2Y.style.getCustomClassString()):v6Y._view.grid.vo.StyleValueObject.fromString(x2Y.style.getStyleString());i2Y.merge(u2Y);u2Y=i2Y;}u2Y.color=u2Y.color||X933.f2B;u2Y.backgroundColor=u2Y.backgroundColor||c2B;u2Y.borderColor=u2Y.borderColor||W2B;u2Y.fontSize=u2Y.fontSize||M6I.x4d;return u2Y;};o6Y.getOptionsForCell=function(l2Y){var n2B=0.85;return{fontSize:n2B*l2Y.fontSize,fontName:M6I.V2d==l2Y.fontFamily?o6Y.FONT_NAME:l2Y.fontFamily,fontStyle:v6Y._view.grid.vo.FontStylePDFType.getFontStyle(parseFloat(l2Y.fontWeight))};};o6Y.preprocessData=function(){var y2B=0.8;o6Y.heigthSize=Array(o6Y.totalRowCount);for(var j2Y=M6I.R4d,c2Y=M6I.R4d,T2Y=M6I.R4d,U2Y;c2Y<o6Y.totalRowCount;){for(var T2Y=j2Y=M6I.R4d,W2Y=y2B*Math.max(o6Y.px2mm(o6Y.coords.getRowHeight(c2Y)),M6I.a4d);j2Y<o6Y.totalColumnCount;){U2Y=o6Y.grid.gridLayout.getCell(c2Y,j2Y,!M6I.R4d,!M6I.R4d);var G2Y=new v6Y._view.grid.vo.StyleValueObject(),G2Y=o6Y.cellStyle.clone(),G2Y=o6Y.setDefaultCellStyle(U2Y,G2Y);if(M6I.V2d!=U2Y){var f2Y=U2Y.getLabel();M6I.V3d===typeof f2Y&&(U2Y.value=f2Y,f2Y+=M6I.s3d,U2Y.numeric=!M6I.R4d);f2Y=f2Y.replace(/<(?:.|\n)*?>/gi,M6I.s3d);U2Y=M6I.V2d!=o6Y.widthSize&&M6I.V2d!=o6Y.widthSize[j2Y]?o6Y.widthSize[j2Y]:o6Y.getColumnWidth(j2Y);G2Y=o6Y.pdf.splitTextToSize(f2Y,U2Y,o6Y.getOptionsForCell(G2Y));G2Y=(M6I.E4d<G2Y.length?o6Y.px2mm(G2Y.length*(M6I.x4d+M6I.M4d*o6Y.PADDING)-M6I.M4d*o6Y.PADDING):o6Y.px2mm(M6I.x4d*G2Y.length-o6Y.PADDING))/W2Y;G2Y=M6I.E4d>G2Y?W2Y:(G2Y+M6I.E4d)*W2Y;G2Y=G2Y>o6Y.pageHeight/M6I.M4d?(o6Y.pageHeight-M6I.E4d)/M6I.M4d:G2Y;T2Y=G2Y>T2Y?G2Y:T2Y;}j2Y++;}o6Y.heigthSize[c2Y]=T2Y;c2Y++;}};function o6Y(){}o6Y.generateRow=function(){var r2B="FD";var m2B="normal";var K2B=0.7;if(o6Y._addingHeaderFooter)return!M6I.E4d;for(var o2Y=utils.getTimer(),q2Y=M6I.R4d;q2Y<o6Y.BLOCK_SIZE;q2Y++){if(o6Y.pageIsFilled&&(o6Y.addNewPage(),o6Y._addingHeaderFooter))return!M6I.E4d;var I2Y=M6I.R4d,v2Y=o6Y.PAGE_MARGIN,y2Y,I2Y=!M6I.E4d,m2Y=M6I.s3d,d2Y=o6Y.currentRowIdx-o6Y.currentStartRowIdx<o6Y.grid.FIRST_DATA_ROW&&o6Y.currentRowIdx>o6Y.grid.START_HEADERS_COLUMN?o6Y.currentRowIdx-o6Y.currentStartRowIdx:o6Y.currentRowIdx,D2Y=o6Y.heigthSize[d2Y];for(o6Y.currentColIdx=o6Y.currentStartColIdx;o6Y.currentColIdx<o6Y.currentColumnCount+o6Y.currentStartColIdx;)if(y2Y=(I2Y=h6Y._options.OptionsManager.flatView?!M6I.E4d:o6Y.currentColIdx==o6Y.currentStartColIdx&&o6Y.currentColIdx>o6Y.grid.START_HEADERS_COLUMN)?o6Y.grid.START_HEADERS_COLUMN:o6Y.currentColIdx,!o6Y.allRowsGenerated()&&o6Y.rowsHeightSum+D2Y<=o6Y.pageHeight){I2Y=M6I.V2d!=o6Y.widthSize&&M6I.V2d!=o6Y.widthSize[y2Y]?o6Y.widthSize[y2Y]:o6Y.getColumnWidth(y2Y);if(T2B*(v2Y+I2Y)>o6Y.pageWidth)break;y2Y=o6Y.grid.gridLayout.getCell(d2Y,y2Y,!M6I.R4d,!M6I.R4d);m2Y=utils.nullOrUndefined(y2Y)?M6I.s3d:y2Y.getLabel();M6I.V3d===typeof m2Y&&(y2Y.value=m2Y,m2Y+=M6I.s3d,y2Y.numeric=!M6I.R4d);var m2Y=m2Y.replace(/<(?:.|\n)*?>/gi,M6I.s3d),K2Y=m2Y.match(/&#(\d{3,4});/gi);if(K2Y)for(var h2Y,n2Y=M6I.R4d;n2Y<K2Y.length;n2Y++)h2Y=parseInt(K2Y[n2Y].substring(M6I.M4d,K2Y[n2Y].length-M6I.E4d)),m2Y=m2Y.replace(K2Y[n2Y],String.fromCharCode(h2Y));K2Y=[m2Y];n2Y=new v6Y._view.grid.vo.StyleValueObject();M6I.V2d!=y2Y&&y2Y.isRowHeader?(n2Y=o6Y.rowHeaderCellStyle.clone(),n2Y=o6Y.setDefaultCellStyle(y2Y,n2Y),K2Y=o6Y.pdf.splitTextToSize(m2Y,I2Y,o6Y.getOptionsForCell(n2Y))):M6I.V2d!=y2Y&&y2Y.isColumnHeader?(n2Y=o6Y.columnHeaderCellStyle.clone(),n2Y=o6Y.setDefaultCellStyle(y2Y,n2Y),K2Y=o6Y.pdf.splitTextToSize(m2Y,I2Y,o6Y.getOptionsForCell(n2Y))):M6I.V2d!=y2Y&&y2Y.isFilterHeader?(n2Y=o6Y.filterHeaderCellStyle.clone(),n2Y=o6Y.setDefaultCellStyle(y2Y,n2Y)):M6I.V2d!=y2Y&&y2Y.isTotal&&M6I.s3d!=y2Y.getLabel()?(n2Y=o6Y.totalCellStyle.clone(),n2Y=o6Y.setDefaultCellStyle(y2Y,n2Y)):(n2Y=o6Y.cellStyle.clone(),n2Y=o6Y.setDefaultCellStyle(y2Y,n2Y),K2Y=o6Y.pdf.splitTextToSize(m2Y,I2Y,o6Y.getOptionsForCell(n2Y)));h2Y=K2Y.length;var B2Y=M6I.E4d<h2Y?o6Y.px2mm(K2Y.length*(n2Y.fontSize+M6I.M4d*o6Y.PADDING)-M6I.M4d*o6Y.PADDING):o6Y.px2mm(K2Y.length*n2Y.fontSize-o6Y.PADDING);B2Y>o6Y.pageHeight/M6I.M4d&&(B2Y=(o6Y.pageHeight-M6I.W4d)/M6I.M4d,h2Y=Math.floor(o6Y.mm2px(B2Y)/(n2Y.fontSize+M6I.M4d*o6Y.PADDING)));n2Y.fontSize*=K2B;var r2Y=v6Y._view.grid.vo.StyleValueObject.parseRGB(n2Y.backgroundColor);o6Y.pdf.setFillColor(r2Y[M6I.R4d],r2Y[M6I.E4d],r2Y[M6I.M4d],M6I.R4d!=r2Y[M6I.J4d]?void M6I.R4d:M6I.R4d);r2Y=v6Y._view.grid.vo.StyleValueObject.parseRGB(n2Y.borderColor);o6Y.pdf.setDrawColor(r2Y[M6I.R4d],r2Y[M6I.E4d],r2Y[M6I.M4d],M6I.R4d!=r2Y[M6I.J4d]?void M6I.R4d:M6I.R4d);r2Y=v6Y._view.grid.vo.StyleValueObject.parseRGB(n2Y.color);o6Y.pdf.setTextColor(r2Y[M6I.R4d],r2Y[M6I.E4d],r2Y[M6I.M4d]);o6Y.pdf.setFontStyle(X933.N2B==n2Y.fontWeight?X933.N2B:m2B);o6Y.pdf.setFontSize(n2Y.fontSize);o6Y.pdf.rect(v2Y,o6Y.currentYPos,I2Y,D2Y,r2B);B2Y=o6Y.currentYPos+(D2Y-B2Y)/M6I.M4d+o6Y.PADDING;if(M6I.C3d==n2Y.textAlign)if(M6I.E4d<K2Y.length)for(q2Y=M6I.R4d;q2Y<h2Y;q2Y++)o6Y.pdf.text(K2Y[q2Y],v2Y+I2Y-o6Y.PADDING,B2Y,M6I.V2d,M6I.V2d,M6I.C3d),B2Y+=M6I.M4d*o6Y.PADDING;else o6Y.pdf.text(m2Y,v2Y+I2Y-o6Y.PADDING,B2Y,M6I.V2d,M6I.V2d,M6I.C3d);else if(M6I.E4d<K2Y.length)for(q2Y=M6I.R4d;q2Y<h2Y;q2Y++)n2Y=!h6Y._options.OptionsManager.classicView&&M6I.V2d!=y2Y&&M6I.R4d<y2Y.level?(y2Y.level+M6I.E4d)*o6Y.PADDING:o6Y.PADDING,o6Y.pdf.text(K2Y[q2Y],v2Y+n2Y,B2Y),B2Y+=M6I.M4d*o6Y.PADDING;else n2Y=!h6Y._options.OptionsManager.classicView&&M6I.V2d!=y2Y&&M6I.R4d<y2Y.level?(y2Y.level+M6I.E4d)*o6Y.PADDING:o6Y.PADDING,o6Y.pdf.text(m2Y,v2Y+n2Y,B2Y);o6Y.currentColIdx++;v2Y+=I2Y;}else{o6Y.pageIsFilled=!M6I.R4d;break;}o6Y.pageIsFilled||(o6Y.currentYPos+=D2Y,o6Y.rowsHeightSum+=D2Y,o6Y.currentRowIdx++);if(o6Y.allColumnsGenerated()&&o6Y.allRowsGenerated())break;}o6Y.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-o2Y,o6Y.BLOCK_SIZE);return o6Y.allColumnsGenerated()&&o6Y.allRowsGenerated();};o6Y.allColumnsGenerated=function(){return o6Y.currentStartColIdx+o6Y.currentColumnCount>=o6Y.dataWidth+o6Y.grid.FIRST_DATA_COLUMN;};o6Y.allRowsGenerated=function(){return o6Y.currentRowIdx>=o6Y.dataHeight+o6Y.grid.FIRST_DATA_ROW;};o6Y.addNewPage=function(){o6Y.pdf.addPage();o6Y.pageNumber++;o6Y.pageIsFilled=!M6I.E4d;o6Y._addingHeaderFooter=!M6I.R4d;o6Y.createHeaderAndFooter(o6Y.exportOptions.header,o6Y.exportOptions.footer,function(){o6Y._addingHeaderFooter=!M6I.E4d;o6Y.addHeaderAndFooter();});o6Y.rowsHeightSum=M6I.R4d;M6I.E4d<o6Y.pageNumber&&(o6Y.shiftRows(),o6Y.shiftColumns());v6Y.preloader(!M6I.R4d,h6Y._labels.Labels.MESSAGE_PLEASE_WAIT,o6Y.pageNumber+M6I.E4d+M6I.R2d+h6Y._labels.Labels.MESSAGE_PAGES_WERE_GENERATED,!M6I.R4d);};o6Y.shiftRows=function(){o6Y.allColumnsGenerated()&&!o6Y.allRowsGenerated()?(o6Y.currentRowIdx-=o6Y.grid.FIRST_DATA_ROW,o6Y.currentStartRowIdx=o6Y.currentRowIdx):o6Y.currentRowIdx=o6Y.currentStartRowIdx;};o6Y.shiftColumns=function(){o6Y.allColumnsGenerated()?o6Y.allRowsGenerated()||(o6Y.currentStartColIdx=M6I.R4d,o6Y.currentColIdx=M6I.R4d):(o6Y.currentStartColIdx+=o6Y.currentColumnCount,o6Y.currentColIdx=o6Y.currentStartColIdx);o6Y.calculateColumnCount();};o6Y.calculateColumnCount=function(){o6Y.currentColumnCount=M6I.R4d;var s3Y=o6Y.currentStartColIdx,Q3Y=M6I.R4d,X3Y=M6I.R4d;if(h6Y._options.OptionsManager.flatView?M6I.R4d:o6Y.currentStartColIdx>=o6Y.grid.FIRST_DATA_COLUMN)Q3Y=o6Y.getColumnWidth(o6Y.grid.START_HEADERS_COLUMN),X3Y+=Q3Y,o6Y.currentColumnCount++,o6Y.currentStartColIdx--,o6Y.currentColIdx--;for(;s3Y<o6Y.totalColumnCount;)if(Q3Y=o6Y.getColumnWidth(s3Y),Q3Y>o6Y.pageWidth/M6I.M4d-o6Y.PAGE_MARGIN&&(Q3Y=(o6Y.pageWidth+o6Y.PAGE_MARGIN)/M6I.M4d,o6Y.widthSize[s3Y]=Q3Y),X3Y+=Q3Y,X3Y<=o6Y.pageWidth)o6Y.currentColumnCount++,s3Y++;else{M6I.R4d==o6Y.currentColumnCount&&(o6Y.currentColumnCount=M6I.E4d);break;}};o6Y.onPdfGenerated=function(){var I2B="pivot.pdf";M6I.R4d==o6Y.exportOptions.filename.length&&(o6Y.exportOptions.filename=I2B);var P3Y=o6Y.pdf.output(),P3Y=utils.StringUtils.strToUint8Arr(P3Y);D6Y.ExportManager.save(P3Y,o6Y.exportOptions);o6Y.clear();h6Y.PivotModel.getInstance().dispatch(new events._Event(v6Y.PivotEvent.EXPORT_COMPLETE));};o6Y.clear=function(){o6Y.grid=M6I.V2d;o6Y.exportOptions=M6I.V2d;o6Y.pdf=M6I.V2d;o6Y.dataWidth=M6I.R4d;o6Y.dataHeight=M6I.R4d;o6Y.totalColumnCount=M6I.R4d;o6Y.totalRowCount=M6I.R4d;o6Y.currentColumnCount=M6I.R4d;o6Y.currentColIdx=M6I.R4d;o6Y.currentStartColIdx=M6I.R4d;o6Y.currentRowIdx=M6I.R4d;o6Y.currentStartRowIdx=M6I.R4d;o6Y.rowsHeightSum=M6I.R4d;o6Y.currentYPos=M6I.R4d;o6Y.pageIsFilled=!M6I.E4d;o6Y.pageNumber=M6I.R4d;o6Y.pageHeight=M6I.R4d;o6Y.pageWidth=M6I.R4d;o6Y.headerHeight=M6I.R4d;o6Y.headerImage=M6I.V2d;o6Y.footerHeight=M6I.R4d;o6Y.footerImage=M6I.V2d;};o6Y.pixel2mm=function(S3Y){var B2B=0.264;return B2B*S3Y;};o6Y.mm2px=function(L3Y){return q2B*L3Y;};o6Y.px2mm=function(g3Y){return g3Y/q2B;};o6Y.FONT_NAME=v2B;o6Y.PAGE_MARGIN=M6I.j4d;o6Y.pageIsFilled=!M6I.E4d;o6Y.pageNumber=M6I.R4d;o6Y.HEADER_FOOTER_MARGIN=M6I.C4d;o6Y.headerHeight=M6I.R4d;o6Y.footerHeight=M6I.R4d;o6Y._addingHeaderFooter=!M6I.E4d;o6Y.BLOCK_SIZE=M6I.W4d;o6Y.PADDING=o6Y.pixel2mm(M6I.A4d);return o6Y;}();D6Y.ExportPDF=d6Y;}(h6Y._export||(h6Y._export={})));}(v6Y.model||(v6Y.model={})));}(pivot||(pivot={})));(function(w3Y){(function(z3Y){(function(Z3Y){var t3Y=function(){var Y6I=Q933;p3Y.run=function(F3Y,e3Y,N3Y,b3Y){p3Y.grid=F3Y;p3Y.dataWidth=N3Y;p3Y.dataHeight=b3Y;p3Y.exportOptions=e3Y;try{p3Y.exportToHTML();}catch(V3Y){var h2B="Export HTML error:";console.error(h2B,V3Y),w3Y.uialert(z3Y._labels.Labels.MESSAGE_EXPORT_ERROR,z3Y._labels.Labels.ERROR,w3Y.AlertType.ERROR),w3Y.preloader(!Y6I.E4d),z3Y.PivotModel.getInstance().dispatch(new events._Event(w3Y.PivotEvent.EXPORT_COMPLETE)),p3Y.clear();}};p3Y.exportToHTML=function(){w3Y.preloader(!Y6I.R4d,z3Y._labels.Labels.MESSAGE_EXPORT_PROGRESS);p3Y.htmlString=Y6I.s3d;p3Y.rowIdx=p3Y.grid.START_TABLE_ROW;p3Y.stylesList=[];utils.ThreadManager.addTask(p3Y.generateRow,Y6I.V2d,Y6I.V2d,p3Y.onHTMLExportComplete);};p3Y.generateStyle=function(){var c6i=X933;var o2B=".title{{0}}\n";var d2B=".grid{border-collapse:collapse;{0}border-top:1px solid #e9e9e9;border-left:1px solid #e9e9e9;}\n";var D2B="body{{0}}\n";for(var Y3Y=Y6I.s3d,E3Y=p3Y.grid.gridLayout,R3Y=E3Y.find(c6i.R6B),Y3Y=Y3Y+utils.StringUtils.bind(D2B,w3Y._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(E3Y.element),[c6i.M6B])),Y3Y=Y3Y+utils.StringUtils.bind(d2B,w3Y._view.grid.vo.StyleValueObject.fromItemToString(uicontrols.UIElement.convert(E3Y.element),[c6i.M6B,c6i.J6B])),Y3Y=Y3Y+utils.StringUtils.bind(o2B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.TITLE,uicontrols.UIElement.convert(E3Y.element))),Y3Y=Y3Y+utils.StringUtils.bind(c6i.H6B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.CELL,R3Y)),Y3Y=Y3Y+utils.StringUtils.bind(c6i.A6B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.CELL+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.TOTAL,R3Y)),Y3Y=Y3Y+utils.StringUtils.bind(c6i.O6B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.CELL+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.HEADER+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(E3Y.element))),Y3Y=Y3Y+utils.StringUtils.bind(c6i.u6B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.CELL+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.HEADER+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(E3Y.element))),Y3Y=Y3Y+utils.StringUtils.bind(c6i.x6B,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.CELL+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.HEADER+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(E3Y.element))),R3Y=Y6I.E4d;Y6I.W4d>=R3Y;R3Y++)Y3Y+=utils.StringUtils.bind(c6i.i6B,R3Y,w3Y._view.grid.vo.StyleValueObject.fromClassToString(w3Y._view.grid.vo.GridStyleName.HEADER_ROW+Y6I.R2d+w3Y._view.grid.vo.GridStyleName.LEVEL+R3Y,uicontrols.UIElement.convert(E3Y.element),[c6i.l6B]));for(R3Y=Y6I.R4d;R3Y<p3Y.stylesList.length;R3Y++)Y3Y+=utils.StringUtils.bind(c6i.G6B,p3Y.stylesList[R3Y],w3Y._view.grid.vo.StyleValueObject.fromClassToString(p3Y.stylesList[R3Y],uicontrols.UIElement.convert(E3Y.element)));return Y3Y;};p3Y.appendStylesList=function(J3Y){for(var M3Y=Y6I.R4d;M3Y<J3Y.length;M3Y++)Y6I.R4d>p3Y.stylesList.indexOf(J3Y[M3Y])&&p3Y.stylesList.push(J3Y[M3Y]);};p3Y.generateRow=function(){var f6i=X933;var T6i=s933;var S3B="</tr>";var P3B="<tr>";var X3B="px;";var s3B="width:";var Q3B=" level";for(var O3Y=utils.getTimer(),u3Y=Math.min(p3Y.rowIdx+p3Y.BLOCK_SIZE,p3Y.dataHeight+p3Y.grid.FIRST_DATA_ROW),k3Y,a3Y=Y6I.s3d;p3Y.rowIdx<u3Y;p3Y.rowIdx++){for(var a3Y=Y6I.s3d,A3Y=p3Y.grid.START_HEADERS_COLUMN;A3Y<p3Y.dataWidth+p3Y.grid.FIRST_DATA_COLUMN;A3Y++)if(k3Y=p3Y.grid.gridLayout.getCell(p3Y.rowIdx,A3Y,!Y6I.R4d,!Y6I.R4d),a3Y+=T6i.g6B+(k3Y?k3Y.getLabel():Y6I.s3d)+T6i.w6B,Y6I.V2d==k3Y)a3Y=utils.StringUtils.bind(a3Y,T6i.z6B);else{var C3Y=Y6I.s3d,H3Y=Y6I.s3d;k3Y.isCustomized&&(H3Y=k3Y.style.getStyleString(),C3Y=k3Y.style.getCustomClassString(),p3Y.appendStylesList(k3Y.style.customStyleNames));C3Y=k3Y.isRowHeader?C3Y+(T6i.Z6B+k3Y.level):k3Y.isColumnHeader?C3Y+T6i.t6B:k3Y.isFilterHeader?C3Y+f6i.p6B:k3Y.isTotal&&Y6I.s3d!=k3Y.getLabel()?C3Y+f6i.F6B:C3Y+f6i.e6B;Y6I.V2d!=k3Y&&k3Y.isFilterHeader&&(C3Y+=Q3B+k3Y.level);Y6I.s3d!=C3Y.trim()&&(C3Y=f6i.N6B+C3Y.trim()+T6i.X9h);H3Y+=s3B+p3Y.grid.gridLayout.coords.getColWidth(A3Y)+X3B;Y6I.s3d!=H3Y.trim()&&(H3Y=f6i.b6B+H3Y.trim()+T6i.X9h);a3Y=utils.StringUtils.bind(a3Y,C3Y+Y6I.R2d+H3Y);}p3Y.rowsString+=P3B+a3Y+S3B;}p3Y.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-O3Y,p3Y.BLOCK_SIZE);p3Y.showProgress(p3Y.rowIdx);return p3Y.rowIdx>=p3Y.dataHeight+p3Y.grid.FIRST_DATA_ROW;};p3Y.showProgress=function(x3Y){var L3B="{0}%";w3Y.preloader(!Y6I.R4d,z3Y._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(L3B,(x3Y/(p3Y.dataHeight+p3Y.grid.FIRST_DATA_ROW)*Y6I.a6d).toFixed(Y6I.R4d)));};p3Y.onHTMLExportComplete=function(){w3Y.preloader(!Y6I.E4d);p3Y.saveHTMLExport();p3Y.clear();};p3Y.saveHTMLExport=function(){var U6i=s933;var e3B="</body></html>";var F3B="</style></head>";var p3B="<!DOCTYPE html><html><head><meta charset='UTF-8'/>";var t3B="</table>";var Z3B="<table class='grid'>";var z3B="</div>";var w3B="<div class='title'>";var g3B="pivotgrid.html";Y6I.R4d==p3Y.exportOptions.filename.length&&(p3Y.exportOptions.filename=g3B);var l3Y=Y6I.s3d;if(!utils.nullOrEmpty(p3Y.exportOptions.header))var i3Y=p3Y.exportOptions.header,i3Y=i3Y.replace(/##PAGE-NUMBER##/gi,Y6I.s3d),i3Y=i3Y.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),l3Y=l3Y+i3Y;l3Y+=w3B+z3Y._options.OptionsManager.gridTitle+z3B;l3Y+=Z3B+p3Y.rowsString+t3B;utils.nullOrEmpty(p3Y.exportOptions.footer)||(i3Y=p3Y.exportOptions.footer,i3Y=i3Y.replace(/##PAGE-NUMBER##/gi,Y6I.s3d),i3Y=i3Y.replace(/##CURRENT-DATE##/gi,new Date().toLocaleString()),l3Y+=i3Y);p3Y.htmlString=p3B;p3Y.htmlString+=U6i.H1d+(utils.nullOrEmpty(z3Y._options.OptionsManager.gridTitle)?z3Y._labels.Labels.DEFAULT_EXPORT_TITLE:z3Y._options.OptionsManager.gridTitle)+U6i.A1d;p3Y.htmlString+=U6i.O1d+p3Y.generateStyle()+F3B;p3Y.htmlString+=U6i.l1d+l3Y+e3B;Z3Y.ExportManager.save(p3Y.htmlString,p3Y.exportOptions);z3Y.PivotModel.getInstance().dispatch(new events._Event(w3Y.PivotEvent.EXPORT_COMPLETE));};p3Y.clear=function(){p3Y.rowIdx=Y6I.R4d;p3Y.htmlString=Y6I.s3d;p3Y.rowsString=Y6I.s3d;p3Y.dataWidth=Y6I.R4d;p3Y.dataHeight=Y6I.R4d;p3Y.grid=Y6I.V2d;p3Y.exportOptions=Y6I.V2d;};p3Y.rowIdx=Y6I.R4d;p3Y.htmlString=Y6I.s3d;p3Y.rowsString=Y6I.s3d;function p3Y(){throw Error(s933.m0d);}p3Y.BLOCK_SIZE=Y6I.W4d;return p3Y;}();Z3Y.ExportHTML=t3Y;}(z3Y._export||(z3Y._export={})));}(w3Y.model||(w3Y.model={})));}(pivot||(pivot={})));(function(G3Y){(function(j3Y){(function(U3Y){var T3Y=function(){var b6I=Q933;var u3B=14.3;var k3B=864E5;var J3B="1899-12-30";var M3B=6E4;f3Y.run=function(c3Y,W3Y,n3Y,y3Y){f3Y.grid=c3Y;f3Y.dataWidth=n3Y;f3Y.dataHeight=y3Y;f3Y.exportOptions=W3Y;try{f3Y.exportToXLS();}catch(K3Y){var N3B="Export XLS error:";console.error(N3B,K3Y),G3Y.uialert(j3Y._labels.Labels.MESSAGE_EXPORT_ERROR,j3Y._labels.Labels.ERROR,G3Y.AlertType.ERROR),G3Y.preloader(!b6I.E4d),j3Y.PivotModel.getInstance().dispatch(new events._Event(G3Y.PivotEvent.EXPORT_COMPLETE));}};f3Y.exportToXLS=function(){G3Y.preloader(!b6I.R4d,j3Y._labels.Labels.MESSAGE_EXPORT_PROGRESS);f3Y.rowIdx=f3Y.grid.START_TABLE_ROW;f3Y.xlsPadding=b6I.R4d;f3Y.xlsDocument=new xls.XLS();var m3Y=utils.nullOrEmpty(j3Y._options.OptionsManager.gridTitle)?j3Y._labels.Labels.DEFAULT_EXPORT_TITLE:j3Y._options.OptionsManager.gridTitle.replace(/[^a-zA-Z\d\s\-|+@#$^&()_,.!]/g,b6I.s3d),m3Y=b6I.R4d<f3Y.exportOptions.excelSheetName.length?f3Y.exportOptions.excelSheetName:m3Y;b6I.B4d<m3Y.length&&(m3Y=m3Y.substr(b6I.R4d,b6I.I4d)+X933.H2B);m3Y=new xls.XLSSheet(m3Y);f3Y.xlsDocument.sheets.push(m3Y);f3Y.getStyles();f3Y.addTitle();f3Y.addXLSCustomFields();f3Y.addFilters();utils.ThreadManager.addTask(f3Y.generateXLSRow,b6I.V2d,b6I.V2d,function(){return f3Y.onXLSExportComplete();});};f3Y.getStyles=function(){var r3Y=f3Y.grid.gridLayout.element;f3Y.cellStyle=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL,uicontrols.UIElement.convert(r3Y));f3Y.totalCellStyle=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL+b6I.R2d+G3Y._view.grid.vo.GridStyleName.TOTAL,uicontrols.UIElement.convert(r3Y));f3Y.rowHeaderCellStyle=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER_ROW,uicontrols.UIElement.convert(r3Y));f3Y.columnHeaderCellStyle=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER_COLUMN,uicontrols.UIElement.convert(r3Y));f3Y.filterHeaderCellStyle=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER+b6I.R2d+G3Y._view.grid.vo.GridStyleName.FILTER_HEADER,uicontrols.UIElement.convert(r3Y));for(var I3Y=b6I.E4d;b6I.W4d>=I3Y;I3Y++)f3Y.rowHeaderLevelsCellStyle[I3Y]=G3Y._view.grid.vo.StyleValueObject.fromClass(G3Y._view.grid.vo.GridStyleName.CELL+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER+b6I.R2d+G3Y._view.grid.vo.GridStyleName.HEADER_ROW+b6I.R2d+G3Y._view.grid.vo.GridStyleName.LEVEL+I3Y,uicontrols.UIElement.convert(r3Y));};f3Y.onXLSExportComplete=function(){f3Y.mergeTitleCells();G3Y.preloader(!b6I.E4d);f3Y.saveXLSExport();};f3Y.saveXLSExport=function(){var b3B="pivot.xlsx";f3Y.rowIdx=f3Y.grid.START_TABLE_ROW;b6I.R4d==f3Y.exportOptions.filename.length&&(f3Y.exportOptions.filename=b3B);U3Y.ExportManager.save(f3Y.xlsDocument.toUint8Array(),f3Y.exportOptions);f3Y.xlsDocument=b6I.V2d;f3Y.exportOptions=b6I.V2d;j3Y.PivotModel.getInstance().dispatch(new events._Event(G3Y.PivotEvent.EXPORT_COMPLETE));};f3Y.generateXLSRow=function(){var u6i=X933;var Y3B="Tahoma";var V3B="{0}% ({1} rows)";for(var s5Y=utils.getTimer(),P5Y=f3Y.dataHeight+f3Y.grid.FIRST_DATA_ROW;f3Y.rowIdx<P5Y;f3Y.rowIdx++){if(b6I.a6d<utils.getTimer()-s5Y){s5Y=f3Y.rowIdx/P5Y*b6I.a6d;if(b6I.a6d<s5Y)return!b6I.E4d;G3Y.preloader(!b6I.R4d,j3Y._labels.Labels.MESSAGE_EXPORT_PROGRESS,utils.StringUtils.bind(V3B,s5Y.toFixed(b6I.R4d),f3Y.rowIdx.toString()));break;}for(var h3Y=f3Y.grid.START_HEADERS_COLUMN;h3Y<f3Y.dataWidth+f3Y.grid.FIRST_DATA_COLUMN;h3Y++){var B3Y=f3Y.grid.gridLayout.getCell(f3Y.rowIdx,h3Y,!b6I.R4d,!b6I.R4d),d3Y=utils.nullOrUndefined(B3Y)?b6I.s3d:B3Y.getLabel(),Q5Y;utils.nullOrUndefined(B3Y)||b6I.V2d!=B3Y.measure&&(B3Y.measure.type==G3Y.data_.types.MeasureType.DATE?isNaN(B3Y.value)||(Q5Y=f3Y.convertToExcelDate(B3Y.value)):B3Y.measure.type==G3Y.data_.types.MeasureType.DATETIME&&(isNaN(B3Y.value)||(Q5Y=f3Y.convertToExcelDateTime(B3Y.value))));b6I.V3d===typeof d3Y&&(B3Y.value=d3Y,d3Y+=b6I.s3d,B3Y.numeric=!b6I.R4d);var v3Y=b6I.V2d!=B3Y&&(B3Y.isRowHeader||B3Y.isColumnHeader);f3Y.exportOptions.excelExportAll&&b6I.s3d==d3Y&&b6I.V2d!=B3Y&&b6I.V2d!=B3Y.member&&(d3Y=B3Y.member.caption);if(b6I.s3d!=d3Y.trim()||v3Y){v3Y=new G3Y._view.grid.vo.StyleValueObject();v3Y=b6I.V2d!=B3Y&&B3Y.isRowHeader?b6I.R4d<B3Y.level&&f3Y.rowHeaderLevelsCellStyle[B3Y.level]?f3Y.rowHeaderLevelsCellStyle[B3Y.level].clone():f3Y.rowHeaderCellStyle.clone():b6I.V2d!=B3Y&&B3Y.isColumnHeader?f3Y.columnHeaderCellStyle.clone():b6I.V2d!=B3Y&&B3Y.isFilterHeader?f3Y.filterHeaderCellStyle.clone():b6I.V2d!=B3Y&&B3Y.isTotal&&b6I.s3d!=B3Y.getLabel()?f3Y.totalCellStyle.clone():f3Y.cellStyle.clone();if(b6I.V2d!=B3Y&&B3Y.isCustomized){var o3Y=b6I.R4d<B3Y.style.customStyleNames.length?G3Y._view.grid.vo.StyleValueObject.fromClass(B3Y.style.getCustomClassString()):G3Y._view.grid.vo.StyleValueObject.fromString(B3Y.style.getStyleString());o3Y.merge(v3Y);v3Y=o3Y;}v3Y.color=v3Y.color||u6i.f2B;v3Y.backgroundColor=v3Y.backgroundColor||s933.T8d;v3Y.fontSize=v3Y.fontSize?f3Y.px2pt(v3Y.fontSize):b6I.A4d;var D3Y=new xls.styles.fonts.XLSStyleFont(Y3B,v3Y.fontSize,utils.StringUtils.fromRgbToHex(v3Y.color));D3Y.bold=u6i.N2B==v3Y.fontWeight;D3Y.italic=!b6I.E4d;var q3Y=b6I.V2d,X5Y=o3Y=!b6I.E4d;if(B3Y.numeric){if(b6I.V2d!=B3Y.measure){var q3Y=B3Y.measure.getFormat(),X5Y=b6I.s3d!=q3Y.nullValue?!b6I.R4d:X5Y,o3Y=B3Y.measure.aggregation==G3Y.data_.consts.AggregationName.PERCENT||B3Y.measure.aggregation==G3Y.data_.consts.AggregationName.PERCENT_COLUMN||B3Y.measure.aggregation==G3Y.data_.consts.AggregationName.PERCENT_ROW||B3Y.measure.aggregation==G3Y.data_.consts.AggregationName.PERCENT_DIFFERENCE||B3Y.measure.calculated&&-b6I.E4d<B3Y.measure.formula.indexOf(u6i.R3B),S5Y=q3Y.toXLSFormatCode();if(o3Y||q3Y.isPercent)q3Y=q3Y.clone(),q3Y.currencySymbol=b6I.s3d==q3Y.currencySymbol?u6i.E3B:q3Y.currencySymbol,S5Y=q3Y.toXLSFormatCode();q3Y=new xls.styles.format.XLSStyleFormat(b6I.s3d==S5Y?b6I.R4d:-b6I.E4d,S5Y);}}else b6I.V2d==B3Y.measure||B3Y.measure.type!=G3Y.data_.types.MeasureType.DATE&&B3Y.measure.type!=G3Y.data_.types.MeasureType.DATETIME||(q3Y=new xls.styles.format.XLSStyleFormat(b6I.G4d,b6I.s3d));q3Y&&f3Y.xlsDocument.styleSheet.addFormat(q3Y);D3Y=new xls.styles.XLSStyle(D3Y,utils.StringUtils.fromRgbToHex(v3Y.backgroundColor),q3Y,v3Y.textAlign);!j3Y._options.OptionsManager.classicView&&B3Y&&B3Y.isRowHeader&&b6I.R4d<B3Y.level&&(D3Y.textIndent=B3Y.level);f3Y.xlsDocument.styleSheet.addStyle(D3Y);q3Y=b6I.V2d!=B3Y.measure?B3Y.measure.getFormat():b6I.V2d;B3Y.numeric?b6I.V2d==q3Y||B3Y.label!=q3Y.infinityValue&&B3Y.label!=q3Y.divideByZeroValue?(Q5Y=b6I.V2d==q3Y||!o3Y&&u6i.E3B!=q3Y.currencySymbol?B3Y.value:B3Y.value/b6I.a6d,f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.rowIdx-f3Y.grid.START_TABLE_ROW+f3Y.xlsPadding,h3Y,isNaN(B3Y.value)&&X5Y?B3Y.getLabel():Q5Y,D3Y)):f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.rowIdx-f3Y.grid.START_TABLE_ROW+f3Y.xlsPadding,h3Y,B3Y.getLabel(),D3Y):!B3Y.isValue||b6I.V2d==B3Y.measure||B3Y.measure.type!=G3Y.data_.types.MeasureType.DATE&&B3Y.measure.type!=G3Y.data_.types.MeasureType.DATETIME?B3Y.isValue&&b6I.V2d!=B3Y.measure&&B3Y.measure.aggregation==G3Y.data_.consts.AggregationName.NONE?f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.rowIdx-f3Y.grid.START_TABLE_ROW+f3Y.xlsPadding,h3Y,B3Y.value,D3Y):f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.rowIdx-f3Y.grid.START_TABLE_ROW+f3Y.xlsPadding,h3Y,d3Y,D3Y):f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.rowIdx-f3Y.grid.START_TABLE_ROW+f3Y.xlsPadding,h3Y,Q5Y,D3Y);b6I.V2d!=B3Y&&(b6I.R4d==f3Y.xlsDocument.sheets[b6I.R4d].getColumnWidth(h3Y)&&(B3Y=f3Y.convertPixelsToWidth(f3Y.grid.gridLayout.coords.getColWidth(h3Y)),f3Y.xlsDocument.sheets[b6I.R4d].setColumnWidth(h3Y,B3Y)),h3Y!=f3Y.grid.START_HEADERS_COLUMN||f3Y.grid.gridLayout.coords.isRowHeightDefault(f3Y.rowIdx)||(B3Y=f3Y.convertPixelsToPoints(f3Y.grid.gridLayout.coords.getRowHeight(f3Y.rowIdx)),f3Y.xlsDocument.sheets[b6I.R4d].setRowHeight(f3Y.rowIdx+f3Y.xlsPadding,B3Y)),d3Y.length>v3Y.width&&f3Y.xlsDocument.sheets[b6I.R4d].setColumnWidth(h3Y,f3Y.convertPixelsToPoints(d3Y.length+f3Y.cellPadding)>f3Y.convertPixelsToPoints(f3Y.DEFAULT_CELL_WIDTH)?f3Y.convertPixelsToPoints(f3Y.DEFAULT_CELL_WIDTH):f3Y.convertPixelsToPoints(d3Y.length+f3Y.cellPadding)));}}}return f3Y.rowIdx>=P5Y;};f3Y.convertToExcelDate=function(L5Y){if(!utils.DateFormat.isUTCFormat(j3Y._options.OptionsManager.datePattern)){var g5Y=new Date(L5Y).getTimezoneOffset();L5Y-=M3B*g5Y;}L5Y=-Date.parse(J3B)+L5Y;return Math.floor(L5Y/k3B);};f3Y.convertToExcelDateTime=function(w5Y){if(!utils.DateFormat.isUTCFormat(j3Y._options.OptionsManager.dateTimePattern)){var z5Y=new Date(w5Y).getTimezoneOffset();w5Y-=M3B*z5Y;}return(-Date.parse(J3B)+w5Y)/k3B;};f3Y.px2pt=function(Z5Y){var C3B=0.75;return C3B*Z5Y;};f3Y.convertPixelsToPoints=function(t5Y){return b6I.R4d>=t5Y?b6I.R4d:f3Y.defaultExcelCellHeightPoints/f3Y.defaultExcelCellHeightPixels*t5Y*(f3Y.defaultExcelCellHeightPixels/G3Y._view.grid.sheet.GridCoords.CELL_HEIGHT);};f3Y.convertPixelsToWidth=function(p5Y){var a3B=0.5;return b6I.R4d>=p5Y?b6I.R4d:((p5Y-b6I.C4d)/b6I.H4d*b6I.a6d+a3B)/b6I.a6d;};f3Y.addXLSCustomFields=function(){var O6i=X933;var H3B="Report Information";var N5Y=j3Y.report.CustomFieldsManager.customFields;if(b6I.R4d<N5Y.length){var F5Y=getComputedStyle(G3Y._view.PivotView.stage.container.find(s933.c8d+G3Y._view.grid.vo.GridStyleName.HEADER_COLUMN).element),e5Y=new xls.styles.fonts.XLSStyleFont(F5Y.fontFamily,parseInt(F5Y.fontSize)-b6I.M4d,utils.StringUtils.fromRgbToHex(F5Y.color));e5Y.bold=O6i.N2B===F5Y.fontWeight;e5Y.italic=O6i.e2B===F5Y.fontStyle;e5Y=new xls.styles.XLSStyle(e5Y,utils.StringUtils.fromRgbToHex(F5Y.backgroundColor));e5Y.textAlign=F5Y.textAlign;f3Y.xlsDocument.styleSheet.addStyle(e5Y);f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.xlsPadding,b6I.R4d,H3B,e5Y);f3Y.xlsDocument.sheets[b6I.R4d].setCell(f3Y.xlsPadding,b6I.E4d,b6I.s3d,e5Y);var F5Y=getComputedStyle(G3Y._view.PivotView.stage.container.find(s933.c8d+G3Y._view.grid.vo.GridStyleName.CELL).element),b5Y=new xls.styles.fonts.XLSStyleFont(F5Y.fontFamily,parseInt(F5Y.fontSize)-b6I.M4d,utils.StringUtils.fromRgbToHex(F5Y.color));b5Y.bold=O6i.N2B===F5Y.fontWeight;b5Y.italic=O6i.e2B===F5Y.fontStyle;b5Y=new xls.styles.XLSStyle(b5Y,utils.StringUtils.fromRgbToHex(F5Y.backgroundColor));b5Y.textAlign=F5Y.textAlign;f3Y.xlsDocument.styleSheet.addStyle(b5Y);for(F5Y=b6I.R4d;F5Y<N5Y.length;F5Y++)f3Y.xlsDocument.sheets[b6I.R4d].setCell(F5Y+b6I.E4d+f3Y.xlsPadding,b6I.R4d,String(N5Y[F5Y].name),e5Y),f3Y.xlsDocument.sheets[b6I.R4d].setCell(F5Y+b6I.E4d+f3Y.xlsPadding,b6I.E4d,String(N5Y[F5Y].value),e5Y);}f3Y.xlsPadding+=b6I.R4d==N5Y.length?b6I.R4d:N5Y.length+b6I.M4d;};f3Y.addTitle=function(){var A3B="center";var R5Y=j3Y._options.OptionsManager.gridTitle;if(b6I.R4d!=R5Y.length){var V5Y=getComputedStyle(G3Y._view.PivotView.stage.container.find(s933.c8d+G3Y._view.grid.vo.GridStyleName.TITLE).element),Y5Y=new xls.styles.fonts.XLSStyleFont(V5Y.fontFamily,parseInt(V5Y.fontSize)-b6I.M4d,utils.StringUtils.fromRgbToHex(V5Y.color));Y5Y.bold=X933.N2B===V5Y.fontWeight;Y5Y.italic=X933.e2B===V5Y.fontStyle;V5Y=new xls.styles.XLSStyle(Y5Y,utils.StringUtils.fromRgbToHex(V5Y.backgroundColor));V5Y.textAlign=A3B;f3Y.xlsDocument.styleSheet.addStyle(V5Y);f3Y.xlsDocument.sheets[b6I.R4d].setCell(b6I.R4d,b6I.R4d,R5Y,V5Y);f3Y.xlsPadding=b6I.E4d;}};f3Y.mergeTitleCells=function(){if(b6I.R4d<j3Y._options.OptionsManager.gridTitle.length){var E5Y=f3Y.xlsDocument.sheets[b6I.R4d];E5Y.mergeCells(b6I.R4d,b6I.R4d,Math.min(E5Y.columnsCount,b6I.u4d));}};f3Y.addFilters=function(){var C6i=X933;var k6i=s933;var O3B="Filters";if(f3Y.exportOptions.showFilters){var x5Y=j3Y.PivotModel.getInstance().cube_.slice_.allHierarchies(),u5Y=[],k5Y=b6I.s3d,H5Y,i5Y=!b6I.R4d,M5Y=getComputedStyle(G3Y._view.PivotView.stage.container.find(k6i.c8d+G3Y._view.grid.vo.GridStyleName.HEADER).element),a5Y=new xls.styles.fonts.XLSStyleFont(M5Y.fontFamily,parseInt(M5Y.fontSize)-b6I.M4d,utils.StringUtils.fromRgbToHex(M5Y.color));a5Y.bold=C6i.N2B===M5Y.fontWeight;a5Y.italic=C6i.e2B===M5Y.fontStyle;a5Y=new xls.styles.XLSStyle(a5Y,utils.StringUtils.fromRgbToHex(M5Y.backgroundColor));a5Y.textAlign=M5Y.textAlign;f3Y.xlsDocument.styleSheet.addStyle(a5Y);var J5Y=getComputedStyle(G3Y._view.PivotView.stage.container.find(k6i.c8d+G3Y._view.grid.vo.GridStyleName.CELL).element),M5Y=new xls.styles.fonts.XLSStyleFont(J5Y.fontFamily,parseInt(J5Y.fontSize)-b6I.M4d,utils.StringUtils.fromRgbToHex(J5Y.color));M5Y.bold=C6i.N2B===J5Y.fontWeight;M5Y.italic=C6i.e2B===J5Y.fontStyle;M5Y=new xls.styles.XLSStyle(M5Y,utils.StringUtils.fromRgbToHex(J5Y.backgroundColor));M5Y.textAlign=J5Y.textAlign;f3Y.xlsDocument.styleSheet.addStyle(M5Y);for(var J5Y=f3Y.xlsDocument.sheets[b6I.R4d],k5Y=!b6I.E4d,C5Y=b6I.R4d,A5Y=b6I.R4d;A5Y<x5Y.length;A5Y++)if(H5Y=x5Y.getItemAt(A5Y),k5Y=H5Y.dimension.type==G3Y.data_.types.DimensionType.MD_DIMTYPE_TIME,H5Y.hasFilter()){u5Y.length=b6I.R4d;if(k5Y)k5Y=f3Y.composeDateRange(H5Y);else{for(var O5Y=b6I.R4d;O5Y<H5Y.filterMembers.length;O5Y++)k5Y=H5Y.filterMembers.getItemAt(O5Y),u5Y.push(k5Y.caption);k5Y=u5Y.join(k6i.Q9h);}i5Y&&(J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.R4d,b6I.s3d,a5Y),J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.E4d,O3B,a5Y),C5Y++);J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.R4d,H5Y.caption,a5Y);J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.E4d,k5Y,M5Y);C5Y++;i5Y=!b6I.E4d;}if(j3Y._options.OptionsManager.gridType==G3Y._view.grid.GridType.FLAT)for(x5Y=j3Y.PivotModel.getInstance().cube_.slice_.measuresAll,A5Y=b6I.R4d;A5Y<x5Y.length;A5Y++)if(H5Y=j3Y.PivotModel.getInstance().cube_.slice_.measureToHierarchy(x5Y.getItemAt(A5Y)),H5Y.hasFilter()){for(O5Y=u5Y.length=b6I.R4d;O5Y<H5Y.filterMembers.length;O5Y++)k5Y=H5Y.filterMembers.getItemAt(O5Y),u5Y.push(k5Y.caption);k5Y=u5Y.join(k6i.Q9h);i5Y&&(J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.R4d,b6I.s3d,a5Y),J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.E4d,O3B,a5Y),C5Y++);J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.R4d,H5Y.caption,a5Y);J5Y.setCell(C5Y+f3Y.xlsPadding,b6I.E4d,k5Y,M5Y);C5Y++;i5Y=!b6I.E4d;}f3Y.xlsPadding+=i5Y?b6I.R4d:C5Y+b6I.E4d;}};f3Y.composeDateRange=function(c5Y){var U5Y,l5Y,G5Y,j5Y=!b6I.E4d,W5Y=[],j5Y=l5Y=b6I.s3d;b6I.V2d!=f3Y.sortedMembers&&(f3Y.sortedMembers.length=b6I.R4d);f3Y.sortMembers(c5Y.allMember);for(var n5Y=f3Y.composeFilteredMembers(c5Y),T5Y=!b6I.E4d,f5Y=b6I.R4d;f5Y<f3Y.sortedMembers.length;f5Y++)l5Y=f3Y.sortedMembers[f5Y],j5Y=f5Y==f3Y.sortedMembers.length-b6I.E4d,!T5Y&&c5Y.filterMembers.keyExists(l5Y.uniqueName)&&(T5Y=!b6I.R4d,U5Y=l5Y),T5Y&&(c5Y.filterMembers.keyExists(l5Y.uniqueName)&&(G5Y=l5Y),-b6I.E4d<n5Y.indexOf(l5Y)&&!j5Y||(G5Y=b6I.V2d!=G5Y?G5Y:U5Y,l5Y=f3Y.composeDate(U5Y),j5Y=G5Y.uniqueName!=U5Y.uniqueName?s933.O8d+f3Y.composeDate(G5Y,!b6I.R4d):b6I.s3d,G5Y=U5Y=b6I.V2d,T5Y=!b6I.E4d,W5Y.push(l5Y+j5Y)));return W5Y.join(s933.Q9h);};f3Y.sortMembers=function(y5Y){b6I.V2d==f3Y.sortedMembers&&(f3Y.sortedMembers=[]);y5Y.isAll||f3Y.sortedMembers.push(y5Y);y5Y=y5Y.hierarchy_.sortChildren(y5Y,!b6I.E4d,G3Y.data_.consts.SortType.ASC);for(var r5Y=y5Y.length,K5Y,m5Y=b6I.R4d;m5Y<r5Y;m5Y++)K5Y=y5Y.getItemAt(m5Y),b6I.R4d<K5Y.children.length?f3Y.sortMembers(K5Y):f3Y.sortedMembers.push(K5Y);};f3Y.composeDate=function(q5Y,v5Y){void b6I.R4d===v5Y&&(v5Y=!b6I.E4d);var I5Y=q5Y,B5Y=[];for(B5Y.push(q5Y.caption);I5Y&&I5Y.uniqueName!=q5Y.uniqueName&&!I5Y.level.isLast&&b6I.R4d<I5Y.children.length;)B5Y.push(I5Y.caption),I5Y=I5Y.hierarchy_.sortChildren(I5Y,!b6I.E4d,G3Y.data_.consts.SortType.ASC),I5Y=I5Y.getItemAt(v5Y?I5Y.length-b6I.E4d:b6I.R4d);for(I5Y=q5Y.parent;I5Y&&!I5Y.isAll;)B5Y.unshift(I5Y.caption),I5Y=I5Y.parent;return B5Y.join(b6I.l3d);};f3Y.composeFilteredMembers=function(d5Y){var D5Y=[];d5Y=d5Y.filterMembers;for(var h5Y,s0Y,o5Y=b6I.R4d;o5Y<d5Y.length;o5Y++){h5Y=d5Y.getItemAt(o5Y);D5Y.push(h5Y);s0Y=h5Y.descendants;for(var Q0Y=b6I.R4d;Q0Y<s0Y.length;Q0Y++)D5Y.push(s0Y.getItemAt(Q0Y));if(!(h5Y.parent&&!h5Y.parent.isAll&&-b6I.E4d<D5Y.indexOf(h5Y.parent)))for(;h5Y.parent&&!h5Y.parent.isAll;)h5Y=h5Y.parent,D5Y.push(h5Y);}return D5Y;};f3Y.rowIdx=b6I.R4d;function f3Y(){throw Error(s933.m0d);}f3Y.xlsPadding=b6I.R4d;f3Y.cellPadding=b6I.J4d;f3Y.DEFAULT_CELL_WIDTH=b6I.a6d;f3Y.rowHeaderLevelsCellStyle=[];f3Y.defaultExcelCellHeightPoints=u3B;f3Y.defaultExcelCellHeightPixels=b6I.o4d;return f3Y;}();U3Y.ExportXLS=T3Y;}(j3Y._export||(j3Y._export={})));}(G3Y.model||(G3Y.model={})));}(pivot||(pivot={})));(function(X0Y){(function(P0Y){(function(L0Y){var w0Y=function(){z0Y.exportTo=function(Z0Y,t0Y,p0Y){var R6i=Q933;void R6i.R4d===t0Y&&(t0Y=R6i.V2d);void R6i.R4d===p0Y&&(p0Y=R6i.V2d);z0Y._exportInProgress?this.delayedExports.push({type:Z0Y,options:t0Y,callback:p0Y}):(Z0Y=Z0Y.toLowerCase(),Z0Y=S0Y.validType(Z0Y)?Z0Y:S0Y.PDF,P0Y.PivotModel.getInstance().addEventListener(X0Y.PivotEvent.EXPORT_COMPLETE,z0Y.exportCompleteHandler),z0Y._exportInProgress=!R6i.R4d,z0Y.callbackHandler=p0Y,utils.nullOrUndefined(t0Y)&&(t0Y=new L0Y.ExportOptions()),t0Y.type=Z0Y,Z0Y=new g0Y(Z0Y,t0Y,p0Y),P0Y.PivotModel.getInstance().dispatch(Z0Y));};function z0Y(){}z0Y.stopExport=function(){X0Y.preloader(!Q933.E4d);P0Y.PivotModel.getInstance().removeEventListener(X0Y.PivotEvent.EXPORT_COMPLETE,z0Y.exportCompleteHandler);z0Y._exportInProgress=!Q933.E4d;};z0Y.onExportCompleted=function(F0Y){z0Y.stopExport();Q933.R4d<z0Y.delayedExports.length&&(F0Y=z0Y.delayedExports.shift(),this.exportTo(F0Y.type,F0Y.options,F0Y.callback));};z0Y.save=function(N0Y,e0Y){switch(e0Y.destinationType.toLowerCase()){case P0Y.report.DestinationType.FILE:z0Y.saveToFile(N0Y,e0Y);break;case P0Y.report.DestinationType.SERVER:z0Y.saveToServer(N0Y,e0Y);break;case P0Y.report.DestinationType.BINARY:z0Y.saveToBinary(N0Y,e0Y);break;case P0Y.report.DestinationType.PLAIN:z0Y.saveToPlain(N0Y,e0Y);break;default:z0Y.saveToFile(N0Y,e0Y);}};z0Y.saveToServer=function(Y0Y,b0Y){var x3B="Unknown type of export: '";switch(b0Y.type){case S0Y.HTML:case S0Y.EXCEL:case S0Y.PDF:z0Y.saveToServerAsBinary(Y0Y,b0Y);break;default:var V0Y=P0Y.XSSCheck.validate(b0Y.type);X0Y.uialert(x3B+V0Y+s933.X9h,P0Y._labels.Labels.ERROR);}};z0Y.saveToFile=function(M0Y,R0Y){var f3B="text/plain;charset=utf-8";var T3B=".pdf";var U3B="application/pdf";var j3B=".xlsx";var G3B="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";var l3B=".html";var i3B="text/html;charset=utf-8";var E0Y;switch(R0Y.type){case S0Y.HTML:E0Y=i3B;R0Y.filename=z0Y.appendFileExtension(R0Y.filename,l3B);break;case S0Y.EXCEL:E0Y=G3B;R0Y.filename=z0Y.appendFileExtension(R0Y.filename,j3B);break;case S0Y.PDF:E0Y=U3B;R0Y.filename=z0Y.appendFileExtension(R0Y.filename,T3B);break;default:E0Y=f3B;}var J0Y=[M0Y];try{var k0Y=new Blob(J0Y,{type:E0Y});savingAs(k0Y,R0Y.filename);z0Y.triggerCallback({data:M0Y,fielname:R0Y.filename,type:R0Y.type});}catch(C0Y){X0Y.uialert(P0Y._labels.Labels.MESSAGE_CANT_SAVE_FILE,P0Y._labels.Labels.ERROR,X0Y.AlertType.ERROR),z0Y.triggerCallback(Q933.V2d,{message:P0Y._labels.Labels.MESSAGE_CANT_SAVE_FILE});}};z0Y.appendFileExtension=function(a0Y,H0Y){a0Y.indexOf(H0Y)!=a0Y.length-H0Y.length&&(a0Y+=H0Y);return a0Y;};z0Y.saveToServerAsBinary=function(l0Y,O0Y){var n3B="filedata";var W3B="application/octet-binary";var u0Y=new utils.Timer(Q933.v6d);u0Y.addEventListener(utils.TimerEvent.TIMER,function(j0Y){var c3B=" sec";X0Y.preloader(!Q933.R4d,P0Y._labels.Labels.MESSAGE_UPLOADING,(u0Y.currentCount/Q933.u4d).toString()+c3B);});var A0Y=new misc.URLStream();A0Y.addEventListener(events._Event.ERROR,function(U0Y){X0Y.uialert(P0Y._labels.Labels.MESSAGE_CANT_SAVE_FILE,P0Y._labels.Labels.ERROR);u0Y.stop();X0Y.preloader(!Q933.E4d);z0Y.triggerCallback(Q933.V2d,{message:P0Y._labels.Labels.MESSAGE_CANT_SAVE_FILE});});A0Y.addEventListener(events._Event.COMPLETE,function(){u0Y.stop();X0Y.preloader(!Q933.E4d);z0Y.triggerCallback({data:l0Y,fielname:O0Y.filename,type:O0Y.type,response:A0Y.response});});var G0Y=new Blob([l0Y],{type:W3B}),x0Y=new FormData();x0Y.append(n3B,G0Y,O0Y.filename);for(var i0Y in O0Y.extendedParameters)x0Y.append(i0Y,O0Y.extendedParameters[i0Y]);A0Y.requestMethod=misc.URLRequestMethod.POST;A0Y.data=x0Y;A0Y.contentType=!Q933.E4d;A0Y.load(O0Y.url);u0Y.start();};z0Y.saveToBinary=function(T0Y,f0Y){};z0Y.saveToPlain=function(c0Y,W0Y){};z0Y.triggerCallback=function(n0Y,y0Y){var w6i=Q933;void w6i.R4d===n0Y&&(n0Y=w6i.V2d);void w6i.R4d===y0Y&&(y0Y=w6i.V2d);w6i.V2d!=z0Y.callbackHandler&&z0Y.callbackHandler.call(w6i.V2d,n0Y,y0Y);};z0Y._exportInProgress=!Q933.E4d;z0Y.delayedExports=[];z0Y.exportCompleteHandler=function(K0Y){return z0Y.onExportCompleted(K0Y);};return z0Y;}();L0Y.ExportManager=w0Y;var g0Y=function(m0Y){__extends(r0Y,m0Y);function r0Y(B0Y,q0Y,v0Y){var I0Y=m0Y.call(this,X0Y.PivotEvent.EXPORT)||this;I0Y.exportType=B0Y;I0Y.exportOptions=q0Y;I0Y.callbackHandler=v0Y;return I0Y;}return r0Y;}(events._Event);L0Y.ExportEvent=g0Y;var S0Y=function(){var K3B="pdf";var y3B="excel";h0Y.validType=function(D0Y){return D0Y===h0Y.EXCEL||D0Y===h0Y.HTML||D0Y===h0Y.PDF;};h0Y.EXCEL=y3B;h0Y.HTML=s933.H0d;function h0Y(){}h0Y.PDF=K3B;return h0Y;}();L0Y.ExportType=S0Y;}(P0Y._export||(P0Y._export={})));}(X0Y.model||(X0Y.model={})));}(pivot||(pivot={})));(function(d0Y){(function(o0Y){(function(Q1Y){var s1Y=function(){X1Y.fromObject=function(S1Y){var g6i=Q933;var L6i=s933;var B3B="destinationType";var I3B="pageOrientation";var r3B="excelExportAll";var m3B="excelSheetName";var L1Y=new X1Y();if(utils.nullOrUndefined(S1Y))return L1Y;S1Y.hasOwnProperty(X933.v6B)&&(L1Y.showHeaders=L6i.C8d===S1Y.showHeaders||!g6i.R4d===S1Y.showHeaders);S1Y.hasOwnProperty(L6i.j4B)&&(L1Y.filename=S1Y.filename);S1Y.hasOwnProperty(L6i.T4B)&&(L1Y.url=S1Y.url);S1Y.hasOwnProperty(m3B)&&(L1Y.excelSheetName=S1Y.excelSheetName);S1Y.hasOwnProperty(r3B)&&(L1Y.excelExportAll=S1Y.excelExportAll);!S1Y.hasOwnProperty(I3B)||L6i.t7h!==S1Y.pageOrientation&&L6i.Z7h!==S1Y.pageOrientation||(L1Y.pageOrientation=S1Y.pageOrientation.toLowerCase());S1Y.hasOwnProperty(B3B)&&d0Y.model.report.DestinationType.validType(S1Y.destinationType.toString().toLowerCase())&&(L1Y.destinationType=S1Y.destinationType.toString().toLowerCase());void g6i.R4d!=S1Y.showFilters&&(L1Y.showFilters=S1Y.showFilters);void g6i.R4d!=S1Y.extendedParameters&&(L1Y.extendedParameters=S1Y.extendedParameters);void g6i.R4d!=S1Y.header&&(L1Y.header=S1Y.header);void g6i.R4d!=S1Y.footer&&(L1Y.footer=S1Y.footer);return L1Y;};function X1Y(P1Y){var X6i=Q933;void X6i.R4d===P1Y&&(P1Y=s933.U0d);this.showHeaders=!X6i.R4d;this.destinationType=d0Y.model.report.DestinationType.FILE;this.filename=X6i.s3d;this.url=s933.B1d;this.type=Q1Y.ExportType.HTML;this.pageOrientation=s933.t7h;this.excelSheetName=X6i.s3d;this.showFilters=this.excelExportAll=!X6i.E4d;this.extendedParameters={};this.destinationType=P1Y;}return X1Y;}();Q1Y.ExportOptions=s1Y;}(o0Y._export||(o0Y._export={})));}(d0Y.model||(d0Y.model={})));}(pivot||(pivot={})));(function(g1Y){(function(w1Y){(function(z1Y){var Z1Y=function(){t1Y.getFormat=function(p1Y){return t1Y.formats.keyExists(p1Y)?t1Y.formats.getItem(p1Y):Q933.s3d!=p1Y&&t1Y.formats.keyExists(Q933.s3d)?t1Y.formats.getItem(Q933.s3d):t1Y.getDefaultFormat();};t1Y.setFormat=function(e1Y){var F1Y=z1Y.vo.FormatValueObject.fromObject(e1Y);t1Y.cleanFormats.addItem(F1Y.name,F1Y);if(Q933.V2d!=t1Y.defaultFormat)F1Y.mergeDefaults(t1Y.defaultFormat);else if(Q933.s3d==F1Y.name)for(t1Y.defaultFormat=e1Y,e1Y=Q933.R4d;e1Y<t1Y.formats.length;e1Y++)t1Y.formats.getItemAt(e1Y).mergeDefaults(t1Y.defaultFormat);t1Y.formats.addItem(F1Y.name,F1Y);};t1Y.getAllFormats=function(){return t1Y.cleanFormats.slice();};function t1Y(){}t1Y.clear=function(){t1Y.formats=new utils.AssociativeArray();t1Y.cleanFormats=new utils.AssociativeArray();t1Y.defaultFormat=Q933.V2d;};t1Y.getDefaultFormat=function(){return new z1Y.vo.FormatValueObject();};t1Y.formatExists=function(N1Y){return t1Y.formats.keyExists(N1Y);};t1Y.dispose=function(){t1Y.formats=Q933.V2d;t1Y.cleanFormats=Q933.V2d;t1Y.defaultFormat=Q933.V2d;};t1Y.formats=new utils.AssociativeArray();t1Y.cleanFormats=new utils.AssociativeArray();t1Y.defaultFormat=Q933.V2d;return t1Y;}();z1Y.FormatManager=Z1Y;}(w1Y.format||(w1Y.format={})));}(g1Y.model||(g1Y.model={})));}(pivot||(pivot={})));(function(b1Y){(function(V1Y){(function(Y1Y){(function(E1Y){var R1Y=function(){var D4i=Q933;var Z5B="currencySymbolLength";var z5B="isCount";var w5B="isPercent";var g5B="textAlign";var L5B="divideByZeroValue";var S5B="infinityValue";var P5B="nullValue";var X5B="currencySymbolAlign";var s5B="currencySymbol";var Q5B="maxSymbols";var o3B="maxDecimalPlaces";var d3B="decimalPlaces";var h3B="decimalSeparator";var v3B="thousandsSeparator";Object.defineProperty(M1Y.prototype,X933.q3B,{get:function(){return this._params;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,v3B,{get:function(){return void D4i.R4d!=this._params.thousandsSeparator?this._params.thousandsSeparator:this._defaults.thousandsSeparator;},set:function(k1Y){this._params.thousandsSeparator=k1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,h3B,{get:function(){return void D4i.R4d!=this._params.decimalSeparator?this._params.decimalSeparator:this._defaults.decimalSeparator;},set:function(C1Y){this._params.decimalSeparator=C1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});function M1Y(J1Y){var D3B="Infinity";void D4i.R4d===J1Y&&(J1Y=D4i.s3d);this.name=D4i.s3d;this._params={};this._defaults={thousandsSeparator:D4i.R2d,decimalSeparator:s933.c8d,decimalPlaces:-D4i.E4d,maxDecimalPlaces:-D4i.E4d,maxSymbols:D4i.W4d,currencySymbol:D4i.s3d,currencySymbolAlign:D4i.J3d,nullValue:D4i.s3d,infinityValue:D3B,divideByZeroValue:D3B,textAlign:D4i.s3d,isPercent:!D4i.E4d,isCount:!D4i.E4d};this.name=J1Y;}Object.defineProperty(M1Y.prototype,d3B,{get:function(){return void D4i.R4d!=this._params.decimalPlaces?this._params.decimalPlaces:this._defaults.decimalPlaces;},set:function(a1Y){this._params.decimalPlaces=a1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,o3B,{get:function(){return void D4i.R4d!=this._params.maxDecimalPlaces?this._params.maxDecimalPlaces:this._defaults.maxDecimalPlaces;},set:function(H1Y){this._params.maxDecimalPlaces=H1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,Q5B,{get:function(){return void D4i.R4d!=this._params.maxSymbols?this._params.maxSymbols:this._defaults.maxSymbols;},set:function(A1Y){this._params.maxSymbols=A1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,s5B,{get:function(){return void D4i.R4d!=this._params.currencySymbol?this._params.currencySymbol:this._defaults.currencySymbol;},set:function(O1Y){this._params.currencySymbol=O1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,X5B,{get:function(){return void D4i.R4d!=this._params.currencySymbolAlign?this._params.currencySymbolAlign:this._defaults.currencySymbolAlign;},set:function(u1Y){this._params.currencySymbolAlign=u1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,P5B,{get:function(){return void D4i.R4d!=this._params.nullValue?this._params.nullValue:this._defaults.nullValue;},set:function(x1Y){this._params.nullValue=x1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,S5B,{get:function(){return void D4i.R4d!=this._params.infinityValue?this._params.infinityValue:this._defaults.infinityValue;},set:function(i1Y){this._params.infinityValue=i1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,L5B,{get:function(){return void D4i.R4d!=this._params.divideByZeroValue?this._params.divideByZeroValue:this._defaults.divideByZeroValue;},set:function(l1Y){this._params.divideByZeroValue=l1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,g5B,{get:function(){return void D4i.R4d!=this._params.textAlign?this._params.textAlign:this._defaults.textAlign;},set:function(G1Y){this._params.textAlign=G1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,w5B,{get:function(){return void D4i.R4d!=this._params.isPercent?this._params.isPercent:this._defaults.isPercent;},set:function(j1Y){this._params.isPercent=j1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,z5B,{get:function(){return void D4i.R4d!=this._params.isCount?this._params.isCount:this._defaults.isCount;},set:function(U1Y){this._params.isCount=U1Y;},enumerable:!D4i.R4d,configurable:!D4i.R4d});Object.defineProperty(M1Y.prototype,Z5B,{get:function(){return D4i.E4d<this.currencySymbol.length&&s933.j0d==this.currencySymbol.charAt(D4i.R4d)&&s933.E9h==this.currencySymbol.charAt(this.currencySymbol.length-D4i.E4d)?D4i.E4d:this.currencySymbol.length;},set:function(T1Y){},enumerable:!D4i.R4d,configurable:!D4i.R4d});M1Y.prototype.applyFormat=function(f1Y){return utils.NumberFormatter.format(f1Y,this);};M1Y.prototype.toXLSFormatCode=function(){var L1i=s933;var F5B="###0";var p5B="#,##0";var t5B="0.";var W1Y,c1Y=D4i.s3d;if(-D4i.E4d==this.decimalPlaces&&D4i.s3d==this.currencySymbol)return D4i.s3d;if(X933.E3B==this.currencySymbol){var n1Y=-D4i.E4d==this.decimalPlaces?D4i.R4d:this.decimalPlaces,c1Y=D4i.R4d<n1Y?t5B:L1i.M8d;for(W1Y=D4i.R4d;W1Y<n1Y;W1Y++)c1Y+=L1i.M8d;return c1Y+=this.currencySymbol;}c1Y=D4i.s3d!=this.thousandsSeparator?p5B:F5B;if(D4i.R4d<this.decimalPlaces)for(c1Y+=L1i.c8d,W1Y=D4i.R4d;W1Y<this.decimalPlaces;W1Y++)c1Y+=L1i.M8d;D4i.s3d!=this.currencySymbol&&(c1Y=D4i.J3d==this.currencySymbolAlign?X933.e5B+this.currencySymbol+c1Y:c1Y+X933.e5B+this.currencySymbol);return c1Y;};M1Y.prototype.toObject=function(m1Y){void D4i.R4d===m1Y&&(m1Y=!D4i.E4d);var y1Y={};y1Y.name=this.name;if(m1Y)y1Y.thousandsSeparator=this.thousandsSeparator,y1Y.decimalSeparator=this.decimalSeparator,y1Y.decimalPlaces=this.decimalPlaces,y1Y.maxDecimalPlaces=this.maxDecimalPlaces,y1Y.maxSymbols=this.maxSymbols,y1Y.currencySymbol=this.currencySymbol,y1Y.currencySymbolAlign=this.currencySymbolAlign,y1Y.nullValue=this.nullValue,y1Y.infinityValue=this.infinityValue,y1Y.divideByZeroValue=this.divideByZeroValue,y1Y.textAlign=D4i.s3d!=this.textAlign?this.textAlign:D4i.C3d,y1Y.isPercent=this.isPercent,y1Y.isCount=this.isCount;else for(var K1Y in this._params)y1Y[K1Y]=g5B==K1Y?D4i.s3d==this.textAlign?D4i.C3d:this.textAlign:this._params[K1Y];return y1Y;};M1Y.fromObject=function(r1Y){var I1Y=new M1Y();D4i.V2d!=r1Y.name&&(I1Y.name=r1Y.name);D4i.V2d!=r1Y.thousandsSeparator&&V1Y.XSSCheck.valid(r1Y.thousandsSeparator)&&(I1Y.thousandsSeparator=V1Y.XSSCheck.validate(r1Y.thousandsSeparator,!D4i.R4d));D4i.V2d!=r1Y.decimalSeparator&&V1Y.XSSCheck.valid(r1Y.decimalSeparator)&&(I1Y.decimalSeparator=V1Y.XSSCheck.validate(r1Y.decimalSeparator));D4i.V2d!=r1Y.decimalPlaces&&-D4i.E4d<parseInt(r1Y.decimalPlaces)&&(I1Y.decimalPlaces=isNaN(parseInt(r1Y.decimalPlaces))?-D4i.E4d:parseInt(r1Y.decimalPlaces));D4i.V2d!=r1Y.maxDecimalPlaces&&-D4i.E4d<parseInt(r1Y.maxDecimalPlaces)&&(I1Y.maxDecimalPlaces=r1Y.maxDecimalPlaces);D4i.V2d!=r1Y.maxSymbols&&D4i.E4d<parseInt(r1Y.maxSymbols)&&(I1Y.maxSymbols=r1Y.maxSymbols);D4i.V2d!=r1Y.currencySymbol&&V1Y.XSSCheck.valid(r1Y.currencySymbol)&&(I1Y.currencySymbol=V1Y.XSSCheck.validate(r1Y.currencySymbol,!D4i.R4d));D4i.V2d!=r1Y.currencySymbolAlign&&V1Y.XSSCheck.valid(r1Y.currencySymbolAlign)&&(I1Y.currencySymbolAlign=V1Y.XSSCheck.validate(r1Y.currencySymbolAlign));D4i.V2d!=r1Y.nullValue&&V1Y.XSSCheck.valid(r1Y.nullValue)&&(I1Y.nullValue=V1Y.XSSCheck.validate(r1Y.nullValue));D4i.V2d!=r1Y.infinityValue&&V1Y.XSSCheck.valid(r1Y.infinityValue)&&(I1Y.infinityValue=V1Y.XSSCheck.validate(r1Y.infinityValue));D4i.V2d!=r1Y.divideByZeroValue&&V1Y.XSSCheck.valid(r1Y.divideByZeroValue)&&(I1Y.divideByZeroValue=V1Y.XSSCheck.validate(r1Y.divideByZeroValue));D4i.V2d!=r1Y.textAlign&&V1Y.XSSCheck.valid(r1Y.textAlign)&&(I1Y.textAlign=V1Y.XSSCheck.validate(r1Y.textAlign));D4i.V2d!=r1Y.isPercent&&(I1Y.isPercent=!D4i.R4d==r1Y.isPercent);D4i.V2d!=r1Y.isCount&&(I1Y.isCount=!D4i.R4d==r1Y.isCount);return I1Y;};M1Y.prototype.clone=function(){var B1Y=new M1Y();B1Y.name=this.name;this._params.hasOwnProperty(v3B)&&(B1Y.thousandsSeparator=this.thousandsSeparator);this._params.hasOwnProperty(h3B)&&(B1Y.decimalSeparator=this.decimalSeparator);this._params.hasOwnProperty(d3B)&&(B1Y.decimalPlaces=this.decimalPlaces);this._params.hasOwnProperty(o3B)&&(B1Y.maxDecimalPlaces=this.maxDecimalPlaces);this._params.hasOwnProperty(Q5B)&&(B1Y.maxSymbols=this.maxSymbols);this._params.hasOwnProperty(s5B)&&(B1Y.currencySymbol=this.currencySymbol);this._params.hasOwnProperty(X5B)&&(B1Y.currencySymbolAlign=this.currencySymbolAlign);this._params.hasOwnProperty(P5B)&&(B1Y.nullValue=this.nullValue);this._params.hasOwnProperty(S5B)&&(B1Y.infinityValue=this.infinityValue);this._params.hasOwnProperty(L5B)&&(B1Y.divideByZeroValue=this.divideByZeroValue);this._params.hasOwnProperty(g5B)&&(B1Y.textAlign=this.textAlign);this._params.hasOwnProperty(w5B)&&(B1Y.isPercent=this.isPercent);this._params.hasOwnProperty(w5B)&&(B1Y.isCount=this.isCount);var q1Y={},v1Y;for(v1Y in this._defaults)q1Y[v1Y]=this._defaults[v1Y];B1Y._defaults=q1Y;return B1Y;};M1Y.prototype.mergeDefaults=function(D1Y){for(var h1Y in D1Y)this._defaults[h1Y]=D1Y[h1Y];};return M1Y;}();E1Y.FormatValueObject=R1Y;}(Y1Y.vo||(Y1Y.vo={})));}(V1Y.format||(V1Y.format={})));}(b1Y.model||(b1Y.model={})));}(pivot||(pivot={})));(function(d1Y){var o1Y=function(){Q8Y.format=function(P8Y,X8Y,z8Y,p8Y,S8Y){var M1E=s933;var E1E=X933;var R1E=Q933;var b5B="e";var N5B="9";void R1E.R4d===X8Y&&(X8Y=R1E.V2d);void R1E.R4d===z8Y&&(z8Y=!R1E.E4d);void R1E.R4d===p8Y&&(p8Y=!R1E.E4d);void R1E.R4d===S8Y&&(S8Y=-R1E.E4d);R1E.V2d==X8Y&&(X8Y=Q8Y.defaultFormatVO);if(isNaN(P8Y)||d1Y.nullOrUndefined(P8Y))return X8Y.nullValue;if(Infinity==P8Y)return X8Y.infinityValue;if(P8Y==pivot.data_.consts.DataConsts.DIVIDE_BY_ZERO)return X8Y.divideByZeroValue;z8Y||(z8Y=X8Y.isCount);P8Y=X8Y.isPercent&&E1E.E3B!=X8Y.currencySymbol?R1E.a6d*P8Y:P8Y;var w8Y=p8Y?E1E.E3B:X8Y.currencySymbol,w8Y=!p8Y&&X8Y.isPercent&&E1E.E3B!=X8Y.currencySymbol?E1E.E3B:w8Y;X8Y.currencySymbolAlign=X8Y.isPercent?R1E.C3d:X8Y.currencySymbolAlign;var g8Y=z8Y?R1E.R4d:X8Y.decimalPlaces,s8Y=R1E.s3d;if(R1E.R4d==P8Y&&R1E.R4d>g8Y)return s8Y=M1E.M8d,!z8Y&&R1E.R4d<w8Y.length&&(s8Y=Q8Y.formatCurrency(s8Y,w8Y,X8Y.currencySymbolAlign,p8Y)),s8Y;s8Y=R1E.R4d>P8Y?X8Y.maxSymbols-R1E.E4d:X8Y.maxSymbols;R1E.E4d<X8Y.thousandsSeparator.length&&!d1Y.StringUtils.isEntity(X8Y.thousandsSeparator)&&(s8Y-=Math.floor(s8Y/R1E.J4d)*X8Y.thousandsSeparator.length);!z8Y&&R1E.R4d<X8Y.currencySymbolLength&&(s8Y-=X8Y.currencySymbolLength);X8Y.thousandsSeparator=M1E.B8d==X8Y.thousandsSeparator?M1E.X9h:X8Y.thousandsSeparator;var L8Y=P8Y.toString().split(M1E.c8d);if(R1E.E4d<L8Y.length&&R1E.u4d<=L8Y[R1E.E4d].length){for(var L8Y=L8Y[R1E.E4d],t8Y=R1E.R4d,F8Y=R1E.R4d,Z8Y=L8Y.length-R1E.M4d;R1E.R4d<=Z8Y;Z8Y--)if(N5B!=L8Y.charAt(Z8Y)&&M1E.M8d!=L8Y.charAt(Z8Y)||L8Y.charAt(Z8Y)!=L8Y.charAt(Z8Y+R1E.E4d))if(R1E.k4d>t8Y)t8Y=R1E.R4d;else{F8Y=Z8Y+R1E.E4d;break;}else t8Y++;R1E.k4d<=t8Y&&(L8Y=Math.pow(R1E.u4d,F8Y),P8Y=Math.round(P8Y*L8Y)/L8Y);}L8Y=R1E.k4d<g8Y?Math.pow(R1E.u4d,s8Y-g8Y-R1E.E4d):Math.pow(R1E.u4d,s8Y-R1E.k4d);t8Y=Math.pow(R1E.u4d,-(s8Y-R1E.k4d));-R1E.E4d<S8Y&&(g8Y=S8Y);Math.abs(P8Y)>L8Y?(S8Y=Math.round(Math.log(P8Y)/Math.LN10),S8Y=Math.round(Math.log(S8Y)/Math.LN10+R1E.E4d),s8Y=R1E.R4d>P8Y?X8Y.maxSymbols-S8Y-R1E.C4d:X8Y.maxSymbols-S8Y-R1E.k4d,R1E.W4d<s8Y&&(s8Y=R1E.W4d),R1E.E4d>s8Y&&(s8Y=R1E.E4d),s8Y=P8Y.toExponential(s8Y)):Math.abs(P8Y)<t8Y&&R1E.R4d>g8Y?(S8Y=Math.round(Math.log(P8Y)/Math.LN10),S8Y=Math.round(Math.log(-S8Y)/Math.LN10+R1E.E4d),s8Y=s8Y-R1E.k4d-S8Y,R1E.W4d<s8Y&&(s8Y=R1E.W4d),R1E.E4d>s8Y&&(s8Y=R1E.E4d),s8Y=P8Y.toExponential(s8Y)):R1E.R4d>g8Y?(S8Y=R1E.E4d,R1E.E4d<Math.abs(P8Y)?(S8Y=Math.round(Math.log(Math.abs(P8Y))/Math.LN10),S8Y=Math.pow(R1E.u4d,s8Y-S8Y-R1E.M4d)):S8Y=Math.pow(R1E.u4d,s8Y-R1E.M4d),s8Y=(Math.round(Math.abs(P8Y)*S8Y)/S8Y).toString(),R1E.R4d>P8Y&&(s8Y=R1E.l3d+s8Y)):s8Y=R1E.R4d==g8Y?Math.round(P8Y).toString():P8Y.toFixed(g8Y);-R1E.E4d==s8Y.indexOf(b5B)&&(s8Y=s8Y.split(M1E.c8d),S8Y=Q8Y.formatThousands(s8Y[R1E.R4d],X8Y),L8Y=R1E.E4d<s8Y.length?s8Y[R1E.E4d]:R1E.s3d,(R1E.E4d<s8Y.length||R1E.R4d<g8Y)&&R1E.R4d!=X8Y.maxDecimalPlaces?(-R1E.E4d<X8Y.maxDecimalPlaces&&L8Y.length>X8Y.maxDecimalPlaces&&(L8Y=L8Y.substr(R1E.R4d,X8Y.maxDecimalPlaces)),s8Y=S8Y+X8Y.decimalSeparator+L8Y):s8Y=S8Y);!z8Y&&R1E.R4d<w8Y.length&&(s8Y=Q8Y.formatCurrency(s8Y,w8Y,X8Y.currencySymbolAlign,p8Y));return s8Y=Q8Y.checkNegativeZero(s8Y,P8Y);};function Q8Y(){}Q8Y.formatThousands=function(e8Y,b8Y){var Y1E=Q933;void Y1E.R4d===b8Y&&(b8Y=Y1E.V2d);var E8Y=Y1E.R4d>parseFloat(e8Y);E8Y&&(e8Y=e8Y.substr(Y1E.E4d));var N8Y=e8Y;if(Y1E.J4d<e8Y.length){Y1E.V2d==b8Y&&(Y1E.V2d==Q8Y.defaultFormatVO&&(Q8Y.defaultFormatVO=new pivot.model.format.vo.FormatValueObject(Y1E.s3d)),b8Y=Q8Y.defaultFormatVO);var N8Y=Math.floor(e8Y.length/Y1E.J4d),V8Y=[],Y8Y=e8Y.length%Y1E.J4d;Y1E.R4d<Y8Y&&V8Y.push(e8Y.substr(Y1E.R4d,Y8Y));for(var R8Y=Y1E.R4d;R8Y<N8Y;R8Y++)V8Y.push(e8Y.substr(Y8Y+Y1E.J4d*R8Y,Y1E.J4d));N8Y=V8Y.join(b8Y.thousandsSeparator);}E8Y&&(N8Y=Y1E.l3d+N8Y);return N8Y;};Q8Y.formatCurrency=function(M8Y,J8Y,k8Y,C8Y){var V1E=Q933;return M8Y=V1E.J3d!=k8Y||C8Y?M8Y+J8Y:V1E.R4d==M8Y.indexOf(V1E.l3d)?V1E.l3d+J8Y+M8Y.substr(V1E.E4d):J8Y+M8Y;};Q8Y.checkNegativeZero=function(a8Y,H8Y){var b1E=Q933;var V5B="[1-9]+";return b1E.R4d<=H8Y||-b1E.E4d==a8Y.indexOf(b1E.l3d)||-b1E.E4d<a8Y.search(V5B)?a8Y:a8Y.replace(b1E.l3d,b1E.s3d);};Q8Y.defaultFormatVO=new pivot.model.format.vo.FormatValueObject();return Q8Y;}();d1Y.NumberFormatter=o1Y;}(utils||(utils={})));(function(A8Y){(function(O8Y){var u8Y=function(){x8Y.getStructureLoader=function(l8Y){var i8Y=Q933.V2d;switch(l8Y.dataSourceType){case O8Y.consts.DataSourceType.CSV:i8Y=!Q933.R4d==l8Y.embedded?new O8Y.csv.CSVEmbeddedLoader():new O8Y.csv.CSVLoader();break;case O8Y.consts.DataSourceType.JSON:i8Y=new O8Y.json.JSONLoader();}return i8Y;};function x8Y(){}return x8Y;}();O8Y.StructureLoaderFactory=u8Y;}(A8Y.data_||(A8Y.data_={})));}(pivot||(pivot={})));(function(G8Y){(function(j8Y){var U8Y=function(){return function(){this.mdx=this.type=Q933.s3d;this.axisName=j8Y.consts.AxisName.ROWS_AXIS;this.tuple=[];};}();j8Y.Query=U8Y;}(G8Y.data_||(G8Y.data_={})));}(pivot||(pivot={})));(function(T8Y){(function(c8Y){var f8Y=function(){var E5B="siblings";var Y5B="ascendants";W8Y.MEMBERS=s933.i7h;function W8Y(){}W8Y.ASCENDANTS=Y5B;W8Y.DESCENDANTS=X933.R5B;W8Y.SIBLINGS=E5B;W8Y.SEARCH=X933.M5B;return W8Y;}();c8Y.MembersLoaderState=f8Y;}(T8Y.data_||(T8Y.data_={})));}(pivot||(pivot={})));(function(n8Y){(function(y8Y){var K8Y=function(){var A5B="BEFORE_QUERY";var H5B="STRUCTURE_LOADING_FAILED";var a5B="STRUCTURE_CANCELLED";var C5B="STRUCTURE_LOADED";var k5B="STRUCTURE_CONNECTED";var J5B="BEFORE_STRUCTURE_LOADING";r8Y.BEFORE_STRUCTURE_LOADING=J5B;function r8Y(){}r8Y.STRUCTURE_CONNECTED=k5B;r8Y.STRUCTURE_LOADED=C5B;r8Y.STRUCTURE_CANCELLED=a5B;r8Y.STRUCTURE_LOADING_FAILED=H5B;r8Y.BEFORE_QUERY=A5B;r8Y.QUERY_COMPLETE=X933.O5B;r8Y.QUERY_ERROR=X933.u5B;return r8Y;}();y8Y.DataEvent=K8Y;var m8Y=function(I8Y){__extends(B8Y,I8Y);function B8Y(v8Y){var q8Y=I8Y.call(this,K8Y.BEFORE_QUERY)||this;q8Y.queryType=v8Y;return q8Y;}return B8Y;}(events._Event);y8Y.BeforeQueryEvent=m8Y;m8Y=function(h8Y){__extends(D8Y,h8Y);function D8Y(o8Y){var d8Y=h8Y.call(this,K8Y.QUERY_COMPLETE)||this;d8Y.queryType=y8Y.consts.QueryType.SELECT;d8Y.queryType=o8Y;return d8Y;}return D8Y;}(events._Event);y8Y.QueryCompleteEvent=m8Y;}(n8Y.data_||(n8Y.data_={})));}(pivot||(pivot={})));(function(Q9G){(function(s9G){(function(P9G){var X9G=function(L9G){var X6I=Q933;var s6I=X933;var p0B=9E3;__extends(S9G,L9G);S9G.getInstance=function(){var x5B="grid";X6I.V2d==S9G.instance&&(S9G.instance=new S9G(),S9G.instance._name=x5B+S9G.counter);return S9G.instance;};S9G.prototype.addEventListeners=function(){this.cube_.addEventListener(s9G.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,X6I.E4d);this.cube_.addEventListener(s9G.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(s9G.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler,X6I.E4d);};S9G.prototype.removeEventListeners=function(){this.cube_.removeEventListener(s9G.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(s9G.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(s9G.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);};Object.defineProperty(S9G.prototype,s6I.i5B,{get:function(){return X6I.V2d!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(Z9G){this._dataStorage=Z9G;},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s933.O4h,{get:function(){return X6I.V2d!=this._slice?this._slice:this.cube_.slice_;},set:function(t9G){this._slice=t9G;},enumerable:!X6I.R4d,configurable:!X6I.R4d});function S9G(){var g9G=L9G.call(this)||this;g9G.rowTuples=[];g9G._rowTuples=[];g9G.columnTuples=[];g9G._columnTuples=[];g9G.rowDepths=[];g9G.rowType=[];g9G.columnDepths=[];g9G._name=X6I.s3d;g9G.queryCompleteHandler=function(){return g9G.onQueryComplete();};g9G.beforeQueryHandler=function(w9G){return g9G.onBeforeQuery(w9G);};g9G.structureLoadedHandler=function(z9G){return g9G.onStructureLoaded();};g9G._rows=new utils.AssociativeArray();g9G._rowLevels=[];g9G._columnLevels=[];g9G._columns=new utils.AssociativeArray();g9G._pages=new utils.AssociativeArray();g9G._measures=new utils.AssociativeArray();g9G._measuresPosition=X6I.R4d;g9G._dataLoaded=!X6I.E4d;g9G._rowMaxDepth=X6I.R4d;g9G._columnMaxDepth=X6I.R4d;g9G._measureDepth=X6I.R4d;g9G.queryType=s9G.consts.QueryType.SELECT;g9G._showUnexpandedDataAlert=!X6I.E4d;g9G._fillRowTuplesStart=X6I.R4d;S9G.counter++;g9G.cube_=s9G.Cube.getInstance();return g9G;}Object.defineProperty(S9G.prototype,s6I.l5B,{get:function(){return Q9G.model._options.OptionsManager.classicView;},set:function(p9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s933.J4h,{get:function(){return this._rows;},set:function(F9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.G5B,{get:function(){return this.slice.rowsOnly;},set:function(e9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.j5B,{get:function(){return this._rowLevels;},set:function(N9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.U5B,{get:function(){return this._columnLevels;},set:function(b9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s933.k4h,{get:function(){return this._columns;},set:function(V9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.T5B,{get:function(){return this.slice.columnsOnly;},set:function(Y9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.f5B,{get:function(){return this._pages;},set:function(R9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.c5B,{get:function(){return this._measures;},set:function(E9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.W5B,{get:function(){return this._measuresPosition;},set:function(M9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.n5B,{get:function(){return this.slice&&this._dataLoaded;},set:function(J9G){this._dataLoaded=J9G;},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.y5B,{get:function(){return this._rowMaxDepth;},set:function(k9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.K5B,{get:function(){return this._columnMaxDepth;},set:function(C9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.m5B,{get:function(){return this._measureDepth;},set:function(a9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.r5B,{get:function(){return this._rowAxis;},set:function(H9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.I5B,{get:function(){return this._columnAxis;},set:function(A9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.B5B,{get:function(){return this._rowAxis?this._rowAxis.hasMeasures?this._rowAxis.hierarchies.length-X6I.E4d:this._rowAxis.hierarchies.length:X6I.R4d;},set:function(O9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.q5B,{get:function(){return this._columnAxis?this._columnAxis.hasMeasures?this._columnAxis.hierarchies.length-X6I.E4d:this._columnAxis.hierarchies.length:X6I.R4d;},set:function(u9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.v5B,{get:function(){return X6I.E4d<this._measures.length||this._columnAxis.hasMeasures&&Q9G.model._options.OptionsManager.showExtraTotalLabels;},set:function(x9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});S9G.prototype.getExpandedRows=function(){return this._rowAxis&&!this.isAllExpanded()?this._rowAxis.expandedTuples:[];};S9G.prototype.setExpandedRows=function(i9G){this._rowAxis&&!this.isAllExpanded()&&(this._rowAxis.expandedTuples=i9G);};S9G.prototype.getExpandedColumns=function(){return this._columnAxis&&!this.isAllExpanded()?this._columnAxis.expandedTuples:[];};S9G.prototype.setExpandedColumns=function(l9G){this._columnAxis&&!this.isAllExpanded()&&(this._columnAxis.expandedTuples=l9G);};S9G.prototype.getCollapsedRows=function(){return this._rowAxis&&this.isAllExpanded()?this._rowAxis.expandedTuples:[];};S9G.prototype.setCollapsedRows=function(G9G){this._rowAxis&&this.isAllExpanded()&&(this._rowAxis.expandedTuples=G9G);};S9G.prototype.getCollapsedColumns=function(){return this._columnAxis&&this.isAllExpanded()?this._columnAxis.expandedTuples:[];};S9G.prototype.setCollapsedColumns=function(j9G){this._columnAxis&&this.isAllExpanded()&&(this._columnAxis.expandedTuples=j9G);};S9G.prototype.getDrilledDownRows=function(){return this._rowAxis&&!this.isAllDrilled()?this._rowAxis.drilledTuples:[];};S9G.prototype.setDrilledDownRows=function(U9G){this._rowAxis&&!this.isAllDrilled()&&(this._rowAxis.drilledTuples=U9G);};S9G.prototype.getDrilledDownColumns=function(){return this._columnAxis&&!this.isAllDrilled()?this._columnAxis.drilledTuples:[];};S9G.prototype.setDrilledDownColumns=function(T9G){this._columnAxis&&!this.isAllDrilled()&&(this._columnAxis.drilledTuples=T9G);};S9G.prototype.getDrilledUpRows=function(){return this._rowAxis&&this.isAllDrilled()?this._rowAxis.drilledTuples:[];};S9G.prototype.setDrilledUpRows=function(f9G){this._rowAxis&&this.isAllDrilled()&&(this._rowAxis.drilledTuples=f9G);};S9G.prototype.getDrilledUpColumns=function(){return this._columnAxis&&this.isAllDrilled()?this._columnAxis.drilledTuples:[];};S9G.prototype.setDrilledUpColumns=function(c9G){this._columnAxis&&this.isAllDrilled()&&(this._columnAxis.drilledTuples=c9G);};S9G.prototype.isAllDrilled=function(){return this.slice.drillAll;};S9G.prototype.isAllExpanded=function(){return this.slice.expandAll;};Object.defineProperty(S9G.prototype,s6I.h5B,{get:function(){var W9G=s9G.consts.SortType.UNSORTED;this._rowAxis&&(W9G=this._rowAxis.sortType,W9G==s9G.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(W9G=this._rowAxis.totalSortType));return W9G;},set:function(n9G){this._rowAxis&&(this._rowAxis.sortType=n9G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.D5B,{get:function(){var y9G;this._rowAxis&&(y9G=this._rowAxis.sortTuple,this._rowAxis.sortType==s9G.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(y9G=[]));return y9G;},set:function(K9G){this._rowAxis&&(this._rowAxis.sortTuple=K9G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.d5B,{get:function(){var m9G;this._rowAxis&&(m9G=this._rowAxis.sortMeasure,this._rowAxis.sortType==s9G.consts.SortType.UNSORTED&&this._rowAxis.totalSortMeasure&&this._rowAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(m9G=this._rowAxis.totalSortMeasure));return m9G;},set:function(r9G){this._rowAxis&&(this._rowAxis.sortMeasure=r9G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.o5B,{get:function(){if(this.rowSortType==s9G.consts.SortType.UNSORTED||X6I.V2d==this.rowSortTuple)return!X6I.E4d;if(X6I.E4d>this.rowSortTuple.length)return!X6I.R4d;var I9G=!X6I.E4d;try{I9G=this.isRowExpanded(this.rowSortTuple.slice(X6I.R4d,this.rowSortTuple.length-X6I.E4d));}catch(B9G){}return I9G;},set:function(q9G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.Q0B,{get:function(){var v9G=s9G.consts.SortType.UNSORTED;this._columnAxis&&(v9G=this._columnAxis.sortType,v9G==s9G.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(v9G=this._columnAxis.totalSortType));return v9G;},set:function(h9G){this._columnAxis&&(this._columnAxis.sortType=h9G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.s0B,{get:function(){var D9G;this._columnAxis&&(D9G=this._columnAxis.sortTuple,this._columnAxis.sortType==s9G.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(D9G=[]));return D9G;},set:function(d9G){this._columnAxis&&(this._columnAxis.sortTuple=d9G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.X0B,{get:function(){var o9G;this._columnAxis&&(o9G=this._columnAxis.sortMeasure,this._columnAxis.sortType==s9G.consts.SortType.UNSORTED&&this._columnAxis.totalSortMeasure&&this._columnAxis.totalSortType!=s9G.consts.SortType.UNSORTED&&(o9G=this._columnAxis.totalSortMeasure));return o9G;},set:function(Q7G){this._columnAxis&&(this._columnAxis.sortMeasure=Q7G);},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.P0B,{get:function(){if(this.columnSortType==s9G.consts.SortType.UNSORTED||X6I.V2d==this.columnSortTuple)return!X6I.E4d;if(X6I.E4d>this.columnSortTuple.length)return!X6I.R4d;var s7G=!X6I.E4d;try{s7G=this.isColumnExpanded(this.columnSortTuple.slice(X6I.R4d,this.columnSortTuple.length-X6I.E4d));}catch(X7G){}return s7G;},set:function(P7G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});S9G.prototype.reset=function(S7G){void X6I.R4d===S7G&&(S7G=!X6I.R4d);this.dataLoaded=!X6I.E4d;this._measures=new utils.AssociativeArray();this._rows=new utils.AssociativeArray();this._columns=new utils.AssociativeArray();this._pages=new utils.AssociativeArray();this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this._columnMaxDepth=this._rowMaxDepth=X6I.R4d;this.rowType=[];S7G&&(this._columnAxis&&(this._columnAxis.expandedTuples=[]),this._rowAxis&&(this._rowAxis.expandedTuples=[]),this._columnAxis&&(this._columnAxis.drilledTuples=[]),this._rowAxis&&(this._rowAxis.drilledTuples=[]));};S9G.prototype.onBeforeQuery=function(L7G){this.queryType=L7G.queryType;this.dataLoaded=!X6I.E4d;L7G.queryType==s9G.consts.QueryType.SELECT&&this.reset();L7G.queryType!=s9G.consts.QueryType.DRILL_UP&&L7G.queryType!=s9G.consts.QueryType.DRILL_DOWN||this.reset(!X6I.E4d);};S9G.prototype.onQueryComplete=function(){this.load();};S9G.prototype.onStructureLoaded=function(){this.dataLoaded=!X6I.E4d;this.reset();};S9G.prototype.load=function(){if(X6I.V2d==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,X6I.V2d==this.dataStorage))return;if(this.slice){this._columnAxis=this.slice.findAxis(s9G.consts.AxisName.COLUMNS_AXIS);this._rowAxis=this.slice.findAxis(s9G.consts.AxisName.ROWS_AXIS);if(X6I.R4d==this.columnTuples.length&&X6I.R4d==this.rowTuples.length||this.queryType==s9G.consts.QueryType.FILTER){this.isAllExpanded()?this.dataStorage.expandAll(this.slice.drillAll):(this.dataStorage.expand([],s9G.consts.AxisName.ROWS_AXIS,X6I.V2d),this.dataStorage.expand([],s9G.consts.AxisName.COLUMNS_AXIS,X6I.V2d));var g7G,z7G,Z7G;(X6I.R4d<this.getDrilledDownRows().length||X6I.R4d<this.getDrilledUpRows().length)&&this._drillRows();(X6I.R4d<this.getDrilledDownColumns().length||X6I.R4d<this.getDrilledUpColumns().length)&&this._drillColumns();if(this.queryType==s9G.consts.QueryType.FILTER)if(this.slice.expandAll){var w7G=this.getCollapsedRows();if(X6I.R4d<w7G.length)for(g7G=X6I.R4d;g7G<w7G.length;g7G++)try{z7G=this.slice.measures_.getItemAt(w7G[g7G][X6I.R4d]),Z7G=w7G[g7G].slice(X6I.E4d),this.dataStorage.collapse(Z7G,s9G.consts.AxisName.ROWS_AXIS,z7G);}catch(t7G){}w7G=this.getCollapsedColumns();if(X6I.R4d<this.getCollapsedColumns().length)for(g7G=X6I.R4d;g7G<this.getCollapsedColumns().length;g7G++)try{z7G=this.slice.measures_.getItemAt(w7G[g7G][X6I.R4d]),Z7G=w7G[g7G].slice(X6I.E4d),this.dataStorage.collapse(Z7G,s9G.consts.AxisName.COLUMNS_AXIS,z7G);}catch(p7G){}}else{w7G=this.getExpandedRows();if(X6I.R4d<w7G.length)for(g7G=X6I.R4d;g7G<w7G.length;g7G++)try{z7G=this.slice.measures_.getItemAt(w7G[g7G][X6I.R4d]),Z7G=w7G[g7G].slice(X6I.E4d),this.dataStorage.expand(Z7G,s9G.consts.AxisName.ROWS_AXIS,z7G);}catch(F7G){}w7G=this.getExpandedColumns();if(X6I.R4d<w7G.length)for(g7G=X6I.R4d;g7G<w7G.length;g7G++)try{z7G=this.slice.measures_.getItemAt(w7G[g7G][X6I.R4d]),Z7G=w7G[g7G].slice(X6I.E4d),this.dataStorage.expand(Z7G,s9G.consts.AxisName.COLUMNS_AXIS,z7G);}catch(e7G){}}(X6I.R4d<this.getDrilledDownRows().length||X6I.R4d<this.getDrilledUpRows().length)&&this._drillRows();(X6I.R4d<this.getDrilledDownColumns().length||X6I.R4d<this.getDrilledUpColumns().length)&&this._drillColumns();}this.prepare();this.dataLoaded=!X6I.R4d;}else this._rowAxis=this._columnAxis=X6I.V2d;};S9G.prototype._drillRows=function(){var R7G,M7G,b7G,E7G,Y7G,J7G=this.rowAxis.hierarchies.slice();J7G.removeItem(s9G.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var V7G=this.getDrilledUpRows(),N7G=X6I.R4d;N7G<V7G.length;N7G++)try{R7G=this.slice.measures_.getItemAt(V7G[N7G][X6I.R4d]),b7G=V7G[N7G].slice(X6I.M4d),E7G=J7G.getItemAt(b7G.length-X6I.E4d),Y7G=E7G.members.getItem(V7G[N7G][X6I.E4d]),this.dataStorage.isRowDrilledDown(b7G,Y7G,R7G)&&this.dataStorage.drillUp(b7G,Y7G,s9G.consts.AxisName.ROWS_AXIS,R7G);}catch(C7G){}else for(V7G=this.getDrilledDownRows(),N7G=X6I.R4d;N7G<V7G.length;N7G++)try{if(X6I.Y3d==typeof V7G[N7G][X6I.R4d]?(M7G=V7G[N7G][X6I.R4d],R7G=this.slice.measures_.getItemAt(V7G[N7G][X6I.E4d]),b7G=V7G[N7G].slice(X6I.J4d),E7G=J7G.getItemAt(b7G.length-X6I.E4d),Y7G=E7G.members.getItem(V7G[N7G][X6I.M4d])):(R7G=this.slice.measures_.getItemAt(V7G[N7G][X6I.R4d]),b7G=V7G[N7G].slice(X6I.M4d),E7G=J7G.getItemAt(b7G.length-X6I.E4d),Y7G=E7G.members.getItem(V7G[N7G][X6I.E4d])),void X6I.R4d!==M7G)if(E7G.findLevel(M7G).num<Y7G.level.num){var k7G=this.ascendantByLevel(Y7G,M7G);b7G[b7G.length-X6I.E4d]=k7G.ordinal;E7G.drillUpMember(k7G);this.dataStorage.drillUp(b7G,k7G,s9G.consts.AxisName.ROWS_AXIS,R7G);}else this.dataStorage.drillDownTo(b7G,Y7G,s9G.consts.AxisName.ROWS_AXIS,M7G);else this.dataStorage.isRowDrilledDown(b7G,Y7G,R7G)||(this.dataStorage.hierarchize(b7G,Y7G,s9G.consts.AxisName.ROWS_AXIS),this.dataStorage.drillDown(b7G,Y7G,s9G.consts.AxisName.ROWS_AXIS,R7G));}catch(a7G){}};S9G.prototype._drillColumns=function(){var x7G,O7G,i7G,u7G,l7G=this.columnAxis.hierarchies.slice();l7G.removeItem(s9G.Cube.MEASURES_NAME);if(this.isAllDrilled())for(var A7G=this.getDrilledUpColumns(),H7G=X6I.R4d;H7G<A7G.length;H7G++)try{x7G=this.slice.measures_.getItemAt(A7G[H7G][X6I.R4d]),O7G=A7G[H7G].slice(X6I.M4d),i7G=l7G.getItemAt(O7G.length-X6I.E4d),u7G=i7G.members.getItem(A7G[H7G][X6I.E4d]),this.dataStorage.isColumnDrilledDown(O7G,u7G,x7G)&&this.dataStorage.drillUp(O7G,u7G,s9G.consts.AxisName.COLUMNS_AXIS,x7G);}catch(G7G){}else for(A7G=this.getDrilledDownColumns(),H7G=X6I.R4d;H7G<A7G.length;H7G++)try{x7G=this.slice.measures_.getItemAt(A7G[H7G][X6I.R4d]),O7G=A7G[H7G].slice(X6I.M4d),i7G=l7G.getItemAt(O7G.length-X6I.E4d),u7G=i7G.members.getItem(A7G[H7G][X6I.E4d]),this.dataStorage.isColumnDrilledDown(O7G,u7G,x7G)||(this.dataStorage.hierarchize(O7G,u7G,s9G.consts.AxisName.COLUMNS_AXIS),this.dataStorage.drillDown(O7G,u7G,s9G.consts.AxisName.COLUMNS_AXIS,x7G));}catch(j7G){}};S9G.prototype.prepare=function(){var M4i=s933;this._showUnexpandedDataAlert=!X6I.E4d;this.slice?(this._measures=this.slice.measures_,this._measuresPosition=this._rowAxis.hasMeasures?this._rowAxis.measuresPosition:this._columnAxis.measuresPosition,this._rows=this.slice.rows,this._columns=this.slice.columns,this._pages=this.slice.pages):(this._measures=new utils.AssociativeArray(),this._measuresPosition=X6I.R4d,this._rows=new utils.AssociativeArray(),this._columns=new utils.AssociativeArray(),this._pages=new utils.AssociativeArray());this._rowLevels=[];this._columnLevels=[];this._rowTuples=[];this._columnTuples=[];this.rowTuples=[];this.columnTuples=[];this.rowDepths=[];this.columnDepths=[];this.rowType=[];this._columnMaxDepth=this._rowMaxDepth=X6I.R4d;var T7G=this.dataStorage.result[X6I.R4d],f7G=this.dataStorage.result[X6I.E4d],U7G;if(!utils.nullOrUndefined(this.slice)&&!this.slice.isEmpty){(!this._rowAxis.hasMeasures||X6I.E4d<this._rows.length||this.isClassic)&&this.fillRowTuples(T7G,[],X6I.R4d);if(X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.k4h==Q9G.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&X6I.E4d==this._rows.length)this.rowTuples.push([]),this.rowDepths.push(X6I.R4d);if(!this.isClassic)if(this._rowAxis.hasMeasures&&this.multiMeasures){this.rowDepths=[];this.rowType=[];if(X6I.E4d<this._rows.length)for(X6I.R4d!=this.measuresPosition&&this.fillRowTuples1(T7G,[],-X6I.E4d,X6I.R4d),U7G=X6I.R4d;U7G<this._measures.length;U7G++)X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.k4h==Q9G.model._options.OptionsManager.showGrandTotals?(this._rowTuples.push([[],U7G]),this.rowDepths.push(X6I.R4d)):X6I.R4d!=this._measuresPosition||X933.p2B!=Q9G.model._options.OptionsManager.showGrandTotals&&M4i.J4h!=Q9G.model._options.OptionsManager.showGrandTotals||(this._rowTuples.push([[],U7G]),this.rowDepths.push(X6I.R4d)),X6I.R4d==this.measuresPosition&&this.fillRowTuples1(T7G,[],U7G,X6I.E4d);if(X6I.R4d==this.measuresPosition&&(X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.k4h==Q9G.model._options.OptionsManager.showGrandTotals||this._rowAxis.hasMeasures&&X6I.E4d==this._rows.length))for(U7G=X6I.R4d;U7G<this._measures.length;U7G++)this._rowTuples.push([[],U7G]),this.rowDepths.push(X6I.R4d);}else this._rowTuples=this.rowTuples;(!this._columnAxis.hasMeasures||X6I.E4d<this._columns.length)&&this.fillColumnTuples(f7G,[],X6I.R4d);this._measureDepth=-X6I.E4d;if(X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.J4h==Q9G.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&X6I.E4d==this._columns.length)this.columnTuples.push([]),this.columnDepths.push(X6I.R4d);if(this._columnAxis.hasMeasures&&this.multiMeasures){this.columnDepths=[];if(X6I.E4d<this._columns.length)for(X6I.R4d!=this._measuresPosition&&this.fillColumnTuples1(f7G,[],-X6I.E4d,X6I.R4d),U7G=X6I.R4d;U7G<this._measures.length;U7G++)X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.J4h==Q9G.model._options.OptionsManager.showGrandTotals?(this._columnTuples.push([[],U7G]),this.columnDepths.push(X6I.R4d)):X6I.R4d!=this._measuresPosition||X933.p2B!=Q9G.model._options.OptionsManager.showGrandTotals&&M4i.k4h!=Q9G.model._options.OptionsManager.showGrandTotals||(this._columnTuples.push([[],U7G]),this.columnDepths.push(X6I.R4d)),X6I.R4d==this._measuresPosition&&this.fillColumnTuples1(f7G,[],U7G,X6I.R4d);if(X6I.R4d==this._measuresPosition&&(X6I.f3d==Q9G.model._options.OptionsManager.showGrandTotals||M4i.J4h==Q9G.model._options.OptionsManager.showGrandTotals||this._columnAxis.hasMeasures&&X6I.E4d==this._columns.length))for(U7G=X6I.R4d;U7G<this._measures.length;U7G++)this._columnTuples.push([[],U7G]),this.columnDepths.push(X6I.R4d);}else this._columnTuples=this.columnTuples;for(T7G=X6I.R4d;T7G<this.rowDepths.length;T7G++)this.rowDepths[T7G]>this._rowMaxDepth&&(this._rowMaxDepth=this.rowDepths[T7G]);this._rowMaxDepth++;for(T7G=X6I.R4d;T7G<this.columnDepths.length;T7G++)this.columnDepths[T7G]>this._columnMaxDepth&&(this._columnMaxDepth=this.columnDepths[T7G]);this._columnMaxDepth++;X6I.R4d<this.slice.columnsOnly.length&&this._columnAxis.hasMeasures&&this.multiMeasures&&this._columnMaxDepth++;-X6I.E4d==this._measureDepth?this._measureDepth=X6I.R4d==this.measuresPosition?X6I.R4d:this._columnMaxDepth:this._measureDepth++;this._showUnexpandedDataAlert&&Q9G.uialert(Q9G.model._labels.Labels.MESSAGE_CANT_EXPAND,Q9G.model._labels.Labels.MESSAGE_CANT_EXPAND_TITLE,Q9G.AlertType.ALERT);}};S9G.prototype.showRowTuples=function(){for(var c7G=X6I.R4d;c7G<this.rowTuples.length;c7G++);};S9G.prototype.showRowTuples1=function(){for(var W7G=X6I.R4d;W7G<this._rowTuples.length;W7G++)this.getRowTuple(W7G,!X6I.R4d),this.getRowMeasure(W7G);};S9G.prototype.showColumnTuples=function(){for(var n7G=X6I.R4d;n7G<this.columnTuples.length;n7G++);};S9G.prototype.showColumnTuples1=function(){for(var y7G=X6I.R4d;y7G<this._columnTuples.length;y7G++)this.getColumnTuple(y7G,!X6I.R4d),this.getColumnMeasure(y7G);};S9G.prototype.fillRowTuples=function(I7G,m7G,r7G){var K7G=m7G.length;if(K7G=this._rowAxis.hasMeasures&&m7G.length>=this._measuresPosition?this._rows.getItemAt(K7G+X6I.E4d):this._rows.getItemAt(K7G))X6I.R4d==r7G&&(this._fillRowTuplesStart=Date.now()),this.isClassic?this._fillRowChildren(K7G.allMember,I7G,m7G,r7G):this.fillRowChildren(K7G.allMember,I7G,m7G,r7G);};S9G.prototype.isEmptyOnRows=function(q7G){for(var B7G=X6I.R4d;B7G<this.measures.length;B7G++)if(!isNaN(this.getValue(q7G,[],this.measures.getItemAt(B7G))))return!X6I.E4d;return!X6I.R4d;};S9G.prototype.isEmptyOnColumns=function(h7G){for(var v7G=X6I.R4d;v7G<this.measures.length;v7G++)if(!isNaN(this.getValue([],h7G,this.measures.getItemAt(v7G))))return!X6I.E4d;return!X6I.R4d;};S9G.prototype.fillRowChildren=function(o7G,X4G,P4G,S4G){if(X6I.V2d!=o7G){var Q4G;Q4G=o7G.hierarchy_.sortChildren(o7G,!X6I.E4d,X6I.s3d);Q4G=this.sortRowsByValue(Q4G,X4G,P4G);o7G=this.rowsOnly.indexOf(o7G.hierarchy_.uniqueName)<this.rowsOnly.length-X6I.E4d;for(var s4G=X6I.R4d;s4G<Q4G.length;s4G++){var D7G=Q4G.getItemAt(s4G);X6I.R4d==s4G&&this.fillRowLevels(D7G);if(X6I.V2d!=X4G[D7G.ordinal]&&!D7G.isAll){var d7G=P4G.slice(X6I.R4d);d7G.push(D7G.ordinal);if(!this.isEmptyOnRows(d7G)){var g4G=!D7G.isLeaf&&this.dataStorage.isRowDrilledDown(d7G,D7G),L4G=o7G&&this.dataStorage.isRowExpanded(d7G);this.rowTuples.push(d7G);this.rowDepths.push(S4G);Date.now()-this._fillRowTuplesStart<S9G.SCRIPT_EXECUTION_TIMEOUT&&(g4G?this.fillRowChildren(D7G,X4G,P4G,S4G+X6I.E4d):L4G&&this.fillRowTuples(X4G[D7G.ordinal],d7G,S4G+X6I.E4d));}}}}};S9G.prototype.fillRowTuples1=function(Z4G,z4G,t4G,p4G){if(!this.isClassic){var w4G=z4G.length;(w4G=this._rowAxis.hasMeasures&&z4G.length>=this._measuresPosition?this._rows.getItemAt(w4G+X6I.E4d):this._rows.getItemAt(w4G))&&this.fillRowChildren1(w4G.allMember,Z4G,z4G,t4G,p4G);}};S9G.prototype.fillRowChildren1=function(Y4G,R4G,E4G,V4G,b4G){if(X6I.V2d!=Y4G){var J4G=E4G.length;Y4G=Y4G.hierarchy_.sortChildren(Y4G,!X6I.E4d,X6I.s3d);Y4G=this.sortRowsByValue(Y4G,R4G,E4G);for(var N4G,M4G=X6I.R4d;M4G<Y4G.length;M4G++){var e4G=Y4G.getItemAt(M4G);if(X6I.V2d!=R4G[e4G.ordinal]&&!e4G.isAll){var F4G=E4G.slice(X6I.R4d);F4G.push(e4G.ordinal);if(!this.isEmptyOnRows(F4G))if(J4G<this._measuresPosition)if(this._rowTuples.push([F4G,-X6I.E4d]),this.rowDepths.push(b4G),J4G==this._measuresPosition-X6I.E4d&&this.dataStorage.isRowExpanded(F4G,V4G))for(N4G=X6I.R4d;N4G<this._measures.length;N4G++)this.dataStorage.isRowDrilledDown(F4G,e4G,N4G)?this.fillRowChildren1(e4G,R4G,E4G,N4G,b4G+X6I.M4d):(this._rowTuples.push([F4G,N4G]),this.rowDepths.push(b4G+X6I.E4d),this.dataStorage.isRowExpanded(F4G)&&this.fillRowTuples1(R4G[e4G.ordinal],F4G,N4G,b4G+X6I.M4d));else{for(N4G=X6I.R4d;N4G<this._measures.length;N4G++)this._rowTuples.push([F4G,N4G]),this.rowDepths.push(b4G+X6I.E4d);this.dataStorage.isRowDrilledDown(F4G,e4G,V4G)?this.fillRowChildren1(e4G,R4G,E4G,V4G,b4G+X6I.M4d):this.dataStorage.isRowExpanded(F4G,V4G)&&this.fillRowTuples1(R4G[e4G.ordinal],F4G,V4G,b4G+X6I.M4d);}else this._rowTuples.push([F4G,V4G]),this.rowDepths.push(b4G),this.dataStorage.isRowDrilledDown(F4G,e4G,V4G)?this.fillRowChildren1(e4G,R4G,E4G,V4G,b4G+X6I.E4d):this.dataStorage.isRowExpanded(F4G,V4G)&&this.fillRowTuples1(R4G[e4G.ordinal],F4G,V4G,b4G+X6I.E4d);}}}};S9G.prototype._fillRowChildren=function(C4G,x4G,l4G,A4G){if(X6I.V2d!=C4G){C4G=C4G.hierarchy_.sortChildren(C4G,!X6I.E4d,X6I.s3d);C4G=this.sortRowsByValue(C4G,x4G,l4G);for(var O4G=X6I.R4d;O4G<C4G.length;O4G++){var a4G=C4G.getItemAt(O4G);X6I.R4d==O4G&&this.fillRowLevels(a4G);if(X6I.V2d!=x4G[a4G.ordinal]&&!a4G.isAll){var k4G=l4G.slice(X6I.R4d);k4G.push(a4G.ordinal);if(!this.isEmptyOnRows(k4G)){var u4G=this.dataStorage.isRowDrilledDown(k4G,a4G),i4G=this.dataStorage.isRowExpanded(k4G),H4G=this.rowTuples.length;this.rowCount>k4G.length&&(this.rowType[H4G]=X6I.E4d,void X6I.R4d==this.rowDepths[H4G]&&(this.rowDepths[H4G]=A4G));if(Date.now()-this._fillRowTuplesStart<S9G.SCRIPT_EXECUTION_TIMEOUT)u4G?this._fillRowChildren(a4G,x4G,l4G,A4G+X6I.E4d):i4G&&this.fillRowTuples(x4G[a4G.ordinal],k4G,A4G+X6I.E4d);else if(u4G||i4G)this._showUnexpandedDataAlert=!X6I.R4d;if(u4G||i4G){if(X6I.f3d==Q9G.model._options.OptionsManager.showTotals||s933.J4h==Q9G.model._options.OptionsManager.showTotals)this.rowTuples.push(k4G),this.rowType[this.rowTuples.length-X6I.E4d]=X6I.M4d,this.rowDepths[this.rowTuples.length-X6I.E4d]=A4G;u4G&&this.rowDepths[H4G]>A4G&&(this.rowDepths[H4G]=A4G,this.rowType[H4G]=X6I.R4d);}else this.rowTuples.push(k4G),void X6I.R4d==this.rowType[this.rowTuples.length-X6I.E4d]&&(this.rowType[this.rowTuples.length-X6I.E4d]=X6I.R4d,this.rowDepths[this.rowTuples.length-X6I.E4d]=A4G);}}}}};S9G.prototype.fillRowLevels=function(G4G){this.fillLevels(this._rowLevels,G4G);};S9G.prototype.fillColumnLevels=function(j4G){this.fillLevels(this._columnLevels,j4G);};S9G.prototype.fillLevels=function(T4G,U4G){if(-X6I.E4d==T4G.indexOf(U4G.level.uniqueName))if(X6I.E4d>=U4G.level.num)T4G.push(U4G.level.uniqueName);else{var f4G=T4G.indexOf(U4G.parent.level.uniqueName);T4G.splice(f4G+X6I.E4d,X6I.R4d,U4G.level.uniqueName);}};S9G.prototype.isValidSortTuple=function(n4G,K4G){for(var c4G=X6I.R4d;c4G<n4G.length;c4G++){var W4G=K4G.getItemAt(c4G);if(W4G.hasFilter()){var y4G=W4G.members.getItemAt(n4G[c4G]);if(!W4G.filter.keyExists(y4G.uniqueName))return!X6I.E4d;}}return!X6I.R4d;};S9G.prototype.sortRowsByValue=function(I4G,Q6G,o4G){if(!this.hasColumnSorting)return I4G;var d4G=this.columnSortTuple;if(!this.isValidSortTuple(d4G,this.columnsOnly))return I4G;for(var v4G=[],D4G=[],h4G=[],q4G=new utils.AssociativeArray(),m4G,r4G=X6I.R4d;r4G<I4G.length;r4G++)if(m4G=I4G.getItemAt(r4G),X6I.V2d!=Q6G[m4G.ordinal]&&!m4G.isAll){var B4G=o4G.slice(X6I.R4d);B4G.push(m4G.ordinal);B4G=this.getValue(B4G,d4G,this.columnSortMeasure);isNaN(B4G)?h4G.push(m4G):(v4G.push(B4G),D4G.push(m4G));}I4G=this.columnSortType!=s9G.consts.SortType.DESC?utils.ArrayUtils.sort(v4G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(v4G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(r4G=X6I.R4d;r4G<I4G.length;r4G++)m4G=D4G[I4G[r4G]],X6I.V2d!=m4G&&q4G.addItem(m4G.uniqueName,m4G);for(r4G=X6I.R4d;r4G<h4G.length;r4G++)m4G=h4G[r4G],this.columnSortType==s9G.consts.SortType.DESC?q4G.addItem(m4G.uniqueName,m4G):q4G.addItemAt(m4G.uniqueName,m4G,r4G);return q4G;};S9G.prototype.sortColumnsByValue=function(P6G,p6G,t6G){if(!this.hasRowSorting)return P6G;var Z6G=this.rowSortTuple;if(!this.isValidSortTuple(Z6G,this.rowsOnly))return P6G;for(var g6G=[],z6G=[],w6G=[],s6G,L6G=new utils.AssociativeArray(),X6G=X6I.R4d;X6G<P6G.length;X6G++)if(s6G=P6G.getItemAt(X6G),X6I.V2d!=p6G[s6G.ordinal]&&!s6G.isAll){var S6G=t6G.slice(X6I.R4d);S6G.push(s6G.ordinal);S6G=this.getValue(Z6G,S6G,this.rowSortMeasure);isNaN(S6G)?w6G.push(s6G):(g6G.push(S6G),z6G.push(s6G));}P6G=this.rowSortType!=s9G.consts.SortType.DESC?utils.ArrayUtils.sort(g6G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(g6G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);for(X6G=X6I.R4d;X6G<P6G.length;X6G++)s6G=z6G[P6G[X6G]],X6I.V2d!=s6G&&L6G.addItem(s6G.uniqueName,s6G);for(X6G=X6I.R4d;X6G<w6G.length;X6G++)s6G=w6G[X6G],this.rowSortType==s9G.consts.SortType.DESC?L6G.addItem(s6G.uniqueName,s6G):L6G.addItemAt(s6G.uniqueName,s6G,X6G);return L6G;};S9G.prototype.fillColumnTuples=function(N6G,e6G,b6G){var F6G=e6G.length;(F6G=this._columnAxis.hasMeasures&&e6G.length>=this._measuresPosition?this._columns.getItemAt(F6G+X6I.E4d):this._columns.getItemAt(F6G))&&this.fillColumnChildren(F6G.allMember,N6G,e6G,b6G);};S9G.prototype.fillColumnChildren=function(Y6G,M6G,J6G,k6G){Y6G=Y6G.hierarchy_.sortChildren(Y6G,!X6I.E4d,X6I.s3d);Y6G=this.sortColumnsByValue(Y6G,M6G,J6G);for(var E6G=X6I.R4d;E6G<Y6G.length;E6G++){var V6G=Y6G.getItemAt(E6G);X6I.R4d==E6G&&this.fillColumnLevels(V6G);if(X6I.V2d!=M6G[V6G.ordinal]&&!V6G.isAll){var R6G=J6G.slice(X6I.R4d);R6G.push(V6G.ordinal);if(!this.isEmptyOnColumns(R6G)){var C6G=this.dataStorage.isColumnExpanded(R6G);this.columnTuples.push(R6G);this.columnDepths.push(k6G);this.dataStorage.isColumnDrilledDown(R6G,V6G)?this.fillColumnChildren(V6G,M6G,J6G,k6G+X6I.E4d):C6G&&this.fillColumnTuples(M6G[V6G.ordinal],R6G,k6G+X6I.E4d);}}}};S9G.prototype.fillColumnTuples1=function(A6G,H6G,O6G,u6G){var a6G=H6G.length;(a6G=this._columnAxis.hasMeasures&&H6G.length>=this._measuresPosition?this._columns.getItemAt(a6G+X6I.E4d):this._columns.getItemAt(a6G))&&this.fillColumnChildren1(a6G.allMember,A6G,H6G,O6G,u6G);};S9G.prototype.fillColumnChildren1=function(T6G,U6G,f6G,j6G,G6G){var n6G=f6G.length;T6G=T6G.hierarchy_.sortChildren(T6G,!X6I.E4d,X6I.s3d);T6G=this.sortColumnsByValue(T6G,U6G,f6G);for(var i6G,W6G=X6I.R4d;W6G<T6G.length;W6G++){var l6G=T6G.getItemAt(W6G);if(X6I.V2d!=U6G[l6G.ordinal]&&!l6G.isAll){var x6G=f6G.slice(X6I.R4d);x6G.push(l6G.ordinal);if(!this.isEmptyOnColumns(x6G)){var c6G=this.dataStorage.isColumnExpanded(x6G,j6G);if(n6G<this._measuresPosition)if(this._columnAxis.hasMeasures&&this._measureDepth<G6G+X6I.E4d&&(this._measureDepth=G6G+X6I.E4d),n6G==this._measuresPosition-X6I.E4d&&c6G)if(this.dataStorage.isColumnDrilledDown(x6G,l6G)){for(i6G=X6I.R4d;i6G<this._measures.length;i6G++)this._columnTuples.push([x6G,i6G]),this.columnDepths.push(G6G);this.fillColumnChildren1(l6G,U6G,f6G,j6G,G6G+X6I.E4d);}else for(i6G=X6I.R4d;i6G<this._measures.length;i6G++)this._columnTuples.push([x6G,i6G]),this.columnDepths.push(G6G),this.dataStorage.isColumnExpanded(x6G,i6G)&&this.fillColumnTuples1(U6G[l6G.ordinal],x6G,i6G,G6G+X6I.E4d);else{for(i6G=X6I.R4d;i6G<this._measures.length;i6G++)this._columnTuples.push([x6G,i6G]),this.columnDepths.push(G6G);this.dataStorage.isColumnDrilledDown(x6G,l6G,j6G)?this.fillColumnChildren1(l6G,U6G,f6G,j6G,G6G+X6I.E4d):c6G&&this.fillColumnTuples1(U6G[l6G.ordinal],x6G,j6G,G6G+X6I.E4d);}else this._columnTuples.push([x6G,j6G]),this.columnDepths.push(G6G),this.dataStorage.isColumnDrilledDown(x6G,l6G,j6G)?this.fillColumnChildren1(l6G,U6G,f6G,j6G,G6G+X6I.E4d):c6G&&this.fillColumnTuples1(U6G[l6G.ordinal],x6G,j6G,G6G+X6I.E4d);}}}};Object.defineProperty(S9G.prototype,s6I.S0B,{get:function(){return X6I.R4d==this.columnTuples.length&&X6I.R4d==this.rowTuples.length;},set:function(y6G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});S9G.prototype.getRowDepth=function(K6G){return this.isClassic?this.rowDepths[this._rowAxis.hasMeasures?Math.floor(K6G/this._measures.length):K6G]:this.rowDepths[K6G];};S9G.prototype.getRowType=function(m6G){return this.isClassic?this.rowType[this._rowAxis.hasMeasures?Math.floor(m6G/this._measures.length):m6G]:this.rowType[m6G];};S9G.prototype.getColumnType=function(r6G){return X6I.E4d;};S9G.prototype.getColumnDepth=function(I6G){return this.columnDepths[I6G];};S9G.prototype.getRowHierarchyIdx=function(B6G){return this._rowAxis.hasMeasures&&(B6G.length>this._measuresPosition||X6I.R4d==this._measuresPosition)?B6G.length:B6G.length-X6I.E4d;};S9G.prototype.getRowHierarchy=function(q6G){q6G=this.getRowHierarchyIdx(q6G);return this._rows.getItemAt(q6G);};S9G.prototype.getColumnHierarchyIdx=function(v6G){return this._columnAxis.hasMeasures&&(v6G.length>this._measuresPosition||X6I.R4d==this._measuresPosition)?v6G.length:v6G.length-X6I.E4d;};S9G.prototype.getColumnHierarchy=function(h6G){h6G=this.getColumnHierarchyIdx(h6G);return this._columns.getItemAt(h6G);};Object.defineProperty(S9G.prototype,s6I.L0B,{get:function(){return this.columnTuples.length;},set:function(D6G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.g0B,{get:function(){return this.rowTuples.length;},set:function(d6G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.w0B,{get:function(){return this._columnTuples.length;},set:function(o6G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.z0B,{get:function(){return this.isClassic?(this.rowAxis&&this.rowAxis.hasMeasures?this._measures.length:X6I.E4d)*this.rowTuples.length:this._rowTuples.length;},set:function(Q2G){},enumerable:!X6I.R4d,configurable:!X6I.R4d});S9G.prototype.isRowExpanded=function(X2G,s2G){void X6I.R4d===s2G&&(s2G=X6I.V2d);return this.dataStorage.isRowExpanded(X2G,s2G);};S9G.prototype.isColumnExpanded=function(S2G,P2G){void X6I.R4d===P2G&&(P2G=X6I.V2d);return this.dataStorage.isColumnExpanded(S2G,P2G);};S9G.prototype.isRowDrilledDown=function(g2G,w2G,L2G){void X6I.R4d===L2G&&(L2G=X6I.V2d);return this.dataStorage.isRowDrilledDown(g2G,w2G,L2G);};S9G.prototype.isColumnDrilledDown=function(Z2G,t2G,z2G){void X6I.R4d===z2G&&(z2G=X6I.V2d);return this.dataStorage.isColumnDrilledDown(Z2G,t2G,z2G);};S9G.prototype.isAggregated=function(p2G,F2G){return this.dataStorage.isAggregated(p2G,F2G);};S9G.prototype.getColumnTupleIndex=function(N2G){N2G=N2G.slice(X6I.R4d);for(var R2G=this._columnAxis.hasMeasures,M2G=R2G?N2G.pop():-X6I.E4d,b2G=this._columnTuples,e2G=X6I.R4d;e2G<b2G.length;e2G++){var E2G=!X6I.R4d,V2G;if(R2G&&this.multiMeasures){if(M2G!=b2G[e2G][X6I.E4d])continue;V2G=b2G[e2G][X6I.R4d];}else V2G=b2G[e2G];if(V2G.length==N2G.length){for(var Y2G=X6I.R4d;Y2G<V2G.length;Y2G++)if(V2G[Y2G]!=N2G[Y2G]){E2G=!X6I.E4d;break;}if(E2G)return e2G;}}return-X6I.E4d;};S9G.prototype.getRowTupleIndex=function(k2G){k2G=k2G.slice(X6I.R4d);for(var A2G=this._rowAxis.hasMeasures,u2G=A2G?k2G.pop():-X6I.E4d,C2G=this.isClassic?this.rowTuples:this._rowTuples,J2G=X6I.R4d;J2G<C2G.length;J2G++){var O2G=!X6I.R4d,a2G;if(A2G&&this.multiMeasures){if(u2G!=C2G[J2G][X6I.E4d])continue;a2G=C2G[J2G][X6I.R4d];}else a2G=C2G[J2G];if(a2G.length==k2G.length){for(var H2G=X6I.R4d;H2G<a2G.length;H2G++)if(a2G[H2G]!=k2G[H2G]){O2G=!X6I.E4d;break;}if(O2G)return J2G;}}return-X6I.E4d;};S9G.prototype.getRowTuple=function(x2G,i2G){void X6I.R4d===i2G&&(i2G=!X6I.E4d);if(X6I.R4d>x2G||X6I.V2d==this._rowAxis||X6I.V2d==this._measures)return X6I.V2d;if(i2G&&this._rowAxis.hasMeasures&&this.multiMeasures){if(this.isClassic){var l2G=Math.floor(x2G/this._measures.length);return X6I.V2d==this.rowTuples[l2G]?X6I.V2d:this.rowTuples[l2G].slice(X6I.R4d);}return X6I.V2d==this._rowTuples[x2G]?X6I.V2d:this._rowTuples[x2G][X6I.R4d].slice(X6I.R4d);}return X6I.V2d==this.rowTuples[x2G]?X6I.V2d:this.rowTuples[x2G].slice(X6I.R4d);};S9G.prototype.getColumnTuple=function(G2G,j2G){void X6I.R4d===j2G&&(j2G=!X6I.E4d);return X6I.R4d>G2G||X6I.V2d==this._columnAxis||X6I.V2d==this._measures?X6I.V2d:j2G&&this._columnAxis.hasMeasures&&this.multiMeasures?X6I.V2d==this._columnTuples[G2G]?X6I.V2d:this._columnTuples[G2G][X6I.R4d].slice():X6I.V2d==this.columnTuples[G2G]?X6I.V2d:this.columnTuples[G2G].slice();};S9G.prototype.getColumnTupleByName=function(U2G,T2G){return X6I.V2d;};S9G.prototype.getColumnTupleForExport=function(f2G){return this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[f2G]:this.columnTuples[f2G];};S9G.prototype.getRowMeasure=function(c2G){return X6I.V2d==this._rowTuples[c2G]?X6I.V2d:this._rowAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._rowTuples[c2G][X6I.E4d]):X6I.V2d;};S9G.prototype.getRowMeasureIndex=function(W2G){return X6I.V2d==this._rowTuples[W2G]?-X6I.E4d:this._rowAxis.hasMeasures&&this.multiMeasures?this._rowTuples[W2G][X6I.E4d]:-X6I.E4d;};S9G.prototype.getColumnMeasure=function(n2G){return X6I.V2d==this._columnTuples[n2G]?X6I.V2d:this._columnAxis.hasMeasures&&this.multiMeasures?this._measures.getItemAt(this._columnTuples[n2G][X6I.E4d]):X6I.V2d;};S9G.prototype.getColumnMeasureIndex=function(y2G){return X6I.V2d==this._columnTuples[y2G]?-X6I.E4d:this._columnAxis.hasMeasures&&this.multiMeasures?this._columnTuples[y2G][X6I.E4d]:-X6I.E4d;};S9G.prototype.getMeasure=function(K2G,m2G){if(X6I.V2d==this._measures||X6I.V2d==this._rowAxis||X6I.V2d==this._columnAxis)return X6I.V2d;if(this.multiMeasures){if(this._rowAxis.hasMeasures){if(this.isClassic){var r2G=K2G%this._measures.length;return X6I.V2d==this.rowTuples[Math.floor(K2G/this.measures.length)]?this._measures.getItemAt(X6I.R4d):this._measures.getItemAt(r2G);}return X6I.V2d==this._rowTuples[K2G]?this._measures.getItemAt(X6I.R4d):this._measures.getItemAt(this._rowTuples[K2G][X6I.E4d]);}return X6I.V2d==this._columnTuples[m2G]?this._measures.getItemAt(X6I.R4d):this._measures.getItemAt(this._columnTuples[m2G][X6I.E4d]);}return this._measures.getItemAt(X6I.R4d);};S9G.prototype.drillThrough=function(I2G,B2G,q2G){return this.dataStorage.drillThrough(I2G,B2G,q2G);};S9G.prototype.save=function(v2G,h2G,D2G,d2G,o2G){this.dataStorage.save(v2G,h2G,D2G,d2G,o2G);};S9G.prototype.getUpdatedValue=function(Q3G,s3G,X3G){return this.dataStorage.getUpdatedValue(Q3G,s3G,X3G);};S9G.prototype.getRecordId=function(P3G,S3G,L3G){return X6I.V2d;};S9G.prototype.getValue=function(w3G,z3G,g3G){var Z3G;if(g3G.aggregation==s9G.consts.AggregationName.PERCENT)return Z3G=this.dataStorage.getValue([],[],g3G),w3G=this.dataStorage.getValue(w3G,z3G,g3G),Math.abs(X6I.a6d*w3G/Z3G);if(g3G.aggregation==s9G.consts.AggregationName.PERCENT_COLUMN)return Z3G=this.dataStorage.getValue([],z3G,g3G),w3G=this.dataStorage.getValue(w3G,z3G,g3G),X6I.a6d*w3G/Z3G;if(g3G.aggregation==s9G.consts.AggregationName.PERCENT_ROW)return Z3G=this.dataStorage.getValue(w3G,[],g3G),w3G=this.dataStorage.getValue(w3G,z3G,g3G),X6I.a6d*w3G/Z3G;if(g3G.aggregation==s9G.consts.AggregationName.INDEX){Z3G=this.dataStorage.getValue([],[],g3G);var t3G=this.dataStorage.getValue(w3G,[],g3G),p3G=this.dataStorage.getValue([],z3G,g3G);w3G=this.dataStorage.getValue(w3G,z3G,g3G);return Math.abs(Z3G*w3G/(p3G*t3G));}return g3G.aggregation==s9G.consts.AggregationName.DIFFERENCE?this.getDifference(w3G,z3G,g3G,!X6I.E4d):g3G.aggregation==s9G.consts.AggregationName.PERCENT_DIFFERENCE?this.getDifference(w3G,z3G,g3G,!X6I.R4d):this.dataStorage.getValue(w3G,z3G,g3G);};S9G.prototype.getDifference=function(F3G,e3G,N3G,b3G){return this.rowAxis.hasMeasures?this.getDifferenceColumn(F3G,e3G,N3G,b3G):this.getDifferenceRow(F3G,e3G,N3G,b3G);};S9G.prototype.getDifferenceColumn=function(Y3G,R3G,E3G,M3G){var V3G;if(X6I.R4d<this.columns.length){V3G=this.getColumnTupleIndex(R3G);if(X6I.R4d>V3G)return X6I.R4d;if(X6I.R4d==V3G||X6I.R4d==R3G.length)return NaN;V3G=this.getColumnTuple(V3G-X6I.E4d);if(R3G.length!=V3G.length)return NaN;V3G=this.dataStorage.getValue(Y3G,V3G,E3G);}else{Y3G.slice(X6I.R4d);Y3G.push(-X6I.E4d);V3G=this.getRowTupleIndex(Y3G);Y3G.pop();if(X6I.R4d==V3G||X6I.R4d==Y3G.length)return NaN;if(X6I.R4d>V3G)return X6I.R4d;V3G=this.getRowTuple(V3G-X6I.E4d,!X6I.R4d);if(Y3G.length!=V3G.length)return NaN;V3G=this.dataStorage.getValue(V3G,R3G,E3G);}Y3G=this.dataStorage.getValue(Y3G,R3G,E3G);return M3G?(Y3G-V3G)/V3G*X6I.a6d:Y3G-V3G;};S9G.prototype.getDifferenceRow=function(C3G,k3G,a3G,H3G){var J3G;if(X6I.R4d<this.rows.length){J3G=this.getRowTupleIndex(C3G);if(X6I.R4d==J3G||X6I.R4d==C3G.length)return NaN;if(X6I.R4d>J3G)return X6I.R4d;J3G=this.getRowTuple(J3G-X6I.E4d);if(C3G.length!=J3G.length)return NaN;J3G=this.dataStorage.getValue(J3G,k3G,a3G);}else{k3G=k3G.slice(X6I.R4d);k3G.push(X6I.R4d);J3G=this.getColumnTupleIndex(k3G);k3G.pop();if(X6I.R4d==J3G||X6I.R4d==k3G.length)return NaN;if(X6I.R4d>J3G)return X6I.R4d;J3G=this.getColumnTuple(J3G-X6I.E4d,!X6I.R4d);if(k3G.length!=J3G.length)return NaN;J3G=this.dataStorage.getValue(C3G,J3G,a3G);}C3G=this.dataStorage.getValue(C3G,k3G,a3G);return H3G?(C3G-J3G)/J3G*X6I.a6d:C3G-J3G;};S9G.prototype.calculate=function(A3G,O3G,u3G,x3G){return this.dataStorage.calculate(A3G,O3G,u3G,x3G);};S9G.prototype.expandData=function(i3G){this.dataLoaded&&(i3G=this.slice.allHierarchies().getItem(i3G),X6I.V2d!=i3G&&this.expandHierarchy(i3G));};S9G.prototype.expandHierarchy=function(j3G){var G3G=this.slice.rows.keyExists(j3G.uniqueName)?s9G.consts.AxisName.ROWS_AXIS:s9G.consts.AxisName.COLUMNS_AXIS,l3G=G3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;j3G=G3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(j3G.uniqueName):this.slice.columnsOnly.indexOf(j3G.uniqueName);if(j3G+X6I.E4d!=l3G){var l3G=[],U3G=(G3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(X6I.R4d,j3G+X6I.E4d);this.getTuples([],U3G,l3G);for(var U3G=G3G==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-X6I.E4d,T3G=X6I.R4d;T3G<l3G.length;T3G++)if(X6I.R4d<=U3G&&U3G<=j3G&&X6I.E4d<this.slice.measures_.length)for(var f3G=X6I.R4d;f3G<this.slice.measures_.length;f3G++){var c3G=this.slice.measures_.getItemAt(f3G);l3G[T3G].length>U3G?this.expand(l3G[T3G],G3G,c3G,!X6I.E4d):this.expand(l3G[T3G],G3G,X6I.V2d,!X6I.E4d);}else this.expand(l3G[T3G],G3G,X6I.V2d,!X6I.E4d);this.cube_.dispatch(new s9G.QueryCompleteEvent(s9G.consts.QueryType.EXPAND));}};S9G.prototype.getTuples=function(B3G,y3G,I3G,n3G){void X6I.R4d===n3G&&(n3G=!X6I.R4d);if(X6I.R4d!=y3G.length)for(var W3G=y3G.getItemAt(X6I.R4d),W3G=W3G.hasFilter()?W3G.filter:W3G.members,K3G=X6I.R4d;K3G<W3G.length;K3G++){var r3G=W3G.getItemAt(K3G);if(!r3G.isAll){var m3G=B3G.slice(X6I.R4d);m3G.push(r3G.ordinal);(n3G||!n3G&&X6I.E4d==y3G.length)&&I3G.push(m3G.slice(X6I.R4d));this.getTuples(m3G.slice(X6I.R4d),y3G.slice(X6I.E4d),I3G,n3G);}}};S9G.prototype.collapseData=function(q3G){this.dataLoaded&&(q3G=this.slice.allHierarchies().getItem(q3G),X6I.V2d!=q3G&&this.collapseHierarchy(q3G));};S9G.prototype.collapseHierarchy=function(D3G){var h3G=this.slice.rows.keyExists(D3G.uniqueName)?s9G.consts.AxisName.ROWS_AXIS:s9G.consts.AxisName.COLUMNS_AXIS,v3G=h3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.length:this.slice.columnsOnly.length;D3G=h3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly.indexOf(D3G.uniqueName):this.slice.columnsOnly.indexOf(D3G.uniqueName);if(D3G+X6I.E4d!=v3G){var v3G=[],d3G=(h3G==s9G.consts.AxisName.ROWS_AXIS?this.slice.rowsOnly:this.slice.columnsOnly).slice(X6I.R4d,D3G+X6I.E4d);this.getTuples([],d3G,v3G,!X6I.E4d);for(var d3G=h3G==this.slice.axisWithMeasures.uniqueName?this.slice.axisWithMeasures.measuresPosition:-X6I.E4d,o3G=X6I.R4d;o3G<v3G.length;o3G++)if(X6I.R4d<=d3G&&d3G<=D3G&&X6I.E4d<this.slice.measures_.length)for(var Q5G=X6I.R4d;Q5G<this.slice.measures_.length;Q5G++){var s5G=this.slice.measures_.getItemAt(Q5G);v3G[o3G].length>d3G?this.collapse(v3G[o3G],h3G,s5G,!X6I.E4d):this.collapse(v3G[o3G],h3G,X6I.V2d,!X6I.E4d);}else this.collapse(v3G[o3G],h3G,X6I.V2d,!X6I.E4d);this.cube_.dispatch(new s9G.QueryCompleteEvent(s9G.consts.QueryType.COLLAPSE));}};S9G.prototype.expandAll=function(){this.dataLoaded&&(this.reset(),this.slice.expandAll?this.dataStorage.expandAll(this.slice.drillAll):this.cube_.select());};S9G.prototype.sort=function(){this.prepare();this.cube_.dispatchWith(Q9G.model._state.StateEvent.REPORT_CHANGED);};Object.defineProperty(S9G.prototype,s6I.Z0B,{get:function(){return this._lastRowsTupleInteracted;},enumerable:!X6I.R4d,configurable:!X6I.R4d});Object.defineProperty(S9G.prototype,s6I.t0B,{get:function(){return this._lastColsTupleInteracted;},enumerable:!X6I.R4d,configurable:!X6I.R4d});S9G.prototype.expand=function(z5G,L5G,w5G,Z5G){void X6I.R4d===w5G&&(w5G=X6I.V2d);void X6I.R4d===Z5G&&(Z5G=!X6I.R4d);L5G==s9G.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=z5G);L5G==s9G.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=z5G);var X5G=this.slice.findAxis(L5G),g5G=z5G.slice(X6I.R4d),X5G=w5G&&X5G.hasMeasures?this._measures.indexOf(w5G.uniqueName):-X6I.E4d;g5G.unshift(X5G);var P5G=[];if(this.isAllExpanded())if(L5G==s9G.consts.AxisName.ROWS_AXIS){for(var P5G=[],S5G=this.getCollapsedRows(),X5G=X6I.R4d;X5G<S5G.length;X5G++)g5G.toString()!=S5G[X5G].toString()&&P5G.push(S5G[X5G]);this.setCollapsedRows(P5G);}else{P5G=[];S5G=this.getCollapsedColumns();for(X5G=X6I.R4d;X5G<S5G.length;X5G++)g5G.toString()!=S5G[X5G].toString()&&P5G.push(S5G[X5G]);this.setCollapsedColumns(P5G);}else L5G==s9G.consts.AxisName.ROWS_AXIS?(P5G=this.getExpandedRows().slice(X6I.R4d),P5G.push(g5G),this.setExpandedRows(P5G)):(P5G=this.getExpandedColumns().slice(X6I.R4d),P5G.push(g5G),this.setExpandedColumns(P5G));this.cube_.expand(z5G,L5G,w5G,Z5G);this.cube_.dispatchWith(Q9G.model._state.StateEvent.REPORT_CHANGED);};S9G.prototype.collapse=function(e5G,N5G,V5G,Y5G){void X6I.R4d===V5G&&(V5G=X6I.V2d);void X6I.R4d===Y5G&&(Y5G=!X6I.R4d);N5G==s9G.consts.AxisName.ROWS_AXIS&&(this._lastRowsTupleInteracted=e5G.slice(X6I.R4d,e5G.length-X6I.E4d));N5G==s9G.consts.AxisName.COLUMNS_AXIS&&(this._lastColsTupleInteracted=e5G.slice(X6I.R4d,e5G.length-X6I.E4d));var t5G=this.slice.findAxis(N5G),b5G=e5G.slice(X6I.R4d),t5G=V5G&&t5G.hasMeasures?this._measures.indexOf(V5G.uniqueName):-X6I.E4d;b5G.unshift(t5G);var p5G=[];if(this.isAllExpanded())N5G==s9G.consts.AxisName.ROWS_AXIS?(p5G=this.getCollapsedRows().slice(X6I.R4d),p5G.push(b5G),this.setCollapsedRows(p5G)):(p5G=this.getCollapsedColumns().slice(X6I.R4d),p5G.push(b5G),this.setCollapsedColumns(p5G));else if(N5G==s9G.consts.AxisName.ROWS_AXIS){for(var p5G=[],F5G=this.getExpandedRows(),t5G=X6I.R4d;t5G<F5G.length;t5G++)b5G.toString()!=F5G[t5G].toString()&&p5G.push(F5G[t5G]);this.setExpandedRows(p5G);}else{p5G=[];F5G=this.getExpandedColumns();for(t5G=X6I.R4d;t5G<F5G.length;t5G++)b5G.toString()!=F5G[t5G].toString()&&p5G.push(F5G[t5G]);this.setExpandedColumns(p5G);}this.cube_.collapse(e5G,N5G,V5G,Y5G);this.cube_.dispatchWith(Q9G.model._state.StateEvent.REPORT_CHANGED);};S9G.prototype.drillUp=function(H5G,A5G,C5G,J5G,E5G){void X6I.R4d===J5G&&(J5G=X6I.V2d);if(void X6I.R4d!==E5G)return this.drillUpTo(H5G,A5G,C5G,J5G,E5G);var R5G=this.slice.findAxis(C5G);E5G=[];var M5G=H5G.slice(X6I.R4d);M5G.unshift(A5G.uniqueName);R5G=J5G&&R5G.hasMeasures?this._measures.indexOf(J5G.uniqueName):-X6I.E4d;M5G.unshift(R5G);if(this.isAllDrilled())C5G==s9G.consts.AxisName.ROWS_AXIS?(E5G=this.getDrilledUpRows().slice(X6I.R4d),E5G.push(M5G),this.setDrilledUpRows(E5G)):(E5G=this.getDrilledUpColumns().slice(X6I.R4d),E5G.push(M5G),this.setDrilledUpColumns(E5G));else if(C5G==s9G.consts.AxisName.ROWS_AXIS){var k5G=this.getDrilledDownRows(),a5G;for(a5G in k5G)R5G=k5G[a5G],X6I.Y3d==typeof R5G[X6I.R4d]&&(R5G=R5G.slice(X6I.E4d)),R5G.toString()!=M5G.toString()&&E5G.push(R5G);this.setDrilledDownRows(E5G);}else{k5G=this.getDrilledDownColumns();for(a5G in k5G)R5G=k5G[a5G],X6I.Y3d==typeof R5G[X6I.R4d]&&(R5G=R5G.slice(X6I.E4d)),R5G.toString()!=M5G.toString()&&E5G.push(R5G);this.setDrilledDownColumns(E5G);}this.cube_.drillUp(H5G,A5G,C5G,J5G);this.cube_.dispatchWith(Q9G.model._state.StateEvent.REPORT_CHANGED);};S9G.prototype.ascendantByLevel=function(u5G,x5G){for(var O5G=u5G;void X6I.R4d!==O5G&&O5G.level.uniqueName!=x5G;)O5G=O5G.parent;return O5G;};S9G.prototype.drillUpTo=function(y5G,U5G,n5G,f5G,W5G){void X6I.R4d===f5G&&(f5G=X6I.V2d);var c5G=this.ascendantByLevel(U5G,W5G),G5G,l5G=this.slice.findAxis(n5G),T5G=[],i5G=y5G.slice(X6I.R4d);i5G.unshift(U5G.uniqueName);l5G=f5G&&l5G.hasMeasures?this._measures.indexOf(f5G.uniqueName):-X6I.E4d;i5G.unshift(l5G);i5G.unshift(W5G);T5G.push(i5G);if(n5G==s9G.consts.AxisName.ROWS_AXIS){for(var j5G=this.getDrilledDownRows(),l5G=j5G.length-X6I.E4d;X6I.R4d<=l5G;l5G--)i5G=j5G[l5G],G5G=X6I.Y3d==typeof i5G[X6I.R4d]?U5G.hierarchy_.findMember(i5G[X6I.M4d]):U5G.hierarchy_.findMember(i5G[X6I.E4d]),G5G=this.ascendantByLevel(G5G,W5G),void X6I.R4d!==G5G&&G5G.uniqueName==c5G.uniqueName||T5G.unshift(i5G);this.setDrilledDownRows(T5G);}else{j5G=this.getDrilledDownColumns();for(l5G=j5G.length-X6I.E4d;X6I.R4d<=l5G;l5G--)i5G=j5G[l5G],G5G=X6I.Y3d==typeof i5G[X6I.R4d]?U5G.hierarchy_.findMember(i5G[X6I.M4d]):U5G.hierarchy_.findMember(i5G[X6I.E4d]),G5G=this.ascendantByLevel(G5G,W5G),void X6I.R4d!==G5G&&G5G.uniqueName==c5G.uniqueName||T5G.unshift(i5G);this.setDrilledDownColumns(T5G);}i5G=y5G.slice(X6I.R4d);i5G[i5G.length-X6I.E4d]=c5G.ordinal;this.cube_.drillUp(i5G,c5G,n5G,f5G);};S9G.prototype.drillDown=function(h5G,D5G,q5G,I5G,K5G){void X6I.R4d===I5G&&(I5G=X6I.V2d);if(void X6I.R4d!==K5G)return this.drillDownTo(h5G,D5G,q5G,I5G,K5G);var m5G=this.slice.findAxis(q5G);K5G=[];var r5G=h5G.slice(X6I.R4d);r5G.unshift(D5G.uniqueName);m5G=I5G&&m5G.hasMeasures?this._measures.indexOf(I5G.uniqueName):-X6I.E4d;r5G.unshift(m5G);if(this.isAllDrilled())if(q5G==s9G.consts.AxisName.ROWS_AXIS){var B5G=this.getDrilledUpRows(),v5G;for(v5G in B5G)m5G=B5G[v5G],m5G.toString()!=r5G.toString()&&K5G.push(m5G);this.setDrilledUpRows(K5G);}else{B5G=this.getDrilledUpColumns();for(v5G in B5G)m5G=B5G[v5G],m5G.toString()!=r5G.toString()&&K5G.push(m5G);this.setDrilledUpColumns(K5G);}else q5G==s9G.consts.AxisName.ROWS_AXIS?(K5G=this.getDrilledDownRows().slice(X6I.R4d),K5G.push(r5G),this.setDrilledDownRows(K5G)):(K5G=this.getDrilledDownColumns().slice(X6I.R4d),K5G.push(r5G),this.setDrilledDownColumns(K5G));this.cube_.drillDown(h5G,D5G,q5G,I5G);this.cube_.dispatchWith(Q9G.model._state.StateEvent.REPORT_CHANGED);};S9G.prototype.drillDownTo=function(d5G,Q0G,s0G,X0G,S0G){var P0G=this.slice.findAxis(s0G),o5G=[];d5G=d5G.slice(X6I.R4d);d5G.unshift(Q0G.uniqueName);Q0G=X0G&&P0G.hasMeasures?this._measures.indexOf(X0G.uniqueName):-X6I.E4d;d5G.unshift(Q0G);d5G.unshift(S0G);s0G==s9G.consts.AxisName.ROWS_AXIS?(o5G=this.getDrilledDownRows().slice(X6I.R4d),o5G.push(d5G),this.setDrilledDownRows(o5G)):(o5G=this.getDrilledDownColumns().slice(X6I.R4d),o5G.push(d5G),this.setDrilledDownColumns(o5G));};S9G.dispose=function(){S9G.instance&&(S9G.instance.removeEventListeners(),S9G.instance.removeAllEventListeners());S9G.instance=X6I.V2d;};S9G.counter=X6I.R4d;S9G.SCRIPT_EXECUTION_TIMEOUT=p0B;return S9G;}(events.EventDispatcher);P9G.ViewDataProvider=X9G;}(s9G.dataprovider_||(s9G.dataprovider_={})));}(Q9G.data_||(Q9G.data_={})));}(pivot||(pivot={})));(function(L0G){(function(g0G){(function(w0G){var Z0G=function(){t0G.getDataProvider=function(F0G){var R4i=Q933;void R4i.R4d===F0G&&(F0G=R4i.s3d);R4i.s3d==F0G&&(F0G=L0G.model._options.OptionsManager.flatView?z0G.FLAT:z0G.PIVOT);var p0G=R4i.V2d,p0G=F0G==z0G.FLAT?w0G.FlatViewDataProvider.getInstance():w0G.ViewDataProvider.getInstance();p0G.addEventListeners();t0G.dataProvider_!=p0G?(t0G.dataProvider_&&t0G.dataProvider_.removeEventListeners(),p0G.load()):L0G.model._options.OptionsManager.optionAffectedDataProvider&&(p0G.load(),L0G.model._options.OptionsManager.optionAffectedDataProvider=!R4i.E4d);t0G.dataProvider_=p0G;return t0G.dataProvider_;};function t0G(){}t0G.dispose=function(){w0G.FlatViewDataProvider.dispose();w0G.ViewDataProvider.dispose();t0G.dataProvider_=Q933.V2d;};t0G.dataProvider_=Q933.V2d;return t0G;}();w0G.DataProviderFactory=Z0G;var z0G=function(){e0G.PIVOT=X933.F0B;function e0G(){}e0G.FLAT=X933.e0B;return e0G;}();w0G.DataProviderType=z0G;}(g0G.dataprovider_||(g0G.dataprovider_={})));}(L0G.data_||(L0G.data_={})));}(pivot||(pivot={})));(function(N0G){(function(b0G){(function(Y0G){var V0G=function(E0G){var D4I=Q933;var h4I=X933;__extends(R0G,E0G);Object.defineProperty(R0G.prototype,h4I.i5B,{get:function(){return D4I.V2d!=this._dataStorage?this._dataStorage:this.cube_.localDataStorage;},set:function(J0G){this._dataStorage=J0G;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,s933.O4h,{get:function(){return D4I.V2d!=this._slice?this._slice:this.cube_.slice_;},set:function(k0G){this._slice=k0G;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.c5B,{get:function(){return this._measures;},set:function(C0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.v5B,{get:function(){return D4I.E4d<this._measures.length;},set:function(a0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.n5B,{get:function(){return this.slice&&this._dataLoaded;},set:function(H0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});R0G.getInstance=function(){D4I.V2d==R0G.instance&&(R0G.instance=new R0G());return R0G.instance;};R0G.prototype.addEventListeners=function(){this.cube_.addEventListener(b0G.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler,D4I.E4d);};R0G.prototype.removeEventListeners=function(){this.cube_.removeEventListener(b0G.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);};R0G.prototype.load=function(){if(D4I.V2d==this.dataStorage&&(this.dataStorage=this.cube_.localDataStorage,D4I.V2d==this.dataStorage))return;this.slice&&(this.dataStorage.expand([],b0G.consts.AxisName.ROWS_AXIS,D4I.V2d),this.dataStorage.expand([],b0G.consts.AxisName.COLUMNS_AXIS,D4I.V2d),this.prepare(),this._dataLoaded=!D4I.R4d);};R0G.prototype.onQueryComplete=function(){this.load();};R0G.prototype.prepare=function(){var O0G,u0G,A0G,x0G=this.slice?this.slice.flatten(!D4I.R4d):new utils.AssociativeArray();this.colIndices.length=D4I.R4d;this.colNames=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();for(O0G=D4I.R4d;O0G<x0G.length;O0G++)A0G=x0G.getItemAt(O0G),u0G=this.cube_.structure_.hierarchyToMeasure(A0G.uniqueName),D4I.V2d==u0G&&(u0G=this.cube_.structure_.calculatedMeasures.getItem(A0G.uniqueName)),u0G&&this._measures.addItem(u0G.uniqueName,u0G),u0G=this.dataStorage.factKeys.indexOf(A0G.uniqueName),this.colIndices.push(u0G),this.colNames.addItem(A0G.uniqueName,this.colIndices.length-D4I.E4d);if(this.hasColumnSorting)this._sort();else for(O0G=D4I.R4d;O0G<x0G.length;O0G++)if(A0G=x0G.getItemAt(O0G),A0G.sortName!=b0G.consts.SortType.UNSORTED){this._columnSortType=A0G.sortName;this._columnSortTuple=this.getColumnTuple(O0G);this._columnSortMeasure=this.cube_.structure_.hierarchyToMeasure(A0G.uniqueName);D4I.V2d==this._columnSortMeasure&&(this._columnSortMeasure=this.cube_.structure_.calculatedMeasures.getItem(A0G.uniqueName));this.sort();break;}};Object.defineProperty(R0G.prototype,h4I.W5B,{get:function(){return D4I.R4d;},set:function(i0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.y5B,{get:function(){return D4I.R4d;},set:function(l0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.K5B,{get:function(){return D4I.R4d;},set:function(G0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.m5B,{get:function(){return D4I.R4d;},set:function(j0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,s933.J4h,{get:function(){return new utils.AssociativeArray();},set:function(U0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.G5B,{get:function(){return new utils.AssociativeArray();},set:function(T0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.j5B,{get:function(){return[];},set:function(f0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.U5B,{get:function(){return[];},set:function(c0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,s933.k4h,{get:function(){return new utils.AssociativeArray();},set:function(W0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.T5B,{get:function(){return new utils.AssociativeArray();},set:function(n0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.f5B,{get:function(){return new utils.AssociativeArray();},set:function(y0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.r5B,{get:function(){return new b0G._structure.Axis(b0G.consts.AxisName.ROWS_AXIS);},set:function(K0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.I5B,{get:function(){return new b0G._structure.Axis(b0G.consts.AxisName.COLUMNS_AXIS);},set:function(m0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.B5B,{get:function(){return D4I.E4d;},set:function(r0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.q5B,{get:function(){return D4I.R4d;},set:function(I0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.h5B,{get:function(){return D4I.V2d;},set:function(B0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.D5B,{get:function(){return D4I.V2d;},set:function(q0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.d5B,{get:function(){return D4I.V2d;},set:function(v0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.o5B,{get:function(){return!D4I.E4d;},set:function(h0G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.Q0B,{get:function(){return this._columnSortType;},set:function(D0G){D0G=D0G.toLowerCase();this._columnSortType=D0G==b0G.consts.SortType.ASC||D0G==b0G.consts.SortType.DESC?D0G:b0G.consts.SortType.UNSORTED;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.s0B,{get:function(){return this._columnSortTuple;},set:function(d0G){this._columnSortTuple=d0G;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.X0B,{get:function(){return this._columnSortMeasure;},set:function(o0G){this._columnSortMeasure=o0G;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.P0B,{get:function(){return this._columnSortType==b0G.consts.SortType.UNSORTED||D4I.V2d==this._columnSortTuple?!D4I.E4d:!D4I.R4d;},set:function(Q1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});R0G.prototype.reset=function(s1G){this._dataLoaded=!D4I.E4d;this._sortedHierarchy=D4I.V2d;this._measures=new utils.AssociativeArray();this.indices.length=D4I.R4d;this.colIndices.length=D4I.R4d;this.colNames=new utils.AssociativeArray();this._columnSortTuple=this._columnSortMeasure=D4I.V2d;this._columnSortType=b0G.consts.SortType.UNSORTED;};Object.defineProperty(R0G.prototype,h4I.S0B,{get:function(){return D4I.R4d==this.colIndices.length;},set:function(X1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});R0G.prototype.getRowDepth=function(P1G){return D4I.R4d;};R0G.prototype.getRowType=function(S1G){return D4I.R4d;};R0G.prototype.getColumnType=function(L1G){return D4I.R4d;};R0G.prototype.getColumnDepth=function(g1G){return D4I.E4d;};R0G.prototype.getRowHierarchyIdx=function(w1G){return D4I.R4d;};R0G.prototype.getRowHierarchy=function(z1G){return this.getColumnHierarchy(z1G);};R0G.prototype.getColumnHierarchyIdx=function(Z1G){return D4I.R4d;};R0G.prototype.getColumnHierarchy=function(t1G){return this.cube_.structure_.allHierarchies().getItem(this.dataStorage.keys[t1G[D4I.R4d]]);};Object.defineProperty(R0G.prototype,h4I.L0B,{get:function(){return this.colIndices.length;},set:function(p1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.g0B,{get:function(){return this.dataStorage?this.dataStorage.result[D4I.R4d]:D4I.R4d;},set:function(F1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.w0B,{get:function(){return this.colIndices.length;},set:function(e1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.z0B,{get:function(){return this.dataStorage.getRowCount();},set:function(N1G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});function R0G(){var M0G=E0G.call(this)||this;M0G._measures=new utils.AssociativeArray();M0G._dataLoaded=!D4I.E4d;M0G.queryCompleteHandler=function(){return M0G.onQueryComplete();};M0G._columnSortType=b0G.consts.SortType.UNSORTED;M0G._columnSortTuple=D4I.V2d;M0G.indices=[];M0G.colIndices=[];M0G.cube_=b0G.Cube.getInstance();return M0G;}R0G.prototype.isRowExpanded=function(b1G,V1G){return!D4I.E4d;};R0G.prototype.isColumnExpanded=function(Y1G,R1G){return!D4I.E4d;};R0G.prototype.isRowDrilledDown=function(E1G,M1G,J1G){return!D4I.E4d;};R0G.prototype.isColumnDrilledDown=function(k1G,C1G,a1G){return!D4I.E4d;};R0G.prototype.isAggregated=function(H1G,A1G){return!D4I.E4d;};R0G.prototype.getColumnTupleIndex=function(u1G){for(var O1G=D4I.R4d;O1G<this.colIndices.length;O1G++)if(this.colIndices[O1G].toString()==u1G.toString())return O1G;return-D4I.E4d;};R0G.prototype.getRowTupleIndex=function(i1G){if(!(D4I.R4d<this.indices.length&&i1G[D4I.R4d]<this.indices.length))return i1G[D4I.R4d];for(var x1G=D4I.R4d;x1G<this.indices.length;x1G++)if(this.indices[x1G].toString()==i1G.toString())return x1G;return-D4I.E4d;};R0G.prototype.getRowTuple=function(l1G,G1G){return D4I.R4d>l1G?D4I.V2d:D4I.R4d<this.indices.length&&l1G<this.indices.length?[this.indices[l1G]]:[l1G];};R0G.prototype.getColumnTuple=function(j1G,U1G){return D4I.R4d>j1G?D4I.V2d:D4I.R4d<this.colIndices.length&&j1G<this.colIndices.length?[this.colIndices[j1G]]:[j1G];};R0G.prototype.getColumnTupleByName=function(c1G,T1G){void D4I.R4d===T1G&&(T1G=!D4I.E4d);var f1G=this.colNames.getItem(c1G);return this.getColumnTuple(f1G,T1G);};R0G.prototype.getColumnTupleForExport=function(W1G){return D4I.V2d;};R0G.prototype.getRowMeasure=function(n1G){return D4I.V2d;};R0G.prototype.getRowMeasureIndex=function(y1G){return D4I.R4d;};R0G.prototype.getColumnMeasure=function(K1G){return D4I.V2d;};R0G.prototype.getColumnMeasureIndex=function(m1G){return D4I.R4d;};R0G.prototype.getMeasure=function(B1G,I1G){var r1G=this.getColumnTuple(I1G);return this._measures.getItem(this.dataStorage.factKeys[r1G[D4I.R4d]]);};R0G.prototype.getUpdatedValue=function(q1G,h1G,v1G){return D4I.V2d==q1G?this.dataStorage.getFlatUpdatedValue(D4I.V2d,v1G):this.dataStorage.getFlatUpdatedValue(q1G[D4I.R4d],v1G);};R0G.prototype.getValue=function(d1G,o1G,D1G){return D4I.V2d==o1G&&D4I.V2d==d1G?this.dataStorage.getValue([],[],D1G):this.dataStorage.getFlatValue(d1G[D4I.R4d],o1G[D4I.R4d],D1G,D1G.type!=b0G.types.MeasureType.COUNT);};R0G.prototype.getRecordId=function(Q8G,s8G,X8G){return D4I.V2d==s8G&&D4I.V2d==Q8G?D4I.V2d:this.dataStorage.getRecordId(Q8G[D4I.R4d],s8G[D4I.R4d],X8G);};R0G.prototype.sort=function(){this._sort();};R0G.prototype._sort=function(){if(this.hasColumnSorting){this._columnSortMeasure.type!=b0G.types.MeasureType.COUNT?this.sortRowsByValue():this.sortRowsByMembers();this._sortedHierarchy&&(this._sortedHierarchy.sortName=b0G.consts.SortType.UNSORTED);var P8G=this.getColumnHierarchy(this._columnSortTuple);P8G&&(P8G.sortName=this._columnSortType,this._sortedHierarchy=P8G);}};R0G.prototype.sortRowsByValue=function(){var S8G,g8G,L8G=[];for(S8G=D4I.R4d;S8G<this.extendedDataHeight;S8G++)g8G=this.getValue([S8G],this._columnSortTuple,this._columnSortMeasure),L8G[S8G]=isNaN(g8G)?Number.NEGATIVE_INFINITY:g8G;this.indices=this._columnSortType!=b0G.consts.SortType.DESC?utils.ArrayUtils.sort(L8G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(L8G,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);};R0G.prototype.sortRowsByMembers=function(){var F8G=this,z8G=this.getColumnHierarchy(this._columnSortTuple);if(D4I.V2d!=z8G){var w8G,Z8G,t8G=[];w8G=z8G.levels_.getItemAt(D4I.E4d).type;var p8G=w8G==b0G.types.LevelType.YEAR||w8G==b0G.types.LevelType.MONTH||w8G==b0G.types.LevelType.DAY;for(w8G=D4I.R4d;w8G<this.extendedDataHeight;w8G++)Z8G=this.getValue([w8G],this._columnSortTuple,this._columnSortMeasure),Z8G=z8G.members.getItemAt(Z8G),t8G.push(p8G?Z8G.uniqueName:Z8G.caption);if(p8G){this.sortedIndex={};p8G=z8G.sortChildren(z8G.allMember,!D4I.E4d,this._columnSortType);for(w8G=D4I.R4d;w8G<z8G.members.length;w8G++)Z8G=z8G.members.getItemAt(w8G),this.sortedIndex[Z8G.uniqueName]=p8G.indexOf(Z8G.uniqueName);this.indices=utils.ArrayUtils.sort(t8G,utils.ArrayUtils.RETURNINDEXEDARRAY,function(e8G,N8G){return F8G.sortFunction(e8G,N8G);});}else this.indices=this._columnSortType!=b0G.consts.SortType.DESC?utils.ArrayUtils.sort(t8G,utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(t8G,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);}};R0G.prototype.sortFunction=function(Y8G,R8G){var b8G=this.sortedIndex[Y8G],V8G=this.sortedIndex[R8G];return b8G>V8G?D4I.E4d:b8G<V8G?-D4I.E4d:D4I.R4d;};R0G.prototype.calculate=function(E8G,M8G,J8G,k8G){return this.dataStorage.calculateFlat(E8G,M8G,J8G,k8G);};R0G.prototype.expandData=function(C8G){};R0G.prototype.collapseData=function(a8G){};R0G.prototype.expandAll=function(){};Object.defineProperty(R0G.prototype,h4I.Z0B,{get:function(){return D4I.V2d;},enumerable:!D4I.R4d,configurable:!D4I.R4d});Object.defineProperty(R0G.prototype,h4I.t0B,{get:function(){return D4I.V2d;},enumerable:!D4I.R4d,configurable:!D4I.R4d});R0G.prototype.expand=function(H8G,A8G,O8G,u8G){};R0G.prototype.collapse=function(x8G,i8G,l8G,G8G){};R0G.prototype.drillUp=function(j8G,U8G,T8G,f8G){};R0G.prototype.drillDown=function(c8G,W8G,n8G,y8G){};R0G.prototype.drillThrough=function(K8G,m8G,r8G){return[];};R0G.prototype.save=function(I8G,B8G,q8G,v8G,h8G){this.dataStorage.saveFlat(I8G,B8G,q8G,v8G,h8G);};Object.defineProperty(R0G.prototype,h4I.l5B,{get:function(){return!D4I.E4d;},set:function(D8G){},enumerable:!D4I.R4d,configurable:!D4I.R4d});R0G.dispose=function(){R0G.instance&&(R0G.instance.removeAllEventListeners(),R0G.instance.removeEventListeners());R0G.instance=D4I.V2d;};return R0G;}(events.EventDispatcher);Y0G.FlatViewDataProvider=V0G;}(b0G.dataprovider_||(b0G.dataprovider_={})));}(N0G.data_||(N0G.data_={})));}(pivot||(pivot={})));(function(d8G){(function(o8G){(function(Q9F){var s9F=function(P9F){__extends(X9F,P9F);X9F.getInstance=function(){var N0B="chart";Q933.V2d==X9F._instance&&(X9F._instance=new X9F(),X9F._instance._name=N0B+Q9F.ViewDataProvider.counter);return X9F._instance;};Object.defineProperty(X9F.prototype,X933.l5B,{get:function(){return!Q933.E4d;},set:function(S9F){},enumerable:!Q933.R4d,configurable:!Q933.R4d});function X9F(){return P9F.call(this)||this;}X9F.dispose=function(){X9F._instance&&(X9F._instance.removeEventListeners(),X9F._instance.removeAllEventListeners());X9F._instance=Q933.V2d;};return X9F;}(Q9F.ViewDataProvider);Q9F.ChartDataProvider=s9F;}(o8G.dataprovider_||(o8G.dataprovider_={})));}(d8G.data_||(d8G.data_={})));}(pivot||(pivot={})));(function(L9F){(function(g9F){(function(z9F){var w9F=function(){var I4I=Q933;Object.defineProperty(Z9F.prototype,s933.P6B,{get:function(){return this._caption;},set:function(F9F){I4I.V2d==F9F&&(F9F=I4I.s3d);F9F=F9F.toString();I4I.V3d==typeof F9F?this._caption=I4I.s3d+F9F:I4I.s3d==F9F.trim()?this._caption=L9F.model._labels.Labels.MEMBER_BLANK:this._caption=F9F;},enumerable:!I4I.R4d,configurable:!I4I.R4d});Object.defineProperty(Z9F.prototype,X933.b0B,{get:function(){return this._uniqueName;},set:function(e9F){this._uniqueName=e9F;},enumerable:!I4I.R4d,configurable:!I4I.R4d});Z9F.prototype._getProperty=function(N9F){if(this._hasProperty(N9F))return this.data[N9F];};Z9F.prototype._setProperty=function(b9F,V9F){this.data[b9F]=V9F;};Z9F.prototype._hasProperty=function(Y9F){return this.data.hasOwnProperty(Y9F);};function Z9F(p9F,t9F){void I4I.R4d===t9F&&(t9F=I4I.s3d);this.data={};this.uniqueName=p9F;this.caption=t9F;}Z9F.prototype.toString=function(){return this.uniqueName;};Z9F.prototype.toObject=function(){var R9F={};R9F.caption=this.caption;R9F.uniqueName=this.uniqueName;return R9F;};Z9F.prototype.fromObject=function(M9F){for(var E9F in M9F)I4I.V2d!=this[E9F]&&(this[E9F]=M9F[E9F]);};return Z9F;}();z9F.GenericElement=w9F;}(g9F._structure||(g9F._structure={})));}(L9F.data_||(L9F.data_={})));}(pivot||(pivot={})));(function(J9F){(function(k9F){(function(C9F){var a9F=function(A9F){var y4I=Q933;var K0B="predefinedDrillDowns";var y0B="allMember";var n0B="allMemberName";var W0B="filterMeasureName";var c0B="filterQuantity";var f0B="filterType";var T0B="filterMembersNegated";var U0B="filterMembers";var x0B="sortAs";var u0B="sortName";var O0B="drillDownDepth";var C0B="filterEnabled";var k0B="isMeasures";var J0B="isHierarchy";var M0B="levels_";var R0B="quantity";var Y0B="origin";var V0B="dimension";__extends(H9F,A9F);Object.defineProperty(H9F.prototype,V0B,{get:function(){return this._dimension;},set:function(j9F){this._dimension=j9F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,y4I.P5d,{get:function(){return this._type;},set:function(U9F){this._type=U9F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,Y0B,{get:function(){return this._origin;},set:function(T9F){this._origin=T9F;this._isHierarchy=y4I.E4d==(T9F&y4I.E4d);},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,R0B,{get:function(){return this.members.length;},set:function(f9F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,X933.E0B,{get:function(){return this._folder;},set:function(c9F){y4I.T3d==c9F?this._folder=y4I.s3d:this._folder=c9F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,M0B,{get:function(){return this._levels;},set:function(W9F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.addLevel=function(n9F){n9F.hierarchy=this;this._levels.addItem(n9F.uniqueName,n9F);this._drilledDownMembers.addItemAt(n9F.uniqueName,new utils.AssociativeArray(),n9F.num);};H9F.prototype.addLevelAt=function(y9F,m9F){y9F.hierarchy=this;this._levels.addItemAt(y9F.uniqueName,y9F,m9F);for(var K9F=y4I.M4d;K9F<this._levels.length;K9F++)this._levels.getItemAt(K9F).num++;this._drilledDownMembers.addItemAt(y9F.uniqueName,new utils.AssociativeArray(),y9F.num);};H9F.prototype.findLevel=function(r9F){return this._levels.getItem(r9F);};Object.defineProperty(H9F.prototype,J0B,{get:function(){return y4I.M4d<this.levels_.length;},set:function(I9F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,k0B,{get:function(){return this.uniqueName==k9F.Cube.MEASURES_NAME;},set:function(B9F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,C0B,{get:function(){return this._filterEnabled;},set:function(q9F){this._filterEnabled=q9F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,s933.i7h,{get:function(){return this._members;},set:function(v9F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.clear=function(){this._members=new utils.AssociativeArray();};H9F.prototype.addMember=function(h9F,D9F,d9F){void y4I.R4d===D9F&&(D9F=y4I.s3d);void y4I.R4d===d9F&&(d9F=y4I.s3d);y4I.s3d==D9F&&(D9F=this.levels_&&y4I.E4d<this.levels_.length?this.levels_.getItemAt(y4I.E4d).uniqueName:this.uniqueName+s933.c8d+this.caption,this.caption==J9F.model._labels.Labels.MEMBER_BLANK&&(D9F=this.uniqueName+X933.a0B));y4I.V2d==this.findMember(h9F.uniqueName)&&(h9F.hierarchy_=this,h9F.parent=this.findMember(d9F)||this.allMember,h9F.level=this.findLevel(D9F),y4I.V2d!=h9F.parent&&h9F.parent.addChild(h9F),h9F.ordinal=this._members.length,this._members.addItem(h9F.uniqueName,h9F),this.cache=[],this.cacheWithDescendants=[]);};H9F.prototype.drillDownMember=function(o9F){y4I.V2d!=o9F&&(o9F.isDrilledDown=!y4I.R4d,this._drilledDownMembers.getItem(o9F.level.uniqueName).addItem(o9F.uniqueName,o9F));};H9F.prototype.drillUpMember=function(Q7F){Q7F.isDrilledDown=!y4I.E4d;this._drilledDownMembers.getItem(Q7F.level.uniqueName).removeItem(Q7F.uniqueName);Q7F=Q7F.descendants;for(var s7F=y4I.R4d;s7F<Q7F.length;s7F++){var X7F=Q7F.getItemAt(s7F);X7F.isDrilledDown&&this.drillUpMember(X7F);}};function H9F(x9F,i9F){var A0B=".(All Member)";var H0B=".(All)";void y4I.R4d===i9F&&(i9F=y4I.s3d);var O9F=A9F.call(this,x9F,i9F)||this;O9F._type=y4I.E4d;O9F._origin=y4I.R4d;O9F._folder=y4I.s3d;O9F._allMemberName=y4I.s3d;O9F._sortName=H9F.DEFAULT_SORT_NAME;O9F._sortAs=y4I.V2d;O9F._filter=new utils.AssociativeArray();O9F._filterMembers=new utils.AssociativeArray();O9F.__filterMembersChanged=!y4I.E4d;O9F._filterMembersNegated=new utils.AssociativeArray();O9F.__filterMembersNegatedChanged=!y4I.E4d;O9F._members=new utils.AssociativeArray();O9F._drilledDownMembers=new utils.AssociativeArray();O9F._levels=new utils.AssociativeArray();O9F._isHierarchy=!y4I.E4d;O9F._filterEnabled=!y4I.R4d;O9F._predefinedDrillDowns=[];O9F.cache=[];O9F.cacheWithDescendants=[];O9F._filterType=k9F.consts.FilterType.NONE;O9F._filterQuantity=-y4I.E4d;O9F._filterMeasureName=y4I.s3d;var l9F=x9F+H0B,u9F=new C9F.GenericLevel(l9F,s933.a0h,y4I.R4d);O9F.addLevel(u9F);var u9F=x9F+A0B,G9F=new C9F.GenericMember(u9F,s933.a0h);O9F.addMember(G9F,l9F);O9F.allMemberName=u9F;return O9F;}H9F.prototype.drilledDownMembers=function(P7F){return this._drilledDownMembers.getItem(P7F.uniqueName);};Object.defineProperty(H9F.prototype,O0B,{get:function(){for(var S7F=y4I.E4d;S7F<this.levels_.length;S7F++){var L7F=this.levels_.getItemAt(S7F);if(y4I.R4d==this.drilledDownMembers(L7F).length)return S7F;}return y4I.E4d;},set:function(g7F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.findMemberByCaption=function(z7F){for(var w7F=y4I.R4d;w7F<this.members.length;w7F++)if(this.members.getItemAt(w7F).caption==z7F)return this.members.getItemAt(w7F);return y4I.V2d;};H9F.prototype.findMember=function(Z7F){return this.members.getItem(Z7F);};H9F.prototype.clearSort=function(t7F){void y4I.R4d===t7F&&(t7F=!y4I.E4d);this.sortName=t7F?k9F.consts.SortType.UNSORTED:H9F.DEFAULT_SORT_NAME;};H9F.prototype.clearSortCache=function(){this.cache=[];};Object.defineProperty(H9F.prototype,u0B,{get:function(){return this._sortName;},set:function(p7F){this._sortName=p7F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,x0B,{get:function(){return this._sortAs;},set:function(F7F){this._sortAs=F7F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.sort=function(){return this.sortChildren(this.allMember);};H9F.prototype.sortChildren=function(e7F,V7F,N7F){void y4I.R4d===V7F&&(V7F=!y4I.R4d);void y4I.R4d===N7F&&(N7F=y4I.s3d);if(y4I.V2d==e7F)return new utils.AssociativeArray();k9F.consts.SortType.isValid(N7F)||(N7F=this._sortName);if(V7F){if(y4I.V2d!=this.cacheWithDescendants[e7F.ordinal]){if(y4I.V2d!=this.cacheWithDescendants[e7F.ordinal][N7F])return this.cacheWithDescendants[e7F.ordinal][N7F];if(!this.isHierarchy){if(N7F==k9F.consts.SortType.DESC&&y4I.V2d!=this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.ASC])return this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.DESC]=this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.ASC].reverse(),this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.DESC];if(N7F==k9F.consts.SortType.ASC&&y4I.V2d!=this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.DESC])return this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.ASC]=this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.DESC].reverse(),this.cacheWithDescendants[e7F.ordinal][k9F.consts.SortType.ASC];}}}else if(y4I.V2d!=this.cache[e7F.ordinal]){if(y4I.V2d!=this.cache[e7F.ordinal][N7F])return this.cache[e7F.ordinal][N7F];if(!this.isHierarchy){if(N7F==k9F.consts.SortType.DESC&&y4I.V2d!=this.cache[e7F.ordinal][k9F.consts.SortType.ASC])return this.cache[e7F.ordinal][k9F.consts.SortType.DESC]=this.cache[e7F.ordinal][k9F.consts.SortType.ASC].reverse(),this.cache[e7F.ordinal][k9F.consts.SortType.DESC];if(N7F==k9F.consts.SortType.ASC&&y4I.V2d!=this.cache[e7F.ordinal][k9F.consts.SortType.DESC])return this.cache[e7F.ordinal][k9F.consts.SortType.ASC]=this.cache[e7F.ordinal][k9F.consts.SortType.DESC].reverse(),this.cache[e7F.ordinal][k9F.consts.SortType.ASC];}}var Y7F=this._sortName;this._sortName=N7F;var b7F;b7F=V7F?e7F.descendants:e7F.children;s933.g0d<b7F.length?b7F=V7F?e7F.descendants:e7F.children:this._sortName==k9F.consts.SortType.UNSORTED?(b7F=V7F?e7F.descendants:e7F.children,y4I.R4d<b7F.length&&b7F.getItemAt(y4I.R4d).isAll&&b7F.removeItemAt(y4I.R4d)):b7F=this.sortByCaption(e7F,V7F);V7F?(y4I.V2d==this.cacheWithDescendants[e7F.ordinal]&&(this.cacheWithDescendants[e7F.ordinal]=[]),this.cacheWithDescendants[e7F.ordinal][N7F]=b7F):(y4I.V2d==this.cache[e7F.ordinal]&&(this.cache[e7F.ordinal]=[]),this.cache[e7F.ordinal][N7F]=b7F);this._sortName=Y7F;return b7F;};H9F.prototype._sortByCaptionOptimized=function(H7F,A7F){var R7F=H7F.getChildrenCaptions(),E7F=R7F.captions,R7F=R7F.members;this._sortName==k9F.consts.SortType.DESC&&(E7F=E7F.reverse(),R7F=R7F.reverse());for(var k7F=new utils.AssociativeArray(),M7F=y4I.R4d;M7F<E7F.length;M7F++)if(y4I.V2d!=E7F[M7F]){var C7F;this._sortName==k9F.consts.SortType.ASC&&(C7F=utils.ArrayUtils.sort(E7F[M7F],utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));this._sortName==k9F.consts.SortType.DESC&&(C7F=utils.ArrayUtils.sort(E7F[M7F],utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.RETURNINDEXEDARRAY));for(var a7F=y4I.R4d;a7F<C7F.length;a7F++){var J7F=R7F[M7F][C7F[a7F]];k7F.addUniqueItem(J7F.uniqueName,J7F);A7F&&(J7F=this.sortChildren(J7F),y4I.R4d<J7F.length&&k7F.concat(J7F,!y4I.E4d));}}return k7F;};H9F.prototype.checkIfMonth=function(O7F){try{if(X933.i0B==O7F.level.caption.toLowerCase())return!y4I.R4d;if(y4I.i4d<O7F.children.length)return!y4I.E4d;for(var u7F=y4I.R4d;u7F<O7F.children.length;u7F++){var i7F=O7F.children.getItemAt(u7F).caption.split(y4I.R2d)[y4I.R4d];if(-y4I.E4d==J9F.model._labels.Labels.MONTHS_LABELS.indexOf(i7F)&&-y4I.E4d==J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(i7F))return!y4I.E4d;}var x7F=O7F.hierarchy_.levels_.indexOf(O7F.level.uniqueName);if(O7F.hierarchy_.levels_.length<x7F+y4I.M4d)return!y4I.E4d;O7F.hierarchy_.levels_.getItemAt(x7F+y4I.E4d).type=k9F.types.LevelType.MONTH;O7F.hierarchy_.levels_.getItemAt(x7F+y4I.M4d).type=k9F.types.LevelType.DAY;return!y4I.R4d;}catch(l7F){}return!y4I.E4d;};H9F.prototype.sortByCaption=function(f7F,n7F){var o7i=s933;var G7F=this.levels_.getItemAt(f7F.level.num+y4I.E4d),T7F=G7F&&G7F.type==k9F.types.LevelType.YEAR,U7F=G7F&&G7F.type==k9F.types.LevelType.HALFYEAR,W7F=G7F&&G7F.type==k9F.types.LevelType.QUARTER,c7F=G7F&&G7F.type==k9F.types.LevelType.MONTH,y7F=G7F&&G7F.type==k9F.types.LevelType.WEEK,K7F=G7F&&G7F.type==k9F.types.LevelType.DAY,m7F=G7F&&G7F.type==k9F.types.LevelType.HOUR,r7F=G7F&&G7F.type==k9F.types.LevelType.MINUTE,I7F=G7F&&G7F.type==k9F.types.LevelType.NUMBER,B7F=G7F&&G7F.type==k9F.types.LevelType.TIME||G7F&&G7F.type==k9F.types.LevelType.DATE,q7F=G7F&&G7F.type==k9F.types.LevelType.TIME_DATE,v7F=this.sortAs==k9F.consts.SortType.NUMERIC_RANGE;if(!(W7F||c7F||y7F||B7F||K7F||m7F||r7F||I7F||q7F)){if(o7i.N0d<f7F.children.length)return this._sortByCaptionOptimized(f7F,n7F);this.checkIfMonth(f7F)&&(c7F=!y4I.R4d);}var j7F=f7F.children.toArray();W7F||c7F||y7F||K7F||m7F||r7F||q7F||U7F||T7F?j7F=this.sortOrdinal(j7F,G7F?G7F.type:-y4I.E4d):B7F?j7F=this.sortDate(j7F):I7F?(this._sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(j7F,o7i.P6B,utils.ArrayUtils.NUMERIC),this._sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(j7F,o7i.P6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC)):v7F?j7F.sort(this.numericRangeSort):(this._sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(j7F,o7i.P6B,utils.ArrayUtils.CASEINSENSITIVE),this._sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(j7F,o7i.P6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE));G7F=new utils.AssociativeArray();for(T7F=y4I.R4d;T7F<j7F.length;T7F++)U7F=j7F[T7F],G7F.addUniqueItem(U7F.uniqueName,U7F),n7F&&!f7F.isLeaf&&(U7F=this.sortChildren(U7F,n7F),y4I.R4d<U7F.length&&G7F.concat(U7F,!y4I.E4d));return G7F;};H9F.prototype.sortOrdinal=function(h7F,D7F){D7F==k9F.types.LevelType.MONTH?h7F=this.sortMonths(h7F):D7F==k9F.types.LevelType.DAY?h7F=this.sortWeekdays(h7F):D7F==k9F.types.LevelType.QUARTER||D7F==k9F.types.LevelType.HALFYEAR||D7F==k9F.types.LevelType.YEAR?h7F=utils.ArrayUtils.sortOn(h7F,s933.P6B,utils.ArrayUtils.CASEINSENSITIVE|(this.sortName==k9F.consts.SortType.DESC?utils.ArrayUtils.DESCENDING:y4I.R4d)):(this.sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(h7F,X933.l0B,utils.ArrayUtils.NUMERIC),this.sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(h7F,X933.l0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC));return h7F;};H9F.prototype.sortMonths=function(X4F){for(var P4F=this,d7F=[],o7F=[],Q4F=y4I.R4d;Q4F<X4F.length;++Q4F){var s4F=X4F[Q4F];this._checkIfMonth(s4F.caption)?o7F.push(s4F):d7F.push(s4F);}this.sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(d7F,s933.P6B,utils.ArrayUtils.CASEINSENSITIVE);this.sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(d7F,s933.P6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE);o7F.sort(function(S4F,L4F){return P4F.dateTimeMonthSort(S4F,L4F);});return o7F.concat(d7F);};H9F.prototype.sortWeekdays=function(t4F){for(var p4F=this,g4F=[],w4F=[],z4F=y4I.R4d;z4F<t4F.length;++z4F){var Z4F=t4F[z4F];this._checkIfWeekday(Z4F.caption)?w4F.push(Z4F):g4F.push(Z4F);}this.sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(g4F,s933.P6B,utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);this.sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(g4F,s933.P6B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.CASEINSENSITIVE|utils.ArrayUtils.NUMERIC);w4F.sort(function(F4F,e4F){return p4F.weekDaySort(F4F,e4F);});return w4F.concat(g4F);};H9F.prototype._checkIfMonth=function(N4F){return-y4I.E4d!=J9F.model._labels.Labels.MONTHS_LABELS.indexOf(N4F)||-y4I.E4d!=J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(N4F);};H9F.prototype._checkIfWeekday=function(b4F){return-y4I.E4d!=J9F.model._labels.Labels.WEEKDAYS_LABELS.indexOf(b4F)||-y4I.E4d!=J9F.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(b4F);};H9F.prototype.dateTimeMonthSort=function(R4F,E4F){var V4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.MONTHS_LABELS.indexOf(R4F.caption):J9F.model._labels.Labels.MONTHS_LABELS.indexOf(E4F.caption);-y4I.E4d==V4F&&(V4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(R4F.caption):J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(E4F.caption));var Y4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.MONTHS_LABELS.indexOf(E4F.caption):J9F.model._labels.Labels.MONTHS_LABELS.indexOf(R4F.caption);-y4I.E4d==Y4F&&(Y4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(E4F.caption):J9F.model._labels.Labels.MONTHS_LABELS_SHORT.indexOf(R4F.caption));return V4F>Y4F?y4I.E4d:V4F<Y4F?-y4I.E4d:y4I.R4d;};H9F.prototype.weekDaySort=function(k4F,C4F){var M4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.WEEKDAYS_LABELS.indexOf(k4F.caption):J9F.model._labels.Labels.WEEKDAYS_LABELS.indexOf(C4F.caption);-y4I.E4d==M4F&&(M4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(k4F.caption):J9F.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(C4F.caption));var J4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.WEEKDAYS_LABELS.indexOf(C4F.caption):J9F.model._labels.Labels.WEEKDAYS_LABELS.indexOf(k4F.caption);-y4I.E4d==J4F&&(J4F=this.sortName==k9F.consts.SortType.ASC?J9F.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(C4F.caption):J9F.model._labels.Labels.WEEKDAYS_LABELS_SHORT.indexOf(k4F.caption));return M4F>J4F?y4I.E4d:M4F<J4F?-y4I.E4d:y4I.R4d;};H9F.prototype.sortDate=function(a4F){this._sortName==k9F.consts.SortType.ASC&&utils.ArrayUtils.sortOn(a4F,X933.l0B,utils.ArrayUtils.NUMERIC);this._sortName==k9F.consts.SortType.DESC&&utils.ArrayUtils.sortOn(a4F,X933.l0B,utils.ArrayUtils.DESCENDING|utils.ArrayUtils.NUMERIC);return a4F;};H9F.prototype.numericRangeSort=function(O4F,u4F){var G0B=/(?:\d*\.)?\d+/;var H4F=O4F.caption.match(G0B),A4F=u4F.caption.match(G0B),H4F=H4F&&y4I.R4d<H4F.length?parseFloat(H4F[y4I.R4d]):Number.POSITIVE_INFINITY,A4F=A4F&&y4I.R4d<A4F.length?parseFloat(A4F[y4I.R4d]):Number.POSITIVE_INFINITY;return H4F>A4F?y4I.E4d:H4F<A4F?-y4I.E4d:y4I.R4d;};H9F.prototype.membersByLevel=function(l4F){l4F=this._levels.getItem(l4F).num;for(var G4F=new utils.AssociativeArray(),j4F=this.sort(),i4F=y4I.R4d;i4F<j4F.length;i4F++){var x4F=j4F.getItemAt(i4F);x4F&&x4F.level.num==l4F&&G4F.addItem(x4F.uniqueName,x4F);}return G4F;};Object.defineProperty(H9F.prototype,X933.j0B,{get:function(){return y4I.R4d<this._filter.length?this._filter:this.filterMembers;},set:function(U4F){this._filter=U4F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,U0B,{get:function(){this.__filterMembersNegatedChanged&&(this._filterMembers=new utils.AssociativeArray(),y4I.R4d<this._filterMembersNegated.length&&(this._filterMembers=this.createOpposite(this._filterMembersNegated)),this.__filterMembersNegatedChanged=!y4I.E4d);return this._filterMembers;},set:function(T4F){T4F.length+y4I.E4d==this.members.length&&(T4F=new utils.AssociativeArray());this.__filterMembersChanged=!y4I.R4d;this._filterMembers=T4F;this._filterMembersNegated=new utils.AssociativeArray();},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,T0B,{get:function(){this.__filterMembersChanged&&(this._filterMembersNegated=new utils.AssociativeArray(),y4I.R4d<this._filterMembers.length&&(this._filterMembersNegated=this.createOpposite(this._filterMembers)),this.__filterMembersChanged=!y4I.E4d);return this._filterMembersNegated;},set:function(f4F){f4F.length+y4I.E4d==this.members.length&&(f4F=new utils.AssociativeArray());this.__filterMembersNegatedChanged=!y4I.R4d;this._filterMembersNegated=f4F;this._filterMembers=new utils.AssociativeArray();},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.createOpposite=function(y4F){for(var c4F=this.members.slice(y4I.E4d),n4F=y4I.R4d;n4F<y4F.length;n4F++){var W4F=y4F.getItemAt(n4F);c4F.removeItem(W4F.uniqueName);this.removeMemberChildren(c4F,W4F);W4F.parent&&this.removeMemberParent(c4F,W4F.parent);}this.checkMemberChildren(c4F,this.allMember);return c4F;};H9F.prototype.checkMemberChildren=function(m4F,I4F){for(var r4F=y4I.R4d;r4F<I4F.children.length;r4F++){var K4F=I4F.children.getItemAt(r4F);y4I.R4d<K4F.children.length&&(m4F.getItem(K4F.uniqueName)?m4F.getItem(K4F.children.getItemAt(y4I.R4d).uniqueName)&&this.removeMemberChildren(m4F,K4F):this.checkMemberChildren(m4F,K4F));}};H9F.prototype.removeMemberChildren=function(v4F,h4F){if(h4F)for(var q4F=h4F.children,B4F=y4I.R4d;B4F<q4F.length;B4F++)v4F.removeItem(q4F.getItemAt(B4F).uniqueName),this.removeMemberChildren(v4F,q4F.getItemAt(B4F));};H9F.prototype.removeMemberParent=function(d4F,D4F){D4F&&(d4F.removeItem(D4F.uniqueName),D4F.parent&&this.removeMemberParent(d4F,D4F.parent));};Object.defineProperty(H9F.prototype,f0B,{get:function(){return-y4I.E4d==this._filterQuantity?k9F.consts.FilterType.NONE:this._filterType;},set:function(o4F){o4F=o4F.toLowerCase();this._filterType=o4F==k9F.consts.FilterType.TOP||o4F==k9F.consts.FilterType.BOTTOM?o4F:k9F.consts.FilterType.NONE;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,c0B,{get:function(){return this._filterQuantity;},set:function(Q6F){isNaN(Q6F)||y4I.E4d>Q6F?(this._filterQuantity=-y4I.E4d,this._filterType=k9F.consts.FilterType.NONE):this._filterQuantity=Q6F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,W0B,{get:function(){return this._filterMeasureName;},set:function(s6F){this._filterMeasureName=s6F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.prototype.clearFilter=function(){this.clearMembersFilter();this.clearValuesFilter();};H9F.prototype.clearMembersFilter=function(){this._filter=new utils.AssociativeArray();this._filterMembers=new utils.AssociativeArray();this._filterMembersNegated=new utils.AssociativeArray();};H9F.prototype.clearValuesFilter=function(){this._filter=new utils.AssociativeArray();this._filterQuantity=-y4I.E4d;this._filterType=k9F.consts.FilterType.NONE;this._filterMeasureName=y4I.s3d;};H9F.prototype.hasFilter=function(){return this.hasMembersFilter()||this.hasValuesFilter();};H9F.prototype.hasMembersFilter=function(){return y4I.R4d<this._filterMembers.length||y4I.R4d<this._filterMembersNegated.length;};H9F.prototype.hasValuesFilter=function(){return this._filterType&&this.filterType!=k9F.consts.FilterType.NONE;};H9F.prototype.filterByLevel=function(g6F){for(var S6F=new utils.AssociativeArray(),L6F=y4I.R4d<this._filter.length?this._filter:this._filterMembers,X6F=y4I.R4d;X6F<L6F.length;X6F++){var P6F=L6F.getItemAt(X6F);P6F.level.num==g6F&&S6F.addItem(P6F.uniqueName,P6F);}return S6F;};Object.defineProperty(H9F.prototype,n0B,{get:function(){return this._allMemberName;},set:function(w6F){this._allMemberName=w6F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,y0B,{get:function(){this._allMember||(this._allMember=this.findMember(this._allMemberName),this.drillDownMember(this._allMember));return this._allMember;},set:function(z6F){},enumerable:!y4I.R4d,configurable:!y4I.R4d});Object.defineProperty(H9F.prototype,K0B,{get:function(){return this._predefinedDrillDowns;},set:function(Z6F){this._predefinedDrillDowns=Z6F;},enumerable:!y4I.R4d,configurable:!y4I.R4d});H9F.toObject=function(p6F){var t6F={};t6F.uniqueName=p6F.uniqueName;t6F.caption=p6F.caption;t6F.filterEnabled=p6F.filterEnabled;t6F.sortName=p6F.sortName;t6F.sortAs=p6F.sortAs;t6F.type=p6F.type;t6F.filter=H9F.filterToObject(p6F);return t6F;};H9F.filterToObject=function(F6F){if(!y4I.E4d==F6F.hasFilter())return y4I.V2d;var e6F={};F6F.hasValuesFilter()&&(e6F={type:F6F.filterType,quantity:F6F.filterQuantity,measure:F6F.filterMeasureName,measureName:F6F.filterMeasureName});F6F.hasMembersFilter()&&(F6F.filterMembers.length<F6F.members.length/y4I.M4d?e6F.members=F6F.filterMembers.toArray(!y4I.R4d):(e6F.negation=!y4I.R4d,e6F.members=F6F.filterMembersNegated.toArray(!y4I.R4d)));return e6F;};H9F.fromObject=function(N6F,b6F){void y4I.R4d===b6F&&(b6F=y4I.V2d);var V6F=N6F.uniqueName;y4I.V2d==b6F&&(b6F=new H9F(V6F));N6F.hasOwnProperty(s933.P6B)&&(b6F.caption=N6F.caption);N6F.hasOwnProperty(u0B)&&(b6F.sortName=N6F.sortName);N6F.hasOwnProperty(x0B)&&(b6F.sortAs=N6F.sortAs);N6F.hasOwnProperty(C0B)&&(b6F.filterEnabled=N6F.filterEnabled);N6F.hasOwnProperty(y4I.P5d)&&(b6F.type=N6F.type);N6F.hasOwnProperty(Y0B)&&(b6F.origin=N6F.origin);N6F.hasOwnProperty(X933.E0B)&&(b6F.folder=N6F.folder);N6F.hasOwnProperty(X933.j0B)&&H9F.filterFromObject(N6F.filter,b6F);N6F.hasOwnProperty(n0B)&&(b6F.allMemberName=N6F.allMemberName);return b6F;};H9F.filterFromObject=function(Y6F,E6F){var r0B="measure";var m0B="measureName";if(y4I.V2d!=Y6F){if(Y6F.hasOwnProperty(s933.i7h)){for(var M6F,k6F,R6F=new utils.AssociativeArray(),J6F=y4I.R4d;J6F<Y6F.members.length;J6F++)M6F=y4I.Y3d==typeof Y6F.members[J6F]?Y6F.members[J6F]:Y6F.members[J6F].uniqueName,k6F=E6F.findMember(M6F),y4I.V2d!=k6F&&R6F.addItem(M6F,k6F);Y6F.negation?E6F.filterMembersNegated=R6F:E6F.filterMembers=R6F;}M6F=Y6F.hasOwnProperty(y4I.P5d)?Y6F.type:k9F.consts.FilterType.NONE;k6F=Y6F.hasOwnProperty(R0B)?Number(Y6F.quantity):-y4I.E4d;R6F=y4I.s3d;Y6F.hasOwnProperty(m0B)&&(R6F=Y6F.measureName);Y6F.hasOwnProperty(r0B)&&(R6F=Y6F.measure);M6F!=k9F.consts.FilterType.NONE&&(E6F.filterType=M6F,E6F.filterQuantity=k6F,E6F.filterMeasureName=R6F);}};H9F.DEFAULT_SORT_NAME=X933.I0B;return H9F;}(C9F.GenericElement);C9F.GenericHierarchy=a9F;}(k9F._structure||(k9F._structure={})));}(J9F.data_||(J9F.data_={})));}(pivot||(pivot={})));(function(C6F){(function(a6F){(function(H6F){var A6F=function(u6F){var W4I=Q933;var q0B="isLast";var B0B="num";__extends(O6F,u6F);Object.defineProperty(O6F.prototype,B0B,{get:function(){return this._number;},set:function(G6F){this._number=G6F;},enumerable:!W4I.R4d,configurable:!W4I.R4d});Object.defineProperty(O6F.prototype,W4I.P5d,{get:function(){return this._type;},set:function(j6F){this._type=j6F;},enumerable:!W4I.R4d,configurable:!W4I.R4d});Object.defineProperty(O6F.prototype,q0B,{get:function(){return this._hierarchy.levels_.length-W4I.E4d==this._number;},set:function(U6F){},enumerable:!W4I.R4d,configurable:!W4I.R4d});function O6F(x6F,i6F,l6F){void W4I.R4d===i6F&&(i6F=W4I.s3d);void W4I.R4d===l6F&&(l6F=W4I.R4d);x6F=u6F.call(this,x6F,i6F)||this;x6F._type=W4I.E4d;x6F._properties=new utils.AssociativeArray();x6F._number=l6F;return x6F;}Object.defineProperty(O6F.prototype,X933.v0B,{get:function(){return this._hierarchy;},set:function(T6F){this._hierarchy=T6F;},enumerable:!W4I.R4d,configurable:!W4I.R4d});return O6F;}(H6F.GenericElement);H6F.GenericLevel=A6F;}(a6F._structure||(a6F._structure={})));}(C6F.data_||(C6F.data_={})));}(pivot||(pivot={})));(function(f6F){(function(c6F){(function(W6F){var n6F=function(K6F){var f4I=Q933;var p1B="isLeaf";var Z1B="_captionMembers_";var z1B="captionMembers";var w1B="_captions_";var g1B="captions";var L1B="numDescendants";var S1B="_descendants_";var P1B="_children_";var X1B="children";var s1B="isDrilledDown";var Q1B="isAll";var d0B="root";var D0B="hierarchy_";var h0B="ordinal";__extends(y6F,K6F);Object.defineProperty(y6F.prototype,h0B,{get:function(){return this._ordinal;},set:function(B6F){this._ordinal=B6F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,X933.l0B,{get:function(){return this._levelOrdinal;},set:function(q6F){this._levelOrdinal=q6F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,D0B,{get:function(){return this._hierarchy;},set:function(v6F){this._hierarchy=v6F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,f4I.p3d,{get:function(){return this._parent;},set:function(h6F){this._parent=h6F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,d0B,{get:function(){if(f4I.M4d>this._level.num)return this;var D6F=this;do D6F=D6F.parent;while(f4I.E4d<D6F.level.num);return D6F;},set:function(d6F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});function y6F(r6F,I6F){var m6F=K6F.call(this,r6F,I6F)||this;m6F._ordinal=f4I.E4d;m6F._levelOrdinal=f4I.R4d;m6F._isDrilledDown=!f4I.E4d;m6F._numDescendants=-f4I.E4d;m6F._hasCaptionSorting=-f4I.E4d;return m6F;}Object.defineProperty(y6F.prototype,X933.o0B,{get:function(){return this._level;},set:function(o6F){this._level=o6F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,Q1B,{get:function(){return f4I.V2d!=this.hierarchy_.allMember&&this.hierarchy_.allMember.uniqueName==this.uniqueName;},set:function(Q2F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,s1B,{get:function(){return this._isDrilledDown;},set:function(s2F){this._isDrilledDown=s2F;},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,X1B,{get:function(){return this._hasProperty(P1B)?this._getProperty(P1B):new utils.AssociativeArray();},set:function(X2F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,X933.R5B,{get:function(){if(this._hasProperty(S1B))return this._getProperty(S1B);var P2F=new utils.AssociativeArray();P2F.addItem(this.uniqueName,this);if(f4I.R4d==this.numDescendants)return P2F;for(var g2F=this.children.length,L2F=f4I.R4d;L2F<g2F;L2F++){var S2F=this.children.getItemAt(L2F);S2F.isLeaf?P2F.addItem(S2F.uniqueName,S2F):f4I.R4d<S2F.numDescendants?P2F.concat(S2F.descendants,!f4I.E4d):P2F.addItem(S2F.uniqueName,S2F);}f4I.R4d<P2F.length&&this._setProperty(X933.R5B,P2F);return P2F;},set:function(w2F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,L1B,{get:function(){if(-f4I.E4d<this._numDescendants)return this._numDescendants;if(!this._hasProperty(P1B))return this._numDescendants=f4I.R4d;for(var t2F=this.children.length,z2F=t2F,Z2F=f4I.R4d;Z2F<t2F;Z2F++)var p2F=this.children.getItemAt(Z2F),z2F=z2F+p2F.numDescendants;return z2F;},set:function(F2F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});y6F.prototype.getChildrenCaptions=function(){return{captions:this.captions,members:this.captionMembers};};y6F.prototype.clearDescendantsCache=function(){this._hasProperty(S1B)&&delete this._descendants_;this.parent&&this.parent.clearDescendantsCache();};Object.defineProperty(y6F.prototype,g1B,{get:function(){this._hasProperty(w1B)||(this.captions=[]);return this._getProperty(w1B);},set:function(e2F){this._setProperty(w1B,e2F);},enumerable:!f4I.R4d,configurable:!f4I.R4d});Object.defineProperty(y6F.prototype,z1B,{get:function(){this._hasProperty(Z1B)||(this.captionMembers=[]);return this._getProperty(Z1B);},set:function(N2F){this._setProperty(Z1B,N2F);},enumerable:!f4I.R4d,configurable:!f4I.R4d});y6F.prototype.addChild=function(V2F){var b2F=this.children;b2F.addItem(V2F.uniqueName,V2F);this._setProperty(P1B,b2F);V2F.parent=this;this._numDescendants=-f4I.E4d;this.clearDescendantsCache();f4I.E4d==this.hasCaptionSorting(V2F)&&(b2F=V2F.caption.charAt(f4I.R4d).toLowerCase().charCodeAt(f4I.R4d),f4I.V2d==this.captions[b2F]&&(this.captions[b2F]=[],this.captionMembers[b2F]=[]),this.captions[b2F].push(V2F.caption),this.captionMembers[b2F].push(V2F));s933.g0d<this.children.length&&(this._hasCaptionSorting=f4I.R4d,this.captions=[],this.captionMembers=[]);};y6F.prototype.removeChild=function(Y2F){this.children.removeItem(Y2F.uniqueName);this.clearDescendantsCache();if(f4I.E4d==this.hasCaptionSorting(Y2F)){var R2F=Y2F.caption.charAt(f4I.R4d).toLowerCase().charCodeAt(f4I.R4d);Y2F=this.captions[R2F].indexOf(Y2F.caption);this.captions[R2F].splice(Y2F,f4I.E4d);this.captionMembers[R2F].splice(Y2F,f4I.E4d);}};y6F.prototype.hasCaptionSorting=function(E2F){return-f4I.E4d!=this._hasCaptionSorting?this._hasCaptionSorting:this._hasCaptionSorting=E2F.level.type==c6F.types.LevelType.HOUR||E2F.level.type==c6F.types.LevelType.MINUTE||E2F.level.type==c6F.types.LevelType.DAY||E2F.level.type==c6F.types.LevelType.NUMBER?f4I.R4d:f4I.E4d;};y6F.prototype.toString=function(){var t1B=" : ";return this.uniqueName+t1B+this._ordinal;};Object.defineProperty(y6F.prototype,p1B,{get:function(){return!this._hasProperty(P1B)||f4I.R4d==this.children.length;},set:function(M2F){},enumerable:!f4I.R4d,configurable:!f4I.R4d});y6F.toObject=function(k2F){var J2F={};J2F.uniqueName=k2F.uniqueName;J2F.caption=k2F.caption;J2F.hierarchyName=k2F.hierarchy_.uniqueName;return J2F;};return y6F;}(W6F.GenericElement);W6F.GenericMember=n6F;}(c6F._structure||(c6F._structure={})));}(f6F.data_||(f6F.data_={})));}(pivot||(pivot={})));(function(C2F){(function(a2F){(function(H2F){var A2F=function(u2F){var T4I=X933;var U4I=Q933;var M1B="calculated";var E1B="availableAggregations";var R1B="aggregation";var Y1B="grandTotalCaption";var b1B="individual";var N1B="format";var e1B="customCaption";var F1B="originalCaption";__extends(O2F,u2F);Object.defineProperty(O2F.prototype,s933.P6B,{get:function(){if(this._customCaption)return this._customCaption;if(!Q933.E4d==C2F.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case a2F.consts.AggregationName.COUNT:return utils.StringUtils.bind(C2F.model._labels.Labels.COUNT_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(C2F.model._labels.Labels.PRODUCT_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(C2F.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(C2F.model._labels.Labels.AVERAGE_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.MAX:return utils.StringUtils.bind(C2F.model._labels.Labels.MAX_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.MIN:return utils.StringUtils.bind(C2F.model._labels.Labels.MIN_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.INDEX:return utils.StringUtils.bind(C2F.model._labels.Labels.INDEX_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(C2F.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.NONE:return this._caption;}return utils.StringUtils.bind(C2F.model._labels.Labels.SUM_TOTAL_CAPTION,this._caption);},set:function(G2F){Q933.s3d==G2F.trim()?this._caption=C2F.model._labels.Labels.MEMBER_BLANK:this._caption=G2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,F1B,{get:function(){return this._caption;},set:function(j2F){},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,e1B,{get:function(){return this._customCaption;},set:function(U2F){this._customCaption=U2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,T4I.E0B,{get:function(){return this._folder;},set:function(T2F){this._folder=T2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,N1B,{get:function(){return this._format;},set:function(f2F){this._format=f2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,b1B,{get:function(){return this._individual;},set:function(c2F){this._individual=c2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,T4I.V1B,{get:function(){return this._hidden;},set:function(W2F){this._hidden=W2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,U4I.P5d,{get:function(){return this._type;},set:function(n2F){this._type=n2F;this._type!=a2F.types.MeasureType.NUMBER&&this._type!=a2F.types.MeasureType.TIME&&(this._type==a2F.types.MeasureType.DATE||this._type==a2F.types.MeasureType.DATETIME?(this.availableAggregations=[a2F.consts.AggregationName.COUNT,a2F.consts.AggregationName.DISTINCT_COUNT,a2F.consts.AggregationName.MAX,a2F.consts.AggregationName.MIN],this._defaultAggregation=a2F.consts.AggregationName.MAX):(this.availableAggregations=[a2F.consts.AggregationName.COUNT,a2F.consts.AggregationName.DISTINCT_COUNT],this._defaultAggregation=a2F.consts.AggregationName.COUNT));},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,Y1B,{get:function(){if(this.calculated)return this._caption;if(this._grandTotalCaption)return this._grandTotalCaption;if(!Q933.E4d==C2F.model._options.OptionsManager.showAggregationLabels)return this._caption;switch(this.aggregation){case a2F.consts.AggregationName.SUM:return utils.StringUtils.bind(C2F.model._labels.Labels.SUM_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.COUNT:return utils.StringUtils.bind(C2F.model._labels.Labels.COUNT_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PRODUCT:return utils.StringUtils.bind(C2F.model._labels.Labels.PRODUCT_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.DISTINCT_COUNT:return utils.StringUtils.bind(C2F.model._labels.Labels.DISTINCT_COUNT_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.AVERAGE:return utils.StringUtils.bind(C2F.model._labels.Labels.AVERAGE_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.MAX:return utils.StringUtils.bind(C2F.model._labels.Labels.MAX_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.MIN:return utils.StringUtils.bind(C2F.model._labels.Labels.MIN_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_COLUMN:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_COLUMN_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_ROW:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_ROW_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.INDEX:return utils.StringUtils.bind(C2F.model._labels.Labels.INDEX_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.DIFFERENCE:return utils.StringUtils.bind(C2F.model._labels.Labels.DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);case a2F.consts.AggregationName.PERCENT_DIFFERENCE:return utils.StringUtils.bind(C2F.model._labels.Labels.PERCENT_DIFFERENCE_GRAND_TOTAL_CAPTION,this._caption);}return this._caption;},set:function(y2F){this._grandTotalCaption=y2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});function O2F(l2F,i2F){var U7i=Q933;void U7i.R4d===i2F&&(i2F=U7i.s3d);var x2F=u2F.call(this,l2F,i2F)||this;x2F._folder=U7i.s3d;x2F._format=U7i.s3d;x2F._type=a2F.types.MeasureType.NUMBER;x2F._grandTotalCaption=U7i.s3d;x2F._defaultAggregation=a2F.consts.AggregationName.SUM;x2F._aggregation=U7i.s3d;x2F._availableAggregations=[];x2F._params=[];x2F._formula=U7i.s3d;x2F._individual=!U7i.E4d;x2F._hidden=!U7i.E4d;x2F._defaultAggregation=a2F.consts.AggregationName.SUM;return x2F;}Object.defineProperty(O2F.prototype,R1B,{get:function(){return Q933.s3d==this._aggregation?this._defaultAggregation:this._aggregation;},set:function(K2F){var G7i=Q933;K2F&&K2F.toLowerCase()!=this._aggregation?(K2F=K2F.toLowerCase(),a2F.consts.AggregationName.deprecatedType(K2F)&&(K2F=a2F.consts.AggregationName.fromDeprecatedToValid(K2F)),a2F.consts.AggregationName.validType(K2F)||this.calculated&&K2F==a2F.consts.AggregationName.NONE?(this._grandTotalCaption=this._customCaption=void G7i.R4d,this._aggregation=K2F,!this.calculated&&G7i.R4d<this.availableAggregations.length&&-G7i.E4d==this.availableAggregations.indexOf(K2F)&&(this._aggregation=this._availableAggregations[G7i.R4d])):this.resolveColisionsForAggregations()):G7i.s3d==K2F&&this.resolveColisionsForAggregations();},enumerable:!U4I.R4d,configurable:!U4I.R4d});O2F.prototype.resolveColisionsForAggregations=function(){this._grandTotalCaption=this._customCaption=void Q933.R4d;this._aggregation=Q933.R4d<this._availableAggregations.length?this._availableAggregations[Q933.R4d]:this._defaultAggregation;};Object.defineProperty(O2F.prototype,E1B,{get:function(){return this._availableAggregations;},set:function(I2F){this._availableAggregations=[];if(Q933.V2d==I2F)this._availableAggregations=[];else if(this.type!=a2F.types.MeasureType.NUMBER&&this._type!=a2F.types.MeasureType.TIME&&Q933.R4d==this._availableAggregations.length)this._availableAggregations=this._type==a2F.types.MeasureType.DATE||this._type==a2F.types.MeasureType.DATETIME?[a2F.consts.AggregationName.COUNT,a2F.consts.AggregationName.DISTINCT_COUNT,a2F.consts.AggregationName.MAX,a2F.consts.AggregationName.MIN]:[a2F.consts.AggregationName.COUNT,a2F.consts.AggregationName.DISTINCT_COUNT];else for(var r2F=Q933.R4d;r2F<I2F.length;r2F++){var m2F=I2F[r2F].trim().toLowerCase();a2F.consts.AggregationName.deprecatedType(m2F)&&(m2F=a2F.consts.AggregationName.fromDeprecatedToValid(m2F));(this.type==a2F.types.MeasureType.NUMBER||this._type==a2F.types.MeasureType.TIME||m2F==a2F.consts.AggregationName.COUNT||m2F==a2F.consts.AggregationName.DISTINCT_COUNT)&&a2F.consts.AggregationName.validType(m2F)&&this._availableAggregations.push(m2F);}},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,T4I.q3B,{get:function(){return this._params;},set:function(B2F){this._params=B2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,M1B,{get:function(){return Q933.V2d!=this.formula&&Q933.s3d!=this.formula;},set:function(q2F){},enumerable:!U4I.R4d,configurable:!U4I.R4d});Object.defineProperty(O2F.prototype,T4I.J1B,{get:function(){return this._formula;},set:function(v2F){this._formula=v2F;},enumerable:!U4I.R4d,configurable:!U4I.R4d});O2F.toObject=function(D2F){var h2F={};h2F.uniqueName=D2F.uniqueName;h2F.name=D2F.originalCaption;D2F.calculated&&(h2F.formula=D2F.formula);h2F.format=D2F.format;h2F.individual=D2F.individual;h2F.availableAggregations=D2F.availableAggregations;h2F.aggregation=D2F.aggregation;h2F.caption=D2F.caption;h2F.originalCaption=D2F.originalCaption;h2F.grandTotalCaption=D2F.grandTotalCaption;h2F.folder=D2F.folder;h2F.type=D2F.type;h2F.calculated=D2F.calculated;return h2F;};O2F.fromObject=function(d2F,o2F){var O7i=Q933;void O7i.R4d===o2F&&(o2F=O7i.V2d);var Q3F=d2F.uniqueName;O7i.V2d==o2F&&(o2F=new H2F.GenericMeasure(Q3F));d2F.hasOwnProperty(O7i.P5d)&&(o2F.type=O7i.Y3d==typeof d2F.type?a2F.types.MeasureType.fromColumnType(d2F.type):d2F.type);d2F.hasOwnProperty(b1B)&&(o2F.individual=d2F.individual);d2F.hasOwnProperty(T4I.J1B)&&(o2F.formula=d2F.formula);d2F.hasOwnProperty(N1B)&&(o2F.format=d2F.format);d2F.hasOwnProperty(E1B)&&(o2F.availableAggregations=d2F.availableAggregations);o2F.aggregation=d2F.hasOwnProperty(R1B)?d2F.aggregation:o2F.calculated?a2F.consts.AggregationName.NONE:O7i.s3d;d2F.hasOwnProperty(s933.P6B)&&(o2F.caption=d2F.caption);d2F.hasOwnProperty(s933.E1d)&&(o2F.caption=d2F.name);d2F.hasOwnProperty(Y1B)&&(o2F.grandTotalCaption=d2F.grandTotalCaption);d2F.hasOwnProperty(T4I.E0B)&&(o2F.folder=d2F.folder);o2F.calculated&&(Q3F=new utils.Lexer(),o2F.params=Q3F.parse(o2F.formula));return o2F;};O2F.prototype.hasDefaultParams=function(){var A7i=Q933;var s3F=new O2F(A7i.s3d,A7i.s3d);return this.individual!=s3F.individual||this.formula!=s3F.formula||this.format!=s3F.format||this.type==a2F.types.MeasureType.COUNT&&this.aggregation!=a2F.consts.AggregationName.COUNT&&this.aggregation!=a2F.consts.AggregationName.NONE||this.type==a2F.types.MeasureType.NUMBER&&this.aggregation!=a2F.consts.AggregationName.SUM&&this.aggregation!=a2F.consts.AggregationName.NONE?!A7i.E4d:!A7i.R4d;};O2F.prototype.getFormat=function(P3F){var H7i=Q933;void H7i.R4d===P3F&&(P3F=!H7i.E4d);var X3F;X3F=C2F.model.format.FormatManager.formatExists(this.format)?C2F.model.format.FormatManager.getFormat(this.format):H7i.s3d!=this.format&&C2F.model.format.FormatManager.formatExists(H7i.s3d)?C2F.model.format.FormatManager.getFormat(H7i.s3d):C2F.model.format.FormatManager.getDefaultFormat();P3F&&utils.nullOrUndefined(X3F.params.textAlign)&&this.type!=a2F.types.MeasureType.NUMBER&&this.type!=a2F.types.MeasureType.TIME&&this.type!=a2F.types.MeasureType.DATETIME&&(X3F=X3F.clone(),X3F.textAlign=H7i.J3d);return X3F;};return O2F;}(H2F.GenericElement);H2F.GenericMeasure=A2F;}(a2F._structure||(a2F._structure={})));}(C2F.data_||(C2F.data_={})));}(pivot||(pivot={})));(function(S3F){(function(L3F){(function(g3F){var w3F=function(Z3F){var G4I=Q933;var C1B="structure";__extends(z3F,Z3F);function z3F(F3F,t3F){void G4I.R4d===t3F&&(t3F=G4I.s3d);var p3F=Z3F.call(this,F3F,t3F)||this;p3F.hierarchies=new utils.AssociativeArray();return p3F;}Object.defineProperty(z3F.prototype,X933.k1B,{get:function(){return this._hierarchies;},set:function(e3F){this._hierarchies=e3F;},enumerable:!G4I.R4d,configurable:!G4I.R4d});Object.defineProperty(z3F.prototype,G4I.P5d,{get:function(){return this._type;},set:function(N3F){this._type=N3F;},enumerable:!G4I.R4d,configurable:!G4I.R4d});Object.defineProperty(z3F.prototype,C1B,{get:function(){return this._structure;},set:function(b3F){this._structure=b3F;},enumerable:!G4I.R4d,configurable:!G4I.R4d});z3F.prototype.addHierarchy=function(V3F){V3F.dimension=this;this._hierarchies.addItem(V3F.uniqueName,V3F);};z3F.prototype.findHierarchy=function(Y3F){return this._hierarchies.getItem(Y3F);};z3F.fromObject=function(E3F,R3F){void G4I.R4d===R3F&&(R3F=G4I.V2d);var M3F=E3F.uniqueName;G4I.V2d==R3F&&(R3F=new z3F(M3F));void G4I.R4d!==E3F.caption&&(R3F.caption=E3F.caption);void G4I.R4d!==E3F.type&&(R3F.type=E3F.type);return R3F;};return z3F;}(g3F.GenericElement);g3F.GenericDimension=w3F;}(L3F._structure||(L3F._structure={})));}(S3F.data_||(S3F.data_={})));}(pivot||(pivot={})));(function(J3F){(function(k3F){(function(C3F){var a3F=function(){var i4I=X933;var x4I=Q933;var H1B="dimensions";var a1B="isComplete";Object.defineProperty(H3F.prototype,a1B,{get:function(){return this._isComplete;},set:function(u3F){this._isComplete=u3F;},enumerable:!x4I.R4d,configurable:!x4I.R4d});Object.defineProperty(H3F.prototype,H1B,{get:function(){return this._dimensions;},set:function(x3F){},enumerable:!x4I.R4d,configurable:!x4I.R4d});Object.defineProperty(H3F.prototype,i4I.A1B,{get:function(){return this._measures;},set:function(i3F){},enumerable:!x4I.R4d,configurable:!x4I.R4d});Object.defineProperty(H3F.prototype,i4I.O1B,{get:function(){for(var j3F=new utils.AssociativeArray(),l3F=Q933.R4d;l3F<this._measures.length;l3F++){var G3F=this._measures.getItemAt(l3F);G3F.calculated&&j3F.addItem(G3F.uniqueName,G3F);}return j3F;},set:function(U3F){},enumerable:!x4I.R4d,configurable:!x4I.R4d});Object.defineProperty(H3F.prototype,i4I.u1B,{get:function(){for(var c3F=new utils.AssociativeArray(),T3F=Q933.R4d;T3F<this._measures.length;T3F++){var f3F=this._measures.getItemAt(T3F);f3F.calculated||c3F.addItem(f3F.uniqueName,f3F);}return c3F;},set:function(W3F){},enumerable:!x4I.R4d,configurable:!x4I.R4d});Object.defineProperty(H3F.prototype,i4I.x1B,{get:function(){var n3F=this.findDimension(k3F.Cube.MEASURES_NAME);if(Q933.V2d==n3F){var y3F=new C3F.GenericHierarchy(k3F.Cube.MEASURES_NAME,k3F.Cube.MEASURES_NAME),n3F=new C3F.GenericDimension(k3F.Cube.MEASURES_NAME,k3F.Cube.MEASURES_NAME);n3F.type=k3F.types.DimensionType.MD_DIMTYPE_MEASURE;n3F.addHierarchy(y3F);this.addDimension(n3F);}return n3F.findHierarchy(k3F.Cube.MEASURES_NAME);},set:function(K3F){},enumerable:!x4I.R4d,configurable:!x4I.R4d});H3F.prototype.addDimension=function(m3F){Q933.V2d==this.findDimension(m3F.uniqueName)&&(m3F.structure=this,this.dimensions.addItem(m3F.uniqueName,m3F));};H3F.prototype.findDimension=function(r3F){return this.dimensions.getItem(r3F);};H3F.prototype.allHierarchies=function(q3F){void Q933.R4d===q3F&&(q3F=!Q933.E4d);for(var I3F=new utils.AssociativeArray(),B3F=Q933.R4d;B3F<this.dimensions.length;B3F++){var v3F=this.dimensions.getItemAt(B3F);if(q3F||v3F.type!=k3F.types.DimensionType.MD_DIMTYPE_MEASURE)I3F=I3F.concat(v3F.hierarchies);}return I3F;};H3F.prototype.findHierarchy=function(h3F){return this.allHierarchies(!Q933.R4d).getItem(h3F);};H3F.prototype.addMeasure=function(D3F){this.measures_.addItem(D3F.uniqueName,D3F);};H3F.prototype.findMeasure=function(d3F){return this.measures_.getItem(d3F);};H3F.prototype.removeMeasure=function(o3F){return this.measures_.removeItem(o3F);};H3F.prototype.clear=function(){this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=Q933.s3d;this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this.isComplete=!Q933.E4d;};H3F.prototype.measureToHierarchy=function(Q5F){return this._measureToHierarchyMap[Q5F];};H3F.prototype.hierarchyToMeasure=function(s5F){return this._hierarchyToMeasureMap[s5F];};H3F.prototype.getDataType=function(X5F){return this.types[X5F];};H3F.prototype.getDataField=function(P5F){return this.fields.getItem(P5F);};H3F.prototype.getDataKeys=function(){return this.fields.toArray(!Q933.R4d);};function H3F(){this._isComplete=!Q933.E4d;this.id=this.deleteId=Q933.s3d;this.levels=[];this._dimensions=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._measureToHierarchyMap={};this._hierarchyToMeasureMap={};var O3F=new C3F.GenericHierarchy(k3F.Cube.MEASURES_NAME,k3F.Cube.MEASURES_NAME),A3F=new C3F.GenericDimension(k3F.Cube.MEASURES_NAME,k3F.Cube.MEASURES_NAME);A3F.type=k3F.types.DimensionType.MD_DIMTYPE_MEASURE;A3F.addHierarchy(O3F);this.addDimension(A3F);this.fields=new utils.AssociativeArray();this.types=[];this.id=this.deleteId=Q933.s3d;}H3F.prototype.addKeys=function(S5F,L5F){this._measureToHierarchyMap[S5F]=this.findHierarchy(L5F);this._hierarchyToMeasureMap[L5F]=this.findMeasure(S5F);};H3F.prototype._addMeasure=function(w5F,z5F){var g5F=new C3F.GenericMeasure(w5F.uniqueName,w5F.caption);g5F.type=z5F;this.addMeasure(g5F);this.addKeys(g5F.uniqueName,w5F.uniqueName);this.localDataStorage.addFactKey(g5F.uniqueName);};H3F.prototype.addStringHierarchy=function(p5F,Z5F,F5F){var t5F=Z5F.uniqueName;Z5F=new C3F.GenericHierarchy(t5F,Z5F.caption);p5F.addHierarchy(Z5F);this.localDataStorage.addKey(t5F);p5F=new C3F.GenericLevel(Z5F.caption==J3F.model._labels.Labels.MEMBER_BLANK?t5F+i4I.a0B:t5F,Z5F.caption,Q933.E4d);Z5F.addLevel(p5F);this._addMeasure(Z5F,k3F.types.MeasureType.COUNT);this.fields.addItem(F5F,Z5F);};H3F.prototype.addHierarchicalDateHierarchy=function(N5F,b5F,Y5F){var l1B=".Quarter";var V5F=b5F.uniqueName,e5F=b5F.caption;N5F.type=k3F.types.DimensionType.MD_DIMTYPE_TIME;e5F=new C3F.GenericHierarchy(V5F,e5F);N5F.addHierarchy(e5F);N5F=new C3F.GenericLevel(V5F+i4I.i1B,J3F.model._labels.Labels.YEAR,e5F.levels_.length);N5F.type=k3F.types.LevelType.YEAR;e5F.addLevel(N5F);this.localDataStorage.addKey(e5F.uniqueName);b5F.type==k3F.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&(b5F=V5F+l1B,N5F=new C3F.GenericLevel(b5F,J3F.model._labels.Labels.QUARTER,e5F.levels_.length),N5F.type=k3F.types.LevelType.QUARTER,e5F.addLevel(N5F),this.localDataStorage.addKey(b5F,e5F.uniqueName));b5F=V5F+i4I.G1B;N5F=new C3F.GenericLevel(b5F,J3F.model._labels.Labels.MONTH,e5F.levels_.length);N5F.type=k3F.types.LevelType.MONTH;e5F.addLevel(N5F);this.localDataStorage.addKey(b5F,e5F.uniqueName);V5F+=i4I.j1B;N5F=new C3F.GenericLevel(V5F,J3F.model._labels.Labels.DAY,e5F.levels_.length);N5F.type=k3F.types.LevelType.DAY;e5F.addLevel(N5F);this.localDataStorage.addKey(V5F,e5F.uniqueName);this._addMeasure(e5F,k3F.types.MeasureType.COUNT);this.fields.addItem(Y5F,e5F);};H3F.prototype.addLevelOfHierarchy=function(C5F,R5F,k5F){var t7i=Q933;var M5F=R5F.hasOwnProperty(i4I.v0B)?R5F.hierarchy:R5F.uniqueName,J5F=R5F.hasOwnProperty(i4I.v0B)?R5F.hierarchy:R5F.caption,E5F=C5F.findHierarchy(M5F);t7i.V2d==E5F&&(E5F=new C3F.GenericHierarchy(M5F,J5F),C5F.addHierarchy(E5F));J5F=t7i.R4d;if(R5F.hasOwnProperty(t7i.p3d)){M5F=E5F.findLevel(R5F.parent);if(t7i.V2d==M5F){t7i.V2d==this.levels[E5F.uniqueName]&&(this.levels[E5F.uniqueName]=[]);this.levels[E5F.uniqueName][R5F.parent]=[R5F,k5F];return;}J5F=E5F.levels_.indexOf(M5F.uniqueName);}M5F=R5F.hasOwnProperty(i4I.o0B)?R5F.level:k5F;R5F=R5F.hasOwnProperty(i4I.o0B)?R5F.level:k5F;R5F=new C3F.GenericLevel(M5F,R5F,J5F+t7i.E4d);E5F.addLevel(R5F);t7i.E4d==R5F.num?this.localDataStorage.addKey(E5F.uniqueName):this.localDataStorage.addKey(M5F,E5F.uniqueName);this._addMeasure(E5F,k3F.types.MeasureType.COUNT);this.fields.addItem(k5F,R5F);this.levels[E5F.uniqueName]&&this.levels[E5F.uniqueName][M5F]&&this.addLevelOfHierarchy(C5F,this.levels[E5F.uniqueName][M5F][t7i.R4d],this.levels[E5F.uniqueName][M5F][t7i.E4d]);};H3F.prototype.addDateHierarchy=function(x5F,a5F,i5F){var z7i=s933;var u5F=a5F.uniqueName,A5F=a5F.caption;x5F.type=k3F.types.DimensionType.MD_DIMTYPE_TIME;var O5F=u5F+i4I.i1B,H5F=A5F+z7i.c8d+J3F.model._labels.Labels.YEAR;a5F=new C3F.GenericHierarchy(O5F,H5F);a5F.type=k3F.types.DataFieldType.typeNum(k3F.types.DataFieldType.DATE);x5F.addHierarchy(a5F);H5F=new C3F.GenericLevel(O5F+z7i.c8d+H5F,H5F,Q933.E4d);H5F.type=k3F.types.LevelType.YEAR;a5F.addLevel(H5F);this.localDataStorage.addKey(O5F);this._addMeasure(a5F,k3F.types.MeasureType.COUNT);O5F=u5F+i4I.G1B;H5F=A5F+z7i.c8d+J3F.model._labels.Labels.MONTH;a5F=new C3F.GenericHierarchy(O5F,H5F);x5F.addHierarchy(a5F);H5F=new C3F.GenericLevel(O5F+z7i.c8d+H5F,H5F,Q933.E4d);H5F.type=k3F.types.LevelType.MONTH;a5F.addLevel(H5F);this.localDataStorage.addKey(O5F);this._addMeasure(a5F,k3F.types.MeasureType.COUNT);u5F+=i4I.j1B;A5F=A5F+z7i.c8d+J3F.model._labels.Labels.DAY;a5F=new C3F.GenericHierarchy(u5F,A5F);x5F.addHierarchy(a5F);A5F=new C3F.GenericLevel(u5F+z7i.c8d+A5F,A5F,Q933.E4d);A5F.type=k3F.types.LevelType.DAY;a5F.addLevel(A5F);this.localDataStorage.addKey(u5F);this._addMeasure(a5F,k3F.types.MeasureType.COUNT);this.fields.addItem(i5F,x5F);};H3F.prototype.addNumberHierarchy=function(G5F,l5F,T5F){var j5F=l5F.uniqueName,U5F=l5F.caption;l5F=new C3F.GenericHierarchy(j5F,U5F);G5F.addHierarchy(l5F);this.localDataStorage.addKey(j5F);G5F=new C3F.GenericLevel(j5F+s933.c8d+U5F,U5F,Q933.E4d);G5F.type=k3F.types.LevelType.NUMBER;l5F.addLevel(G5F);this._addMeasure(l5F,k3F.types.MeasureType.NUMBER);this.fields.addItem(T5F,l5F);};H3F.prototype.addMonthHierarchy=function(c5F,f5F,y5F){var W5F=f5F.uniqueName,n5F=f5F.caption;f5F=new C3F.GenericHierarchy(W5F,n5F);c5F.addHierarchy(f5F);this.localDataStorage.addKey(W5F);c5F=new C3F.GenericLevel(W5F+s933.c8d+n5F,n5F,Q933.E4d);c5F.type=k3F.types.LevelType.MONTH;f5F.addLevel(c5F);this._addMeasure(f5F,k3F.types.MeasureType.COUNT);this.fields.addItem(y5F,f5F);};H3F.prototype.addWeekdayHierarchy=function(m5F,K5F,B5F){var r5F=K5F.uniqueName,I5F=K5F.caption;K5F=new C3F.GenericHierarchy(r5F,I5F);m5F.addHierarchy(K5F);this.localDataStorage.addKey(r5F);m5F=new C3F.GenericLevel(r5F+s933.c8d+I5F,I5F,Q933.E4d);m5F.type=k3F.types.LevelType.DAY;K5F.addLevel(m5F);this._addMeasure(K5F,k3F.types.MeasureType.COUNT);this.fields.addItem(B5F,K5F);};H3F.prototype.addDateStringHierarchy=function(v5F,q5F,d5F){var h5F=q5F.uniqueName,D5F=q5F.caption;q5F=new C3F.GenericHierarchy(h5F,D5F);v5F.addHierarchy(q5F);this.localDataStorage.addKey(h5F);v5F=new C3F.GenericLevel(h5F+s933.c8d+D5F,D5F,Q933.E4d);v5F.type=k3F.types.LevelType.TIME;q5F.addLevel(v5F);this._addMeasure(q5F,k3F.types.MeasureType.DATE);this.fields.addItem(d5F,q5F);};H3F.prototype.addTimeHierarchy=function(Q0F,o5F,P0F){var s0F=o5F.uniqueName,X0F=o5F.caption;o5F=new C3F.GenericHierarchy(s0F,X0F);Q0F.addHierarchy(o5F);this.localDataStorage.addKey(s0F);Q0F=new C3F.GenericLevel(s0F+s933.c8d+X0F,X0F,Q933.E4d);Q0F.type=k3F.types.LevelType.NUMBER;o5F.addLevel(Q0F);this._addMeasure(o5F,k3F.types.MeasureType.TIME);this.fields.addItem(P0F,o5F);};H3F.prototype.addDateTimeHierarchy=function(L0F,S0F,z0F){var g0F=S0F.uniqueName,w0F=S0F.caption;S0F=new C3F.GenericHierarchy(g0F,w0F);L0F.addHierarchy(S0F);this.localDataStorage.addKey(g0F);L0F=new C3F.GenericLevel(g0F+s933.c8d+w0F,w0F,Q933.E4d);L0F.type=k3F.types.LevelType.NUMBER;S0F.addLevel(L0F);this._addMeasure(S0F,k3F.types.MeasureType.DATETIME);this.fields.addItem(z0F,S0F);};H3F.prototype.isMetaObject=function(Z0F){var U1B="dimensionCaption";return Z0F.hasOwnProperty(Q933.P5d)||Z0F.hasOwnProperty(s933.P6B)||Z0F.hasOwnProperty(i4I.v0B)||Z0F.hasOwnProperty(i4I.o0B)||Z0F.hasOwnProperty(Q933.p3d)||Z0F.hasOwnProperty(U1B);};H3F.prototype.addDataStructure=function(p0F){var B9i=Q933;var F0F=!B9i.E4d,t0F;for(t0F in p0F)B9i.V2d==p0F[t0F]&&(p0F[t0F]=B9i.s3d),B9i.Y3d==typeof p0F[t0F]||B9i.V3d==typeof p0F[t0F]?this.addDataFieldString(t0F,k3F.types.DataFieldType.typeFromValue(p0F[t0F])):p0F[t0F]instanceof Date?this.addDataFieldString(t0F,k3F.types.DataFieldType.DATE):p0F[t0F]instanceof Array||(this.isMetaObject(p0F[t0F])&&(F0F=!B9i.R4d),p0F[t0F].hasOwnProperty(i4I.J1B)?!B9i.E4d==utils.nullOrEmpty(p0F[t0F].formula)&&this.addCalculatedMeasure(p0F[t0F],t0F):this.addDataField(p0F[t0F],t0F));this.isComplete=!B9i.R4d;return F0F;};H3F.prototype.addCalculatedMeasure=function(e0F,b0F){var N0F;N0F=new k3F._structure.GenericMeasure(b0F,void Q933.R4d==e0F.caption?b0F:e0F.caption);N0F.formula=e0F.formula;N0F.grandTotalCaption=void Q933.R4d==e0F.grandTotalCaption?J3F.model._labels.Labels.GRID_GRAND_TOTAL:e0F.grandTotalCaption;J3F.model.PivotModel.getInstance().addCalculatedMeasure(N0F);};H3F.prototype.addDataFieldString=function(V0F,Y0F){this.addDataField({uniqueName:V0F,caption:V0F,type:Y0F},V0F);};H3F.prototype.addDataField=function(k0F,E0F){var m9i=Q933;void m9i.R4d===E0F&&(E0F=m9i.s3d);var R0F={},J0F;for(J0F in k0F)R0F[J0F]=k0F[J0F];R0F.hasOwnProperty(i4I.b0B)||(R0F.uniqueName=E0F);R0F.hasOwnProperty(s933.P6B)&&m9i.s3d!=R0F.caption||(R0F.caption=E0F);m9i.s3d==E0F&&(E0F=R0F.uniqueName);J0F=k3F.types.DataFieldType.STRING;R0F.hasOwnProperty(m9i.P5d)&&(J0F=String(R0F.type).trim().toLowerCase());R0F.type=J0F;var M0F;R0F.hasOwnProperty(i4I.v0B)?M0F=this.findDimension(R0F.hierarchy):J0F==k3F.types.DataFieldType.LEVEL&&R0F.hasOwnProperty(i4I.v0B)&&(M0F=this.findDimension(R0F.hierarchy));m9i.V2d==M0F&&(M0F=k3F._structure.GenericDimension.fromObject(R0F),R0F.hasOwnProperty(i4I.v0B)&&(M0F.uniqueName=R0F.hierarchy),M0F.caption=R0F.hasOwnProperty(s933.P6B)?R0F.caption:R0F.hasOwnProperty(i4I.v0B)?R0F.hierarchy:M0F.caption,J0F==k3F.types.DataFieldType.LEVEL&&R0F.hasOwnProperty(i4I.v0B)&&(M0F.uniqueName=R0F.hierarchy),this.addDimension(M0F));this.types[E0F]=J0F;switch(J0F){case k3F.types.DataFieldType.STRING:this.addStringHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.NUMBER:this.addNumberHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.MONTH:this.addMonthHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.WEEKDAY:this.addWeekdayHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.DATE:this.addDateHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.DATETIME:this.addDateTimeHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.TIME:this.addTimeHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.LEVEL:this.addLevelOfHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.HIERARCHICAL_DATE:case k3F.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchicalDateHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.DATE_STRING:this.addDateStringHierarchy(M0F,R0F,E0F);break;case k3F.types.DataFieldType.ID:this.id=E0F;this.fields.addItem(E0F,m9i.V2d);break;case k3F.types.DataFieldType.DELETE:this.deleteId=E0F;break;case k3F.types.DataFieldType.HIDDEN:break;default:this.addStringHierarchy(M0F,R0F,E0F);}};return H3F;}();C3F.GenericStructure=a3F;}(k3F._structure||(k3F._structure={})));}(J3F.data_||(J3F.data_={})));}(pivot||(pivot={})));(function(C0F){(function(a0F){(function(H0F){var A0F=function(){var O4I=X933;var A4I=Q933;var I1B="depth";var r1B="hasMeasures";var m1B="sortType";var K1B="drilledTuplesBasedOnUniqueNames";var y1B="drilledTuples";var n1B="expandedTuplesBasedOnUniqueNames";var W1B="expandedTuples";var c1B="sortNamedTuple";var T1B="sortTuple";Object.defineProperty(O0F.prototype,T1B,{get:function(){var K9i=Q933;var f1B=/\D/;if(K9i.V2d!=this.__sortTuple)return this.__sortTuple;var x0F=K9i.V2d;if(K9i.V2d!=this._sortTuple)for(var i0F=K9i.R4d,x0F=[],G0F=K9i.R4d;G0F<this._hierarchies.length;G0F++){var l0F=this.hierarchies.getItemAt(G0F);if(!l0F.isMeasures){if(!this._sortTuple[i0F])break;if(K9i.V3d==typeof this._sortTuple[i0F]){x0F=this._sortTuple;break;}var j0F=this._sortTuple[i0F].toString().trim();if(!f1B.test(j0F)){x0F=this._sortTuple;break;}l0F=l0F.findMember(this._sortTuple[i0F].toString().trim());if(K9i.V2d!=l0F)x0F.push(l0F.ordinal);else if(this._sortTuple[i0F]){x0F=K9i.V2d;break;}}i0F++;}return this.__sortTuple=x0F;},set:function(U0F){this._sortTuple=U0F;this.__sortTuple=Q933.V2d;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,c1B,{get:function(){var W9i=Q933;var f0F=W9i.V2d,c0F=this.sortTuple;if(W9i.V2d!=c0F)for(var n0F=W9i.R4d,f0F=[],W0F=W9i.R4d;W0F<this._hierarchies.length;W0F++){var T0F=this.hierarchies.getItemAt(W0F);if(!T0F.isMeasures){if(!c0F[n0F])break;var y0F=W9i.s3d===c0F[W0F]?W9i.R4d:parseInt(c0F[W0F]),T0F=T0F.members.getItemAt(y0F);if(W9i.V2d!=T0F)f0F.push(T0F.uniqueName);else if(c0F[n0F]){f0F=W9i.V2d;break;}}n0F++;}return f0F;},set:function(K0F){this.sortTuple=K0F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,W1B,{get:function(){return this._expandedTuples;},set:function(m0F){var c9i=Q933;if(c9i.V2d==m0F)this._expandedTuples=[];else if(this.hasMeasures)this._expandedTuples=m0F;else{this._expandedTuples=[];for(var r0F=c9i.R4d;r0F<m0F.length;r0F++){var I0F=m0F[r0F];I0F[c9i.R4d]=-c9i.E4d;this._expandedTuples.push(I0F);}}},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,n1B,{get:function(){var f9i=Q933;for(var o0F=[],q0F,D0F,Q1F,s1F,v0F,B0F,d0F=f9i.R4d;d0F<this.expandedTuples.length;d0F++){q0F=this.expandedTuples[d0F].slice(f9i.R4d);D0F=[];Q1F=q0F.shift();s1F=f9i.s3d;for(var h0F=v0F=f9i.R4d;h0F<q0F.length;h0F++)B0F=this.hierarchies.getItemAt(v0F),B0F.isMeasures&&(-f9i.E4d<Q1F&&(s1F=B0F.members.getItemAt(Q1F).uniqueName),v0F++,B0F=this.hierarchies.getItemAt(v0F)),f9i.V2d!=B0F.members.getItemAt(q0F[h0F])&&D0F.push(B0F.members.getItemAt(q0F[h0F]).uniqueName),v0F++;D0F.unshift(s1F);o0F.push(D0F);}return o0F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});function O0F(u0F){this._hierarchies=new utils.AssociativeArray();this.totalSortType=a0F.consts.SortType.UNSORTED;this._sortTuple=this.__sortTuple=Q933.V2d;this._expandedTuples=[];this._drilledTuples=[];this._sortType=a0F.consts.SortType.UNSORTED;this._name=u0F;}O0F.prototype.parseExpandedTuplesBasedOnUniqueNames=function(F1F,w1F){var U9i=Q933;void U9i.R4d===w1F&&(w1F=U9i.V2d);for(var p1F=[],X1F,S1F,g1F,t1F,L1F,P1F,z1F=U9i.R4d;z1F<F1F.length;z1F++){X1F=F1F[z1F].slice(U9i.R4d);if(isNaN(parseInt(X1F[U9i.R4d]))){S1F=[];t1F=-U9i.E4d;g1F=X1F.shift();L1F=U9i.R4d;if(U9i.R4d<this.hierarchies.length)for(var Z1F=U9i.R4d;Z1F<X1F.length;Z1F++){P1F=this.hierarchies.getItemAt(L1F);if(utils.nullOrUndefined(P1F))return[];P1F.isMeasures&&(U9i.s3d!=g1F&&(t1F=w1F?w1F.indexOf(g1F):P1F.members.indexOf(g1F)),L1F++,P1F=this.hierarchies.getItemAt(L1F));S1F.push(P1F.members.indexOf(X1F[Z1F]));L1F++;}S1F.unshift(t1F);}else S1F=X1F;p1F.push(S1F);}return p1F;};Object.defineProperty(O0F.prototype,y1B,{get:function(){return this._drilledTuples;},set:function(e1F){var j9i=Q933;if(utils.nullOrUndefined(e1F))this._drilledTuples=[];else{var N1F;if(this.hasMeasures)this._drilledTuples=e1F;else{this._drilledTuples=[];for(var b1F=j9i.R4d;b1F<e1F.length;b1F++)N1F=e1F[b1F],j9i.Y3d==typeof N1F[j9i.R4d]?N1F[j9i.E4d]=-j9i.E4d:N1F[j9i.R4d]=-j9i.E4d,this._drilledTuples.push(N1F);}this.setPredefinedDrillDowns(e1F);}},enumerable:!A4I.R4d,configurable:!A4I.R4d});O0F.prototype.setPredefinedDrillDowns=function(J1F){var G9i=Q933;var V1F,M1F=this._hierarchies.slice();M1F.removeItem(a0F.Cube.MEASURES_NAME);for(var k1F,R1F=G9i.R4d;R1F<J1F.length;R1F++){V1F=J1F[R1F].slice(G9i.R4d);G9i.Y3d==typeof V1F[G9i.R4d]&&(k1F=V1F.shift());var Y1F=M1F.getItemAt(V1F.length-G9i.J4d);if(G9i.V2d==Y1F)break;var E1F=V1F[G9i.E4d];isNaN(parseFloat(V1F[G9i.E4d]))||(V1F=Y1F.members.getItemAt(V1F[G9i.E4d]),G9i.V2d!=V1F&&(E1F=V1F.uniqueName));-G9i.E4d==Y1F.predefinedDrillDowns.indexOf(E1F)&&Y1F.predefinedDrillDowns.push([k1F,E1F]);}};Object.defineProperty(O0F.prototype,K1B,{get:function(){var l9i=Q933;for(var x1F=[],C1F,a1F,l1F,G1F,i1F,j1F,O1F,H1F,u1F=l9i.R4d;u1F<this.drilledTuples.length;u1F++){C1F=this.drilledTuples[u1F].slice(l9i.R4d);a1F=[];i1F=l1F=l9i.s3d;l9i.Y3d==typeof C1F[l9i.R4d]&&(l1F=C1F.shift());G1F=C1F.shift();j1F=C1F.shift();for(var A1F=O1F=l9i.R4d;A1F<C1F.length;A1F++)H1F=this.hierarchies.getItemAt(O1F),H1F.isMeasures&&(-l9i.E4d<G1F&&(i1F=H1F.members.getItemAt(G1F).uniqueName),O1F++,H1F=this.hierarchies.getItemAt(O1F)),l9i.V2d!=H1F.members.getItemAt(C1F[A1F])&&a1F.push(H1F.members.getItemAt(C1F[A1F]).uniqueName),O1F++;a1F.unshift(j1F);a1F.unshift(i1F);a1F.unshift(l1F);x1F.push(a1F);}return x1F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});O0F.prototype.parseDrilledTuplesBasedOnUniqueNames=function(q1F,n1F){var i9i=Q933;void i9i.R4d===n1F&&(n1F=i9i.V2d);for(var m1F=[],U1F,T1F,r1F,I1F,K1F,B1F,c1F,f1F,y1F=i9i.R4d;y1F<q1F.length;y1F++){U1F=q1F[y1F].slice(i9i.R4d);if(isNaN(parseInt(U1F[U1F.length-i9i.E4d]))){T1F=[];I1F=-i9i.E4d;r1F=U1F.shift();K1F=U1F.shift();B1F=U1F.shift();c1F=i9i.R4d;if(i9i.R4d<this.hierarchies.length)for(var W1F=i9i.R4d;W1F<U1F.length;W1F++){f1F=this.hierarchies.getItemAt(c1F);if(utils.nullOrUndefined(f1F))return[];f1F.isMeasures&&(i9i.s3d!=K1F&&(I1F=n1F?n1F.indexOf(K1F):f1F.members.indexOf(K1F)),c1F++,f1F=this.hierarchies.getItemAt(c1F));T1F.push(f1F.members.indexOf(U1F[W1F]));c1F++;}T1F.unshift(B1F);T1F.unshift(I1F);i9i.s3d!=r1F&&T1F.unshift(r1F);}else T1F=U1F;m1F.push(T1F);}return m1F;};Object.defineProperty(O0F.prototype,m1B,{get:function(){return this._sortType;},set:function(v1F){v1F=v1F.toLowerCase();this._sortType=v1F==a0F.consts.SortType.ASC||v1F==a0F.consts.SortType.DESC?v1F:a0F.consts.SortType.UNSORTED;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,O4I.b0B,{get:function(){return this._name;},set:function(h1F){this._name=h1F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,s933.P6B,{get:function(){return this._caption;},set:function(D1F){this._caption=D1F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,O4I.k1B,{get:function(){return this._hierarchies;},set:function(d1F){this.expandedTuples=[];this.drilledTuples=[];this._sortTuple=Q933.V2d;this._sortType=a0F.consts.SortType.UNSORTED;this.sortMeasure=Q933.V2d;this._hierarchies=d1F;},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,A4I.P3d,{get:function(){for(var Q8F=Q933.E4d,o1F=Q933.R4d;o1F<this._hierarchies.length;o1F++)Q8F*=this._hierarchies.getItemAt(o1F).size;return Q8F;},set:function(s8F){},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,O4I.W5B,{get:function(){return this._hierarchies.indexOf(a0F.Cube.MEASURES_NAME);},set:function(X8F){},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,O4I.x1B,{get:function(){return this._hierarchies.getItem(a0F.Cube.MEASURES_NAME);},set:function(P8F){},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,r1B,{get:function(){return-Q933.E4d<this.measuresPosition;},set:function(S8F){},enumerable:!A4I.R4d,configurable:!A4I.R4d});Object.defineProperty(O0F.prototype,I1B,{get:function(){for(var L8F=Q933.R4d,g8F=Q933.R4d;g8F<this._hierarchies.length;g8F++)var w8F=this._hierarchies.getItemAt(g8F),L8F=L8F+w8F.drillDownDepth;return L8F;},set:function(z8F){},enumerable:!A4I.R4d,configurable:!A4I.R4d});O0F.prototype.toString=function(){var q1B=" ]";var B1B="[Axis:";return B1B+this._name+q1B;};O0F.fromObject=function(F8F,Z8F,t8F,e8F,V8F,N8F,Y8F){var H9i=Q933;void H9i.R4d===Y8F&&(Y8F=H9i.V2d);F8F=new O0F(F8F);F8F.hierarchies=new utils.AssociativeArray();var p8F;if(Z8F)for(p8F=H9i.R4d;p8F<Z8F.length;p8F++)if(H9i.V2d!=Z8F[p8F].uniqueName){var b8F=N8F.findHierarchy(Z8F[p8F].uniqueName);H9i.V2d!=b8F&&(a0F._structure.GenericHierarchy.fromObject(Z8F[p8F],b8F),b8F.isMeasures&&F8F.uniqueName==a0F.consts.AxisName.PAGES_AXIS||F8F.hierarchies.addItem(b8F.uniqueName,b8F));}t8F&&(p8F=N8F.findMeasure(t8F.measure?t8F.measure:H9i.s3d),H9i.V2d!=p8F&&H9i.V2d!=t8F.tuple?F8F.setSort(p8F,t8F.tuple,t8F.type):F8F.sortToSet=t8F);if(e8F&&H9i.R4d<e8F.length){b8F=[];for(p8F=H9i.R4d;p8F<e8F.length;p8F++){Z8F=e8F[p8F];N8F=[];H9i.R4d<Z8F.length&&N8F.push((isNaN(parseInt(Z8F[H9i.R4d])),Z8F[H9i.R4d]));for(t8F=H9i.E4d;t8F<Z8F.length;t8F++)N8F.push((isNaN(parseInt(Z8F[t8F])),Z8F[t8F]));b8F.push(N8F);}e8F=b8F;}F8F.expandedTuples=e8F?F8F.parseExpandedTuplesBasedOnUniqueNames(e8F,Y8F):[];if(V8F&&H9i.R4d<V8F.length){e8F=[];for(p8F=H9i.R4d;p8F<V8F.length;p8F++){Z8F=V8F[p8F];N8F=[];H9i.R4d<Z8F.length&&N8F.push((isNaN(parseInt(Z8F[H9i.R4d])),Z8F[H9i.R4d]));for(t8F=H9i.E4d;t8F<Z8F.length;t8F++)N8F.push((isNaN(parseInt(Z8F[t8F])),Z8F[t8F]));e8F.push(N8F);}V8F=e8F;}F8F.drilledTuples=V8F?F8F.parseDrilledTuplesBasedOnUniqueNames(V8F,Y8F):[];return F8F;};O0F.toObject=function(R8F){for(var E8F={},J8F=[],M8F=Q933.R4d;M8F<R8F.hierarchies.length;M8F++){var k8F=H0F.GenericHierarchy.toObject(R8F.hierarchies.getItemAt(M8F));J8F.push(k8F);}E8F.hierarchies=J8F;R8F.sortType==a0F.consts.SortType.UNSORTED||utils.nullOrUndefined(R8F.sortTuple)||utils.nullOrUndefined(R8F.sortMeasure)||(E8F.sort={type:R8F.sortType,tuple:R8F.sortNamedTuple,measure:R8F.sortMeasure.uniqueName});return E8F;};O0F.prototype.setSort=function(a8F,C8F,H8F){this.sortMeasure=a8F;this.sortTuple=C8F;this.sortType=H8F;Q933.R4d==C8F.length&&(this.totalSortType=this.sortType,this.totalSortMeasure=this.sortMeasure);};return O0F;}();H0F.Axis=A0F;}(a0F._structure||(a0F._structure={})));}(C0F.data_||(C0F.data_={})));}(pivot||(pivot={})));(function(A8F){(function(O8F){var u8F;(function(x8F){var i8F=function(){var a4I=X933;var C4I=Q933;var Q8B="flatOrder";var o1B="drillAll";var d1B="expandAll";var D1B="measuresAll";var h1B="axisWithMeasures";var v1B="axes";Object.defineProperty(l8F.prototype,v1B,{get:function(){return this._axes;},set:function(j8F){},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.addAxis=function(U8F){this._axes.addItem(U8F.uniqueName,U8F);U8F.hasMeasures&&(this._axisWithMeasures=U8F);};l8F.prototype.findAxis=function(T8F){return this._axes.getItem(T8F);};Object.defineProperty(l8F.prototype,h1B,{get:function(){if(Q933.V2d==this._axisWithMeasures){for(var f8F=Q933.R4d;f8F<this._axes.length;f8F++){var c8F=this._axes.getItemAt(f8F);if(c8F.hasMeasures){this._axisWithMeasures=c8F;break;}}Q933.V2d==this._axisWithMeasures&&(this._axisWithMeasures=this.findAxis(O8F.consts.AxisName.COLUMNS_AXIS));}this._axisWithMeasures.hasMeasures||(f8F=this.structure.measuresHierarchy)&&this._axisWithMeasures.hierarchies.addItem(f8F.uniqueName,f8F);return this._axisWithMeasures;},set:function(W8F){},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.u1B,{get:function(){for(var K8F=new utils.AssociativeArray(),n8F=Q933.R4d;n8F<this._measures.length;n8F++){var y8F=this._measures.getItemAt(n8F);y8F.calculated||K8F.addItem(y8F.uniqueName,y8F);}return K8F;},set:function(m8F){},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.O1B,{get:function(){for(var B8F=new utils.AssociativeArray(),r8F=Q933.R4d;r8F<this._measures.length;r8F++){var I8F=this._measures.getItemAt(r8F);I8F.calculated&&B8F.addItem(I8F.uniqueName,I8F);}return B8F;},set:function(q8F){},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,D1B,{get:function(){return this._measures;},set:function(v8F){this.measures_=v8F;},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.A1B,{get:function(){for(var d8F=new utils.AssociativeArray(),h8F=Q933.R4d;h8F<this._measures.length;h8F++){var D8F=this._measures.getItemAt(h8F);D8F.hidden||d8F.addItem(D8F.uniqueName,D8F);}return d8F;},set:function(Q9Z){var Y9i=Q933;this._measures=Q9Z;Q9Z=this.axisWithMeasures.measuresHierarchy;if(Y9i.V2d!=Q9Z&&(Q9Z.clear(),Y9i.V2d!=this._measures))for(var s9Z=Y9i.R4d;s9Z<this._measures.length;s9Z++){var o8F=this._measures.getItemAt(s9Z),o8F=new u8F.GenericMember(o8F.uniqueName,o8F.caption);Q9Z.addMember(o8F,Y9i.s3d,Y9i.s3d,!Y9i.E4d);}},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.allHierarchies=function(L9Z,g9Z,X9Z){var V9i=Q933;void V9i.R4d===L9Z&&(L9Z=!V9i.R4d);void V9i.R4d===g9Z&&(g9Z=!V9i.R4d);void V9i.R4d===X9Z&&(X9Z=!V9i.E4d);for(var S9Z=new utils.AssociativeArray(),P9Z=V9i.R4d;P9Z<this._axes.length;P9Z++)var w9Z=this._axes.getItemAt(P9Z),S9Z=S9Z.concat(w9Z.hierarchies);L9Z||S9Z.removeItem(this.structure.measuresHierarchy.uniqueName);if(!g9Z)for(L9Z=V9i.R4d;L9Z<this.pages.length;L9Z++)S9Z.removeItem(this.pages.getKeyAt(P9Z));if(X9Z)for(P9Z=V9i.R4d;P9Z<this.measures_.length;P9Z++)X9Z=this.measures_.getItemAt(P9Z),X9Z.calculated||(X9Z=this.structure.measureToHierarchy(X9Z.uniqueName),S9Z.addItem(X9Z.uniqueName,X9Z));return S9Z;};function l8F(G8F){this._axes=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();this._drillAll=this._expandAll=!Q933.E4d;this._flatOrder=[];this.structure=G8F;this.addAxis(new O8F._structure.Axis(O8F.consts.AxisName.ROWS_AXIS));this.addAxis(new O8F._structure.Axis(O8F.consts.AxisName.COLUMNS_AXIS));this.addAxis(new O8F._structure.Axis(O8F.consts.AxisName.PAGES_AXIS));}l8F.prototype.clear=function(){for(var z9Z=Q933.R4d;z9Z<this._axes.length;z9Z++)this._axes.getItemAt(z9Z).hierarchies=new utils.AssociativeArray();this._measures=new utils.AssociativeArray();};Object.defineProperty(l8F.prototype,s933.J4h,{get:function(){return this.findAxis(O8F.consts.AxisName.ROWS_AXIS).hierarchies;},set:function(t9Z){var Z9Z=this.findAxis(O8F.consts.AxisName.ROWS_AXIS);Q933.V2d==Z9Z&&(Z9Z=new x8F.Axis(O8F.consts.AxisName.ROWS_AXIS));Z9Z.hierarchies=t9Z;Q933.V2d==t9Z&&(Z9Z.hierarchies=new utils.AssociativeArray());this.addAxis(Z9Z);},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,s933.k4h,{get:function(){return this.findAxis(O8F.consts.AxisName.COLUMNS_AXIS).hierarchies;},set:function(F9Z){var p9Z=this.findAxis(O8F.consts.AxisName.COLUMNS_AXIS);Q933.V2d==p9Z&&(p9Z=new x8F.Axis(O8F.consts.AxisName.COLUMNS_AXIS));p9Z.hierarchies=F9Z;Q933.V2d==F9Z&&(p9Z.hierarchies=new utils.AssociativeArray());this.addAxis(p9Z);},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.f5B,{get:function(){return this.findAxis(O8F.consts.AxisName.PAGES_AXIS).hierarchies;},set:function(N9Z){var e9Z=this.findAxis(O8F.consts.AxisName.PAGES_AXIS);Q933.V2d==e9Z&&(e9Z=new x8F.Axis(O8F.consts.AxisName.PAGES_AXIS));e9Z.hierarchies=N9Z;Q933.V2d==N9Z&&(e9Z.hierarchies=new utils.AssociativeArray());this.addAxis(e9Z);},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.G5B,{get:function(){return this.axisWithMeasures.uniqueName==O8F.consts.AxisName.ROWS_AXIS?this.rows.splice(this.axisWithMeasures.measuresPosition,Q933.E4d):this.rows;},set:function(b9Z){},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.T5B,{get:function(){return this.axisWithMeasures.uniqueName==O8F.consts.AxisName.COLUMNS_AXIS?this.columns.splice(this.axisWithMeasures.measuresPosition,Q933.E4d):this.columns;},set:function(V9Z){},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.clone=function(){var Y9Z=new l8F(this.structure);Y9Z.rows=this.rows.slice();Y9Z.columns=this.columns.slice();Y9Z.pages=this.pages.slice();Y9Z.measures_=this.measures_.slice();Y9Z.flatOrder=this.flatOrder.slice(Q933.R4d);return Y9Z;};l8F.areRowsDiffer=function(E9Z,M9Z,k9Z){var w9i=Q933;void w9i.R4d===k9Z&&(k9Z=!w9i.R4d);if(w9i.V2d==M9Z)return!w9i.R4d;var R9Z=E9Z.rows.length!=M9Z.rows.length;if(!R9Z)for(var J9Z=w9i.R4d;J9Z<E9Z.rows.length;J9Z++)if(E9Z.rows.getItemAt(J9Z).uniqueName!=M9Z.rows.getItemAt(J9Z).uniqueName){R9Z=!w9i.R4d;break;}!R9Z&&k9Z&&E9Z.findAxis(O8F.consts.AxisName.ROWS_AXIS).hasMeasures&&M9Z.findAxis(O8F.consts.AxisName.ROWS_AXIS).hasMeasures&&(R9Z=l8F.areMeasuresDiffer(E9Z,M9Z));return R9Z;};l8F.areColumnsDiffer=function(a9Z,H9Z,O9Z){var g9i=Q933;void g9i.R4d===O9Z&&(O9Z=!g9i.R4d);if(g9i.V2d==H9Z)return!g9i.R4d;var C9Z=a9Z.columns.length!=H9Z.columns.length;if(!C9Z)for(var A9Z=g9i.R4d;A9Z<a9Z.columns.length;A9Z++)if(a9Z.columns.getItemAt(A9Z).uniqueName!=H9Z.columns.getItemAt(A9Z).uniqueName){C9Z=!g9i.R4d;break;}!C9Z&&O9Z&&a9Z.findAxis(O8F.consts.AxisName.COLUMNS_AXIS).hasMeasures&&H9Z.findAxis(O8F.consts.AxisName.COLUMNS_AXIS).hasMeasures&&(C9Z=l8F.areMeasuresDiffer(a9Z,H9Z));return C9Z;};l8F.areMeasuresDiffer=function(i9Z,l9Z){var L9i=Q933;if(L9i.V2d==l9Z)return!L9i.R4d;var x9Z=i9Z.measures_.length!=l9Z.measures_.length;if(!x9Z)for(var u9Z=L9i.R4d;u9Z<i9Z.measures_.length;u9Z++)if(i9Z.measures_.getItemAt(u9Z).uniqueName!=l9Z.measures_.getItemAt(u9Z).uniqueName){x9Z=!L9i.R4d;break;}return x9Z;};l8F.fromObject=function(G9Z,f9Z){var S9i=Q933;for(var T9Z=new l8F(f9Z),c9Z=new utils.AssociativeArray(),j9Z=S9i.R4d;j9Z<G9Z.measures.length;j9Z++)if(G9Z.measures[j9Z].hasOwnProperty(a4I.b0B)){var U9Z=f9Z.measures_.getItem(G9Z.measures[j9Z].uniqueName);S9i.V2d==U9Z&&utils.nullOrEmpty(G9Z.measures[j9Z].formula)||(U9Z=O8F._structure.GenericMeasure.fromObject(G9Z.measures[j9Z],U9Z),U9Z.calculated&&!f9Z.measures_.keyExists(U9Z.uniqueName)&&f9Z.addMeasure(U9Z),(utils.nullOrUndefined(G9Z.measures[j9Z].active)||G9Z.measures[j9Z].active)&&c9Z.addItem(U9Z.uniqueName,U9Z));}j9Z=O8F._structure.Axis.fromObject(O8F.consts.AxisName.ROWS_AXIS,G9Z.rows,G9Z.rowSorting,G9Z.expandedRows,G9Z.drilledRows,f9Z,c9Z.toArray(!S9i.R4d));U9Z=O8F._structure.Axis.fromObject(O8F.consts.AxisName.COLUMNS_AXIS,G9Z.columns,G9Z.columnSorting,G9Z.expandedColumns,G9Z.drilledColumns,f9Z,c9Z.toArray(!S9i.R4d));T9Z.rows=j9Z.hierarchies;T9Z.columns=U9Z.hierarchies;T9Z.pages=O8F._structure.Axis.fromObject(O8F.consts.AxisName.PAGES_AXIS,G9Z.pages,S9i.V2d,[],[],f9Z).hierarchies;T9Z.measures_=c9Z;T9Z.expandAll=G9Z.expandAll;T9Z.drillAll=G9Z.drillAll;T9Z.flatOrder=G9Z.flatOrder;T9Z.addAxis(j9Z);T9Z.addAxis(U9Z);return T9Z;};l8F.prototype.toObject=function(){var P9i=Q933;for(var n9Z={rows:[]},W9Z=P9i.R4d;W9Z<this.rows.length;W9Z++){var y9Z=this.rows.getItemAt(W9Z).toObject();n9Z.rows[W9Z]=y9Z;}n9Z.columns=[];for(W9Z=P9i.R4d;W9Z<this.columns.length;W9Z++)y9Z=this.columns.getItemAt(W9Z).toObject(),n9Z.columns[W9Z]=y9Z;n9Z.pages=[];for(W9Z=P9i.R4d;W9Z<this.pages.length;W9Z++)y9Z=this.pages.getItemAt(W9Z).toObject(),n9Z.pages[W9Z]=y9Z;n9Z.measures=[];for(W9Z=P9i.R4d;W9Z<this.measures_.length;W9Z++)y9Z=this.measures_.getItemAt(W9Z).toObject(),n9Z.measures[W9Z]=y9Z;return n9Z;};l8F.prototype.parseExpandedTuples=function(){for(var K9Z=Q933.R4d;K9Z<this._axes.length;K9Z++)this._axes.getItemAt(K9Z).parseExpandedTuples();};l8F.prototype.flatten=function(B9Z){var s9i=Q933;void s9i.R4d===B9Z&&(B9Z=!s9i.E4d);for(var I9Z=this.allHierarchies(!s9i.E4d),m9Z=s9i.R4d;m9Z<this.measures_.length;m9Z++){var r9Z=this.measures_.getItemAt(m9Z),q9Z=this.measureToHierarchy(r9Z.uniqueName);s9i.V2d!=q9Z&&I9Z.addItem(q9Z.uniqueName,q9Z);r9Z.calculated&&B9Z&&(q9Z=new x8F.GenericHierarchy(r9Z.uniqueName,r9Z.caption),I9Z.addItem(r9Z.uniqueName,q9Z));}B9Z=new utils.AssociativeArray();for(m9Z=s9i.R4d;m9Z<this.flatOrder.length;m9Z++)r9Z=this.flatOrder[m9Z],I9Z.keyExists(r9Z)&&(B9Z.addItem(r9Z,I9Z.getItem(r9Z)),I9Z.removeItem(r9Z));for(m9Z=s9i.R4d;m9Z<I9Z.length;m9Z++)B9Z.addItem(I9Z.getKeyAt(m9Z),I9Z.getItemAt(m9Z));return B9Z;};l8F.prototype.isEqual=function(h9Z){var Q9i=Q933;if(Q9i.V2d==h9Z||this.pages.length!=h9Z.pages.length||this.rows.length!=h9Z.rows.length||this.columns.length!=h9Z.columns.length||this.measures_.length!=h9Z.measures_.length)return!Q9i.E4d;for(var v9Z=Q9i.R4d;v9Z<this.pages.length;v9Z++)if(this.pages.getKeyAt(v9Z)!=h9Z.pages.getKeyAt(v9Z))return!Q9i.E4d;for(v9Z=Q9i.R4d;v9Z<this.rows.length;v9Z++)if(this.rows.getKeyAt(v9Z)!=h9Z.rows.getKeyAt(v9Z))return!Q9i.E4d;for(v9Z=Q9i.R4d;v9Z<this.columns.length;v9Z++)if(this.columns.getKeyAt(v9Z)!=h9Z.columns.getKeyAt(v9Z))return!Q9i.E4d;for(v9Z=Q9i.R4d;v9Z<this.measures_.length;v9Z++)if(this.measures_.getKeyAt(v9Z)!=h9Z.measures_.getKeyAt(v9Z)||this.measures_.getItemAt(v9Z).aggregation!=h9Z.measures_.getItemAt(v9Z).aggregation)return!Q9i.E4d;return!Q9i.R4d;};l8F.prototype.measureToHierarchy=function(D9Z){return this.structure.measureToHierarchy(D9Z);};l8F.prototype.hierarchyToMeasure=function(d9Z){return this.structure.hierarchyToMeasure(d9Z);};Object.defineProperty(l8F.prototype,a4I.S0B,{get:function(){return Q933.R4d==this.allHierarchies(!Q933.E4d).length&&Q933.R4d==this.measures_.length;},set:function(o9Z){},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.makeDefault=function(){var d8I=Q933;var s7Z;if(A8F.model._options.OptionsManager.flatView){this.rows=new utils.AssociativeArray();this.columns=new utils.AssociativeArray();this.pages=new utils.AssociativeArray();for(var Q7Z=new utils.AssociativeArray(),X7Z=[],P7Z=d8I.R4d;P7Z<this.structure.measures_.length;P7Z++)s7Z=this.structure.measures_.getItemAt(P7Z),X7Z.push(s7Z.uniqueName),s7Z.type==O8F.types.MeasureType.COUNT?(s7Z=this.structure.measureToHierarchy(s7Z.uniqueName))&&this.rows.addItem(s7Z.uniqueName,s7Z):Q7Z.addItem(s7Z.uniqueName,s7Z);this._flatOrder=X7Z;this.measures_=Q7Z;}else{for(P7Z=d8I.R4d;P7Z<this.structure.measures_.length&&(s7Z=this.structure.measures_.getItemAt(P7Z),s7Z.type!=O8F.types.MeasureType.NUMBER?d8I.V2d==Q7Z&&(Q7Z=this.structure.measureToHierarchy(s7Z.uniqueName)):d8I.V2d==X7Z&&(X7Z=s7Z),d8I.V2d==Q7Z||d8I.V2d==X7Z);P7Z++);d8I.V2d==X7Z?X7Z=this.structure.measures_.getItemAt(d8I.R4d):d8I.V2d==Q7Z?(s7Z=this.structure.measures_.getItemAt(d8I.R4d),Q7Z=this.structure.measureToHierarchy(s7Z.uniqueName)):d8I.V2d==Q7Z&&d8I.V2d==X7Z&&d8I.R4d<this.structure.measures_.length&&(X7Z=this.structure.measures_.getItemAt(d8I.R4d),Q7Z=this.structure.measureToHierarchy(X7Z.uniqueName));d8I.V2d!=Q7Z&&d8I.V2d!=X7Z&&(this.pages=new utils.AssociativeArray(),this.rows=new utils.AssociativeArray(),this.columns=new utils.AssociativeArray(),this.rows.addItem(Q7Z.uniqueName,Q7Z),Q7Z=new utils.AssociativeArray(),Q7Z.addItem(X7Z.uniqueName,X7Z),this.measures_=Q7Z);}};Object.defineProperty(l8F.prototype,d1B,{get:function(){return this._expandAll;},set:function(S7Z){this._expandAll=S7Z;},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,o1B,{get:function(){return this._drillAll;},set:function(L7Z){this._drillAll=L7Z;},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.clearExpands=function(){this.rowAxis.expandedTuples=[];this.columnAxis.expandedTuples=[];};l8F.prototype.clearDrills=function(){this.rowAxis.drilledTuples=[];this.columnAxis.drilledTuples=[];};Object.defineProperty(l8F.prototype,Q8B,{get:function(){Q933.V2d==this._flatOrder&&(this._flatOrder=[]);return this._flatOrder;},set:function(g7Z){this._flatOrder=g7Z;},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.r5B,{get:function(){return this.axes.getItem(O8F.consts.AxisName.ROWS_AXIS);},enumerable:!C4I.R4d,configurable:!C4I.R4d});Object.defineProperty(l8F.prototype,a4I.I5B,{get:function(){return this.axes.getItem(O8F.consts.AxisName.COLUMNS_AXIS);},enumerable:!C4I.R4d,configurable:!C4I.R4d});l8F.prototype.mergeExpandsAndDrills=function(w7Z){var h8I=Q933;utils.nullOrUndefined(w7Z)||(this.expandAll=w7Z.expandAll,this.drillAll=w7Z.drillAll,l8F.areRowsDiffer(this,w7Z,!h8I.E4d)?(this.rowAxis.expandedTuples=this.cutTuples(w7Z.rowAxis.expandedTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,w7Z.rowAxis.hierarchies)),this.rowAxis.drilledTuples=this.cutTuples(w7Z.rowAxis.drilledTuples,this.getCommonFieldsCount(this.rowAxis.hierarchies,w7Z.rowAxis.hierarchies)+h8I.M4d)):(this.rowAxis.expandedTuples=this.cloneTuples(w7Z.rowAxis.expandedTuples),this.rowAxis.drilledTuples=this.cloneTuples(w7Z.rowAxis.drilledTuples)),l8F.areColumnsDiffer(this,w7Z,!h8I.E4d)?(this.columnAxis.expandedTuples=this.cutTuples(w7Z.columnAxis.expandedTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,w7Z.columnAxis.hierarchies)),this.columnAxis.drilledTuples=this.cutTuples(w7Z.columnAxis.drilledTuples,this.getCommonFieldsCount(this.columnAxis.hierarchies,w7Z.columnAxis.hierarchies)+h8I.M4d)):(this.columnAxis.expandedTuples=this.cloneTuples(w7Z.columnAxis.expandedTuples),this.columnAxis.drilledTuples=this.cloneTuples(w7Z.columnAxis.drilledTuples)));};l8F.prototype.removeMeasure=function(z7Z){this._measures.removeItem(z7Z);};l8F.prototype.getCommonFieldsCount=function(F7Z,e7Z){for(var t7Z=Q933.R4d,N7Z=Math.min(F7Z.length,e7Z.length),Z7Z=Q933.R4d;Z7Z<N7Z;Z7Z++){var p7Z=F7Z.getItemAt(Z7Z),b7Z=e7Z.getItemAt(Z7Z);if(p7Z.uniqueName!=b7Z.uniqueName)break;p7Z.isMeasures||t7Z++;}return t7Z;};l8F.prototype.cutTuples=function(E7Z,M7Z){var Y7Z=[];if(Q933.E4d<M7Z)for(var V7Z=Q933.R4d;V7Z<E7Z.length;V7Z++){var R7Z=E7Z[V7Z];R7Z.length<=M7Z&&Y7Z.push(R7Z.slice());}return Y7Z;};l8F.prototype.cloneTuples=function(C7Z){for(var k7Z=[],J7Z=Q933.R4d;J7Z<C7Z.length;J7Z++)k7Z.push(C7Z[J7Z].slice());return k7Z;};return l8F;}();x8F.Slice=i8F;}(u8F=O8F._structure||(O8F._structure={})));}(A8F.data_||(A8F.data_={})));}(pivot||(pivot={})));(function(a7Z){(function(H7Z){(function(O7Z){var u7Z=function(){x7Z.prototype.clear=function(){var r8I=Q933;this.data=[];this.dataLoadedLength=this.bytesLoaded=r8I.R4d;this.connected=!r8I.E4d;this.chunkIndex=this.lastPosition=r8I.R4d;this.recordsetDelimiter=s933.D0d;this.fieldEnclosureToken=s933.s9h;this.columnType=[];this.hasSizeHeader=this.isFileFailed=this.isFileLoaded=this.isHeaderParsed=!r8I.E4d;this.lastByte=r8I.R4d;this.lastRow=r8I.s3d;this.rowIdx=this.beforeBeforeLastByte=this.beforeLastByte=r8I.R4d;this.BLOCK_SIZE=r8I.a6d;r8I.V2d!=this.loader&&(this.loader.removeAllEventListeners(),this.loader.dispose(),this.loader=r8I.V2d);this.stopTimer();};x7Z.prototype.load=function(G7Z,j7Z,U7Z,T7Z,f7Z){var K8I=Q933;try{if(this.clear(),this.filename=G7Z.filename,this.successHandler=j7Z,this.errorHandler=U7Z,this.connectedHandler=T7Z,this.cancelledHandler=f7Z,this.fieldSeparator=G7Z.fieldSeparator,this.ignoreQuotedLineBreaks=G7Z.ignoreQuotedLineBreaks,G7Z.isDemo)this.generate();else{if(void K8I.R4d!==this.filename&&K8I.s3d!=this.filename&&s933.B1d!=this.filename.substr(-K8I.M4d)||!K8I.E4d!==G7Z.browseForFile)this.filename=utils.URLUtils.getUrl(this.filename,!K8I.R4d);else this.onFileError();!K8I.R4d===G7Z.browseForFile?this.browseFile():this.isGooggleDrive(G7Z.filename)&&utils.nullOrUndefined(G7Z.requestHeader)?this.authorizeGoogleDrive():(a7Z.preloader(!K8I.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,G7Z.requestHeader));}}catch(c7Z){console.error(c7Z.stack),this.onFileError();}};x7Z.prototype.generate=function(){};x7Z.prototype.authorizeGoogleDrive=function(){var s8B="auth";window.gapi&&window.gapi.load(s8B,{callback:this.onAuthApiLoadHandler});};x7Z.prototype.onAuthApiLoad=function(){if(Q933.s3d==a7Z._view.PivotView.stage.getToolbar().googleClientId||Q933.V2d==a7Z._view.PivotView.stage.getToolbar().googleClientId)this.onGoogleClientIdNotSet();else window.gapi.auth.authorize({client_id:a7Z._view.PivotView.stage.getToolbar().googleClientId,scope:a7Z._view.PivotView.stage.getToolbar().googleScope,immediate:!Q933.E4d},this.onhandleAuthResultHandler);};x7Z.prototype.handleAuthResult=function(W7Z){var X8B="Bearer ";var n7Z={};W7Z&&!W7Z.error?(n7Z.Authorization=X8B+W7Z.access_token,a7Z.preloader(!Q933.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA),this.loadFile(this.filename,n7Z)):(a7Z.preloader(!Q933.E4d),this.onFileError());};x7Z.prototype.isGooggleDrive=function(y7Z){var P8B="www.googleapis.com/drive";return-Q933.E4d<y7Z.indexOf(P8B);};x7Z.prototype.onGoogleClientIdNotSet=function(){a7Z.uialert(a7Z.model._labels.Labels.MESSAGE_NO_GOOGLE_CLIENT_KEY,a7Z.model._labels.Labels.ERROR,a7Z.AlertType.ERROR);};x7Z.prototype.browseFile=function(){var K7Z=this;this.fileReference=new misc.FileReference();this.fileReference.addEventListener(events._Event.SELECT,function(){return K7Z.onFileSelected();});this.fileReference.addEventListener(events._Event.COMPLETE,function(){return K7Z.onFileComplete();});this.fileReference.addEventListener(events._Event.PROGRESS,function(m7Z){return K7Z.onFileProgress(m7Z);});this.fileReference.addEventListener(events._Event.CANCEL,function(){return K7Z.onFileCancelled();});this.fileReference.addEventListener(events._Event.ERROR,function(){return K7Z.onFileError();});this.fileReference.browse(this.fileExtensions);};x7Z.prototype.onFileSelected=function(){var c8I=Q933;a7Z.preloader(!c8I.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA,c8I.s3d,!c8I.R4d,!c8I.R4d);this.loader=this.fileReference;this.fileReference.load();this.fileReference=c8I.V2d;};x7Z.prototype.loadFile=function(q7Z,B7Z){var I7Z=this;void Q933.R4d===B7Z&&(B7Z=Q933.V2d);var r7Z=new misc.URLStream();r7Z.dataType=misc.DataType.TEXT;r7Z.addEventListener(events._Event.COMPLETE,function(){return I7Z.onFileComplete();});r7Z.addEventListener(events._Event.CONNECTED,function(){return I7Z.onFileConnected();});r7Z.addEventListener(events._Event.PROGRESS,function(v7Z){return I7Z.onFileProgress(v7Z);});r7Z.addEventListener(events._Event.ERROR,function(){return I7Z.onFileError();});r7Z.load(q7Z,B7Z);this.loader=r7Z;this.timer=new utils.Timer(Q933.a6d,s933.N0d);this.timer.addEventListener(utils.TimerEvent.TIMER,this.tickHandler);this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler);this.timer.start();};x7Z.prototype.onTick=function(){var U8I=Q933;U8I.R4d<this.bytesLoaded||this.isFileLoaded||this.isFileFailed?this.stopTimer():U8I.V2d!=this.timer&&a7Z.preloader(!U8I.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA,utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(this.timer.currentCount/U8I.u4d,new a7Z.model.format.vo.FormatValueObject(),!U8I.E4d,!U8I.E4d,U8I.E4d)));};x7Z.prototype.onTimerComplete=function(){this.timer.running&&this.stopTimer();};x7Z.prototype.stopTimer=function(){this.timer&&this.timer.running&&(this.timer.stop(),this.timer.removeEventListener(utils.TimerEvent.TIMER,this.tickHandler),this.timer.removeEventListener(utils.TimerEvent.TIMER_COMPLETE,this.timerCompleteHandler));};x7Z.prototype.onFileCancelled=function(){Q933.V2d!=this.cancelledHandler&&(this.cancelledHandler(),this.cancelledHandler=Q933.V2d);this.clear();};x7Z.prototype.onFileError=function(){var G8I=Q933;a7Z.preloader(!G8I.E4d);if(!G8I.E4d==this.isFileFailed){this.isFileFailed=!G8I.R4d;var h7Z=a7Z.model.XSSCheck.valid(this.filename)?this.filename:a7Z.model.XSSCheck.validate(this.filename);a7Z.uialert(utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,h7Z),a7Z.model._labels.Labels.ERROR,a7Z.AlertType.ERROR);}G8I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=G8I.V2d);this.stopTimer();};x7Z.prototype.onHeaderParsingError=function(){a7Z.preloader(!Q933.E4d);a7Z.uialert(utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_CSV_HEADER_PARSING_ERROR),a7Z.model._labels.Labels.ERROR,a7Z.AlertType.ERROR);};x7Z.prototype.onFileProgress=function(D7Z){var x8I=Q933;var B6d=404;if(B6d==D7Z.target.status)this.onFileError();else if(!utils.nullOrUndefined(this.loader))try{var d7Z=this.loader.response;if(x8I.V2d!=d7Z&&x8I.R4d!=d7Z.length&&(this.bytesLoaded!=D7Z.loaded||this.dataLoadedLength!=d7Z.length)&&(this.hasSizeHeader=x8I.R4d<D7Z.total&&D7Z.lengthComputable,this.dataLoadedLength=d7Z.length,this.bytesLoaded=D7Z.loaded,X933.S8B<d7Z.length-this.lastPosition||D7Z.loaded==D7Z.total))if(this.bytesLoaded>a7Z.model.license.Limitations.MAX_CSV)a7Z.uialert(a7Z.model.license.LicenseLabels.getLabel(a7Z.model.license.LicenseLabels.betaversion),a7Z.model.license.LicenseLabels.getLabel(a7Z.model.license.LicenseLabels.tooLarge)),a7Z.preloader(!x8I.E4d),x8I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=x8I.V2d),this.stopTimer();else{this.isFileLoaded=D7Z.loaded==D7Z.total;void x8I.R4d!==d7Z&&this.parseChunk(d7Z.substring(this.lastPosition,d7Z.length));this.lastPosition=d7Z.length;var o7Z=utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands(D7Z.loaded.toFixed(x8I.R4d)),utils.NumberFormatter.formatThousands(D7Z.total.toFixed(x8I.R4d)));a7Z.preloader(!x8I.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA,o7Z);}}catch(Q4Z){console.error(Q4Z.stack),this.onFileError();}};x7Z.prototype.onFileConnected=function(){this.connected=!Q933.R4d;a7Z.preloader(!Q933.R4d,a7Z.model._labels.Labels.MESSAGE_LOADING_DATA,Q933.s3d);};x7Z.prototype.setConnected=function(){Q933.V2d!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=Q933.V2d);};x7Z.prototype.onFileComplete=function(){var A8I=Q933;if(!utils.nullOrUndefined(this.loader))try{if(A8I.R4d==this.lastPosition||!this.hasSizeHeader){var s4Z=this.loader.response;this.connected=!A8I.R4d;s4Z.length>a7Z.model.license.Limitations.MAX_CSV?(a7Z.uialert(a7Z.model.license.LicenseLabels.getLabel(a7Z.model.license.LicenseLabels.betaversion),a7Z.model.license.LicenseLabels.getLabel(a7Z.model.license.LicenseLabels.tooLarge)),a7Z.preloader(!A8I.E4d),A8I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=A8I.V2d),this.clear()):(this.isFileLoaded=!A8I.R4d,this.isStarted?this.hasSizeHeader||(this.lastPosition<s4Z.length?(this.parseChunk(s4Z.substring(this.lastPosition,s4Z.length)),this.lastPosition=s4Z.length):this.data.push(this.lastRow)):this.parseChunk(s4Z),this.parseAllDataRows(),this.onDataParsed());}}catch(X4Z){console.error(X4Z.stack),this.onFileError();}};x7Z.isCSVValid=function(P4Z){var a8I=Q933;var g8B="<!doctype";var L8B="<config>";P4Z=P4Z.toLowerCase();return-a8I.E4d!=P4Z.indexOf(s933.C1d)||-a8I.E4d!=P4Z.indexOf(L8B)||a8I.R4d==P4Z.trim().length||-a8I.E4d!=P4Z.indexOf(g8B)?(a7Z.uialert(a7Z.model._labels.Labels.MESSAGE_INAPPROPRIATE_FILE_FORMAT,a7Z.model._labels.Labels.ERROR,a7Z.AlertType.ERROR),!a8I.E4d):!a8I.R4d;};x7Z.prototype.parseChunk=function(S4Z){var C8I=s933;var k8I=Q933;this.isStarted=!k8I.R4d;this.setConnected();k8I.R4d==this.chunkIndex&&-k8I.E4d==S4Z.indexOf(C8I.D0d)&&-k8I.E4d!=S4Z.indexOf(C8I.n8d)&&(this.recordsetDelimiter=C8I.n8d);void k8I.R4d===this.fieldSeparator&&(this.fieldSeparator=this.chooseSeparator(-k8I.E4d==S4Z.indexOf(C8I.D0d)&&-k8I.E4d==S4Z.indexOf(C8I.n8d)?S4Z:S4Z.substring(k8I.R4d,S4Z.indexOf(this.recordsetDelimiter))));this.appendData(S4Z);!k8I.E4d==this.isHeaderParsed&&(k8I.E4d<this.data.length||a7Z.model._options.OptionsManager.showEmptyData)&&(this.parseHeader(this.data.shift(),this.data[k8I.R4d]),this.isHeaderParsed=!k8I.R4d);};x7Z.prototype.onDataParsed=function(){var J8I=Q933;a7Z.preloader(!J8I.E4d);this.isHeaderParsed?J8I.V2d!=this.successHandler&&this.successHandler():(a7Z.uialert(a7Z.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,a7Z.model._labels.Labels.ERROR,a7Z.AlertType.ALERT),J8I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=J8I.V2d));this.clear();};x7Z.prototype.parseHeader=function(b4Z,E4Z){var M8I=Q933;var E8I=s933;if(x7Z.isCSVValid(b4Z))try{utils.nullOrUndefined(this.fieldSeparator)&&(this.fieldSeparator=E8I.f0d);var w4Z=x7Z.splitRow(b4Z,this.fieldSeparator),N4Z=x7Z.splitRow(E4Z,this.fieldSeparator);this.columnNames=[];for(var L4Z=M8I.R4d;L4Z<w4Z.length;L4Z++){var Z4Z=this.getColumnValue(N4Z[L4Z]),p4Z=w4Z[L4Z],g4Z=M8I.V2d;if(M8I.R4d<w4Z[L4Z].length&&-M8I.E4d<w4Z[L4Z].indexOf(E8I.D8d)){var F4Z=w4Z[L4Z].substr(w4Z[L4Z].indexOf(E8I.O8d)+M8I.E4d,w4Z[L4Z].length);if(M8I.R4d<F4Z.length){p4Z=w4Z[L4Z].substring(M8I.R4d,w4Z[L4Z].indexOf(E8I.O8d));try{g4Z=JSON.parse(F4Z);}catch(M4Z){console.error(X933.w8B+w4Z[L4Z].substring(M8I.R4d,w4Z[L4Z].indexOf(s933.O8d))+X933.z8B+F4Z),console.error(M4Z.stack),w4Z[L4Z]=p4Z;}}}var z4Z;if(utils.nullOrUndefined(g4Z)){var e4Z=this.getColumnType(w4Z[L4Z],Z4Z,M8I.R4d==N4Z.length);z4Z=this.getColumnName(w4Z[L4Z]);var Y4Z=this.getColumnCaption(z4Z),R4Z=this.getColumnAlias(w4Z[L4Z])||Y4Z;this.columnType[L4Z]=e4Z;this.columnNames.push(z4Z);g4Z={type:e4Z,caption:R4Z,uniqueName:z4Z};if(e4Z==H7Z.types.DataFieldType.LEVEL){var t4Z=z4Z.split(E8I.O8d);g4Z.hierarchy=t4Z[M8I.R4d];g4Z.level=t4Z.pop();if(M8I.R4d<t4Z.length){var V4Z=t4Z.pop();g4Z.parent=V4Z;}}}else{if(utils.nullOrUndefined(g4Z.type)||!H7Z.types.DataFieldType.valid(g4Z.type))M8I.s3d==Z4Z||void M8I.R4d===Z4Z?g4Z.type=H7Z.types.DataFieldType.STRING:isNaN(Number(Z4Z))?isNaN(Number(Z4Z))&&(g4Z.type=utils.StringUtils.isDate(Z4Z)&&a7Z.model._options.OptionsManager.datePattern==a7Z.model._options.OptionsManager.defaultDatePattern?H7Z.types.DataFieldType.DATE:H7Z.types.DataFieldType.STRING):g4Z.type=H7Z.types.DataFieldType.NUMBER;z4Z=this.getColumnName(p4Z);if(utils.nullOrUndefined(g4Z.caption)||M8I.s3d==g4Z.caption.length)g4Z.caption=this.getColumnCaption(z4Z);this.columnType[L4Z]=g4Z.type;this.columnNames.push(z4Z);}this.cube_.structure_.addDataField(g4Z,z4Z);}}catch(J4Z){console.error(J4Z.stack),this.onHeaderParsingError();}else this.onFileError();};x7Z.prototype.getColumnValue=function(k4Z){void Q933.R4d!==k4Z&&Q933.V2d!==k4Z&&(k4Z=k4Z.replace(s933.f0d,s933.c8d));return k4Z;};x7Z.prototype.getColumnCaption=function(a4Z){var C4Z=a4Z.split(A7Z.ALIAS_DELIMITER);if(Q933.E4d<C4Z.length)return C4Z[Q933.E4d];this.hasParentHierarchy(a4Z)&&(C4Z=a4Z.split(s933.O8d));return C4Z[C4Z.length-Q933.E4d];};x7Z.prototype.getColumnName=function(H4Z){var F8I=Q933;H4Z=H4Z.trim().split(A7Z.ALIAS_DELIMITER)[F8I.R4d];H4Z=this.removeColumnFlags(H4Z);if(-F8I.E4d<this.columnNames.indexOf(H4Z)){for(var O4Z=F8I.E4d,A4Z=H4Z;-F8I.E4d<this.columnNames.indexOf(A4Z);)A4Z=H4Z+O4Z,O4Z++;H4Z=A4Z;}return H4Z;};x7Z.prototype.getColumnAlias=function(u4Z){u4Z=u4Z.split(A7Z.ALIAS_DELIMITER);return Q933.E4d<u4Z.length?u4Z[Q933.E4d]:Q933.V2d;};x7Z.prototype.removeColumnFlags=function(x4Z){return x4Z.replace(X933.Z8B,Q933.s3d);};x7Z.prototype.getColumnType=function(l4Z,G4Z,j4Z){var z8I=Q933;var E8B="id+";var R8B="D4+";var Y8B="D+";var V8B="w+";var b8B="m+";var N8B="d+";var e8B="ds+";var F8B="n+";var p8B="dt+";var t8B="t+";var i4Z=H7Z.types.DataFieldType.NUMBER;l4Z=l4Z.trim();if(utils.nullOrUndefined(G4Z)&&!j4Z)return H7Z.types.DataFieldType.STRING;s933.b8d==l4Z.charAt(z8I.R4d)?i4Z=H7Z.types.DataFieldType.STRING:t8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.TIME:p8B==l4Z.substr(z8I.R4d,z8I.J4d)?i4Z=H7Z.types.DataFieldType.DATETIME:F8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.NUMBER:z8I.l3d==l4Z.charAt(z8I.R4d)?i4Z=H7Z.types.DataFieldType.NUMBER:e8B==l4Z.substr(z8I.R4d,z8I.J4d)?i4Z=H7Z.types.DataFieldType.DATE_STRING:N8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.DATE:b8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.MONTH:V8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.WEEKDAY:Y8B==l4Z.substr(z8I.R4d,z8I.M4d)?i4Z=H7Z.types.DataFieldType.HIERARCHICAL_DATE:R8B==l4Z.substr(z8I.R4d,z8I.J4d)?i4Z=H7Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:E8B==l4Z.substr(z8I.R4d,z8I.J4d)?i4Z=H7Z.types.DataFieldType.ID:z8I.s3d==G4Z||void z8I.R4d===G4Z?i4Z=H7Z.types.DataFieldType.STRING:isNaN(Number(G4Z))&&(i4Z=utils.StringUtils.isDate(G4Z)&&a7Z.model._options.OptionsManager.datePattern==a7Z.model._options.OptionsManager.defaultDatePattern?H7Z.types.DataFieldType.DATE:H7Z.types.DataFieldType.STRING);i4Z==H7Z.types.DataFieldType.STRING&&this.hasParentHierarchy(l4Z)&&(i4Z=H7Z.types.DataFieldType.LEVEL);return i4Z;};x7Z.prototype.hasParentHierarchy=function(U4Z){var g8I=Q933;s933.b8d==U4Z.charAt(g8I.R4d)&&(U4Z=U4Z.substr(g8I.E4d));return g8I.E4d<U4Z.split(s933.O8d).length&&-g8I.E4d<this.columnNames.indexOf(U4Z.split(s933.O8d)[g8I.R4d].trim());};x7Z.prototype.parseDataRows=function(){var S8I=Q933;for(var f4Z=utils.getTimer(),T4Z=this.data.length;S8I.S6d>utils.getTimer()-f4Z&&this.rowIdx!=T4Z;)this.parseDataRow(this.data[this.rowIdx++]);S8I.v6d<utils.getTimer()-this.preloaderTime&&this.isFileLoaded&&(f4Z=a7Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,T4Z=(this.rowIdx/this.data.length*S8I.a6d).toFixed(S8I.R4d),T4Z=utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.rowIdx.toFixed(S8I.R4d)),utils.NumberFormatter.formatThousands(this.data.length.toFixed(S8I.R4d)),T4Z),a7Z.preloader(!S8I.R4d,f4Z,T4Z),this.preloaderTime=utils.getTimer());return this.isFileLoaded&&this.rowIdx>=this.data.length;};x7Z.prototype.parseAllDataRows=function(){for(a7Z.preloader(!Q933.R4d,a7Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(a7Z.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(Q933.R4d))));this.rowIdx<this.data.length;this.rowIdx++)this.parseDataRow(this.data[this.rowIdx]);};x7Z.prototype.parseDataRow=function(W4Z){var s8I=Q933;if(!utils.nullOrEmpty(W4Z)&&void s8I.R4d!==this.columnNames){W4Z=utils.StringUtils.trim(W4Z,this.fieldSeparator);if(W4Z.split(this.fieldSeparator).length<this.columnNames.length)for(var n4Z=W4Z.split(this.fieldSeparator).length;n4Z<this.columnNames.length;n4Z++)W4Z=W4Z.concat(this.fieldSeparator);W4Z+=s8I.R2d;for(var r4Z=!s8I.E4d,m4Z=!s8I.E4d,c4Z=s8I.s3d,y4Z=s8I.R4d,I4Z=[],B4Z=[],q4Z=s8I.s3d,n4Z=s8I.R4d;n4Z<W4Z.length;n4Z++){var K4Z=W4Z.charAt(n4Z);n4Z==W4Z.length-s8I.E4d||K4Z==this.fieldSeparator&&!r4Z?(n4Z==W4Z.length-s8I.E4d&&(c4Z+=K4Z),c4Z=c4Z.trim(),c4Z=c4Z.replace(s933.n8d,s8I.s3d),c4Z.charAt(s8I.R4d)==this.fieldEnclosureToken&&c4Z.charAt(c4Z.length-s8I.E4d)==this.fieldEnclosureToken&&(c4Z=c4Z.slice(s8I.E4d,c4Z.length-s8I.E4d)),this.columnType[y4Z]==H7Z.types.DataFieldType.ID&&(q4Z=c4Z),a7Z.model.XSSCheck.valid(c4Z)||(c4Z=a7Z.model.XSSCheck.validate(c4Z)),s8I.V2d!=this.columnNames[y4Z]&&this.cube_.localDataStorage.addMember(this.columnNames[y4Z],c4Z,this.columnType[y4Z],I4Z,B4Z),r4Z=m4Z=!s8I.E4d,c4Z=s8I.s3d,y4Z++):K4Z==this.fieldEnclosureToken?(m4Z||(c4Z+=K4Z),r4Z=!r4Z,m4Z=!s8I.R4d):(c4Z+=K4Z,m4Z=!s8I.E4d);}this.cube_.localDataStorage.insert(I4Z,B4Z,q4Z);}};x7Z.prototype.appendData=function(v4Z){var Q8I=Q933;void Q8I.R4d!==this.lastRow&&Q8I.R4d<this.lastRow.length&&(v4Z=utils.StringUtils.concat(this.lastRow,v4Z));v4Z=this.splitLines(v4Z);for(var h4Z=Q8I.R4d;h4Z<v4Z.length;h4Z++)this.data.push(v4Z[h4Z]);!Q8I.R4d!=this.isFileLoaded&&(this.lastRow=this.data.pop());};x7Z.prototype.splitLines=function(D4Z){var o1I=Q933;var M8B="<br/>";var o4Z=!o1I.E4d;D4Z=D4Z.split(this.recordsetDelimiter);if(!o1I.E4d==this.ignoreQuotedLineBreaks)for(var d4Z=o1I.R4d;d4Z<D4Z.length;d4Z++)o4Z?(this.isQuoteOpen(D4Z[d4Z])&&(o4Z=!o1I.E4d),D4Z[d4Z-o1I.E4d]+=M8B+D4Z[d4Z],D4Z.splice(d4Z,o1I.E4d),d4Z--):this.isQuoteOpen(D4Z[d4Z])&&(o4Z=!o1I.R4d);return D4Z;};x7Z.prototype.isQuoteOpen=function(Q6Z){return Q933.E4d==this.countChar(Q6Z,this.fieldEnclosureToken)%Q933.M4d;};x7Z.prototype.countChar=function(X6Z,S6Z){var P6Z=Q933.R4d;if(X6Z)for(var s6Z=Q933.R4d;s6Z<X6Z.length;s6Z++)X6Z.charAt(s6Z)==S6Z&&P6Z++;return P6Z;};x7Z.prototype.chooseSeparator=function(L6Z){var h1I=s933;if(void Q933.R4d==this.fieldSeparator){var g6Z=L6Z.split(h1I.f0d).length;L6Z=L6Z.split(h1I.E9h).length;return g6Z>L6Z?h1I.f0d:h1I.E9h;}};x7Z.splitRow=function(t6Z,b6Z,p6Z){var B1I=Q933;void B1I.R4d===p6Z&&(p6Z=s933.s9h);if(B1I.V2d==t6Z)return[];for(var w6Z=B1I.s3d,F6Z=!B1I.E4d,e6Z=!B1I.E4d,N6Z=[],z6Z=B1I.R4d;z6Z<t6Z.length;z6Z++){var Z6Z=t6Z.charAt(z6Z);z6Z==t6Z.length-B1I.E4d||Z6Z==b6Z&&!F6Z?(z6Z==t6Z.length-B1I.E4d&&Z6Z==b6Z?(N6Z.push(w6Z),w6Z=B1I.s3d):z6Z==t6Z.length-B1I.E4d&&(w6Z+=Z6Z),w6Z=w6Z.trim(),w6Z.charAt(B1I.R4d)==p6Z&&w6Z.charAt(w6Z.length-B1I.E4d)==p6Z&&(w6Z=w6Z.slice(B1I.E4d,w6Z.length-B1I.E4d)),F6Z=e6Z=!B1I.E4d,N6Z.push(w6Z),w6Z=B1I.s3d):Z6Z==p6Z?(e6Z||(w6Z+=Z6Z),F6Z=!F6Z,e6Z=!B1I.R4d):(w6Z+=Z6Z,e6Z=!B1I.E4d);}return N6Z;};x7Z.splitRowWithMeta=function(E6Z,O6Z,J6Z,H6Z,A6Z){var r1I=Q933;void r1I.R4d===J6Z&&(J6Z=s933.s9h);void r1I.R4d===H6Z&&(H6Z=s933.D8d);void r1I.R4d===A6Z&&(A6Z=s933.o8d);if(r1I.V2d==E6Z)return[];for(var V6Z=r1I.s3d,M6Z=!r1I.E4d,k6Z=!r1I.E4d,C6Z=!r1I.E4d,a6Z=[],R6Z=r1I.R4d;R6Z<E6Z.length;R6Z++){var Y6Z=E6Z.charAt(R6Z);R6Z==E6Z.length-r1I.E4d||Y6Z==O6Z&&!M6Z&&!C6Z?(R6Z==E6Z.length-r1I.E4d&&Y6Z==O6Z?(a6Z.push(V6Z),V6Z=r1I.s3d):R6Z==E6Z.length-r1I.E4d&&(V6Z+=Y6Z),V6Z=V6Z.trim(),V6Z.charAt(r1I.R4d)==J6Z&&V6Z.charAt(V6Z.length-r1I.E4d)==J6Z&&(V6Z=V6Z.slice(r1I.E4d,V6Z.length-r1I.E4d)),C6Z=M6Z=k6Z=!r1I.E4d,a6Z.push(V6Z),V6Z=r1I.s3d):Y6Z==J6Z?(k6Z||(V6Z+=Y6Z),M6Z=!M6Z,k6Z=!r1I.R4d):(k6Z=!r1I.E4d,Y6Z==H6Z?C6Z=!r1I.R4d:Y6Z==A6Z&&(C6Z=!r1I.E4d),V6Z+=Y6Z);}return a6Z;};x7Z.timeCaption=function(u6Z){return u6Z&&Q933.R4d<u6Z.length?u6Z:a7Z.model._labels.Labels.INVALID_DATE;};x7Z.prototype.loadMembers=function(x6Z,i6Z,l6Z){};x7Z.prototype.loadMemberChildren=function(G6Z,j6Z,U6Z,T6Z){};x7Z.prototype.loadMemberDescendants=function(f6Z,c6Z,W6Z,n6Z){};function x7Z(){var y1I=Q933;var i7Z=this;this.beforeBeforeLastByte=this.beforeLastByte=this.lastByte=y1I.R4d;this.fileExtensions=[X933.J8B];this.onAuthApiLoadHandler=function(){return i7Z.onAuthApiLoad();};this.onhandleAuthResultHandler=function(l7Z){return i7Z.handleAuthResult(l7Z);};this.tickHandler=function(){return i7Z.onTick();};this.timerCompleteHandler=function(){return i7Z.onTimerComplete();};this.lastPosition=y1I.R4d;this.isStarted=!y1I.E4d;this.preloaderTime=y1I.R4d;this.cube_=H7Z.Cube.getInstance();this.fileExtensions=[X933.J8B];}x7Z.prototype.searchMembers=function(y6Z,K6Z,m6Z,r6Z){};x7Z.prototype.cancel=function(){this.clear();this.connectedHandler=this.errorHandler=this.successHandler=Q933.V2d;};return x7Z;}();O7Z.CSVLoader=u7Z;var A7Z=function(){var a8B="+T+";var C8B="F";var k8B="N";I6Z.NAN=k8B;function I6Z(){}I6Z.FLOAT=C8B;I6Z.DELIMITER=s933.h8d;I6Z.NEW_LINE=s933.D0d;I6Z.ALIAS_DELIMITER=a8B;return I6Z;}();O7Z.Consts=A7Z;}(H7Z.csv||(H7Z.csv={})));}(a7Z.data_||(a7Z.data_={})));}(pivot||(pivot={})));(function(B6Z){(function(q6Z){(function(v6Z){var h6Z=function(){D6Z.prototype.load=function(d6Z,o6Z,Q2Z,s2Z,X2Z){try{this.clear(),this._connectionInfo=d6Z,this._successHandler=o6Z,this.connectedHandler=s2Z,this.cancelledHandler=X2Z,this._errorHandler=Q2Z,this._embedded=this._connectionInfo.embedded,this._dataOffset=this._connectionInfo.embeddedDataOffset,this._dataToLoad=this._connectionInfo.embeddedDataToLoad,this._embeddedDataStarted=!Q933.E4d,this._embedded&&Q933.V2d!=this._dataToLoad&&this.loadEmbedded(this._dataToLoad);}catch(P2Z){console.error(P2Z.stack),this.onFileError();}};D6Z.prototype.defineCurrentDataSigns=function(S2Z){this._currentDataStartSign=-Q933.E4d<S2Z.indexOf(this._embeddedDataJSONStartSign)?this._embeddedDataJSONStartSign:this._embeddedDataStartSign;this._currentDataStopSign=this._currentDataStartSign==this._embeddedDataJSONStartSign?this._embeddedDataJSONStopSign:this._embeddedDataStopSign;};D6Z.prototype.loadEmbedded=function(Z2Z){var z2Z=this;this.BLOCK_SIZE=s933.U1d;this._bytesLoaded=Q933.R4d;try{var L2Z=new B6Z.DataStream(Z2Z,this._dataOffset,B6Z.DataStream.BIG_ENDIAN);utils.getTimer();var g2Z=L2Z.byteLength>this.BLOCK_SIZE?this.BLOCK_SIZE:L2Z.byteLength,w2Z=L2Z.readString(g2Z);this.defineCurrentDataSigns(w2Z);this._dataStrFromBytes=Q933.s3d;this._dataStrFromBytes+=w2Z.substring(this._currentDataStartSign.length);this._bytesLoaded+=g2Z;this._bytesToLoad=L2Z.byteLength;if(this._bytesLoaded<this._bytesToLoad)utils.ThreadManager.addTask(this.loadBytes,this,L2Z,function(){return z2Z.onComplete();});else this.onComplete();}catch(t2Z){console.error(t2Z.stack),this.onFileError();}};D6Z.prototype.loadBytes=function(p2Z){var F2Z=this._bytesToLoad-this._bytesLoaded>this.BLOCK_SIZE?this.BLOCK_SIZE:this._bytesToLoad-this._bytesLoaded;p2Z=p2Z.readString(F2Z);this._bytesLoaded+=F2Z;this._dataStrFromBytes+=p2Z;this.showLoadingProgress(this._bytesLoaded,this._bytesToLoad);return this._bytesLoaded>=this._bytesToLoad;};D6Z.prototype.showLoadingProgress=function(N2Z,b2Z){var e2Z=utils.StringUtils.bind(B6Z.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(N2Z/b2Z*Q933.a6d).toFixed(Q933.R4d)+X933.E3B);B6Z.preloader(!Q933.R4d,B6Z.model._labels.Labels.MESSAGE_LOADING,e2Z);};D6Z.prototype.onComplete=function(){B6Z.preloader(!Q933.E4d);this._isFileLoaded=!Q933.R4d;this.processStringFromBytes(this._dataStrFromBytes);};D6Z.prototype.setConnected=function(){Q933.V2d!=this.connectedHandler&&(this.connectedHandler(),this.connectedHandler=Q933.V2d);};D6Z.prototype.processStringFromBytes=function(V2Z){V2Z=utils.StringUtils.trimLeft(V2Z);this.parseChunk(V2Z);};D6Z.prototype.onTick=function(){var u1I=Q933;var G6d=196;this._timerCount++;if(u1I.R4d<this._bytesLoaded||this._isFileLoaded||this._isFileFailed)utils.fmClearInterval(this._timer),this._timerCount=u1I.R4d;else{var Y2Z=this._timerCount/u1I.u4d;this._isConnected?(G6d<Y2Z&&(Y2Z=G6d),Y2Z=utils.NumberFormatter.format(Y2Z/u1I.M4d,new B6Z.model.format.vo.FormatValueObject(),!u1I.E4d,!u1I.E4d,u1I.E4d)+X933.E3B):Y2Z=utils.StringUtils.bind(B6Z.model._labels.Labels.MESSAGE_LOADING_WAITING,utils.NumberFormatter.format(Y2Z,new B6Z.model.format.vo.FormatValueObject(),!u1I.E4d,!u1I.E4d,u1I.E4d));B6Z.preloader(!u1I.R4d,B6Z.model._labels.Labels.MESSAGE_LOADING_DATA,Y2Z);}};D6Z.prototype.onFileError=function(){var O1I=Q933;utils.fmClearInterval(this._timer);B6Z.preloader(!O1I.E4d);!O1I.E4d==this._isFileFailed&&(this._isFileFailed=!O1I.R4d,B6Z.uialert(utils.StringUtils.bind(B6Z.model._labels.Labels.MESSAGE_UNABLE_TO_OPEN_FILE,O1I.s3d),B6Z.model._labels.Labels.ERROR,B6Z.AlertType.ERROR));O1I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=O1I.V2d);this.clear();};D6Z.prototype.parseChunk=function(R2Z){var A1I=Q933;this._isStarted=!A1I.R4d;this.setConnected();this.appendData(R2Z);!A1I.E4d==this._isHeaderParsed&&A1I.E4d<this._data.length&&(this._data.shift(),this.parseHeader(this._data.shift()),this._isHeaderParsed=!A1I.R4d,this.parseAllDataRows(),this.onDataParsed());};D6Z.prototype.appendData=function(E2Z){var H1I=Q933;void H1I.R4d!==this._lastRow&&H1I.R4d<this._lastRow.length&&(E2Z=utils.StringUtils.concat(this._lastRow,E2Z));E2Z=H1I.R4d<=E2Z.indexOf(this.RECORDSET_DELIMITER)?E2Z.split(this.RECORDSET_DELIMITER):[];for(var M2Z=H1I.R4d;M2Z<E2Z.length;M2Z++)this._data.push(E2Z[M2Z]);!H1I.R4d!=this._isFileLoaded&&(this._lastRow=this._data.pop(),this._lastRow=this._lastRow==this._currentDataStopSign?this._data.pop():this._lastRow);};D6Z.prototype.parseHeader=function(k2Z){var C1I=Q933;k2Z=v6Z.CSVLoader.splitRowWithMeta(k2Z,this.FIELD_DELIMITER);this._columnNames=[];for(var J2Z=C1I.R4d;J2Z<k2Z.length;J2Z++){var C2Z=k2Z[J2Z],a2Z={};if(C1I.R4d<k2Z[J2Z].length&&-C1I.E4d<k2Z[J2Z].indexOf(s933.D8d)){var H2Z=k2Z[J2Z].substr(k2Z[J2Z].indexOf(s933.O8d)+C1I.E4d,k2Z[J2Z].length);if(C1I.R4d<H2Z.length){C2Z=k2Z[J2Z].substring(C1I.R4d,k2Z[J2Z].indexOf(s933.O8d));try{a2Z=JSON.parse(H2Z);}catch(A2Z){console.error(X933.w8B+k2Z[J2Z].substring(C1I.R4d,k2Z[J2Z].indexOf(s933.O8d))+X933.z8B+H2Z),console.error(A2Z.stack);}}}C2Z=this.getColumnName(C2Z);if(utils.nullOrUndefined(a2Z.caption)||C1I.s3d==a2Z.caption.length)a2Z.caption=this.getColumnCaption(C2Z);this._columnType[J2Z]=a2Z.type;this._columnNames.push(C2Z);this._cube.structure_.addDataField(a2Z,C2Z);}};D6Z.prototype.getColumnCaption=function(u2Z){var O2Z=u2Z.split(v6Z.Consts.ALIAS_DELIMITER);if(Q933.E4d<O2Z.length)return O2Z[Q933.E4d];this.hasParentHierarchy(u2Z)&&(O2Z=u2Z.split(s933.O8d));return O2Z[O2Z.length-Q933.E4d];};D6Z.prototype.hasParentHierarchy=function(x2Z){var E1I=Q933;s933.b8d==x2Z.charAt(E1I.R4d)&&(x2Z=x2Z.substr(E1I.E4d));return E1I.E4d<x2Z.split(s933.O8d).length&&-E1I.E4d<this._columnNames.indexOf(x2Z.split(s933.O8d)[E1I.R4d].trim());};D6Z.prototype.getColumnName=function(i2Z){var Y1I=Q933;i2Z=i2Z.trim().split(v6Z.Consts.ALIAS_DELIMITER)[Y1I.R4d];i2Z=this.removeColumnFlags(i2Z);i2Z=this.decodeChars(i2Z);if(-Y1I.E4d<this._columnNames.indexOf(i2Z)){for(var G2Z=Y1I.E4d,l2Z=i2Z;-Y1I.E4d<this._columnNames.indexOf(l2Z);)l2Z=i2Z+G2Z,G2Z++;i2Z=l2Z;}return i2Z;};D6Z.prototype.removeColumnFlags=function(j2Z){return j2Z.replace(X933.Z8B,Q933.s3d);};D6Z.prototype.parseAllDataRows=function(){for(B6Z.preloader(!Q933.R4d,B6Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(B6Z.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this._data.length.toFixed(Q933.R4d))));this._rowIdx<this._data.length;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);};D6Z.prototype.parseDataRows=function(){var e1I=Q933;var T2Z=utils.getTimer(),U2Z=this._rowIdx+this.BLOCK_SIZE;for(U2Z>this._data.length&&(U2Z=this._data.length);this._rowIdx<U2Z;this._rowIdx++)this.parseDataRow(this._data[this._rowIdx]);this.BLOCK_SIZE=utils.ThreadManager.adjustTaskSize(utils.getTimer()-T2Z,this.BLOCK_SIZE);s933.N0d<utils.getTimer()-this._preloaderTime&&this._isFileLoaded&&(T2Z=B6Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,U2Z=(this._rowIdx/this._data.length*e1I.a6d).toFixed(e1I.R4d),U2Z=utils.StringUtils.bind(B6Z.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this._rowIdx.toFixed(e1I.R4d)),utils.NumberFormatter.formatThousands(this._data.length.toFixed(e1I.R4d)),U2Z),B6Z.preloader(!e1I.R4d,T2Z,U2Z),this._preloaderTime=utils.getTimer());return this._isFileLoaded&&this._rowIdx>=this._data.length;};D6Z.prototype.parseDataRow=function(f2Z){if(!utils.nullOrEmpty(f2Z)&&void Q933.R4d!==this._columnNames&&f2Z!=this._currentDataStopSign){if(f2Z.split(this.FIELD_DELIMITER).length<this._columnNames.length)for(var c2Z=f2Z.split(this.FIELD_DELIMITER).length;c2Z<this._columnNames.length;c2Z++)f2Z=f2Z.concat(this.FIELD_DELIMITER);var W2Z=[],n2Z=[];f2Z=f2Z.split(this.FIELD_DELIMITER);for(c2Z=Q933.R4d;c2Z<f2Z.length;c2Z++)this.parseDataValue(f2Z[c2Z],c2Z,W2Z,n2Z);this._cube.localDataStorage.insert(W2Z,n2Z);}};D6Z.prototype.parseDataValue=function(m2Z,K2Z,B2Z,q2Z){var Z1I=Q933;var I2Z=!Z1I.R4d;if(Z1I.V2d!=this._columnNames[K2Z]){if(this._columnType[K2Z]==q6Z.types.DataFieldType.STRING||this._columnType[K2Z]==q6Z.types.DataFieldType.WEEKDAY||this._columnType[K2Z]==q6Z.types.DataFieldType.MONTH){if(s933.a9h==m2Z.charAt(Z1I.R4d)){var y2Z=parseInt(m2Z.substring(Z1I.E4d));if(!Z1I.E4d==isNaN(y2Z)){var r2Z=this._cube.structure_.getDataField(this._columnNames[K2Z]),y2Z=r2Z.members.getItemAt(y2Z+Z1I.E4d);Z1I.V2d!=y2Z&&(m2Z=y2Z.caption==B6Z.model._labels.Labels.MEMBER_BLANK?Z1I.s3d:y2Z.caption,I2Z=!Z1I.E4d);}}}else if(this._columnType[K2Z]==q6Z.types.DataFieldType.LEVEL)s933.a9h==m2Z.charAt(Z1I.R4d)&&(y2Z=parseInt(m2Z.substring(Z1I.E4d)),!Z1I.E4d==isNaN(y2Z)&&(r2Z=this._cube.structure_.getDataField(this._columnNames[K2Z]),Z1I.V2d==r2Z.members&&(r2Z=this._cube.structure_.getDataField(this._columnNames[K2Z]).hierarchy),y2Z=r2Z.members.getItemAt(y2Z+Z1I.E4d),Z1I.V2d!=y2Z&&(m2Z=y2Z.caption==B6Z.model._labels.Labels.MEMBER_BLANK?Z1I.s3d:y2Z.caption,I2Z=!Z1I.E4d)));else if(this._columnType[K2Z]==q6Z.types.DataFieldType.DATE||this._columnType[K2Z]==q6Z.types.DataFieldType.DATE_STRING||this._columnType[K2Z]==q6Z.types.DataFieldType.HIERARCHICAL_DATE||this._columnType[K2Z]==q6Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)m2Z=s933.N0d*parseInt(m2Z),I2Z=!Z1I.E4d;!Z1I.R4d==I2Z&&(m2Z=this.decodeChars(m2Z));this._cube.localDataStorage.addMember(this._columnNames[K2Z],m2Z,this._columnType[K2Z],B2Z,q2Z);}};function D6Z(){var z1I=X933;var w1I=s933;var g1I=Q933;var u8B="g";var H8B="--\x3e";this._embedded=!g1I.E4d;this._dataOffset=g1I.R4d;this.FIELD_DELIMITER=w1I.f0d;this.RECORDSET_DELIMITER=w1I.D0d;this._cube=q6Z.Cube.getInstance();this._isStarted=!g1I.E4d;this._embeddedDataStartSign=w1I.B4B;this._embeddedDataStopSign=H8B;this._embeddedDataJSONStartSign=w1I.r4B;this._embeddedDataJSONStopSign=z1I.A8B;this._currentDataStopSign=this._currentDataStartSign=g1I.s3d;this._preloaderTime=g1I.R4d;this.regDelimiter=RegExp(z1I.O8B,u8B);this.regQuote=RegExp(z1I.x8B,u8B);this.regNewline=RegExp(z1I.i8B,u8B);}D6Z.prototype.decodeChars=function(v2Z){return v2Z.replace(this.regDelimiter,s933.f0d).replace(this.regQuote,s933.s9h).replace(this.regNewline,s933.D0d);};D6Z.prototype.onDataParsed=function(){B6Z.preloader(!Q933.E4d);this._isHeaderParsed?this.successHandler():(B6Z.uialert(B6Z.model._labels.Labels.MESSAGE_NO_DATA_AVAILABLE,B6Z.model._labels.Labels.ERROR,B6Z.AlertType.ALERT),this.errorHandler(),this._errorHandler=Q933.V2d);this.clear();};D6Z.prototype.clear=function(){var P1I=Q933;this._data=[];this._currentDataStopSign=this._currentDataStartSign=P1I.s3d;this._bytesLoaded=P1I.R4d;this._isConnected=!P1I.E4d;this._columnType=[];this._hasSizeHeader=this._isFileFailed=this._isFileLoaded=this._isHeaderParsed=!P1I.E4d;this._lastRow=P1I.s3d;this._rowIdx=P1I.R4d;this.BLOCK_SIZE=P1I.a6d;utils.fmClearInterval(this._timer);};D6Z.prototype.successHandler=function(){Q933.V2d!=this._successHandler&&this._successHandler();};D6Z.prototype.errorHandler=function(){Q933.V2d!=this._errorHandler&&this._errorHandler();};D6Z.prototype.loadDimensions=function(h2Z){};D6Z.prototype.loadHierarchies=function(D2Z){};D6Z.prototype.loadLevels=function(d2Z){};D6Z.prototype.loadMeasures=function(o2Z){};D6Z.prototype.loadMembers=function(Q3Z,s3Z,X3Z){};D6Z.prototype.loadMemberChildren=function(P3Z,S3Z,L3Z,g3Z){};D6Z.prototype.loadMemberDescendants=function(w3Z,z3Z,Z3Z,t3Z){};D6Z.prototype.searchMembers=function(p3Z,F3Z,e3Z,N3Z){};D6Z.prototype.cancel=function(){this.connectedHandler=this.errorHandler=this.successHandler=Q933.V2d;};return D6Z;}();v6Z.CSVEmbeddedLoader=h6Z;}(q6Z.csv||(q6Z.csv={})));}(B6Z.data_||(B6Z.data_={})));}(pivot||(pivot={})));(function(b3Z){(function(V3Z){(function(R3Z){var E3Z=function(){M3Z.prototype.getData=function(J3Z){this._callback=J3Z;b3Z.preloader(!Q933.R4d,b3Z.model._labels.Labels.MESSAGE_SAVING);this.preprocessHeader();this.composeData();};M3Z.prototype.preprocessHeader=function(){this._allHierarchies=V3Z.Cube.getInstance().structure_.allHierarchies();this._columnsList=[];var k3Z;for(this._colIdx=Q933.R4d;this._colIdx<this._allHierarchies.length;){k3Z=this._allHierarchies.getItemAt(this._colIdx);var C3Z=V3Z.Cube.getInstance().structure_.hierarchyToMeasure(k3Z.uniqueName).type;C3Z!=V3Z.types.MeasureType.COUNT&&C3Z!=V3Z.types.MeasureType.DATE?this.processMeasureColumn(V3Z.Cube.getInstance().structure_.hierarchyToMeasure(k3Z.uniqueName)):this.processHierarchyColumn(k3Z);this._colIdx++;}};M3Z.prototype.composeData=function(){var a3Z=this;this._rowIdx=Q933.R4d;this._data=Q933.s3d;this._facts=V3Z.Cube.getInstance().localDataStorage.getFacts();this._tuples=V3Z.Cube.getInstance().localDataStorage.getTuples();utils.ThreadManager.addTask(this.composeLine,this,Q933.V2d,function(){return a3Z.onDataCreated();});};M3Z.prototype.composeLine=function(){var H3Z=utils.getTimer();for(this._colIdxDifference=this._colIdx=Q933.R4d;this._rowIdx<this._tuples.length;){for(;this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length;)this.addMember(this.composeMember()),this._colIdx++;this._rowIdx++;this._data+=s933.D0d;this._colIdxDifference=this._colIdx=Q933.R4d;if(Q933.a6d<utils.getTimer()-H3Z)break;}this.showSavingProgress(this._rowIdx,this._tuples.length);return this._rowIdx>=this._tuples.length;};M3Z.prototype.composeMember=function(){var I0I=Q933;var A3Z=this._columnsList[this._colIdx].type,O3Z;A3Z!=V3Z.types.DataFieldType.DATE&&A3Z!=V3Z.types.DataFieldType.DATE_STRING&&A3Z!=V3Z.types.DataFieldType.LEVEL&&A3Z!=V3Z.types.DataFieldType.HIERARCHICAL_DATE&&A3Z!=V3Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS&&A3Z!=V3Z.types.DataFieldType.TIME&&A3Z!=V3Z.types.DataFieldType.DATETIME&&(O3Z=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption);if(A3Z==V3Z.types.DataFieldType.NUMBER)return I0I.V2d!=O3Z?O3Z.toString():I0I.s3d;if(A3Z!=V3Z.types.DataFieldType.STRING&&A3Z!=V3Z.types.DataFieldType.WEEKDAY&&A3Z!=V3Z.types.DataFieldType.MONTH){if(A3Z==V3Z.types.DataFieldType.LEVEL){A3Z=this._allHierarchies.getItem(this._columnsList[this._colIdx].hierarchy);O3Z=A3Z.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;for(var u3Z=this._colIdx,x3Z=I0I.R4d;x3Z<A3Z.levels_.length-I0I.M4d;x3Z++)this.addMember(this.composeStringData(O3Z,u3Z)),this._colIdx++,O3Z=I0I.V2d==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]||I0I.s3d==this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]+I0I.s3d?I0I.s3d:A3Z.members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).caption;return this.composeStringData(O3Z,u3Z);}if(A3Z==V3Z.types.DataFieldType.DATE_STRING)return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/s933.N0d+I0I.s3d;if(A3Z==V3Z.types.DataFieldType.DATE)return O3Z=I0I.s3d,A3Z=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+X933.i1B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),O3Z+=A3Z.caption+I0I.l3d,this._colIdxDifference++,A3Z=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+X933.G1B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),O3Z+=A3Z.caption+I0I.l3d,this._colIdxDifference++,A3Z=this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName+X933.j1B).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]),O3Z+=A3Z.caption,new Date(O3Z).getTime()/s933.N0d+Math.abs(I0I.Z6d*new Date().getTimezoneOffset())+I0I.s3d;if(A3Z==V3Z.types.DataFieldType.HIERARCHICAL_DATE||A3Z==V3Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS)return this.composeHierarchicalDateData(A3Z);if(A3Z==V3Z.types.DataFieldType.TIME||A3Z==V3Z.types.DataFieldType.DATETIME)return this._facts[this._rowIdx][this._colIdx+this._colIdxDifference]+I0I.s3d;}return this.composeStringData(O3Z);};M3Z.prototype.addMember=function(i3Z){this._data+=i3Z==this.NaN||i3Z==b3Z.model._labels.Labels.MEMBER_BLANK?Q933.s3d:i3Z;this._data+=this._colIdx+this._colIdxDifference<this._tuples[this._rowIdx].length-Q933.E4d?s933.f0d:Q933.s3d;};function M3Z(){this.NaN=X933.l8B;this._embeddedJSONDataStart=s933.r4B;this._embeddedJSONDataFinish=X933.A8B;}M3Z.prototype.composeStringData=function(l3Z,G3Z){void Q933.R4d===G3Z&&(G3Z=this._colIdx);if(Q933.s3d==l3Z)return l3Z;this._columnsList[G3Z].members.keyExists(l3Z)||this._columnsList[G3Z].members.addItem(l3Z,this._columnsList[G3Z].members.length);return this.encodeChars(l3Z);};M3Z.prototype.encodeChars=function(j3Z){return j3Z.replace(/,/g,X933.O8B).replace(/\"/g,X933.x8B).replace(/\n/g,X933.i8B);};M3Z.prototype.composeHierarchicalDateData=function(U3Z){this._colIdxDifference+=Q933.M4d;this._colIdxDifference=U3Z==V3Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS?this._colIdxDifference+Q933.E4d:this._colIdxDifference;return this._allHierarchies.getItem(this._columnsList[this._colIdx].uniqueName).members.getItemAt(this._tuples[this._rowIdx][this._colIdx+this._colIdxDifference]).levelOrdinal/s933.N0d+Q933.s3d;};M3Z.prototype.onDataCreated=function(){b3Z.preloader(!Q933.E4d);Q933.V2d!=this._callback&&this._callback(this.getResult());};M3Z.prototype.processHierarchyColumn=function(T3Z){var f3Z=this.getHierarchyType(T3Z);f3Z==V3Z.types.DataFieldType.LEVEL?this.processLevelsColumn(T3Z):f3Z==V3Z.types.DataFieldType.DATE?(this._columnsList.push(this.createColumn(f3Z,T3Z.dimension.uniqueName,T3Z.dimension.caption)),this._colIdx+=Q933.M4d):this._columnsList.push(this.createColumn(f3Z,T3Z.uniqueName,T3Z.caption));};M3Z.prototype.getResult=function(){var G0I=s933;var W8B=', "caption": "';var c8B=', "parent": "';var f8B=', "level": "';var T8B=', "hierarchy": "';var U8B='"type": "';var j8B=":{";var G8B="\n___csv___WDR___";for(var W3Z=this._embeddedJSONDataStart+G8B+b3Z.Pivot.BUILD_VERSION+G0I.D0d,c3Z=Q933.R4d;c3Z<this._columnsList.length;c3Z++)W3Z+=this._columnsList[c3Z].uniqueName,W3Z+=j8B,W3Z+=U8B+this._columnsList[c3Z].type+G0I.s9h,this._columnsList[c3Z].isLevel?(W3Z+=T8B+this._columnsList[c3Z].hierarchy+G0I.s9h,W3Z+=f8B+this._columnsList[c3Z].uniqueName+G0I.s9h,utils.nullOrUndefined(this._columnsList[c3Z].parent)||(W3Z+=c8B+this._columnsList[c3Z].parent+G0I.s9h)):this._columnsList[c3Z].uniqueName!=this._columnsList[c3Z].caption&&(W3Z+=W8B+this._columnsList[c3Z].caption+G0I.s9h),W3Z+=G0I.o8d,W3Z+=c3Z<this._columnsList.length-Q933.E4d?G0I.f0d:Q933.s3d;return W3Z+G0I.D0d+this._data+this._embeddedJSONDataFinish;};M3Z.prototype.processMeasureColumn=function(n3Z){this._columnsList.push(this.createColumn(V3Z.types.MeasureType.toDataFieldType(n3Z.type),n3Z.uniqueName,n3Z.originalCaption,!Q933.R4d));};M3Z.prototype.processLevelsColumn=function(y3Z){var i0I=Q933;var B3Z=y3Z.uniqueName;y3Z=y3Z.levels_;for(var K3Z,r3Z,m3Z=i0I.E4d;m3Z<y3Z.length;m3Z++){r3Z=m3Z;K3Z=y3Z.getItem(y3Z.getKeyAt(m3Z));var I3Z;i0I.E4d<r3Z&&(I3Z=y3Z.getItem(y3Z.getKeyAt(r3Z-i0I.E4d)).uniqueName);K3Z=this.createColumn(V3Z.types.DataFieldType.LEVEL,K3Z.uniqueName,K3Z.caption);K3Z.isLevel=!i0I.R4d;K3Z.hierarchy=B3Z;utils.nullOrUndefined(I3Z)||(K3Z.parent=I3Z);this._columnsList.push(K3Z);}};M3Z.prototype.getHierarchyType=function(q3Z){var u0I=Q933;if(q3Z.dimension.type.toString()==V3Z.types.DataFieldType.DATE_STRING)return V3Z.types.DataFieldType.DATE_STRING;var v3Z=V3Z.types.DataFieldType.typeName(q3Z.type);u0I.M4d<q3Z.levels_.length&&(v3Z=u0I.k4d==q3Z.levels_.length&&q3Z.levels_.getItemAt(u0I.E4d).uniqueName==q3Z.uniqueName+X933.i1B?V3Z.types.DataFieldType.HIERARCHICAL_DATE:u0I.C4d==q3Z.levels_.length&&q3Z.levels_.getItemAt(u0I.E4d).uniqueName==q3Z.uniqueName+X933.i1B?V3Z.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:V3Z.types.DataFieldType.LEVEL);return v3Z;};M3Z.prototype.showSavingProgress=function(D3Z,d3Z){var h3Z=utils.StringUtils.bind(b3Z.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,(D3Z/d3Z*Q933.a6d).toFixed(Q933.R4d)+X933.E3B);b3Z.preloader(!Q933.R4d,b3Z.model._labels.Labels.MESSAGE_SAVING,h3Z);};M3Z.prototype.createColumn=function(s5Z,X5Z,P5Z,Q5Z){void Q933.R4d===Q5Z&&(Q5Z=!Q933.E4d);var o3Z=new Y3Z();o3Z.type=s5Z;o3Z.uniqueName=X5Z;o3Z.caption=P5Z;o3Z.isMeasure=Q5Z;return o3Z;};return M3Z;}();R3Z.CSVSaver=E3Z;var Y3Z=function(){var R4I=Q933;var y8B="isLevel";var n8B="isMeasure";Object.defineProperty(S5Z.prototype,s933.i7h,{get:function(){return this._members;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,R4I.P5d,{get:function(){return this._type;},set:function(L5Z){this._type=L5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,X933.b0B,{get:function(){return this._uniqueName;},set:function(g5Z){this._uniqueName=g5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,s933.P6B,{get:function(){return this._caption;},set:function(w5Z){this._caption=w5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,n8B,{get:function(){return this._isMeasure;},set:function(z5Z){this._isMeasure=z5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});function S5Z(){this._isLevel=!R4I.E4d;this._members=new utils.AssociativeArray();}Object.defineProperty(S5Z.prototype,y8B,{get:function(){return this._isLevel;},set:function(Z5Z){this._isLevel=Z5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,X933.v0B,{get:function(){return this._hierarchyUniqueName;},set:function(t5Z){this._hierarchyUniqueName=t5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});Object.defineProperty(S5Z.prototype,R4I.p3d,{get:function(){return this._parentUniqueName;},set:function(p5Z){this._parentUniqueName=p5Z;},enumerable:!R4I.R4d,configurable:!R4I.R4d});return S5Z;}();R3Z.Column=Y3Z;}(V3Z.csv||(V3Z.csv={})));}(b3Z.data_||(b3Z.data_={})));}(pivot||(pivot={})));(function(F5Z){(function(e5Z){(function(b5Z){var N5Z=function(Y5Z){var K8B="Too much records!";__extends(V5Z,Y5Z);V5Z.prototype.load=function(E5Z,M5Z,J5Z,k5Z,C5Z){var k0I=Q933;this.clear();this.successHandler=M5Z;this.errorHandler=J5Z;this.connectedHandler=k5Z;this.cancelledHandler=C5Z;!k0I.R4d===E5Z.browseForFile?this.browseFile():void k0I.R4d!==E5Z.filename&&k0I.s3d!=E5Z.filename&&s933.B1d!=E5Z.filename.substr(-k0I.M4d)?Y5Z.prototype.load.call(this,E5Z,M5Z,J5Z,k5Z,C5Z):this.addData(E5Z.data);};V5Z.prototype.onFileProgress=function(a5Z){if(!utils.nullOrUndefined(this.loader))try{if(X933.S8B<a5Z.loaded-this.bytesLoaded){var H5Z=utils.StringUtils.bind(F5Z.model._labels.Labels.MESSAGE_LOADING_PROGRESS,utils.NumberFormatter.formatThousands((a5Z.loaded/s933.N0d).toFixed(Q933.R4d)),utils.NumberFormatter.formatThousands((a5Z.total/s933.N0d).toFixed(Q933.R4d)));F5Z.preloader(!Q933.R4d,F5Z.model._labels.Labels.MESSAGE_LOADING_DATA,H5Z);}this.bytesLoaded=a5Z.loaded;}catch(A5Z){console.error(A5Z.stack),this.onFileError();}};V5Z.prototype.onFileComplete=function(){var R0I=Q933;if(!utils.nullOrUndefined(this.loader)){var O5Z=this.loader.response;this.connected=!R0I.R4d;O5Z.length>F5Z.model.license.Limitations.MAX_JSON?(F5Z.uialert(F5Z.model.license.LicenseLabels.getLabel(F5Z.model.license.LicenseLabels.betaversion),F5Z.model.license.LicenseLabels.getLabel(F5Z.model.license.LicenseLabels.tooLarge)),F5Z.preloader(!R0I.E4d),R0I.V2d!=this.errorHandler&&(this.errorHandler(),this.errorHandler=R0I.V2d),this.clear()):(this.isFileLoaded=!R0I.R4d,this.parseChunk(O5Z));}};V5Z.prototype.parseChunk=function(x5Z){try{var u5Z=JSON.parse(x5Z);utils.nullOrUndefined(u5Z.items)||(u5Z=u5Z.items);if(utils.nullOrUndefined(u5Z.length)){this.invalidFormat();return;}}catch(i5Z){this.invalidFormat();return;}F5Z.preloader(!Q933.E4d);this.addData(u5Z);};V5Z.prototype.addData=function(l5Z){var b0I=Q933;utils.nullOrUndefined(l5Z.items)||(l5Z=l5Z.items);if(!(utils.nullOrUndefined(l5Z)||b0I.E4d>l5Z.length))if(l5Z.toString().length>F5Z.model.license.Limitations.MAX_JSON)F5Z.uialert(K8B,s933.B1h);else{this.setConnected();var G5Z=!b0I.E4d,j5Z=l5Z[b0I.R4d]&&l5Z[b0I.R4d]instanceof Array;j5Z?this.parseHeader(l5Z[b0I.R4d].toString(),l5Z[b0I.E4d].toString()):G5Z=this.cube_.structure_.addDataStructure(l5Z[b0I.R4d]);this.data=l5Z.slice();this.factsCounter=b0I.R4d;(G5Z||j5Z)&&this.data.shift();this.parseAllDataRows();this.onParseComplete();}};V5Z.prototype.updateData=function(U5Z){var e0I=Q933;if(!(utils.nullOrUndefined(U5Z)||e0I.E4d>U5Z.length))if(U5Z.toString().length>F5Z.model.license.Limitations.MAX_JSON)F5Z.uialert(K8B,s933.B1h);else{this.cube_.localDataStorage.clearUpdates();for(var f5Z=U5Z[e0I.E4d]&&U5Z[e0I.E4d]instanceof Array,T5Z=e0I.R4d;T5Z<U5Z.length;T5Z++)f5Z?this.cube_.localDataStorage.insertArray(U5Z[T5Z],!e0I.R4d):this.cube_.localDataStorage.insertObject(U5Z[T5Z],!e0I.R4d);}};V5Z.prototype.onParseComplete=function(){F5Z.preloader(!Q933.E4d);this.successHandler();};V5Z.prototype.parseDataRow=function(W5Z){var p0I=Q933;var c5Z=this.factsCounter;W5Z=c5Z+this.CHUNK_SIZE;for(var n5Z=this.data[p0I.E4d]&&this.data[p0I.E4d]instanceof Array;c5Z<W5Z;c5Z++){if(c5Z==this.data.length)return!p0I.R4d;n5Z?this.cube_.localDataStorage.insertArray(this.data[c5Z]):this.cube_.localDataStorage.insertObject(this.data[c5Z]);this.factsCounter++;}W5Z=Math.round(this.factsCounter/this.data.length*p0I.a6d);p0I.a6d<W5Z&&(W5Z=p0I.a6d);F5Z.preloader(!p0I.R4d,F5Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(F5Z.model._labels.Labels.MESSAGE_ANALYZING_PROGRESS,utils.NumberFormatter.formatThousands(this.factsCounter.toString()),utils.NumberFormatter.formatThousands(this.data.length.toString()),W5Z.toString()));return!p0I.E4d;};V5Z.prototype.parseAllDataRows=function(){var t0I=Q933;F5Z.preloader(!t0I.R4d,F5Z.model._labels.Labels.MESSAGE_ANALYZING_DATA,utils.StringUtils.bind(F5Z.model._labels.Labels.MESSAGE_ANALYZING_RECORDS,utils.NumberFormatter.formatThousands(this.data.length.toFixed(t0I.R4d))));for(var y5Z=this.data[t0I.E4d]&&this.data[t0I.E4d]instanceof Array;this.factsCounter<this.data.length;this.factsCounter++)y5Z?this.cube_.localDataStorage.insertArray(this.data[this.factsCounter]):this.cube_.localDataStorage.insertObject(this.data[this.factsCounter]);};function V5Z(){var R5Z=Y5Z.call(this)||this;R5Z.CHUNK_SIZE=X933.S8B;R5Z.factsCounter=Q933.R4d;R5Z.fileExtensions=[s933.v4B,s933.q4B];return R5Z;}V5Z.prototype.invalidFormat=function(){F5Z.preloader(!Q933.E4d);F5Z.uialert(F5Z.model._labels.Labels.MESSAGE_INVALID_JSON_DATA,F5Z.model._labels.Labels.ERROR);this.errorHandler();this.stopTimer();};return V5Z;}(e5Z.csv.CSVLoader);b5Z.JSONLoader=N5Z;}(e5Z.json||(e5Z.json={})));}(F5Z.data_||(F5Z.data_={})));}(pivot||(pivot={})));(function(K5Z){(function(m5Z){(function(I5Z){var r5Z=function(){var m8B="csv";B5Z.valid=function(q5Z){return q5Z==B5Z.JSON||q5Z==B5Z.CSV||q5Z==B5Z.EMPTY;};function B5Z(){}B5Z.CSV=m8B;B5Z.JSON=s933.A0d;B5Z.EMPTY=Q933.s3d;return B5Z;}();I5Z.DataSourceType=r5Z;}(m5Z.consts||(m5Z.consts={})));}(K5Z.data_||(K5Z.data_={})));}(pivot||(pivot={})));(function(v5Z){(function(h5Z){(function(d5Z){var D5Z=function(){o5Z.TOP=Q933.k3d;o5Z.BOTTOM=Q933.a3d;o5Z.NONE=Q933.u3d;function o5Z(){}return o5Z;}();d5Z.FilterType=D5Z;}(h5Z.consts||(h5Z.consts={})));}(v5Z.data_||(v5Z.data_={})));}(pivot||(pivot={})));(function(Q0Z){(function(s0Z){(function(P0Z){var X0Z=function(){var B8B="numericRange";var r8B="unsorted";S0Z.isValid=function(L0Z){return L0Z==S0Z.UNSORTED||L0Z==S0Z.ASC||L0Z==S0Z.DESC;};S0Z.UNSORTED=r8B;S0Z.ASC=X933.I0B;function S0Z(){}S0Z.DESC=X933.I8B;S0Z.NUMERIC_RANGE=B8B;return S0Z;}();P0Z.SortType=X0Z;}(s0Z.consts||(s0Z.consts={})));}(Q0Z.data_||(Q0Z.data_={})));}(pivot||(pivot={})));(function(g0Z){(function(w0Z){(function(Z0Z){var z0Z=function(){t0Z.ROWS_AXIS=s933.J4h;t0Z.COLUMNS_AXIS=s933.k4h;function t0Z(){}t0Z.PAGES_AXIS=X933.f5B;return t0Z;}();Z0Z.AxisName=z0Z;}(w0Z.consts||(w0Z.consts={})));}(g0Z.data_||(g0Z.data_={})));}(pivot||(pivot={})));(function(p0Z){(function(F0Z){(function(N0Z){var e0Z=function(){var t4I=Q933;b0Z.MD_DIMTYPE_UNKNOWN=t4I.R4d;b0Z.MD_DIMTYPE_TIME=t4I.E4d;b0Z.MD_DIMTYPE_MEASURE=t4I.M4d;function b0Z(){}b0Z.MD_DIMTYPE_OTHER=t4I.J4d;return b0Z;}();N0Z.DimensionType=e0Z;}(F0Z.types||(F0Z.types={})));}(p0Z.data_||(p0Z.data_={})));}(pivot||(pivot={})));(function(V0Z){(function(Y0Z){(function(R0Z){var E0Z=function(){M0Z.fromDataFieldType=function(k0Z){var J0Z=M0Z.DEFAULT;switch(k0Z){case R0Z.DataFieldType.NUMBER:J0Z=M0Z.MEASURE;break;case R0Z.DataFieldType.DATE:J0Z=M0Z.DATE;}return J0Z;};function M0Z(){}M0Z.toDataFieldType=function(a0Z){var C0Z=R0Z.DataFieldType.STRING;switch(a0Z){case M0Z.MEASURE:C0Z=R0Z.DataFieldType.NUMBER;break;case M0Z.DATE:C0Z=R0Z.DataFieldType.DATE;}return C0Z;};M0Z.DEFAULT=Q933.R4d;M0Z.DATE=Q933.E4d;M0Z.MEASURE=Q933.M4d;return M0Z;}();R0Z.HierarchyType=E0Z;}(Y0Z.types||(Y0Z.types={})));}(V0Z.data_||(V0Z.data_={})));}(pivot||(pivot={})));(function(H0Z){(function(A0Z){(function(O0Z){var u0Z=function(){var z4I=Q933;x0Z.fromColumnType=function(i0Z){switch(i0Z){case z4I.l4d:return x0Z.TIME;case z4I.j4d:return x0Z.DATETIME;case z4I.J4d:return x0Z.BOOLEAN;case z4I.i4d:return x0Z.NUMBER;}return x0Z.COUNT;};function x0Z(){}x0Z.fromDataType=function(G0Z){var v8B="timestamp";var l0Z=x0Z.COUNT;switch(G0Z){case z4I.V3d:l0Z=x0Z.NUMBER;break;case z4I.Y3d:l0Z=x0Z.STRING;break;case s933.f1d:l0Z=x0Z.BOOLEAN;break;case P933.q8B:l0Z=x0Z.DATE;break;case v8B:l0Z=x0Z.TIME;break;case P933.h8B:l0Z=x0Z.COUNT;}return l0Z;};x0Z.toDataFieldType=function(j0Z){switch(j0Z){case x0Z.STRING:return O0Z.DataFieldType.STRING;case x0Z.BOOLEAN:return O0Z.DataFieldType.BOOLEAN;case x0Z.DATE:return O0Z.DataFieldType.DATE;case x0Z.DATETIME:return O0Z.DataFieldType.DATETIME;case x0Z.TIME:return O0Z.DataFieldType.TIME;}return O0Z.DataFieldType.NUMBER;};x0Z.NUMBER=z4I.E4d;x0Z.STRING=z4I.M4d;x0Z.BOOLEAN=z4I.J4d;x0Z.DATE=z4I.k4d;x0Z.TIME=z4I.C4d;x0Z.DATETIME=z4I.a4d;x0Z.COUNT=z4I.H4d;return x0Z;}();O0Z.MeasureType=u0Z;}(A0Z.types||(A0Z.types={})));}(H0Z.data_||(H0Z.data_={})));}(pivot||(pivot={})));(function(U0Z){(function(T0Z){(function(c0Z){var f0Z=function(){var w4I=Q933;W0Z.ALL=w4I.R4d;W0Z.STRING=w4I.E4d;W0Z.NUMBER=w4I.M4d;W0Z.BOOLEAN=w4I.J4d;W0Z.DATE=w4I.k4d;W0Z.TIME=w4I.C4d;W0Z.YEAR=w4I.a4d;function W0Z(){}W0Z.HALFYEAR=w4I.H4d;W0Z.QUARTER=w4I.A4d;W0Z.MONTH=w4I.O4d;W0Z.WEEK=w4I.u4d;W0Z.WEEKDAY=w4I.x4d;W0Z.DAY=w4I.i4d;W0Z.HOUR=w4I.l4d;W0Z.MINUTE=w4I.G4d;W0Z.SECOND=w4I.j4d;W0Z.MILLISECOND=w4I.U4d;W0Z.TIME_DATE=w4I.T4d;return W0Z;}();c0Z.LevelType=f0Z;}(T0Z.types||(T0Z.types={})));}(U0Z.data_||(U0Z.data_={})));}(pivot||(pivot={})));(function(n0Z){(function(y0Z){(function(m0Z){var K0Z=function(){var X9O="datetime";var s9O="time";var Q9O="year/quarter/month/day";var o8B="year/month/day";var d8B="date string";var D8B="weekday";r0Z.typeName=function(I0Z){return r0Z.allStrings[I0Z];};r0Z.typeNum=function(B0Z){return r0Z.allStrings.indexOf(B0Z);};r0Z.valid=function(q0Z){return-Q933.E4d<r0Z.allStrings.indexOf(q0Z);};r0Z.typeFromValue=function(v0Z){return Q933.s3d===v0Z?r0Z.STRING:Q933.V3d!=typeof v0Z&&isNaN(Number(v0Z))?Q933.R4d<Date.parse(v0Z)?utils.detectBrowser().isChrome&&!v0Z.match(s933.G8d)?r0Z.STRING:r0Z.DATE:r0Z.STRING:r0Z.NUMBER;};r0Z.STRING=Q933.Y3d;r0Z.NUMBER=Q933.V3d;r0Z.BOOLEAN=s933.f1d;r0Z.LEVEL=X933.o0B;r0Z.MONTH=X933.i0B;r0Z.WEEKDAY=D8B;r0Z.DATE=P933.q8B;r0Z.DATE_STRING=d8B;r0Z.HIERARCHICAL_DATE=o8B;function r0Z(){}r0Z.HIERARCHICAL_DATE_WITH_QUARTERS=Q9O;r0Z.TIME=s9O;r0Z.DATETIME=X9O;r0Z.ID=Q933.o2d;r0Z.DELETE=s933.l7B;r0Z.HIDDEN=X933.V1B;r0Z.allStrings=[r0Z.NUMBER,r0Z.STRING,r0Z.BOOLEAN,r0Z.LEVEL,r0Z.MONTH,r0Z.WEEKDAY,r0Z.DATE,r0Z.DATE_STRING,r0Z.HIERARCHICAL_DATE,r0Z.HIERARCHICAL_DATE_WITH_QUARTERS,r0Z.TIME,r0Z.DATETIME,r0Z.ID,r0Z.DELETE,r0Z.HIDDEN];return r0Z;}();m0Z.DataFieldType=K0Z;}(y0Z.types||(y0Z.types={})));}(n0Z.data_||(n0Z.data_={})));}(pivot||(pivot={})));(function(h0Z){(function(D0Z){(function(o0Z){var d0Z=function(){var e9O="%difference";var F9O="difference";var p9O="index";var t9O="product";var Z9O="percent of column";var z9O="percentofrow";var w9O="percentofcolumn";var g9O="average";var L9O="distinct count";var S9O="distinctcount";Q1Z.aggregationCaption=function(s1Z){return s1Z==Q1Z.SUM?h0Z.model._labels.Labels.SUM_CAPTION:s1Z==Q1Z.COUNT?h0Z.model._labels.Labels.COUNT_CAPTION:s1Z==Q1Z.DISTINCT_COUNT||s1Z==Q1Z.DISTINCT_COUNT_DEPRECATED?h0Z.model._labels.Labels.DISTINCT_COUNT_CAPTION:s1Z==Q1Z.AVERAGE?h0Z.model._labels.Labels.AVERAGE_CAPTION:s1Z==Q1Z.PRODUCT?h0Z.model._labels.Labels.PRODUCT_CAPTION:s1Z==Q1Z.MIN?h0Z.model._labels.Labels.MIN_CAPTION:s1Z==Q1Z.MAX?h0Z.model._labels.Labels.MAX_CAPTION:s1Z==Q1Z.PERCENT?h0Z.model._labels.Labels.PERCENT_CAPTION:s1Z==Q1Z.PERCENT_COLUMN||s1Z==Q1Z.PERCENT_COLUMN_DEPRECATED?h0Z.model._labels.Labels.PERCENT_COLUMN_CAPTION:s1Z==Q1Z.PERCENT_ROW?h0Z.model._labels.Labels.PERCENT_ROW_CAPTION:s1Z==Q1Z.INDEX?h0Z.model._labels.Labels.INDEX_CAPTION:s1Z==Q1Z.DIFFERENCE?h0Z.model._labels.Labels.DIFFERENCE_CAPTION:s1Z==Q1Z.PERCENT_DIFFERENCE?h0Z.model._labels.Labels.PERCENT_DIFFERENCE_CAPTION:s1Z==Q1Z.NONE?h0Z.model._labels.Labels.NONE_CAPTION:s1Z;};Q1Z.aggregationCaptions=function(X1Z){void Q933.R4d===X1Z&&(X1Z=Q933.V2d);var S1Z=[];X1Z=X1Z?X1Z:Q1Z.ALL_AGGREGATIONS;for(var P1Z=Q933.R4d;P1Z<X1Z.length;P1Z++)S1Z.push(Q1Z.aggregationCaption(X1Z[P1Z]));return S1Z;};Q1Z.aggregationTotalCaptions=function(L1Z){var P9O="{0}";void Q933.R4d===L1Z&&(L1Z=Q933.V2d);var w1Z=[];L1Z=L1Z?L1Z:Q1Z.ALL_AGGREGATIONS;for(var g1Z=Q933.R4d;g1Z<L1Z.length;g1Z++)L1Z[g1Z]==Q1Z.SUM&&w1Z.push(h0Z.model._labels.Labels.SUM_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.COUNT&&w1Z.push(h0Z.model._labels.Labels.COUNT_TOTAL_CAPTION),L1Z[g1Z]!=Q1Z.DISTINCT_COUNT&&L1Z[g1Z]!=Q1Z.DISTINCT_COUNT_DEPRECATED||w1Z.push(h0Z.model._labels.Labels.DISTINCT_COUNT_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.AVERAGE&&w1Z.push(h0Z.model._labels.Labels.AVERAGE_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.PRODUCT&&w1Z.push(h0Z.model._labels.Labels.PRODUCT_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.MIN&&w1Z.push(h0Z.model._labels.Labels.MIN_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.MAX&&w1Z.push(h0Z.model._labels.Labels.MAX_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.PERCENT&&w1Z.push(h0Z.model._labels.Labels.PERCENT_TOTAL_CAPTION),L1Z[g1Z]!=Q1Z.PERCENT_COLUMN&&L1Z[g1Z]!=Q1Z.PERCENT_COLUMN_DEPRECATED||w1Z.push(h0Z.model._labels.Labels.PERCENT_COLUMN_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.PERCENT_ROW&&w1Z.push(h0Z.model._labels.Labels.PERCENT_ROW_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.INDEX&&w1Z.push(h0Z.model._labels.Labels.INDEX_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.DIFFERENCE&&w1Z.push(h0Z.model._labels.Labels.DIFFERENCE_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.PERCENT_DIFFERENCE&&w1Z.push(h0Z.model._labels.Labels.PERCENT_DIFFERENCE_TOTAL_CAPTION),L1Z[g1Z]==Q1Z.NONE&&w1Z.push(P9O);return w1Z;};Q1Z.validType=function(z1Z){return-Q933.E4d!=Q1Z.ALL_AGGREGATIONS.indexOf(z1Z)||z1Z==Q1Z.NONE;};Q1Z.validForDateTimeFormatting=function(Z1Z){return-Q933.E4d!=Q1Z.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING.indexOf(Z1Z)||Z1Z==Q1Z.NONE;};Q1Z.deprecatedType=function(t1Z){return t1Z==Q1Z.DISTINCT_COUNT_DEPRECATED||t1Z==Q1Z.PERCENT_COLUMN_DEPRECATED;};Q1Z.fromDeprecatedToValid=function(p1Z){switch(p1Z){case Q1Z.DISTINCT_COUNT_DEPRECATED:return Q1Z.DISTINCT_COUNT;case Q1Z.PERCENT_COLUMN_DEPRECATED:return Q1Z.PERCENT_COLUMN;default:return Q933.s3d;}};Q1Z.SUM=s933.O9h;Q1Z.COUNT=P933.h8B;Q1Z.DISTINCT_COUNT=S9O;Q1Z.DISTINCT_COUNT_DEPRECATED=L9O;Q1Z.AVERAGE=g9O;Q1Z.PERCENT=X933.R3B;Q1Z.PERCENT_COLUMN=w9O;Q1Z.PERCENT_ROW=z9O;Q1Z.PERCENT_COLUMN_DEPRECATED=Z9O;Q1Z.PRODUCT=t9O;Q1Z.INDEX=p9O;Q1Z.MIN=s933.H9h;Q1Z.MAX=s933.A9h;Q1Z.NONE=Q933.u3d;Q1Z.DIFFERENCE=F9O;Q1Z.PERCENT_DIFFERENCE=e9O;function Q1Z(){}Q1Z.ALL_AGGREGATIONS=[Q1Z.SUM,Q1Z.COUNT,Q1Z.DISTINCT_COUNT,Q1Z.AVERAGE,Q1Z.PRODUCT,Q1Z.MIN,Q1Z.MAX,Q1Z.PERCENT,Q1Z.PERCENT_COLUMN,Q1Z.PERCENT_ROW,Q1Z.INDEX,Q1Z.DIFFERENCE,Q1Z.PERCENT_DIFFERENCE];Q1Z.AGGREGATIONS_COMPATIBLE_WITH_DATETIME_FORMATTING=[Q1Z.SUM,Q1Z.AVERAGE,Q1Z.PRODUCT,Q1Z.MIN,Q1Z.MAX];return Q1Z;}();o0Z.AggregationName=d0Z;}(D0Z.consts||(D0Z.consts={})));}(h0Z.data_||(h0Z.data_={})));}(pivot||(pivot={})));(function(F1Z){(function(e1Z){(function(b1Z){var N1Z=function(){var d7I=P933;var h7I=s933;var A9O="updatepercent";var H9O="updatedifference";var C9O="!isnan";var k9O="isnan";var J9O="abs";var M9O="or";var E9O=">=";var R9O="<=";V1Z.ADD=h7I.b8d;V1Z.SUBTRACT=Q933.l3d;V1Z.MULTIPLY=h7I.C9h;V1Z.DIVIDE=h7I.w1d;V1Z.POWER=h7I.a9h;V1Z.LESS=d7I.N9O;V1Z.GREATER=d7I.b9O;V1Z.EQUAL=h7I.G0d;V1Z.EQUAL_2=d7I.V9O;V1Z.NOT_EQUAL=d7I.Y9O;V1Z.LESS_OR_EQUAL=R9O;V1Z.GREATER_OR_EQUAL=E9O;V1Z.OR=M9O;function V1Z(){}V1Z.AND=h7I.Z4B;V1Z.IF=h7I.j7B;V1Z.ABS=J9O;V1Z.MIN=h7I.H9h;V1Z.MAX=h7I.A9h;V1Z.BLANK=k9O;V1Z.NOT_BLANK=C9O;V1Z.VALUE=d7I.a9O;V1Z.UPDATE_DIFFERENCE=H9O;V1Z.UPDATE_PERCENT=A9O;return V1Z;}();b1Z.FunctionName=N1Z;}(e1Z.consts||(e1Z.consts={})));}(F1Z.data_||(F1Z.data_={})));}(pivot||(pivot={})));(function(Y1Z){(function(R1Z){(function(M1Z){var E1Z=function(){var G9O="drillDownTo";var l9O="drillDown";var i9O="drillUp";var x9O="collapse";var u9O="expand";var O9O="select";J1Z.SELECT=O9O;J1Z.EXPAND=u9O;J1Z.COLLAPSE=x9O;J1Z.DRILL_UP=i9O;J1Z.DRILL_DOWN=l9O;J1Z.DRILL_DOWN_TO=G9O;J1Z.DRILL_THROUGH=X933.D6B;J1Z.FILTER=X933.j0B;function J1Z(){}J1Z.SEARCH=X933.M5B;return J1Z;}();M1Z.QueryType=E1Z;}(R1Z.consts||(R1Z.consts={})));}(Y1Z.data_||(Y1Z.data_={})));}(pivot||(pivot={})));(function(k1Z){(function(C1Z){(function(H1Z){var a1Z=function(){var j9O=0.001122334400556678;A1Z.DIVIDE_BY_ZERO=j9O;function A1Z(){}return A1Z;}();H1Z.DataConsts=a1Z;}(C1Z.consts||(C1Z.consts={})));}(k1Z.data_||(k1Z.data_={})));}(pivot||(pivot={})));(function(O1Z){(function(u1Z){(function(x1Z){var i1Z=function(){var I7I=Q933;var T9O="isDemo";var U9O="dataSourceType";Object.defineProperty(l1Z.prototype,U9O,{get:function(){return this._dataSourceType;},set:function(G1Z){this._dataSourceType=G1Z.toLowerCase();},enumerable:!I7I.R4d,configurable:!I7I.R4d});l1Z.prototype.isEqual=function(j1Z){return j1Z&&this.dataSourceType==j1Z.dataSourceType;};Object.defineProperty(l1Z.prototype,X933.S0B,{get:function(){return this._dataSourceType==u1Z.consts.DataSourceType.EMPTY;},set:function(U1Z){},enumerable:!I7I.R4d,configurable:!I7I.R4d});Object.defineProperty(l1Z.prototype,T9O,{get:function(){var f9O="this";return this._dataSourceType==u1Z.consts.DataSourceType.CSV&&f9O==this.filename;},enumerable:!I7I.R4d,configurable:!I7I.R4d});Object.defineProperty(l1Z.prototype,P933.c9O,{get:function(){return!I7I.E4d;},set:function(T1Z){},enumerable:!I7I.R4d,configurable:!I7I.R4d});l1Z.fromObject=function(f1Z){if(void I7I.R4d==f1Z)return new l1Z();utils.nullOrUndefined(f1Z.connectionInfo)||(f1Z=f1Z.connectionInfo);f1Z instanceof l1Z||f1Z instanceof x1Z.CSVConnectionInfo||f1Z instanceof x1Z.JSONConnectionInfo||(f1Z=l1Z.toPlainObject(f1Z));utils.nullOrUndefined(f1Z.dataSourceType)||(f1Z.dataSourceType=f1Z.dataSourceType.toLowerCase());if(!utils.nullOrUndefined(f1Z.filename)&&utils.nullOrUndefined(f1Z.dataSourceType)){var c1Z=f1Z.filename.split(s933.q1d)[I7I.R4d].toLowerCase();X933.J8B==c1Z.substr(-I7I.k4d)?f1Z.dataSourceType=u1Z.consts.DataSourceType.CSV:s933.q4B==c1Z.substr(-I7I.C4d)||s933.v4B==c1Z.substr(-I7I.J4d)?f1Z.dataSourceType=u1Z.consts.DataSourceType.JSON:f1Z.dataSourceType=u1Z.consts.DataSourceType.CSV;}!utils.nullOrUndefined(f1Z.data)&&f1Z.data instanceof Array&&(f1Z.dataSourceType=u1Z.consts.DataSourceType.JSON,f1Z.data=f1Z.data.slice());switch(f1Z.dataSourceType){case u1Z.consts.DataSourceType.CSV:return x1Z.CSVConnectionInfo.fromObject(f1Z);case u1Z.consts.DataSourceType.JSON:return x1Z.JSONConnectionInfo.fromObject(f1Z);default:return new l1Z();}};l1Z.toPlainObject=function(W1Z){var n1Z={};I7I.V2d!=W1Z.dataSourceType&&(n1Z.dataSourceType=W1Z.dataSourceType);I7I.V2d!=W1Z.filename&&(n1Z.filename=W1Z.filename);I7I.V2d!=W1Z.requestHeader&&(n1Z.requestHeader=W1Z.requestHeader);I7I.V2d!=W1Z.browseForFile&&(n1Z.browseForFile=W1Z.browseForFile);I7I.V2d!=W1Z.fieldSeparator&&(n1Z.fieldSeparator=W1Z.fieldSeparator);I7I.V2d!=W1Z.recordsetDelimiter&&(n1Z.recordsetDelimiter=W1Z.recordsetDelimiter);I7I.V2d!=W1Z.ignoreQuotedLineBreaks&&(n1Z.ignoreQuotedLineBreaks=W1Z.ignoreQuotedLineBreaks);I7I.V2d!=W1Z.embedded&&(n1Z.embedded=W1Z.embedded);I7I.V2d!=W1Z.embeddedDataOffset&&(n1Z.embeddedDataOffset=W1Z.embeddedDataOffset);I7I.V2d!=W1Z.embeddedDataToLoad&&(n1Z.embeddedDataToLoad=W1Z.embeddedDataToLoad);I7I.V2d!=W1Z.data&&(n1Z.data=W1Z.data);I7I.V2d!=W1Z.checkUpdates&&(n1Z.checkUpdates=W1Z.checkUpdates);I7I.V2d!=W1Z.url&&(n1Z.url=W1Z.url);I7I.V2d!=W1Z.hash&&(n1Z.hash=W1Z.hash);I7I.V2d!=W1Z.username&&(n1Z.username=W1Z.username);I7I.V2d!=W1Z.password&&(n1Z.password=W1Z.password);I7I.V2d!=W1Z.dataSource&&(W1Z=W1Z.dataSource,I7I.V2d!=W1Z.dataSourceType&&(n1Z.dataSourceType=W1Z.dataSourceType),I7I.V2d!=W1Z.filename&&(n1Z.filename=W1Z.filename),I7I.V2d!=W1Z.browseForFile&&(n1Z.browseForFile=W1Z.browseForFile),I7I.V2d!=W1Z.fieldSeparator&&(n1Z.fieldSeparator=W1Z.fieldSeparator),I7I.V2d!=W1Z.recordsetDelimiter&&(n1Z.recordsetDelimiter=W1Z.recordsetDelimiter),I7I.V2d!=W1Z.ignoreQuotedLineBreaks&&(n1Z.ignoreQuotedLineBreaks=W1Z.ignoreQuotedLineBreaks),I7I.V2d!=W1Z.embedded&&(n1Z.embedded=W1Z.embedded),I7I.V2d!=W1Z.embeddedDataOffset&&(n1Z.embeddedDataOffset=W1Z.embeddedDataOffset),I7I.V2d!=W1Z.embeddedDataToLoad&&(n1Z.embeddedDataToLoad=W1Z.embeddedDataToLoad),I7I.V2d!=W1Z.isOCSV2Data&&(n1Z.isOCSV2Data=W1Z.isOCSV2Data),I7I.V2d!=W1Z.data&&(n1Z.data=W1Z.data),I7I.V2d!=W1Z.url&&(n1Z.url=W1Z.url),W1Z=W1Z.credentials,I7I.V2d!=W1Z&&(I7I.V2d!=W1Z.hash&&(n1Z.hash=W1Z.hash),I7I.V2d!=W1Z.username&&(n1Z.username=W1Z.username),I7I.V2d!=W1Z.password&&(n1Z.password=W1Z.password)));return n1Z;};l1Z.prototype.toObject=function(y1Z){y1Z={};this.dataSourceType!=u1Z.consts.DataSourceType.EMPTY&&(y1Z.dataSourceType=this.dataSourceType);return y1Z;};function l1Z(){this._dataSourceType=u1Z.consts.DataSourceType.EMPTY;this.isUpdateData=!I7I.E4d;}return l1Z;}();x1Z.ConnectionInfo=i1Z;}(u1Z.vo||(u1Z.vo={})));}(O1Z.data_||(O1Z.data_={})));}(pivot||(pivot={})));(function(K1Z){(function(m1Z){(function(r1Z){var I1Z=function(B1Z){__extends(q1Z,B1Z);function q1Z(){var v1Z=Q933.V2d!==B1Z&&B1Z.apply(this,arguments)||this;v1Z.browseForFile=!Q933.E4d;v1Z.requestHeader=Q933.V2d;return v1Z;}q1Z.prototype.isEqual=function(h1Z){return B1Z.prototype.isEqual.call(this,h1Z)&&this.filename==h1Z.filename&&!Q933.E4d==this.browseForFile&&!Q933.E4d==h1Z.browseForFile;};return q1Z;}(r1Z.ConnectionInfo);r1Z.FileConnectionInfo=I1Z;}(m1Z.vo||(m1Z.vo={})));}(K1Z.data_||(K1Z.data_={})));}(pivot||(pivot={})));(function(D1Z){(function(d1Z){(function(o1Z){var Q8Z=function(X8Z){var m7I=Q933;__extends(s8Z,X8Z);Object.defineProperty(s8Z.prototype,X933.S0B,{get:function(){return utils.nullOrEmpty(this.filename)&&(m7I.V2d==this.browseForFile||!m7I.E4d==this.browseForFile)&&utils.nullOrUndefined(this.data);},set:function(S8Z){},enumerable:!m7I.R4d,configurable:!m7I.R4d});Object.defineProperty(s8Z.prototype,P933.c9O,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(L8Z){},enumerable:!m7I.R4d,configurable:!m7I.R4d});s8Z.prototype.isEqual=function(g8Z){return g8Z==this?!m7I.R4d:X8Z.prototype.isEqual.call(this,g8Z)&&utils.nullOrUndefined(g8Z.data);};s8Z.fromObject=function(w8Z){var z8Z=new s8Z();void m7I.R4d!==w8Z.browseForFile&&(z8Z.browseForFile=w8Z.browseForFile);void m7I.R4d!==w8Z.filename&&m7I.s3d!=w8Z.filename&&(z8Z.filename=w8Z.filename);void m7I.R4d!==w8Z.data&&(z8Z.data=w8Z.data);void m7I.R4d!==w8Z.checkUpdates&&(z8Z.checkUpdates=w8Z.checkUpdates);void m7I.R4d!==w8Z.requestHeader&&(z8Z.requestHeader=w8Z.requestHeader);return z8Z;};function s8Z(){var P8Z=X8Z.call(this)||this;P8Z.checkUpdates=!m7I.E4d;P8Z.dataSourceType=d1Z.consts.DataSourceType.JSON;return P8Z;}s8Z.prototype.toObject=function(t8Z){void m7I.R4d===t8Z&&(t8Z=!m7I.E4d);var Z8Z={};Z8Z.dataSourceType=this.dataSourceType;if(t8Z||this.browseForFile)Z8Z.browseForFile=this.browseForFile;this.filename&&(Z8Z.filename=this.filename);utils.nullOrUndefined(this.data)||(Z8Z.data=this.data);return Z8Z;};return s8Z;}(o1Z.FileConnectionInfo);o1Z.JSONConnectionInfo=Q8Z;}(d1Z.vo||(d1Z.vo={})));}(D1Z.data_||(D1Z.data_={})));}(pivot||(pivot={})));(function(p8Z){(function(F8Z){(function(e8Z){var N8Z=function(V8Z){var n7I=Q933;__extends(b8Z,V8Z);Object.defineProperty(b8Z.prototype,X933.S0B,{get:function(){return utils.nullOrEmpty(this.filename)&&(n7I.V2d==this.browseForFile||!n7I.E4d==this.browseForFile)&&(n7I.V2d==this.embedded||!n7I.E4d==this.embedded);},set:function(R8Z){},enumerable:!n7I.R4d,configurable:!n7I.R4d});function b8Z(){var Y8Z=V8Z.call(this)||this;Y8Z.recordsetDelimiter=s933.D0d;Y8Z.ignoreQuotedLineBreaks=!n7I.R4d;Y8Z.embedded=!n7I.E4d;Y8Z.embeddedDataOffset=n7I.R4d;Y8Z.dataSourceType=F8Z.consts.DataSourceType.CSV;return Y8Z;}Object.defineProperty(b8Z.prototype,P933.c9O,{get:function(){return!utils.nullOrUndefined(this.data);},set:function(E8Z){},enumerable:!n7I.R4d,configurable:!n7I.R4d});b8Z.prototype.isEqual=function(M8Z){return V8Z.prototype.isEqual.call(this,M8Z)&&!n7I.E4d==this.embedded&&!n7I.E4d==M8Z.embedded;};b8Z.fromObject=function(J8Z){var k8Z=new b8Z();void n7I.R4d!==J8Z.browseForFile&&(k8Z.browseForFile=J8Z.browseForFile);void n7I.R4d!==J8Z.filename&&n7I.s3d!=J8Z.filename&&(k8Z.filename=J8Z.filename);void n7I.R4d!==J8Z.fieldSeparator&&(k8Z.fieldSeparator=J8Z.fieldSeparator);void n7I.R4d!==J8Z.recordsetDelimiter&&(k8Z.recordsetDelimiter=J8Z.recordsetDelimiter);void n7I.R4d!==J8Z.ignoreQuotedLineBreaks&&(k8Z.ignoreQuotedLineBreaks=J8Z.ignoreQuotedLineBreaks);void n7I.R4d!==J8Z.embedded&&(k8Z.embedded=J8Z.embedded);void n7I.R4d!==J8Z.embeddedDataOffset&&(k8Z.embeddedDataOffset=J8Z.embeddedDataOffset);void n7I.R4d!==J8Z.embeddedDataToLoad&&(k8Z.embeddedDataToLoad=J8Z.embeddedDataToLoad);void n7I.R4d!==J8Z.requestHeader&&(k8Z.requestHeader=J8Z.requestHeader);return k8Z;};b8Z.prototype.toObject=function(a8Z){void n7I.R4d===a8Z&&(a8Z=!n7I.E4d);var C8Z={};C8Z.dataSourceType=this.dataSourceType;if(a8Z||this.browseForFile&&!this.embedded)C8Z.browseForFile=this.browseForFile;this.filename&&(C8Z.filename=this.filename);this.fieldSeparator&&(C8Z.fieldSeparator=this.fieldSeparator);this.recordsetDelimiter&&s933.D0d!=this.recordsetDelimiter&&(C8Z.recordsetDelimiter=this.recordsetDelimiter);if(a8Z||!n7I.E4d==this.ignoreQuotedLineBreaks)C8Z.ignoreQuotedLineBreaks=this.ignoreQuotedLineBreaks;this.embedded&&(C8Z.embedded=this.embedded);return C8Z;};return b8Z;}(e8Z.FileConnectionInfo);e8Z.CSVConnectionInfo=N8Z;}(F8Z.vo||(F8Z.vo={})));}(p8Z.data_||(p8Z.data_={})));}(pivot||(pivot={})));(function(H8Z){(function(A8Z){var O8Z=function(x8Z){var Z1E=Q933;var r9O="gridHeight";var m9O="gridWidth";var K9O="stageHeight";var y9O="stageWidth";var W9O="toolbarHeight";__extends(u8Z,x8Z);Object.defineProperty(u8Z.prototype,W9O,{get:function(){var n9O="wdr-toolbar-wrapper";if(this.toolbar){var v8Z=uicontrols.UIElement.convert(document.getElementById(n9O));return Z1E.V2d==v8Z?Z1E.R4d:v8Z.height;}return Z1E.R4d;},enumerable:!Z1E.R4d,configurable:!Z1E.R4d});Object.defineProperty(u8Z,y9O,{get:function(){var h8Z=u8Z.stage.container.borderWidth;return u8Z.stage.parentContainer.getWidth(utils.isFullscreen())-h8Z.left-h8Z.right;},enumerable:!Z1E.R4d,configurable:!Z1E.R4d});Object.defineProperty(u8Z,K9O,{get:function(){var D8Z=u8Z.stage.container.borderWidth;return u8Z.stage.parentContainer.getHeight(utils.isFullscreen())-D8Z.top-D8Z.bottom;},enumerable:!Z1E.R4d,configurable:!Z1E.R4d});Object.defineProperty(u8Z,m9O,{get:function(){return u8Z.stageWidth;},enumerable:!Z1E.R4d,configurable:!Z1E.R4d});Object.defineProperty(u8Z,r9O,{get:function(){return u8Z.stage.pivotHeight();},enumerable:!Z1E.R4d,configurable:!Z1E.R4d});u8Z.prototype.pivotHeight=function(){return u8Z.stageHeight-u8Z.stage.toolbarHeight;};u8Z.prototype.draw=function(d8Z){var B9O="document.visibilityState:";var I9O="Flexmonster:\nPivot cannot be drawn.";var o8Z=this;void Z1E.R4d===d8Z&&(d8Z=!Z1E.E4d);this.clearDelays();if(this.drawn||this.isUIReady){var Q9V=this.container.requestAnimationFrame(function(s9V){o8Z.clearDelays();o8Z._draw(d8Z);});this.delayedDraws.push(Q9V);}else Z1E.v6d>this.notReadyCount++?this.notReadyTimeout=utils.fmSetTimeout(function(){o8Z.draw(d8Z);},Z1E.u4d):this.parentContainer.visible&&(console.error(I9O),console.error(B9O,document.visibilityState),X933.V1B!=document.visibilityState&&alert(I9O));};u8Z.prototype.clearDelays=function(){for(;Z1E.R4d<this.delayedDraws.length;)this.container.cancelAnimationFrame(this.delayedDraws.pop());this.delayedDraws=[];utils.fmClearTimeout(this.notReadyTimeout);utils.fmClearTimeout(this.renderCompleteTimeout);};u8Z.prototype.updateContainerSize=function(){if(!this.parentContainer)return!Z1E.E4d;var S9V=utils.isFullscreen(),P9V=this.parentContainer.getWidth();S9V&&(P9V=window.screen.width);var X9V=this.parentContainer.getHeight();S9V&&(X9V=window.screen.height);X9V-=this.toolbarHeight;if(this.lastWidth!==P9V||this.lastHeight!==X9V)this.container.css(Z1E.R3d,P9V+Z1E.r2d),this.container.css(Z1E.M3d,X9V+Z1E.r2d);return this.lastWidth!==P9V||this.lastHeight!==X9V;};function u8Z(T8Z,l8Z){var X7O="MSFullscreenChange";var s7O="webkitfullscreenchange";var Q7O="mozfullscreenchange";var o9O="fullscreenchange";var D9O=/\d+(?=px|%)/;var h9O="500px";var v9O="100%";var q9O="wdr-pivot-view";var i8Z=x8Z.call(this)||this;i8Z.isUIReady=!Z1E.E4d;i8Z.model_=H8Z.model.PivotModel.getInstance();i8Z.width=Z1E.R4d;i8Z.height=Z1E.R4d;i8Z.lastWidth=Z1E.R4d;i8Z.lastHeight=Z1E.R4d;i8Z.delayedDraws=[];i8Z.notReadyCount=Z1E.R4d;i8Z.drawn=!Z1E.E4d;i8Z.drillthroughClosedHandler=function(){return i8Z.onDrillThroughClosed();};i8Z.isFocused=!Z1E.R4d;i8Z.setId(q9O);Z1E.V2d!=i8Z.parentContainer&&i8Z.parentContainer.dispose();T8Z.empty();i8Z.parentContainer=T8Z;u8Z.stage=i8Z;var G8Z=l8Z.width?Z1E.V3d===typeof l8Z.width?l8Z.width+Z1E.r2d:-Z1E.E4d<l8Z.width.indexOf(Z1E.r2d)||l8Z.width.indexOf(X933.E3B)==l8Z.width.length-Z1E.E4d?l8Z.width:l8Z.width+Z1E.r2d:v9O,j8Z=l8Z.height?Z1E.V3d===typeof l8Z.height?l8Z.height+Z1E.r2d:-Z1E.E4d<l8Z.height.indexOf(Z1E.r2d)||l8Z.height.indexOf(X933.E3B)==l8Z.height.length-Z1E.E4d?l8Z.height:l8Z.height+Z1E.r2d:h9O,U8Z=D9O,G8Z=G8Z.match(U8Z)?G8Z:v9O,j8Z=j8Z.match(U8Z)?j8Z:h9O;i8Z.parentContainer.css(Z1E.R3d,G8Z);i8Z.parentContainer.css(Z1E.M3d,j8Z);i8Z.container.css(Z1E.R3d,G8Z);i8Z.container.css(Z1E.M3d,j8Z);i8Z.parentContainer.append(i8Z.container);i8Z.container.requestAnimationFrame(function(){var d9O="html5";i8Z.toolbar=l8Z.toolbar?new WebDataRocksToolbar(i8Z.parentContainer.element,H8Z.Pivot.instance.api,d9O,G8Z,H8Z.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar):Z1E.V2d;H8Z.model.JavaScriptHandlers.getInstance().dispatch(new H8Z.model.APIEvent(H8Z.model.JavaScriptHandlers.BEFORE_TOOLBAR_CREATED,i8Z.toolbar));i8Z.toolbar&&Z1E.V2d!=i8Z.toolbar.create&&i8Z.toolbar.create();i8Z.setControls();i8Z.draw();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.LOADING_REPORT_FILE,function(){return i8Z.onLoadingReportFile();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.EMPTY_SLICE,function(){return i8Z.onEmptySlice();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.LOADING_DATA,function(){return i8Z.onLoadingData();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.RUNNING_QUERY,function(){return i8Z.onBeforeDataQuery();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.QUERY_COMPLETE,function(){return i8Z.onDataQueryComplete();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.REPORT_COMPLETE,function(){return i8Z.onReportComplete();});i8Z.model_.state_.addEventListener(H8Z.model._state.StateEvent.LOCALIZATION_LOADED,function(){return i8Z.onLocalizationLoaded();});i8Z.model_.addEventListener(H8Z.PivotEvent.EXPORT,function(f8Z){return i8Z.onExport(f8Z);});i8Z.model_.addEventListener(H8Z.PivotEvent.PRINT,function(){return i8Z.onPrint();});i8Z.model_.addEventListener(A8Z.ViewEvent.CALCULATED_VIEW_OPEN,function(c8Z){return i8Z.onOpenCalculatedView(c8Z);});i8Z.model_.addEventListener(A8Z.ViewEvent.CONTEXT_MENU_OPEN,function(W8Z){return i8Z.onOpenContextMenu(W8Z);});i8Z.addEventListener(A8Z.ViewEvent.AFTER_GRID_DRAW,function(){return i8Z.onAfterGridDraw();});utils.fmdocument.addEventListener(o9O,function(n8Z){return i8Z.onDocumentFullScreen(n8Z);},!Z1E.E4d);utils.fmdocument.addEventListener(Q7O,function(y8Z){return i8Z.onDocumentFullScreen(y8Z);},!Z1E.E4d);utils.fmdocument.addEventListener(s7O,function(K8Z){return i8Z.onDocumentFullScreen(K8Z);},!Z1E.E4d);utils.fmdocument.addEventListener(X7O,function(m8Z){return i8Z.onDocumentFullScreen(m8Z);},!Z1E.E4d);i8Z.parentContainer.addEventListener(o9O,function(r8Z){return i8Z.onFullScreen(r8Z);},!Z1E.E4d);i8Z.parentContainer.addEventListener(Q7O,function(I8Z){return i8Z.onFullScreen(I8Z);},!Z1E.E4d);i8Z.parentContainer.addEventListener(s7O,function(B8Z){return i8Z.onFullScreen(B8Z);},!Z1E.E4d);i8Z.parentContainer.addEventListener(X7O,function(q8Z){return i8Z.onFullScreen(q8Z);},!Z1E.E4d);return i8Z;}u8Z.prototype.onWindowResize=function(L9V){this.toolbar&&Z1E.V2d!=this.toolbar.applyToolbarLayoutClasses&&this.toolbar.applyToolbarLayoutClasses();this.draw(!Z1E.R4d);};u8Z.prototype.onLoadingReportFile=function(){this.model_.state_.reportType==H8Z.model._state.ReportType.INIT&&this.drawEmptyView();};u8Z.prototype.onEmptySlice=function(){this.draw();};u8Z.prototype.onLoadingData=function(){this.model_.state_.reportType!=H8Z.model._state.ReportType.UPDATE_DATA&&this.model_.state_.reportType!=H8Z.model._state.ReportType.CONNECT_TO&&this.drawEmptyView();};u8Z.prototype.onBeforeDataQuery=function(){};u8Z.prototype.onDataQueryComplete=function(){this.model_.state_.reportType!=H8Z.model._state.ReportType.INIT&&this.model_.state_.reportType!=H8Z.model._state.ReportType.LOAD&&this.draw();};u8Z.prototype.onLocalizationLoaded=function(){Z1E.V2d!=this.toolbar&&this.toolbar.updateLabels(H8Z.model._labels.LabelsManager.getInstance().getCurrentLocalization().toolbar);};u8Z.prototype.onReportComplete=function(){this.model_.state_.reportType==H8Z.model._state.ReportType.CLEAR?this.drawEmptyView():this.parentContainer&&this.draw();};u8Z.prototype.onDocumentFullScreen=function(g9V){this.handleFullScreen();};u8Z.prototype.onFullScreen=function(w9V){w9V.stopPropagation();this.handleFullScreen();};u8Z.prototype.handleFullScreen=function(){var Z9V=this,z9V=utils.isFullscreen();Z1E.V2d!=H8Z.model.JavaScriptHandlers.jsFullScreenHandler&&H8Z.model.JavaScriptHandlers.jsFullScreenHandler.call(Z1E.V2d,z9V);z9V=this.container.requestAnimationFrame(function(){Z9V.updateContainerSize()&&Z9V.draw(!Z1E.R4d);});this.delayedDraws.push(z9V);};u8Z.prototype.setControls=function(){var S7O="wdr-credits";var P7O='<a href="https://webdatarocks.com/?r=wdr" target="_blank">WebDataRocks.com</a>';var t9V=this;this.toolbar&&(this.container.height-=this.toolbarHeight);this.gridView=new A8Z.grid.GridView();this.gridView.addEventListener(A8Z.ViewEvent.FILTER_OPEN,function(F9V){return t9V.onFilterOpenGrid(F9V);});this.gridView.addEventListener(A8Z.ViewEvent.DRILL_THROUGH_OPEN,function(e9V){return t9V.onDrillThroughOpen(e9V);});this.addChild(this.gridView);this.fieldsView=new A8Z.config.FieldsView();this.fieldsView.addEventListener(events._Event.OPENED,function(N9V){return t9V.onWindowOpenClose(N9V);});this.fieldsView.addEventListener(events._Event.CLOSED,function(b9V){return t9V.onWindowOpenClose(b9V);});this.fieldsView.addEventListener(A8Z.config.FieldsView.EVENT_OPEN,function(V9V){return t9V.onFieldsViewOpen(V9V);});this.fieldsView.addEventListener(A8Z.config.FieldsView.EVENT_APPLY_SLICE,function(Y9V){return t9V.onFieldsViewApplySlice(Y9V);});this.addChild(this.fieldsView);var p9V=new uicontrols.UILabel();p9V.html(P7O);p9V.addClass(S7O);this.addChild(p9V);utils.fmdocument.addEventListener(s933.R7h,function(R9V){return t9V.onKeyDown(R9V);});this.container.attr(P933.L7O,Z1E.R4d);this.container.addEventListener(Z1E.g5d,function(E9V){t9V.isFocused=!Z1E.R4d;});this.container.addEventListener(Z1E.w5d,function(M9V){t9V.isFocused=!Z1E.E4d;});this._resizeListener=new utils.ResizeListener(this.parentContainer.parent);this._resizeListener.addEventListener(events._Event.RESIZE,function(J9V){return t9V.onWindowResize(J9V);});this.isUIReady=!Z1E.R4d;};u8Z.prototype._draw=function(k9V){void Z1E.R4d===k9V&&(k9V=!Z1E.E4d);Z1E.V2d!=this.model_&&(this.drawn=!Z1E.R4d,this.updateContainerSize(),Z1E.V2d!=this.filterView&&this.filterView.draw(),utils.nullOrUndefined(this.model_.state_.connectionInfo_)||this.model_.state_.connectionInfo_.isEmpty||!H8Z.model._options.OptionsManager.configuratorButton?this.fieldsView.hide():this.fieldsView.show(),k9V||H8Z.model._options.OptionsManager.configuratorActive||A8Z.calculated.CalculatedView.addingMeasureFlag||(H8Z.model._options.OptionsManager.configuratorOpened=!Z1E.E4d),Z1E.V2d!=this.model_.cube_.slice_&&this.model_.cube_.slice_.isEmpty&&(H8Z.model._options.OptionsManager.configuratorOpened=!Z1E.R4d),H8Z.model._options.OptionsManager.configuratorOpened&&Z1E.V2d!=this.model_.state_.connectionInfo_&&!this.model_.state_.connectionInfo_.isEmpty?this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType):this.fieldsView.close(),this.drawGrid(k9V),Z1E.V2d!=this.drillThroughView&&this.drillThroughView.isVisible()&&(H8Z.model._options.OptionsManager.flatView?this.drillThroughView.close():this.drillThroughView.redraw()),this.lastWidth=this.getWidth(),this.lastHeight=this.getHeight());};u8Z.prototype.drawEmptyView=function(){this.drawGrid(!Z1E.E4d,!Z1E.R4d);utils.nullOrUndefined(this.fieldsView)||this.fieldsView.close();};u8Z.prototype.drawGrid=function(C9V,a9V){void Z1E.R4d===C9V&&(C9V=!Z1E.E4d);void Z1E.R4d===a9V&&(a9V=!Z1E.E4d);Z1E.V2d!=this.gridView&&(C9V||Z1E.V2d==this.filterView||this.filterView.close(),this.gridView.dataProvider=a9V?Z1E.V2d:this.model_.dataProvider_=H8Z.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.gridView.container.css(Z1E.k3d,Z1E.s3d).css(Z1E.J3d,Z1E.s3d).css(Z1E.C3d,Z1E.s3d).css(Z1E.a3d,Z1E.s3d),this.gridView.container.css(Z1E.E5d,s933.M5d),this.gridView.show(),this.gridView.container.css(Z1E.M3d,u8Z.gridHeight+Z1E.r2d),this.gridView.container.css(Z1E.R3d,u8Z.stageWidth+Z1E.r2d),C9V||this.model_.cube_.connectionInfo_&&this.model_.cube_.connectionInfo_.isUpdateData||this.gridView.clearSizes(),this.gridView.draw(),H8Z.model._options.OptionsManager.flatView&&this.fieldsView.isOpen&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType));};u8Z.prototype.onDrillThroughOpen=function(H9V){Z1E.V2d==this.drillThroughView&&this.addDrillThroughView();this.drillThroughView.addEventListener(A8Z.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);var A9V=this.model_.cube_.structure_.findMeasure(H9V.data.measure);this.drillThroughView.openView(this.model_.dataProvider_,this.model_.cube_.slice_,H9V.data.columnTuple,H9V.data.rowTuple,A9V);};u8Z.prototype.onDrillThroughClosed=function(){this.drillThroughView.removeEventListener(A8Z.grid.GridEvent.DRILLTHROUGH_CLOSED,this.drillthroughClosedHandler);this.model_.cube_.refresh();};u8Z.prototype.openFieldsList=function(){Z1E.V2d!=this.model_.state_.connectionInfo_&&this.fieldsView.open(this.model_.cube_.structure_,this.model_.cube_.slice_,this.model_.state_.connectionInfo_.dataSourceType);};u8Z.prototype.onFieldsViewApplySlice=function(O9V){H8Z.Pivot.instance.runQuery(O9V.data);};u8Z.prototype.onFilterOpenGrid=function(u9V){Z1E.V2d==this.filterView&&this.addFilterView();this.onFilterOpen(u9V);};u8Z.prototype.onFilterOpen=function(x9V){var i9V={hierarchy:H8Z.data_._structure.GenericHierarchy.toObject(x9V.hierarchy)};H8Z.model.JavaScriptHandlers.getInstance().dispatch(new H8Z.model.APIEvent(H8Z.model.JavaScriptHandlers.FILTER_OPEN,i9V));this.openFilter(x9V.hierarchy);};u8Z.prototype.openFilter=function(l9V){Z1E.V2d==this.filterView&&this.addFilterView();this.filterView.openView(l9V);};u8Z.prototype.closeFieldsList=function(){this.fieldsView.close();};u8Z.prototype.onFieldsViewOpen=function(G9V){this.openFieldsList();};u8Z.prototype.onWindowOpenClose=function(j9V){};u8Z.prototype.onKeyDown=function(U9V){var R6d=73;this.isFocused&&(R6d===U9V.keyCode&&U9V.ctrlKey&&U9V.altKey&&this.showLicenseInfo(),Z1E.I4d===U9V.keyCode&&(Z1E.V2d!=this.filterView&&this.filterView.close(),Z1E.V2d!=this.drillThroughView&&this.drillThroughView.close(),Z1E.V2d!=this.calculatedView&&this.calculatedView.isVisible()?this.calculatedView.close():this.fieldsView.close()));};u8Z.prototype.onExport=function(T9V){this.drillThroughView&&this.drillThroughView.isVisible()?this.drillThroughView.exportTo(T9V.exportType,T9V.exportOptions,T9V.callbackHandler):this.gridView.exportTo(T9V.exportType,T9V.exportOptions,T9V.callbackHandler);};u8Z.prototype.onPrint=function(){this.gridView.print();};u8Z.prototype.showLicenseInfo=function(){var w7O=") <br/><br/>";var g7O=" (build ";var t6d=61;var f9V=new Date(parseFloat(H8Z.Pivot.BUILD_DATE)/t6d),f9V=H8Z.Pivot.BUILD_VERSION+g7O+utils.StringUtils.toDateTime(f9V.getTime())+w7O,f9V=f9V+H8Z.model.license.LicenseLabels.getLabel(H8Z.model.license.LicenseLabels.info);H8Z.uialert(f9V,H8Z.model.license.LicenseLabels.getLabel(H8Z.model.license.LicenseLabels.componentInfo),H8Z.AlertType.INFO);};u8Z.prototype.getCell=function(c9V,W9V){return this.gridView.getCell(c9V,W9V);};u8Z.prototype.getSelectedCell=function(){return this.gridView.getSelectedCell();};u8Z.prototype.setSelectedCell=function(n9V,y9V){this.gridView.setSelectedCell(n9V,y9V);};u8Z.prototype.removeSelection=function(){this.gridView.removeSelection();};u8Z.prototype.onOpenCalculatedView=function(K9V){Z1E.V2d==this.calculatedView&&this.addCalculatedView();this.calculatedView.openView(K9V.data?K9V.data.measureName:Z1E.s3d);};u8Z.prototype.onOpenContextMenu=function(m9V){Z1E.V2d==this.contextMenu&&this.addContextMenu();this.contextMenu.showWith(this.container,m9V.data.menuItems,m9V.data.coords);};u8Z.prototype.onAfterGridDraw=function(){var r9V=this;Z1E.R4d==this.delayedDraws.length&&(this.renderCompleteTimeout=utils.fmSetTimeout(function(){r9V.dispatchWith(A8Z.ViewEvent.RENDER_COMPLETE);},Z1E.E4d));};u8Z.prototype.addCalculatedView=function(){this.calculatedView=new A8Z.calculated.CalculatedView();this.addChild(this.calculatedView);};u8Z.prototype.addDrillThroughView=function(){this.drillThroughView=new A8Z.grid.DrillThroughView();this.addChild(this.drillThroughView);};u8Z.prototype.addFilterView=function(){var I9V=this;this.filterView=new A8Z.filter.FilterView();this.filterView.addEventListener(events._Event.OPENED,function(B9V){return I9V.onWindowOpenClose(B9V);});this.filterView.addEventListener(events._Event.CLOSED,function(q9V){return I9V.onWindowOpenClose(q9V);});this.addChild(this.filterView);};u8Z.prototype.getToolbar=function(){return this.toolbar;};u8Z.prototype.addContextMenu=function(){this.contextMenu=new A8Z.ContextMenuView();this.contextMenu.hide();this.addChild(this.contextMenu);};u8Z.prototype.dispose=function(){this.model_=Z1E.V2d;this.gridView.dispose();this.container.dispose();this.parentContainer.dispose();A8Z.AlertView.dispose();A8Z.filter.FilterModel.dispose();A8Z.PreloaderView.dispose();uicontrols.dragndrop.DragManager.dispose();u8Z.stage=Z1E.V2d;this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=Z1E.V2d);};return u8Z;}(uicontrols.containers.UIContainer);A8Z.PivotView=O8Z;}(H8Z._view||(H8Z._view={})));}(pivot||(pivot={})));(function(v9V){(function(h9V){var D9V=function(){var y6d=250;d9V.prototype.show=function(o9V,s7V,X7V,Q7V,P7V){var G7I=Q933;var S7V=this;void G7I.R4d===Q7V&&(Q7V=!G7I.R4d);void G7I.R4d===P7V&&(P7V=!G7I.E4d);o9V?(P7V&&this.showImmediately(o9V,s7V,X7V,Q7V),!G7I.E4d==this._show?(this._show=o9V,this._message=s7V,this._details=X7V,this._transparent=Q7V,this._timer=utils.fmSetTimeout(function(){return S7V.timerHandler();},d9V.DELAY)):G7I.R4d==this._timer?this.showImmediately(o9V,s7V,X7V,Q7V):(this._show=o9V,this._message=s7V,this._details=X7V,this._transparent=Q7V)):(P7V&&this.showImmediately(o9V,s7V,X7V,Q7V),!G7I.R4d==this._show&&(this._show=o9V,this._timer=utils.fmSetTimeout(function(){return S7V.timerHandler();},d9V.DELAY)));};d9V.prototype.showImmediately=function(L7V,g7V,w7V,z7V){this.resetTimer();this.preloaderFunction(L7V,g7V,w7V,z7V);};d9V.prototype.timerHandler=function(){this.resetTimer();this.preloaderFunction(this._show,this._message,this._details,this._transparent);};function d9V(){var l7I=Q933;this._timer=l7I.R4d;this._show=!l7I.E4d;this._details=this._message=l7I.s3d;this._transparent=!l7I.E4d;}d9V.prototype.resetTimer=function(){utils.fmClearTimeout(this._timer);this._timer=Q933.R4d;};d9V.prototype.preloaderFunction=function(Z7V,t7V,p7V,F7V){h9V.PreloaderView.getInstance()&&h9V.PreloaderView.getInstance().openView(Z7V,t7V,p7V,F7V);};d9V.getInstance=function(){Q933.V2d==d9V._instance&&(d9V._instance=new d9V());return d9V._instance;};d9V.dispose=function(){d9V._instance=Q933.V2d;};d9V.DELAY=y6d;return d9V;}();h9V.Preloader=D9V;}(v9V._view||(v9V._view={})));}(pivot||(pivot={})));(function(e7V){(function(N7V){var b7V=function(Y7V){__extends(V7V,Y7V);V7V.prototype.openView=function(E7V,M7V,J7V,k7V){var O7I=Q933;void O7I.R4d===E7V&&(E7V=!O7I.R4d);void O7I.R4d===M7V&&(M7V=O7I.s3d);void O7I.R4d===J7V&&(J7V=O7I.s3d);void O7I.R4d===k7V&&(k7V=!O7I.R4d);this._message=M7V;this._details=J7V;this._transparent=k7V;E7V?this.open():this.close();};V7V.prototype.open=function(){Y7V.prototype.open.call(this);this.draw();};V7V.prototype.setControls=function(){var p7O="wdr-details-label";var t7O="wdr-message-label";var Z7O="wdr-spinner";var z7O="wdr-overlay-preloader";this.overlay.addClass(z7O);this.overlay.removeEventListener(Q933.m3d,this._overlayClickHandler);this._imgSpinner=new uicontrols.UIComponentBase(Q933.S3d);this._imgSpinner.setId(Z7O);this.addChild(this._imgSpinner);this._txtMessage=new uicontrols.UILabel();this._txtMessage.setId(t7O);this.addChild(this._txtMessage);this._txtDetails=new uicontrols.UILabel();this._txtDetails.setId(p7O);this.addChild(this._txtDetails);this.hide();N7V.PivotView.stage.addChild(this);};function V7V(){var F7O="wdr-preloader-view";var R7V=this;if(Q933.V2d!=V7V._instance)throw Error(s933.m0d);R7V=Y7V.call(this,N7V.PivotView.stage.container)||this;R7V.setId(F7O);R7V.setControls();return R7V;}V7V.prototype.draw=function(){this.overlay.setOpaque(!this._transparent);this.setMessage(this._message);this.setDetails(this._details);this.validate();};V7V.prototype.setMessage=function(C7V){this._txtMessage.setLabel(C7V);};V7V.prototype.setDetails=function(a7V){this._txtDetails.setLabel(a7V);};V7V.prototype.close=function(){Y7V.prototype.close.call(this);this.clear();};V7V.prototype.clear=function(){this.setMessage(Q933.s3d);this.setMessage(Q933.s3d);};V7V.getInstance=function(){if(Q933.V2d==N7V.PivotView.stage)return Q933.V2d;Q933.V2d==V7V._instance&&(V7V._instance=new V7V());return V7V._instance;};V7V.dispose=function(){V7V._instance=Q933.V2d;};return V7V;}(uicontrols.containers.UIPopup);N7V.PreloaderView=b7V;}(e7V._view||(e7V._view={})));}(pivot||(pivot={})));(function(H7V){(function(A7V){var O7V=function(x7V){__extends(u7V,x7V);u7V.prototype.showWith=function(G7V,T7V,U7V){var M7I=Q933;var j7V=this;M7I.R4d!=T7V.length&&(this.setData(T7V),this.show(),G7V=G7V.getOffset(),U7V.top-=G7V.top+M7I.C4d,U7V.left-=G7V.left+M7I.C4d,this.container.offset(U7V),this.container.addEventListener(M7I.h2d,function(){return j7V.hide();}),utils.browserVersion().isMobile?A7V.PivotView.stage.container.addEventListener(M7I.j2d,function(f7V){return j7V.onStageMouseDown(f7V);}):A7V.PivotView.stage.container.addEventListener(M7I.G2d,function(c7V){return j7V.onStageMouseDown(c7V);}));};u7V.prototype.onStageMouseDown=function(W7V){var e7O="#wdr-context-menu";Q933.V2d==uicontrols.UIElement.convert(W7V.target).closest(e7O)&&this.hide();};function u7V(){var N7O="wdr-context-menu";var i7V=x7V.call(this)||this;i7V.setId(N7O);i7V.list=new uicontrols.lists.UIList();i7V.list.setItemRendererFactory(i7V.itemRendererFactory);i7V.list.setLabelField(s933.P6B);i7V.list.addEventListener(events._Event.CHANGE,function(l7V){return i7V.onListChange(l7V);});i7V.addChild(i7V.list);i7V.container.disableSelection();return i7V;}u7V.prototype.setData=function(K7V){for(var y7V=[],n7V=Q933.R4d;n7V<K7V.length;n7V++)y7V.push(K7V[n7V]);this.list.setDataProvider(y7V);};u7V.prototype.onListChange=function(m7V){Q933.V2d!=m7V.data.selectedItem.handler&&m7V.data.selectedItem.handler(m7V.data.selectedItem.data);this.hide();};u7V.prototype.itemRendererFactory=function(I7V,B7V){var r7V=new uicontrols.renderers.SelectItemRenderer();r7V.setData(I7V);r7V.setIndex(B7V);return r7V;};return u7V;}(uicontrols.containers.UIBorderContainer);A7V.ContextMenuView=O7V;}(H7V._view||(H7V._view={})));}(pivot||(pivot={})));(function(q7V){(function(v7V){(function(h7V){var D7V=function(o7V){var b7I=Q933;var k7O="gridColumnCount";var J7O="gridRowCount";var M7O="gridLayout";var E7O="isDrillThroughAvailable";__extends(d7V,o7V);d7V.prototype.dispose=function(){this._model=this.dataProvider=b7I.V2d;this.gridLayout&&this.gridLayout.dispose();this._gridLayout=b7I.V2d;};d7V.prototype.createCompactLayout=function(){var L4V=this,S4V=new h7V.sheet.CompactGridLayout();S4V.id=P933.b7O;S4V.getDataFunction=function(g4V,w4V){return L4V.getData(g4V,w4V);};S4V.addEventListener(h7V.GridEvent.MOUSE_CLICK,function(z4V){return L4V.onGridClick(z4V);});S4V.addEventListener(h7V.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(Z4V){return L4V.onGridSingleDoubleClick(Z4V);});S4V.addEventListener(h7V.GridEvent.FILTER_CLICK,function(t4V){return L4V.onFilterClick(t4V);});S4V.addEventListener(h7V.GridEvent.RESIZE_COLUMN,function(p4V){return L4V.onResizeColumn(p4V);});S4V.addEventListener(h7V.GridEvent.RESIZE_ROW,function(F4V){return L4V.onResizeRow(F4V);});this.container.append(S4V);return S4V;};d7V.prototype.createClassicLayout=function(){var N4V=this,e4V=new h7V.sheet.classic.ClassicGridLayout();e4V.id=P933.b7O;e4V.getDataFunction=function(b4V,V4V){return N4V.getData(b4V,V4V);};e4V.addEventListener(h7V.GridEvent.MOUSE_CLICK,function(Y4V){return N4V.onGridClick(Y4V);});e4V.addEventListener(h7V.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(R4V){return N4V.onGridSingleDoubleClick(R4V);});e4V.addEventListener(h7V.GridEvent.FILTER_CLICK,function(E4V){return N4V.onFilterClick(E4V);});e4V.addEventListener(h7V.GridEvent.RESIZE_COLUMN,function(M4V){return N4V.onResizeColumn(M4V);});e4V.addEventListener(h7V.GridEvent.RESIZE_ROW,function(J4V){return N4V.onResizeRow(J4V);});this.container.append(e4V);return e4V;};d7V.prototype.createFlatLayout=function(){var C4V=this,k4V=new h7V.sheet.flat.FlatGridLayout();k4V.id=P933.b7O;k4V.getDataFunction=function(a4V,H4V){return C4V.getData(a4V,H4V);};k4V.addEventListener(h7V.GridEvent.MOUSE_CLICK,function(A4V){return C4V.onGridClick(A4V);});k4V.addEventListener(h7V.GridEvent.MOUSE_SINGLE_DOUBLE_CLICK,function(O4V){return C4V.onGridSingleDoubleClick(O4V);});k4V.addEventListener(h7V.GridEvent.FILTER_CLICK,function(u4V){return C4V.onFilterClick(u4V);});k4V.addEventListener(h7V.GridEvent.RESIZE_COLUMN,function(x4V){return C4V.onResizeColumn(x4V);});k4V.addEventListener(h7V.GridEvent.RESIZE_ROW,function(i4V){return C4V.onResizeRow(i4V);});this.container.append(k4V);return k4V;};d7V.prototype.getCurrentLayout=function(){if(q7V.model._options.OptionsManager.classicView){if(this.gridLayout&&this.gridLayout.type==h7V.sheet.classic.ClassicGridLayout.TYPE)return this.gridLayout;b7I.V2d!=this.gridLayout&&this.gridLayout.removeFromParent(!b7I.R4d);return this.createClassicLayout();}if(q7V.model._options.OptionsManager.flatView){if(this.gridLayout&&this.gridLayout.type==h7V.sheet.flat.FlatGridLayout.TYPE)return this.gridLayout;b7I.V2d!=this.gridLayout&&this.gridLayout.removeFromParent(!b7I.R4d);return this.createFlatLayout();}if(this.gridLayout&&this.gridLayout.type==h7V.sheet.CompactGridLayout.TYPE)return this.gridLayout;b7I.V2d!=this.gridLayout&&this.gridLayout.removeFromParent(!b7I.R4d);return this.createCompactLayout();};d7V.prototype.draw=function(){this._gridLayout=this.getCurrentLayout();if(b7I.V2d!=this.gridLayout){this.gridLayout.smoothTimeout=this._model.state_.updateActive?b7I.a6d:s933.N0d;if(this.dataProvider&&this.dataProvider.dataLoaded&&!this.dataProvider.isEmpty){this.gridLayout.clearData();this.START_HEADERS_ROW=this.START_HEADERS_COLUMN=this.START_TABLE_ROW=b7I.R4d;var l4V,T4V,j4V,f4V,U4V=this.dataProvider.columnMaxDepth,G4V=q7V.model._options.OptionsManager.classicView?b7I.R4d<this.dataProvider.rowsOnly.length?b7I.E4d:b7I.R4d:this.dataProvider.rowCount;G4V>=U4V+b7I.E4d?(l4V=b7I.R4d,T4V=l4V+G4V,j4V=l4V+(G4V-U4V)-b7I.E4d):(j4V=b7I.R4d,l4V=b7I.R4d<this.dataProvider.columnCount?j4V+(U4V-G4V)+b7I.E4d:j4V,b7I.R4d==this.dataProvider.columnsOnly.length&&b7I.R4d==this.dataProvider.rowsOnly.length&&(l4V+=b7I.E4d),T4V=l4V+G4V);f4V=j4V;this.START_TABLE_ROW=Math.min(l4V,f4V);this.START_HEADERS_ROW=f4V;this.START_HEADERS_COLUMN=b7I.R4d;this.FIRST_DATA_ROW=T4V;this.FIRST_DATA_COLUMN=this.isFlatTable?b7I.R4d:q7V.model._options.OptionsManager.classicView?this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures?this.dataProvider.rowLevels.length+b7I.E4d:this.dataProvider.rowLevels.length:b7I.R4d==this.dataProvider.rows.length?b7I.R4d:b7I.E4d;q7V.model._options.OptionsManager.showHierarchyCaptions||(this.START_HEADERS_ROW=b7I.E4d==G4V&&b7I.R4d==this.dataProvider.columnCount?b7I.R4d:-b7I.E4d,this.FIRST_DATA_ROW=U4V);this.isFlatTable&&b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals&&b7I.k3d==q7V.model._options.OptionsManager.grandTotalsPosition&&this.FIRST_DATA_ROW++;this.gridLayout.setDataSize(this.dataProvider.extendedDataHeight+(this.isFlatTable&&b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals&&b7I.a3d==q7V.model._options.OptionsManager.grandTotalsPosition?b7I.E4d:b7I.R4d),this.dataProvider.extendedDataWidth);this.gridLayout.freezeColumns(this.FIRST_DATA_COLUMN);this.gridLayout.freezeRows(this.FIRST_DATA_ROW);this.gridLayout instanceof h7V.sheet.CompactGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-b7I.E4d,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));this.gridLayout instanceof h7V.sheet.classic.ClassicGridLayout&&(this.gridLayout.colsFilter.rowIndex=this.FIRST_DATA_ROW-this.dataProvider.columnMaxDepth-b7I.E4d,this.gridLayout.colsFilter.setHierarchies(this.dataProvider.columnsOnly),this.gridLayout.rowsFilter.setHierarchies(this.dataProvider.rowsOnly),this.gridLayout.pageFilter.setHierarchies(this.dataProvider.pages));(b7I.E4d<this.dataProvider.columns.length||!this.dataProvider.columnAxis.hasMeasures)&&q7V.model._options.OptionsManager.showHierarchyCaptions&&this.addFilterCell(j4V,this.FIRST_DATA_COLUMN,q7V.data_.consts.AxisName.COLUMNS_AXIS);(b7I.E4d<this.dataProvider.rows.length||!this.dataProvider.rowAxis.hasMeasures)&&q7V.model._options.OptionsManager.showHierarchyCaptions&&(q7V.model._options.OptionsManager.classicView?this._addFilterCell(l4V,b7I.R4d):this.addFilterCell(l4V,b7I.R4d,q7V.data_.consts.AxisName.ROWS_AXIS));this.resizeColumnsByIdx();this.resizeHeaderColumns();this.resizeColumns();this.resizeRowsByIdx();this.resizeHeaderRows();this.resizeRows();}else this.gridLayout.clearAll();this.conditions=q7V.model.condition.ConditionManager.conditions.toArray();this.gridLayout.resize(v7V.PivotView.gridWidth,v7V.PivotView.gridHeight);this.gridLayout.draw();}};d7V.prototype.clearSizes=function(){b7I.V2d!=this.gridLayout&&(this.gridLayout.clearColSizes(b7I.R4d),this.gridLayout.clearRowSizes(b7I.R4d));};d7V.prototype.getData=function(c4V,I4V,K4V){void b7I.R4d===K4V&&(K4V=!b7I.E4d);if(b7I.V2d==this.dataProvider||!this.dataProvider.dataLoaded||c4V<this.START_HEADERS_ROW||I4V<this.START_HEADERS_COLUMN)return b7I.V2d;var W4V=c4V-this.FIRST_DATA_ROW,n4V=I4V-this.FIRST_DATA_COLUMN;if((W4V>this.dataProvider.extendedDataHeight-b7I.E4d||n4V>this.dataProvider.extendedDataWidth-b7I.E4d)&&!(this.isFlatTable&&b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals&&b7I.a3d==q7V.model._options.OptionsManager.grandTotalsPosition&&W4V==this.dataProvider.extendedDataHeight&&n4V<=this.dataProvider.extendedDataWidth-b7I.E4d))return b7I.V2d;var y4V=this.dataProvider.getRowTuple(W4V,!b7I.R4d),m4V=this.dataProvider.getColumnTuple(n4V,!b7I.R4d);if(b7I.V2d==y4V&&b7I.V2d==m4V)return b7I.V2d;var r4V=this.dataProvider.getMeasure(W4V,n4V);if(this.isFlatTable&&b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals&&b7I.k3d==q7V.model._options.OptionsManager.grandTotalsPosition&&(q7V.model._options.OptionsManager.showHierarchyCaptions&&b7I.E4d==c4V||!q7V.model._options.OptionsManager.showHierarchyCaptions&&b7I.R4d==c4V)||this.isFlatTable&&b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals&&b7I.a3d==q7V.model._options.OptionsManager.grandTotalsPosition&&(q7V.model._options.OptionsManager.showHierarchyCaptions&&c4V==this.dataProvider.extendedDataHeight+b7I.E4d||!q7V.model._options.OptionsManager.showHierarchyCaptions&&c4V==this.dataProvider.extendedDataHeight))return this.getFlatGrandTotal(y4V,m4V,r4V);if(b7I.V2d==y4V)return K4V=b7I.E4d==(q7V.model._options.OptionsManager.classicView?b7I.E4d:this.dataProvider.rowsOnly.length)&&b7I.R4d==this.dataProvider.columnCount?c4V-this.START_HEADERS_ROW:c4V-this.START_HEADERS_ROW-b7I.E4d,b7I.R4d==this.dataProvider.rowsOnly.length&&b7I.R4d==this.dataProvider.columnsOnly.length&&(K4V=c4V-this.START_HEADERS_ROW),c4V=this.dataProvider.getColumnDepth(n4V),this.getColumnCell(m4V,r4V,c4V,K4V,I4V);n4V=this.dataProvider.getRowDepth(W4V);W4V=this.dataProvider.getRowType(W4V);return b7I.V2d==m4V?q7V.model._options.OptionsManager.classicView?this._getRowCell(y4V,r4V,n4V,I4V,W4V):this.getRowCell(y4V,r4V,n4V):this.getDataCell(y4V,m4V,r4V,c4V,I4V,K4V,n4V,W4V);};d7V.prototype.getDataCell=function(d4V,o4V,q4V,S6V,P6V,s6V,v4V,Q6V){var H3I=s933;var a3I=X933;void b7I.R4d===s6V&&(s6V=!b7I.E4d);void b7I.R4d===v4V&&(v4V=NaN);void b7I.R4d===Q6V&&(Q6V=-b7I.E4d);if(b7I.V2d==q4V)return b7I.V2d;var h4V=q4V.getFormat().clone();if(q4V.aggregation==q7V.data_.consts.AggregationName.PERCENT||q4V.aggregation==q7V.data_.consts.AggregationName.PERCENT_COLUMN||q4V.aggregation==q7V.data_.consts.AggregationName.PERCENT_ROW||q4V.aggregation==q7V.data_.consts.AggregationName.PERCENT_DIFFERENCE)h4V.currencySymbol=a3I.E3B,h4V.currencySymbolAlign=b7I.C3d;var B4V=new h7V.vo.GridCell();B4V.isValue=!b7I.R4d;B4V.columnTuple=o4V;B4V.measure=q4V;B4V.hierarchy=this._model.cube_.structure_.measureToHierarchy(q4V.uniqueName);B4V.rowTuple=d4V;q7V.model._options.OptionsManager.classicView?b7I.R4d==d4V.length?B4V.level=b7I.R4d:(v4V=this.getLevelIdxByTuple(d4V),-b7I.E4d<v4V&&(B4V.level=v4V)):q7V.model._options.OptionsManager.flatView||(B4V.level=v4V);v4V=this.dataProvider.getValue(d4V,o4V,q4V);B4V.value=v4V;if(this.isFlatTable){h4V=q4V.getFormat(!b7I.R4d).clone();if(q4V.type==q7V.data_.types.MeasureType.COUNT){var D4V=this.dataProvider.getColumnHierarchy(o4V).members.getItemAt(v4V);b7I.V2d!=D4V&&(B4V.member=D4V,B4V.label=D4V.caption);}else q4V.type==q7V.data_.types.MeasureType.NUMBER?b7I.Y3d===typeof v4V?B4V.label=v4V:(B4V.label=utils.NumberFormatter.format(v4V,h4V),B4V.numeric=!b7I.R4d):q4V.type==q7V.data_.types.MeasureType.DATE?B4V.label=utils.StringUtils.toDate(v4V,q7V.model._options.OptionsManager.datePattern):q4V.type==q7V.data_.types.MeasureType.TIME?isNaN(v4V)||(B4V.label=utils.StringUtils.toTime(v4V)):q4V.type!=q7V.data_.types.MeasureType.DATETIME||isNaN(v4V)||(B4V.label=utils.StringUtils.toDateTime(v4V,q7V.model._options.OptionsManager.dateTimePattern));B4V.recordId=this.dataProvider.getRecordId(d4V,o4V,q4V);}else q4V.type==q7V.data_.types.MeasureType.NUMBER||q4V.type==q7V.data_.types.MeasureType.COUNT?b7I.Y3d===typeof v4V?B4V.label=v4V:(B4V.label=utils.NumberFormatter.format(v4V,h4V),B4V.numeric=!b7I.R4d):q4V.type==q7V.data_.types.MeasureType.DATE?B4V.label=q7V.data_.consts.AggregationName.validForDateTimeFormatting(q4V.aggregation)?utils.StringUtils.toDate(B4V.value,q7V.model._options.OptionsManager.datePattern):utils.NumberFormatter.format(v4V,h4V):q4V.type==q7V.data_.types.MeasureType.TIME?isNaN(v4V)||(B4V.label=q7V.data_.consts.AggregationName.validForDateTimeFormatting(q4V.aggregation)?utils.StringUtils.toTime(v4V):utils.NumberFormatter.format(v4V,h4V)):q4V.type==q7V.data_.types.MeasureType.DATETIME?isNaN(B4V.value)||(B4V.label=q7V.data_.consts.AggregationName.validForDateTimeFormatting(q4V.aggregation)?utils.StringUtils.toDateTime(v4V,q7V.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(v4V,h4V)):B4V.label=v4V;if(s6V)return B4V;s6V=!b7I.E4d;if(this.dataProvider.rowCount>d4V.length||this.dataProvider.columnCount>o4V.length){s6V=!b7I.R4d;B4V.isTotalRow=this.dataProvider.rowCount>d4V.length;B4V.isTotalColumn=this.dataProvider.columnCount>o4V.length;if(b7I.f3d!=q7V.model._options.OptionsManager.showTotals){D4V=this.dataProvider.measureDepth;if(b7I.R4d!=d4V.length&&(this.dataProvider.isRowExpanded(d4V)||this.dataProvider.isRowExpanded(d4V,q4V))&&(a3I.p2B==q7V.model._options.OptionsManager.showTotals||H3I.k4h==q7V.model._options.OptionsManager.showTotals)||b7I.R4d!=o4V.length&&(this.dataProvider.isColumnExpanded(o4V)||this.dataProvider.isColumnExpanded(o4V,q4V))&&(a3I.p2B==q7V.model._options.OptionsManager.showTotals||H3I.J4h==q7V.model._options.OptionsManager.showTotals))return b7I.V2d;if(b7I.R4d==D4V&&b7I.E4d<this.dataProvider.measures.length)if(this.dataProvider.rowAxis.hasMeasures&&(a3I.p2B==q7V.model._options.OptionsManager.showTotals||H3I.k4h==q7V.model._options.OptionsManager.showTotals)){if(S6V<(b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals||H3I.k4h==q7V.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight-this.dataProvider.measures.length:this.FIRST_DATA_ROW+this.dataProvider.extendedDataHeight)&&this.dataProvider.isRowExpanded(d4V,q4V))return b7I.V2d;}else if(this.dataProvider.columnAxis.hasMeasures&&(a3I.p2B==q7V.model._options.OptionsManager.showTotals||H3I.J4h==q7V.model._options.OptionsManager.showTotals)&&P6V<(b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals||H3I.J4h==q7V.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth)&&this.dataProvider.isColumnExpanded(o4V,q4V))return b7I.V2d;}B4V.isGrandTotalRow=b7I.R4d==d4V.length;B4V.isGrandTotalColumn=b7I.R4d==o4V.length;B4V.isClassicTotalRow=B4V.isTotalRow&&b7I.M4d==Q6V&&!B4V.isGrandTotalRow;}b7I.s3d!=h4V.textAlign&&B4V.customize({"text-align":h4V.textAlign});if(b7I.R4d<this.conditions.length&&B4V.measure)for(Q6V=b7I.R4d;Q6V<this.conditions.length;Q6V++)if(h4V=this.conditions[Q6V],!(h4V.row!=S6V&&-b7I.E4d!=h4V.row||h4V.column!=P6V&&-b7I.E4d!=h4V.column||h4V.measure!=q4V.uniqueName&&b7I.s3d!=h4V.measure&&h4V.measure!=q4V.uniqueName||h4V.isTotal!==s6V&&void b7I.R4d!==h4V.isTotal||b7I.s3d!=h4V.hierarchy&&!this.checkHierarchyCondition(d4V,o4V,h4V.hierarchy,h4V.member)))if(D4V=h4V.params.slice(b7I.R4d),h4V.isUpdate){if(this._model.state_.updateActive){var X6V=this.dataProvider.getUpdatedValue(d4V,o4V,q4V);X6V&&(-b7I.E4d<h4V.formula.toLowerCase().indexOf(q7V.data_.consts.FunctionName.UPDATE_DIFFERENCE)?v4V=X6V.difference:-b7I.E4d<h4V.formula.toLowerCase().indexOf(q7V.data_.consts.FunctionName.UPDATE_PERCENT)&&(v4V=b7I.a6d*X6V.percent),D4V=this.dataProvider.calculate(d4V,o4V,D4V,v4V),b7I.V2d!=D4V&&B4V.customizeWithClass(D4V));}}else D4V=this.dataProvider.calculate(d4V,o4V,D4V,v4V),!b7I.R4d!=D4V&&H3I.S9h!=D4V||b7I.V2d==h4V.format?b7I.V2d!=D4V&&!b7I.E4d!=D4V&&B4V.customizeWithClass(D4V):(B4V.customize(h4V.format.toCSSObject()),B4V.conditions.push(h4V.id)),B4V.showTooltip=!b7I.R4d;return B4V;};d7V.prototype.getFlatGrandTotal=function(t6V,p6V,g6V){if(b7I.V2d==g6V)return b7I.V2d;var L6V=new h7V.vo.GridCell();L6V.isValue=!b7I.R4d;L6V.columnTuple=p6V;L6V.measure=g6V;L6V.hierarchy=this._model.cube_.structure_.measureToHierarchy(g6V.uniqueName);L6V.rowTuple=t6V;if(g6V.type==q7V.data_.types.MeasureType.NUMBER||g6V.type==q7V.data_.types.MeasureType.TIME||g6V.type==q7V.data_.types.MeasureType.DATETIME){var w6V=g6V.getFormat().clone();if(g6V.aggregation==q7V.data_.consts.AggregationName.PERCENT||g6V.aggregation==q7V.data_.consts.AggregationName.PERCENT_COLUMN||g6V.aggregation==q7V.data_.consts.AggregationName.PERCENT_ROW||g6V.aggregation==q7V.data_.consts.AggregationName.PERCENT_DIFFERENCE||g6V.calculated&&-b7I.E4d<g6V.formula.indexOf(X933.R3B))w6V.currencySymbol=X933.E3B,w6V.currencySymbolAlign=b7I.C3d;L6V.value=this.dataProvider.getValue(b7I.V2d,b7I.V2d,g6V);g6V.type==q7V.data_.types.MeasureType.NUMBER?(L6V.label=utils.NumberFormatter.format(L6V.value,w6V),L6V.numeric=!b7I.R4d):g6V.type==q7V.data_.types.MeasureType.TIME?isNaN(L6V.value)||(L6V.label=q7V.data_.consts.AggregationName.validForDateTimeFormatting(g6V.aggregation)?utils.StringUtils.toTime(L6V.value):utils.NumberFormatter.format(L6V.value,w6V)):g6V.type!=q7V.data_.types.MeasureType.DATETIME||isNaN(L6V.value)||(L6V.label=q7V.data_.consts.AggregationName.validForDateTimeFormatting(g6V.aggregation)?utils.StringUtils.toDateTime(L6V.value,q7V.model._options.OptionsManager.dateTimePattern):utils.NumberFormatter.format(L6V.value,w6V));L6V.isGrandTotalRow=!b7I.R4d;b7I.s3d!=w6V.textAlign&&L6V.customize({"text-align":w6V.textAlign});if(b7I.R4d<this.conditions.length)for(w6V=b7I.R4d;w6V<this.conditions.length;w6V++){var z6V=this.conditions[w6V],e6V=z6V.params.slice(b7I.R4d);if(z6V.measure==g6V.uniqueName&&z6V.isUpdate&&this._model.state_.updateActive){var Z6V=this.dataProvider.getUpdatedValue(t6V,p6V,g6V);if(Z6V){var F6V;-b7I.E4d<z6V.formula.toLowerCase().indexOf(q7V.data_.consts.FunctionName.UPDATE_DIFFERENCE)?F6V=Z6V.difference:-b7I.E4d<z6V.formula.toLowerCase().indexOf(q7V.data_.consts.FunctionName.UPDATE_PERCENT)&&(F6V=b7I.a6d*Z6V.percent);z6V=this.dataProvider.calculate(t6V,p6V,e6V,F6V);b7I.V2d!=z6V&&L6V.customizeWithClass(z6V);}}}}return L6V;};d7V.prototype.checkHierarchyCondition=function(V6V,N6V,b6V,R6V){var Y6V=this.dataProvider.columns.indexOf(b6V);if(-b7I.E4d<Y6V){if(Y6V<N6V.length)return V6V=this.dataProvider.columns.getItem(b6V),N6V[Y6V]&&V6V.members.getItemAt(N6V[Y6V]).uniqueName==R6V;}else if(N6V=this.dataProvider.rows.indexOf(b6V),-b7I.E4d<N6V&&N6V<V6V.length)return b6V=this.dataProvider.rows.getItem(b6V),V6V[N6V]&&b6V.members.getItemAt(V6V[N6V]).uniqueName==R6V;return!b7I.E4d;};d7V.prototype.getColumnCell=function(E6V,M6V,J6V,k6V,C6V){return this.isFlatTable?this._getFlatTableColumnCell(E6V,M6V,J6V,k6V):this._getColumnCell(E6V,M6V,J6V,k6V,C6V);};d7V.prototype._getColumnCell=function(A6V,u6V,j6V,H6V,a6V){if(b7I.R4d==A6V.length){if(this.dataProvider.rowAxis.hasMeasures&&H6V==this.dataProvider.columnMaxDepth-b7I.E4d)return this.getGrandTotalCell(u6V,q7V.data_.consts.AxisName.COLUMNS_AXIS);A6V=this.dataProvider.extendedDataWidth-this.dataProvider.measures.length+b7I.E4d;if(this.dataProvider.columnAxis.hasMeasures&&H6V==this.dataProvider.columnMaxDepth-b7I.E4d&&a6V>=A6V&&b7I.E4d==this.dataProvider.measures.length)return this.getGrandTotalCell(u6V,q7V.data_.consts.AxisName.COLUMNS_AXIS);A6V=b7I.f3d==q7V.model._options.OptionsManager.showGrandTotals||s933.J4h==q7V.model._options.OptionsManager.showGrandTotals?this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth-this.dataProvider.measures.length:this.FIRST_DATA_COLUMN+this.dataProvider.extendedDataWidth;return this.dataProvider.columnAxis.hasMeasures&&b7I.R4d==H6V&&a6V>=A6V&&b7I.E4d<this.dataProvider.columnMaxDepth?a6V==A6V?(a6V=this.getHeaderCell(),a6V.label=q7V.model._labels.Labels.GRID_TOTALS,a6V):this.getEmptyHeaderCell():this.dataProvider.columnAxis.hasMeasures&&b7I.R4d==H6V&&b7I.E4d<this.dataProvider.columnMaxDepth?this.getGrandTotalCell(u6V,q7V.data_.consts.AxisName.COLUMNS_AXIS):this.dataProvider.columnAxis.hasMeasures&&H6V==this.dataProvider.columnMaxDepth-b7I.E4d?a6V>=A6V||b7I.E4d==this.dataProvider.columnAxis.hierarchies.length?this.getGrandTotalCell(u6V,q7V.data_.consts.AxisName.COLUMNS_AXIS):this.getHeaderCell():this.dataProvider.columnAxis.hasMeasures&&b7I.R4d<H6V&&a6V<=A6V?this.getHeaderCell():b7I.R4d<=H6V?this.getEmptyHeaderCell():b7I.V2d;}var i6V=this.dataProvider.columnAxis.hasMeasures&&(A6V.length>this.dataProvider.measuresPosition||b7I.R4d==this.dataProvider.measuresPosition)?A6V.length:A6V.length-b7I.E4d,G6V=this.dataProvider.columns.getItemAt(i6V);this.dataProvider.columnAxis.hasMeasures&&i6V>this.dataProvider.measuresPosition&&(b7I.E4d==this.dataProvider.measures.length?i6V--:j6V++);if(j6V>H6V)return b7I.R4d<=H6V?this.getEmptyHeaderCell():b7I.V2d;a6V=new h7V.vo.GridCell();a6V.isColumnHeader=!b7I.R4d;a6V.measure=this.dataProvider.columnAxis.hasMeasures&&(b7I.E4d<this.dataProvider.measures.length||q7V.model._options.OptionsManager.showExtraTotalLabels)?u6V:b7I.V2d;var l6V=!b7I.E4d,O6V=G6V.members.getItemAt(A6V[A6V.length-b7I.E4d]),x6V=this.dataProvider.measureDepth;if(this.dataProvider.columnAxis.hasMeasures&&b7I.E4d<this.dataProvider.measures.length&&H6V==x6V-b7I.E4d||this.dataProvider.columnAxis.hasMeasures&&q7V.model._options.OptionsManager.showExtraTotalLabels&&H6V==x6V-b7I.E4d&&b7I.E4d!=x6V||this.dataProvider.columnAxis.hasMeasures&&q7V.model._options.OptionsManager.showExtraTotalLabels&&H6V==x6V&&b7I.E4d==x6V&&b7I.M4d>this.dataProvider.measures.length)a6V.label=u6V.caption,a6V.isMeasureHeader=!b7I.R4d,O6V=b7I.V2d;else{if(this.dataProvider.columnAxis.hasMeasures&&b7I.R4d<this.dataProvider.measures.indexOf(u6V.uniqueName)&&H6V<x6V)return this.getEmptyHeaderCell();j6V<H6V?i6V==H6V?(l6V=A6V.length-b7I.E4d!=this.dataProvider.columnCount-b7I.E4d&&!O6V.isAll,a6V.label=O6V.caption):(a6V.label=this.dataProvider.columnMaxDepth-b7I.E4d==H6V&&q7V.model._options.OptionsManager.showExtraTotalLabels?b7I.V2d!=u6V?u6V.caption:q7V.model._labels.Labels.GRID_TOTAL:b7I.s3d,O6V=b7I.V2d):(l6V=A6V.length-b7I.E4d!=this.dataProvider.columnCount-b7I.E4d&&!O6V.isAll,a6V.label=O6V.caption,this.dataProvider.columnAxis.hasMeasures&&H6V<x6V&&(a6V.measure=u6V=b7I.V2d));}H6V=b7I.V2d==O6V?!b7I.E4d:this.dataProvider.isColumnDrilledDown(A6V,O6V,u6V);O6V&&(b7I.E4d!=O6V.children.length||O6V.children.getItemAt(b7I.R4d).caption!=q7V.model._labels.Labels.MEMBER_BLANK&&O6V.children.getItemAt(b7I.R4d).caption!=q7V.model._labels.Labels.INVALID_DATE)&&!O6V.isAll&&O6V.hierarchy_.isHierarchy&&!O6V.level.isLast&&(l6V||q7V.model._options.OptionsManager.showHierarchies?H6V?a6V.drilledDown=!b7I.R4d:a6V.drilledUp=!b7I.R4d:H6V?a6V.expanded=!b7I.R4d:a6V.collapsed=!b7I.R4d);l6V&&!H6V&&(this.dataProvider.isColumnExpanded(A6V,u6V)?a6V.expanded=!b7I.R4d:a6V.collapsed=!b7I.R4d);b7I.f3d!=q7V.model._options.OptionsManager.sorting&&s933.k4h!=q7V.model._options.OptionsManager.sorting||b7I.s3d==a6V.label||(a6V.sortable=!b7I.R4d,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=A6V.toString()||b7I.V2d!=u6V&&this.dataProvider.columnSortMeasure.uniqueName!=u6V.uniqueName||(this.dataProvider.columnSortType==q7V.data_.consts.SortType.DESC?a6V.sortedDesc=!b7I.R4d:this.dataProvider.columnSortType==q7V.data_.consts.SortType.ASC&&(a6V.sortedAsc=!b7I.R4d)));a6V.isTotalColumn=this.dataProvider.columnCount>A6V.length;a6V.tuple=A6V;a6V.url=void b7I.R4d;a6V.hierarchy=G6V;a6V.member=O6V;return a6V;};d7V.prototype._getFlatTableColumnCell=function(T6V,c6V,U6V,f6V){f6V=this.dataProvider.getColumnHierarchy(T6V);if(b7I.V2d==f6V){if(b7I.V2d==c6V)return b7I.V2d;U6V=new h7V.vo.GridCell();U6V.isColumnHeader=!b7I.R4d;U6V.label=c6V.caption;return U6V;}U6V=new h7V.vo.GridCell();U6V.isColumnHeader=!b7I.R4d;U6V.isFilterHeader=!b7I.R4d;U6V.hasHierarchyName=f6V.filterEnabled;U6V.filtered=f6V.hasFilter();U6V.label=f6V.caption;U6V.tuple=T6V;U6V.hierarchy=f6V;U6V.member=b7I.V2d;U6V.measure=c6V;U6V.draggable=!b7I.R4d;if(b7I.f3d==q7V.model._options.OptionsManager.sorting||s933.k4h==q7V.model._options.OptionsManager.sorting)U6V.sortable=!b7I.R4d,!this.dataProvider.columnSortTuple||this.dataProvider.columnSortTuple.toString()!=T6V.toString()||this.dataProvider.columnSortMeasure!=c6V&&b7I.V2d!=c6V||(T6V=this.dataProvider.columnSortType,T6V==q7V.data_.consts.SortType.DESC?U6V.sortedDesc=!b7I.R4d:T6V==q7V.data_.consts.SortType.ASC&&(U6V.sortedAsc=!b7I.R4d));return U6V;};d7V.prototype.getHeaderCell=function(){var W6V=new h7V.vo.GridCell();W6V.isColumnHeader=!b7I.R4d;return W6V;};d7V.prototype.getEmptyHeaderCell=function(){var n6V=this.getHeaderCell();n6V.isEmpty=!b7I.R4d;return n6V;};d7V.prototype.getGrandTotalCell=function(K6V,m6V){var y6V=new h7V.vo.GridCell();y6V.label=b7I.V2d==K6V?q7V.model._labels.Labels.GRID_GRAND_TOTAL:K6V.grandTotalCaption;y6V.isMeasureHeader=b7I.V2d!=K6V;if(m6V==q7V.data_.consts.AxisName.COLUMNS_AXIS){y6V.isColumnHeader=!b7I.R4d;y6V.isTotalColumn=y6V.isGrandTotalColumn=!b7I.R4d;if(b7I.f3d==q7V.model._options.OptionsManager.sorting||s933.k4h==q7V.model._options.OptionsManager.sorting)y6V.sortable=!b7I.R4d,!this.dataProvider.columnSortTuple||b7I.s3d!=this.dataProvider.columnSortTuple.toString()||this.dataProvider.columnSortMeasure!=K6V&&b7I.V2d!=K6V||(this.dataProvider.columnSortType==q7V.data_.consts.SortType.DESC?y6V.sortedDesc=!b7I.R4d:this.dataProvider.columnSortType==q7V.data_.consts.SortType.ASC&&(y6V.sortedAsc=!b7I.R4d));this.dataProvider.columnAxis.hasMeasures?y6V.measure=K6V:y6V.label=q7V.model._labels.Labels.GRID_GRAND_TOTAL;}else{y6V.isRowHeader=!b7I.R4d;y6V.isTotalRow=y6V.isGrandTotalRow=!b7I.R4d;if(b7I.f3d==q7V.model._options.OptionsManager.sorting||s933.J4h==q7V.model._options.OptionsManager.sorting)y6V.sortable=!b7I.R4d,!this.dataProvider.rowSortTuple||b7I.s3d!=this.dataProvider.rowSortTuple.toString()||this.dataProvider.rowSortMeasure!=K6V&&b7I.V2d!=K6V||(this.dataProvider.rowSortType==q7V.data_.consts.SortType.DESC?y6V.sortedDesc=!b7I.R4d:this.dataProvider.rowSortType==q7V.data_.consts.SortType.ASC&&(y6V.sortedAsc=!b7I.R4d));this.dataProvider.rowAxis.hasMeasures?y6V.measure=K6V:y6V.label=q7V.model._labels.Labels.GRID_GRAND_TOTAL;y6V.level=b7I.R4d;}y6V.tuple=[];return y6V;};d7V.prototype.getRowCell=function(B6V,q6V,v6V){if(b7I.R4d==B6V.length)return this.getGrandTotalCell(q6V,q7V.data_.consts.AxisName.ROWS_AXIS);var h6V=this.dataProvider.rowAxis.hasMeasures&&B6V.length>this.dataProvider.measuresPosition?B6V.length:B6V.length-b7I.E4d,I6V=B6V[B6V.length-b7I.E4d],D6V=this.dataProvider.rows.getItemAt(h6V),r6V=new h7V.vo.GridCell();r6V.isRowHeader=!b7I.R4d;var d6V=!b7I.E4d,I6V=D6V.members.getItemAt(I6V);r6V.level=v6V;b7I.V2d!=q6V&&this.dataProvider.rowAxis.hasMeasures&&this.dataProvider.multiMeasures&&h6V<=this.dataProvider.measuresPosition?(r6V.label=q6V.caption,I6V=b7I.V2d):I6V&&(r6V.label=I6V.caption,d6V=B6V.length!=this.dataProvider.rowCount&&!I6V.isAll);v6V=b7I.V2d==I6V?!b7I.E4d:this.dataProvider.isRowDrilledDown(B6V,I6V,q6V);I6V&&!I6V.isAll&&I6V.hierarchy_.isHierarchy&&!I6V.isLeaf&&(b7I.E4d!=I6V.children.length||I6V.children.getItemAt(b7I.R4d).caption!=q7V.model._labels.Labels.MEMBER_BLANK&&I6V.children.getItemAt(b7I.R4d).caption!=q7V.model._labels.Labels.INVALID_DATE)&&(q7V.model._options.OptionsManager.showHierarchies?v6V?r6V.drilledDown=!b7I.R4d:r6V.drilledUp=!b7I.R4d:v6V?r6V.expanded=!b7I.R4d:r6V.collapsed=!b7I.R4d);d6V&&!v6V&&(this.dataProvider.isRowExpanded(B6V,q6V)?r6V.expanded=!b7I.R4d:r6V.collapsed=!b7I.R4d);if(b7I.f3d==q7V.model._options.OptionsManager.sorting||s933.J4h==q7V.model._options.OptionsManager.sorting)r6V.sortable=!b7I.R4d,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==B6V.toString()&&this.dataProvider.rowSortMeasure==q6V&&(this.dataProvider.rowSortType==q7V.data_.consts.SortType.DESC?r6V.sortedDesc=!b7I.R4d:this.dataProvider.rowSortType==q7V.data_.consts.SortType.ASC&&(r6V.sortedAsc=!b7I.R4d));r6V.isTotalRow=this.dataProvider.rowCount>B6V.length;r6V.tuple=B6V;r6V.url=void b7I.R4d;r6V.hierarchy=D6V;r6V.member=I6V;r6V.measure=this.dataProvider.rowAxis.hasMeasures&&b7I.E4d<this.dataProvider.measures.length?q6V:b7I.V2d;return r6V;};d7V.prototype._getRowCell=function(g2V,L2V,t2V,P2V,w2V){if(b7I.R4d==g2V.length){if(b7I.R4d==P2V)return this.getGrandTotalCell(L2V,q7V.data_.consts.AxisName.ROWS_AXIS);var o6V=new h7V.vo.GridCell();o6V.isRowHeader=!b7I.R4d;o6V.isTotalRow=o6V.isGrandTotalRow=!b7I.R4d;o6V.isEmpty=!b7I.R4d;o6V.level=t2V;return o6V;}for(var Z2V=P2V,N2V,o6V=this.dataProvider.rowLevels[P2V],z2V,p2V,s2V=b7I.R4d;s2V<this.dataProvider.rowsOnly.length;s2V++){var S2V=this.dataProvider.rowsOnly.getItemAt(s2V);z2V=S2V.findLevel(o6V);if(b7I.V2d!=z2V){N2V=S2V;Z2V=s2V;break;}}s2V=b7I.V2d==g2V[Z2V]?b7I.R4d:g2V[Z2V];o6V=new h7V.vo.GridCell();o6V.isRowHeader=!b7I.R4d;o6V.isTotalRow=this.dataProvider.rowCount>g2V.length;o6V.isClassicTotalRow=o6V.isTotalRow&&b7I.M4d==w2V;z2V=!b7I.E4d;t2V>P2V&&(z2V=!b7I.R4d);t2V>P2V&&b7I.M4d==w2V&&(z2V=!b7I.R4d);t2V+b7I.E4d<P2V&&b7I.M4d==w2V&&(z2V=!b7I.R4d);o6V.level=Math.min(g2V.length-b7I.E4d,P2V);var X2V=g2V.slice(b7I.R4d),S2V=!b7I.E4d;if(P2V==this.dataProvider.rowLevels.length)o6V.label=L2V.caption,S2V=!b7I.R4d;else{var e2V=!b7I.E4d,X2V=b7I.V2d==L2V?b7I.R4d:this.dataProvider.measures.indexOf(L2V.uniqueName),Q2V=N2V.members.getItemAt(s2V);p2V=this.dataProvider.rowLevels.indexOf(Q2V.level.uniqueName)-P2V;var b2V=b7I.V2d!=Q2V&&b7I.M4d!=w2V;if(b7I.R4d>p2V)if(Q2V.isAll)S2V=!b7I.R4d;else return o6V;else if(b7I.R4d<p2V)for(s2V=b7I.R4d;s2V<p2V;s2V++)Q2V=Q2V.parent;Q2V&&(s2V=this.dataProvider.rowLevels.indexOf(Q2V.level.uniqueName),-b7I.E4d<s2V&&(o6V.level=s2V));o6V.member=Q2V;if(b7I.M4d==w2V)Q2V&&t2V==P2V&&(o6V.label=this.dataProvider.rowAxis.hasMeasures&&b7I.E4d<this.dataProvider.measures.length?Q2V.caption+b7I.R2d+L2V.caption:Q2V.caption+b7I.R2d+q7V.model._labels.Labels.GRID_TOTAL,S2V=!b7I.R4d);else{if(b7I.R4d>p2V)return utils.nullOrEmpty(o6V.label)&&(o6V.isEmpty=!b7I.R4d),s2V=this.getLevelIdxByTuple(g2V),-b7I.E4d<s2V&&(o6V.level=s2V),o6V;b7I.R4d<X2V&&(Q2V=b7I.V2d);Q2V&&b7I.R4d!=Q2V.ordinal&&(o6V.label=Q2V.caption);e2V=b7I.E4d==w2V&&Z2V<this.dataProvider.rowsOnly.length-b7I.E4d&&b7I.R4d==X2V;}X2V=g2V.slice(b7I.R4d,Z2V+b7I.E4d);if(b2V&&Q2V){X2V[Z2V]=Q2V.ordinal;var F2V=this.dataProvider.isRowDrilledDown(X2V,Q2V,L2V);Q2V.isAll||!Q2V.hierarchy_.isHierarchy||Q2V.isLeaf||b7I.M4d==w2V||b7I.E4d==Q2V.children.length&&(Q2V.children.getItemAt(b7I.R4d).caption==q7V.model._labels.Labels.MEMBER_BLANK||Q2V.children.getItemAt(b7I.R4d).caption==q7V.model._labels.Labels.INVALID_DATE)||(q7V.model._options.OptionsManager.showHierarchies?F2V?o6V.drilledDown=!b7I.R4d:o6V.drilledUp=!b7I.R4d:F2V?o6V.expanded=!b7I.R4d:o6V.collapsed=!b7I.R4d);}e2V&&!F2V&&(this.dataProvider.isRowExpanded(X2V,L2V)?o6V.expanded=!b7I.R4d:o6V.collapsed=!b7I.R4d);}if(z2V)o6V.label=b7I.s3d,o6V.sortedAsc=o6V.sortedDesc=o6V.collapsed=o6V.expanded=o6V.drilledDown=o6V.drilledUp=!b7I.E4d;else if(o6V.tuple=X2V,o6V.url=void b7I.R4d,o6V.hierarchy=N2V,o6V.measure=L2V,b7I.f3d==q7V.model._options.OptionsManager.sorting||s933.J4h==q7V.model._options.OptionsManager.sorting)o6V.sortable=!b7I.R4d,this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==X2V.toString()&&this.dataProvider.rowSortMeasure==L2V&&(this.dataProvider.rowSortType==q7V.data_.consts.SortType.DESC?o6V.sortedDesc=!b7I.R4d:this.dataProvider.rowSortType==q7V.data_.consts.SortType.ASC&&(o6V.sortedAsc=!b7I.R4d));S2V&&(s2V=this.getLevelIdxByTuple(g2V),-b7I.E4d<s2V&&(o6V.level=s2V));utils.nullOrEmpty(o6V.label)&&(o6V.isEmpty=!b7I.R4d,o6V.isExpandedArea=b7I.M4d==w2V&&Q2V&&P2V-b7I.E4d>t2V?!b7I.E4d:!b7I.R4d);return o6V;};d7V.prototype.getLevelIdxByTuple=function(V2V){return(V2V=this.dataProvider.getRowHierarchy(V2V).members.getItemAt(V2V[V2V.length-b7I.E4d]))?this.dataProvider.rowLevels.indexOf(V2V.level.uniqueName):-b7I.E4d;};d7V.prototype.onGridClick=function(Y2V){utils.nullOrUndefined(Y2V.cell)||!Y2V.cell.isColumnHeader&&!Y2V.cell.isRowHeader||(Y2V.cell.activeElementType==h7V.vo.GridCellElementType.DRILL?this.drill(Y2V.cell):Y2V.cell.activeElementType==h7V.vo.GridCellElementType.LINK&&Y2V.cell.isLink||(utils.nullOrUndefined(Y2V.cell.member)||Y2V.cell.activeElementType==h7V.vo.GridCellElementType.RIGHT_ICON?Y2V.cell.activeElementType==h7V.vo.GridCellElementType.RIGHT_ICON&&(Y2V.cell.isColumnHeader&&this.sortColumn(Y2V.cell),Y2V.cell.isRowHeader&&this.sortRow(Y2V.cell)):q7V.model._options.OptionsManager.showHierarchies||Y2V.cell.member.isLeaf?this.expandCollapse(Y2V.cell):this.drill(Y2V.cell)));};d7V.prototype.onFilterClick=function(R2V){q7V.model._options.OptionsManager.showFilter&&this.dispatch(new v7V.FilterOpenEvent(R2V.hierarchy));};d7V.prototype.drill=function(E2V){if(E2V.drilledUp||E2V.drilledDown||E2V.expanded||E2V.collapsed){var J2V=E2V.tuple,k2V=q7V.model._options.OptionsManager.classicView?b7I.V2d:E2V.measure,M2V=E2V.member;if(b7I.V2d!=M2V&&!M2V.isAll&&!M2V.isLeaf){var C2V;E2V.isRowHeader?(E2V=q7V.data_.consts.AxisName.ROWS_AXIS,C2V=this.dataProvider.isRowDrilledDown(J2V,M2V,k2V)):(E2V=q7V.data_.consts.AxisName.COLUMNS_AXIS,C2V=this.dataProvider.isColumnDrilledDown(J2V,M2V,k2V));C2V?this.dataProvider.drillUp(J2V,M2V,E2V,k2V):this.dataProvider.drillDown(J2V,M2V,E2V,k2V);}}};d7V.prototype.expandCollapse=function(a2V){if(a2V.expanded||a2V.collapsed){var A2V=a2V.tuple,H2V=a2V.isColumnHeader?q7V.data_.consts.AxisName.COLUMNS_AXIS:q7V.data_.consts.AxisName.ROWS_AXIS,O2V=q7V.model._options.OptionsManager.classicView&&H2V==q7V.data_.consts.AxisName.ROWS_AXIS?b7I.V2d:a2V.measure;a2V.expanded?(this.gridLayout.clearData(),this.dataProvider.collapse(A2V,H2V,O2V)):a2V.collapsed&&(this.gridLayout.clearData(),this.dataProvider.expand(A2V,H2V,O2V));a2V.isColumnHeader?this.gridLayout.clearColSizes(a2V.colIdx+b7I.E4d):this.gridLayout.clearRowSizes(a2V.rowIdx+b7I.E4d);}};function d7V(){var Y7O="contextmenu";var V7O="wdr-grid-view";var Q4V=o7V.call(this)||this;Q4V.START_TABLE_ROW=b7I.R4d;Q4V.START_HEADERS_ROW=b7I.R4d;Q4V.START_HEADERS_COLUMN=b7I.R4d;Q4V.FIRST_DATA_ROW=b7I.R4d;Q4V.FIRST_DATA_COLUMN=b7I.R4d;Q4V._model=q7V.model.PivotModel.getInstance();Q4V.conditions=[];Q4V.setId(V7O);utils.browserVersion().isMobile?new uicontrols._utils.LongPressListener(Q4V.container).listen(function(s4V,X4V){return Q4V.onLongPress(s4V,X4V);}):utils.fmdocument.addEventListener(Y7O,function(P4V){return Q4V.onContextMenu(P4V);});return Q4V;}d7V.prototype.onGridSingleDoubleClick=function(u2V){u2V.isSingleClick?this.singleClick(u2V.cell):(this.isDrillThroughAvailable&&q7V.model._options.OptionsManager.drillThrough&&!this.isFlatTable&&this.drillThrough(u2V.cell),this.doubleClick(u2V.cell));};d7V.prototype.drillThrough=function(x2V){x2V.isValue&&!x2V.measure.calculated&&this.dispatchWith(v7V.ViewEvent.DRILL_THROUGH_OPEN,this,{measure:x2V.measure.uniqueName,columnTuple:x2V.columnTuple,rowTuple:x2V.rowTuple});};d7V.prototype.singleClick=function(i2V){var l2V=i2V.toObject();this.setCoordsToCell(l2V,i2V.colIdx,i2V.rowIdx);q7V.model.JavaScriptHandlers.getInstance().dispatch(new q7V.model.APIEvent(q7V.model.JavaScriptHandlers.CELL_CLICK,l2V));};d7V.prototype.doubleClick=function(G2V){var j2V=G2V.toObject();this.setCoordsToCell(j2V,G2V.colIdx,G2V.rowIdx);q7V.model.JavaScriptHandlers.getInstance().dispatch(new q7V.model.APIEvent(q7V.model.JavaScriptHandlers.CELL_DOUBLE_CLICK,j2V));};d7V.prototype.setCoordsToCell=function(U2V,T2V,f2V){U2V.x=this.gridLayout.coords.getRelativeColX(T2V,this.gridLayout.isSmooth);U2V.y=this.gridLayout.coords.getRelativeRowY(f2V,this.gridLayout.isSmooth);U2V.width=this.gridLayout.coords.getColWidth(T2V);U2V.height=this.gridLayout.coords.getRowHeight(f2V);};d7V.prototype.sortRow=function(y2V,W2V){void b7I.R4d===W2V&&(W2V=b7I.s3d);var n2V=y2V.tuple,c2V=y2V.measure;b7I.V2d==c2V&&(c2V=this.dataProvider.measures.getItemAt(b7I.R4d));this.dataProvider.rowSortTuple&&this.dataProvider.rowSortTuple.toString()==n2V.toString()&&this.dataProvider.rowSortMeasure==c2V?this.dataProvider.rowSortType=this.dataProvider.rowSortType==q7V.data_.consts.SortType.DESC?q7V.data_.consts.SortType.ASC:q7V.data_.consts.SortType.DESC:(this.dataProvider.rowSortType=q7V.data_.consts.SortType.DESC,this.dataProvider.rowSortTuple=n2V,this.dataProvider.rowSortMeasure=c2V);b7I.s3d!=W2V&&(this.dataProvider.rowSortType=W2V);this.dataProvider.sort();this.gridLayout.clearColSizes(b7I.R4d);this.draw();};d7V.prototype.sortColumn=function(I2V,m2V){void b7I.R4d===m2V&&(m2V=b7I.s3d);var r2V=I2V.tuple,K2V=I2V.measure;b7I.V2d==K2V&&(K2V=this.dataProvider.measures.getItemAt(b7I.R4d));r2V&&this.dataProvider.columnSortTuple&&this.dataProvider.columnSortTuple.toString()==r2V.toString()&&this.dataProvider.columnSortMeasure==K2V?this.dataProvider.columnSortType=this.dataProvider.columnSortType==q7V.data_.consts.SortType.DESC?q7V.data_.consts.SortType.ASC:q7V.data_.consts.SortType.DESC:(this.dataProvider.columnSortType=K2V.type==q7V.data_.types.MeasureType.COUNT?q7V.data_.consts.SortType.ASC:q7V.data_.consts.SortType.DESC,this.dataProvider.columnSortTuple=r2V,this.dataProvider.columnSortMeasure=K2V);b7I.s3d!=m2V&&(this.dataProvider.columnSortType=m2V);this.dataProvider.sort();this.gridLayout.clearRowSizes(b7I.R4d);this.draw();};d7V.prototype.clearColumnSorting=function(){this.dataProvider.columnSortType=q7V.data_.consts.SortType.UNSORTED;this.dataProvider.columnSortTuple=b7I.V2d;this.dataProvider.columnSortMeasure=b7I.V2d;this._model.cube_.clearSortValues(this.dataProvider.rowAxis);this.dataProvider.sort();this.gridLayout.clearRowSizes(b7I.R4d);this.draw();};d7V.prototype.clearRowSorting=function(){this.dataProvider.rowSortType=q7V.data_.consts.SortType.UNSORTED;this.dataProvider.rowSortTuple=b7I.V2d;this.dataProvider.rowSortMeasure=b7I.V2d;this._model.cube_.clearSortValues(this.dataProvider.columnAxis);this.dataProvider.sort();this.gridLayout.clearColSizes(b7I.R4d);this.draw();};d7V.prototype.onLongPress=function(v2V,q2V){var B2V=this.gridLayout.getCellByElement(v2V.target);b7I.V2d==B2V||utils.nullOrEmpty(B2V.label)&&isNaN(B2V.value)||(this.showContextMenu(B2V,{left:q2V.clientX,top:q2V.clientY}),this.gridLayout.deselect());};d7V.prototype.onContextMenu=function(D2V){var h2V=this.gridLayout.selectedCell||this.gridLayout.getCellByElement(D2V.target);b7I.V2d==h2V||utils.nullOrEmpty(h2V.label)&&isNaN(h2V.value)||(D2V.preventDefault(),this.showContextMenu(h2V,{left:D2V.clientX,top:D2V.clientY}),this.gridLayout.deselect());};d7V.prototype.showContextMenu=function(d2V,s3V){var Q3V=this;if(b7I.V2d!=d2V){var o2V=[];!d2V.isValue||isNaN(d2V.value)||this.isFlatTable||d2V.measure.calculated||!q7V.model._options.OptionsManager.drillThrough||o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_DRILL_THROUGH,handler:function(){Q3V.drillThrough(d2V);}});d2V.isFilterHeader&&q7V.model._options.OptionsManager.showFilter&&o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_OPEN_FILTER,handler:function(){Q3V.dispatch(new v7V.FilterOpenEvent(d2V.hierarchy));}});if(d2V.isRowHeader||d2V.isColumnHeader)d2V.expanded&&o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_COLLAPSE,handler:function(){Q3V.expandCollapse(d2V);}}),d2V.collapsed&&o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_EXPAND,handler:function(){Q3V.expandCollapse(d2V);}});d2V.isRowHeader&&!d2V.isFilterHeader&&(d2V.sortedDesc||o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_SORT_ROW_DESC,handler:function(){Q3V.sortRow(d2V,q7V.data_.consts.SortType.DESC);}}),d2V.sortedAsc||o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_SORT_ROW_ASC,handler:function(){Q3V.sortRow(d2V,q7V.data_.consts.SortType.ASC);}}),(d2V.sortedAsc||d2V.sortedDesc)&&o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){Q3V.clearRowSorting();}}));d2V.isColumnHeader&&!d2V.isFilterHeader&&(d2V.sortedDesc||o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_DESC,handler:function(){Q3V.sortColumn(d2V,q7V.data_.consts.SortType.DESC);}}),d2V.sortedAsc||o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_SORT_COLUMN_ASC,handler:function(){Q3V.sortColumn(d2V,q7V.data_.consts.SortType.ASC);}}),(d2V.sortedAsc||d2V.sortedDesc)&&o2V.push({caption:q7V.model._labels.Labels.CONTEXT_MENU_CLEAR_SORTING,handler:function(){Q3V.clearColumnSorting();}}));b7I.R4d<o2V.length&&this._model.dispatchWith(v7V.ViewEvent.CONTEXT_MENU_OPEN,this,{menuItems:o2V,coords:s3V});}};d7V.prototype.addFilterCell=function(w3V,z3V,Z3V){for(var g3V=Z3V==q7V.data_.consts.AxisName.COLUMNS_AXIS?this.dataProvider.columnsOnly:this.dataProvider.rowsOnly,X3V,L3V=b7I.R4d,P3V=b7I.R4d;P3V<g3V.length;P3V++){var S3V=g3V.getItemAt(P3V);S3V.isMeasures||(X3V=new h7V.vo.GridCell(),X3V.label=S3V.caption,X3V.isFilterHeader=!b7I.R4d,X3V.draggable=!b7I.R4d,X3V.hasHierarchyName=!b7I.R4d,X3V.filtered=S3V.hasFilter(),X3V.level=L3V,X3V.hierarchy=S3V,Z3V==q7V.data_.consts.AxisName.COLUMNS_AXIS?(X3V.isFrozen=!this.isFlatTable,this.gridLayout.dataProvider.setDataFrozen(w3V,z3V+P3V,X3V)):(X3V.isRowHeader=!b7I.R4d,this.gridLayout.dataProvider.setDataFrozen(w3V+L3V,z3V,X3V),L3V++));}};d7V.prototype._addFilterCell=function(R3V,E3V){for(var V3V=this.dataProvider.rowsOnly,t3V,p3V=b7I.R4d,b3V=this.dataProvider.rowAxis.hasMeasures&&b7I.E4d<this.dataProvider.measures.length?this.FIRST_DATA_COLUMN-b7I.E4d:this.FIRST_DATA_COLUMN,e3V=b7I.R4d;e3V<V3V.length;e3V++){var F3V=V3V.getItemAt(e3V),Y3V;t3V=new h7V.vo.GridCell();t3V.label=F3V.caption;t3V.isFilterHeader=!b7I.R4d;t3V.draggable=!b7I.R4d;t3V.hasHierarchyName=!b7I.R4d;t3V.filtered=F3V.hasFilter();t3V.hierarchy=F3V;this.gridLayout.dataProvider.setDataFrozen(R3V,E3V+p3V,t3V);p3V++;if(b7I.M4d<F3V.levels_.length)for(var N3V=b7I.M4d;N3V<F3V.levels_.length&&!(Y3V=F3V.levels_.getItemAt(N3V),-b7I.E4d!=this.dataProvider.rowLevels.indexOf(Y3V.uniqueName)&&(t3V=new h7V.vo.GridCell(),t3V.label=Y3V.caption,t3V.isRowHeader=!b7I.R4d,t3V.hasHierarchyName=!b7I.R4d,this.gridLayout.dataProvider.setDataFrozen(R3V,E3V+p3V,t3V),p3V++),p3V>=b3V);N3V++);if(p3V>=b3V)break;}};Object.defineProperty(d7V.prototype,P933.R7O,{get:function(){return q7V.model._options.OptionsManager.flatView;},enumerable:!b7I.R4d,configurable:!b7I.R4d});Object.defineProperty(d7V.prototype,E7O,{get:function(){return!q7V.model._options.OptionsManager.flatView;},enumerable:!b7I.R4d,configurable:!b7I.R4d});Object.defineProperty(d7V.prototype,M7O,{get:function(){return this._gridLayout;},enumerable:!b7I.R4d,configurable:!b7I.R4d});d7V.prototype.exportTo=function(M3V,J3V,k3V){M3V==q7V.model._export.ExportType.HTML&&q7V.model._export.ExportHTML.run(this,J3V,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);M3V==q7V.model._export.ExportType.PDF&&q7V.model._export.ExportPDF.run(this,J3V,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);M3V==q7V.model._export.ExportType.EXCEL&&q7V.model._export.ExportXLS.run(this,J3V,this.dataProvider.extendedDataWidth,this.dataProvider.extendedDataHeight);};d7V.prototype.print=function(){q7V.model.printing.PrintingManager.getInstance().run(this,this.dataProvider);};d7V.prototype.getCell=function(H3V,A3V){var C3V=this.gridLayout.getCell(H3V,A3V,!b7I.R4d,!b7I.R4d);if(b7I.V2d==C3V){C3V=new h7V.vo.GridCell();C3V.rowIdx=H3V;C3V.colIdx=A3V;var a3V=this.getData(H3V,A3V,!b7I.R4d);C3V.value=a3V?a3V.value:NaN;isNaN(C3V.value)||(C3V.label=utils.NumberFormatter.format(C3V.value));}-b7I.E4d==C3V.rowIdx&&(C3V.rowIdx=H3V);-b7I.E4d==C3V.colIdx&&(C3V.colIdx=A3V);a3V=C3V.toObject();this.setCoordsToCell(a3V,C3V.colIdx,C3V.rowIdx);return a3V;};d7V.prototype.getSelectedCell=function(){if(b7I.V2d==this.gridLayout.selectedCell)return b7I.V2d;var O3V=this.gridLayout.selectedCell.toObject();this.setCoordsToCell(O3V,this.gridLayout.selectedCell.colIdx,this.gridLayout.selectedCell.rowIdx);return O3V;};d7V.prototype.setSelectedCell=function(u3V,x3V){this.gridLayout.select(u3V,x3V,u3V,x3V);};d7V.prototype.removeSelection=function(){this.gridLayout.deselect();};Object.defineProperty(d7V.prototype,J7O,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataHeight+this.FIRST_DATA_ROW:b7I.R4d;},enumerable:!b7I.R4d,configurable:!b7I.R4d});Object.defineProperty(d7V.prototype,k7O,{get:function(){return this.dataProvider.dataLoaded?this.dataProvider.extendedDataWidth+this.FIRST_DATA_COLUMN:b7I.R4d;},enumerable:!b7I.R4d,configurable:!b7I.R4d});d7V.prototype.onResizeColumn=function(i3V){this._onResizeColumn(i3V.data.colIdx,i3V.data.width);};d7V.prototype.onResizeRow=function(l3V){this._onResizeRow(l3V.data.rowIdx,l3V.data.height);};d7V.prototype._onResizeColumn=function(G3V,U3V){if(G3V<this.FIRST_DATA_COLUMN)b7I.R4d<U3V?q7V.model.sizes.SizesManager.columnHeaderSizes[G3V]=U3V:delete q7V.model.sizes.SizesManager.columnHeaderSizes[G3V];else{var j3V=this.dataProvider.getColumnTuple(G3V-this.FIRST_DATA_COLUMN,!b7I.R4d);if(b7I.V2d!=j3V){var T3V=this.dataProvider.getColumnMeasureIndex(G3V-this.FIRST_DATA_COLUMN);this.dataProvider.columnAxis.hasMeasures&&j3V.push(T3V);b7I.R4d<U3V?q7V.model.sizes.SizesManager.columnSizes[j3V.join(s933.f0d)]=U3V:delete q7V.model.sizes.SizesManager.columnSizes[j3V.join(s933.f0d)];}}};d7V.prototype.resizeColumnsByIdx=function(){var W3V=q7V.model.sizes.SizesManager.columnSizesByIdx;q7V.model.sizes.SizesManager.columnSizesByIdx={};var f3V=[],n3V;for(n3V in W3V)if(W3V[n3V]){var y3V=parseInt(n3V);f3V[y3V]=W3V[n3V];}for(var c3V in f3V)this.gridLayout.resizeColumn(parseInt(c3V),f3V[c3V]),this._onResizeColumn(parseInt(c3V),f3V[c3V]);};d7V.prototype.resizeHeaderColumns=function(){var K3V=q7V.model.sizes.SizesManager.columnHeaderSizes,m3V=[],r3V;for(r3V in K3V)K3V[r3V]&&(m3V[r3V]=K3V[r3V]);for(var I3V in m3V)K3V=parseInt(I3V),K3V<this.FIRST_DATA_COLUMN&&this.gridLayout.resizeColumn(K3V,m3V[K3V]);};d7V.prototype.resizeColumns=function(){var v3V=q7V.model.sizes.SizesManager.columnSizes,h3V=[],q3V;for(q3V in v3V)if(v3V[q3V]){var B3V=b7I.s3d==q3V?[]:q3V.split(s933.f0d),B3V=this.dataProvider.getColumnTupleIndex(B3V);-b7I.E4d!=B3V&&(B3V+=this.FIRST_DATA_COLUMN,h3V[B3V]=v3V[q3V]);}for(var D3V in h3V)this.gridLayout.resizeColumn(parseInt(D3V),h3V[D3V]);};d7V.prototype.resizeRowsByIdx=function(){var Q5V=q7V.model.sizes.SizesManager.rowSizesByIdx;q7V.model.sizes.SizesManager.rowSizesByIdx={};var d3V=[],s5V;for(s5V in Q5V)if(Q5V[s5V]){var X5V=parseInt(s5V);d3V[X5V]=Q5V[s5V];}for(var o3V in d3V)this.gridLayout.resizeRow(parseInt(o3V),d3V[o3V]),this._onResizeRow(parseInt(o3V),d3V[o3V]);};d7V.prototype.resizeHeaderRows=function(){q7V.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;var P5V=q7V.model.sizes.SizesManager.rowHeaderSizes,S5V=[],L5V;for(L5V in P5V)if(P5V[L5V]){var w5V=parseInt(L5V)+this.START_TABLE_ROW;S5V[w5V]=P5V[L5V];}for(var g5V in S5V)parseInt(g5V)<this.FIRST_DATA_ROW&&this.gridLayout.resizeRow(parseInt(g5V),S5V[g5V]);};d7V.prototype.resizeRows=function(){var t5V=q7V.model.sizes.SizesManager.rowSizes,p5V=[],Z5V;for(Z5V in t5V)if(t5V[Z5V]){var z5V=b7I.s3d==Z5V?[]:Z5V.split(s933.f0d),z5V=this.dataProvider.getRowTupleIndex(z5V);-b7I.E4d!=z5V&&(z5V+=this.FIRST_DATA_ROW,p5V[z5V]=t5V[Z5V]);}for(var F5V in p5V)this.gridLayout.resizeRow(parseInt(F5V),p5V[F5V]);};d7V.prototype._onResizeRow=function(e5V,N5V){q7V.model.sizes.SizesManager.startTableRow=this.START_TABLE_ROW;if(e5V<this.START_TABLE_ROW)b7I.R4d<N5V?q7V.model.sizes.SizesManager.rowFilterSizes[e5V]=N5V:delete q7V.model.sizes.SizesManager.rowFilterSizes[e5V];else if(e5V<this.FIRST_DATA_ROW)b7I.R4d<N5V?q7V.model.sizes.SizesManager.rowHeaderSizes[e5V-this.START_TABLE_ROW]=N5V:delete q7V.model.sizes.SizesManager.rowHeaderSizes[e5V-this.START_TABLE_ROW];else{var b5V=this.dataProvider.getRowTuple(e5V-this.FIRST_DATA_ROW,!b7I.R4d);if(b7I.V2d!=b5V){var V5V=this.dataProvider.getRowMeasureIndex(e5V-this.FIRST_DATA_ROW);this.dataProvider.rowAxis.hasMeasures&&b5V.push(V5V);b7I.R4d<N5V?q7V.model.sizes.SizesManager.rowSizes[b5V.join(s933.f0d)]=N5V:delete q7V.model.sizes.SizesManager.rowSizes[b5V.join(s933.f0d)];}}};return d7V;}(uicontrols.containers.UIContainer);h7V.GridView=D7V;}(v7V.grid||(v7V.grid={})));}(q7V._view||(q7V._view={})));}(pivot||(pivot={})));(function(Y5V){(function(R5V){(function(J5V){var M5V=function(){var c7O="resize_r";var f7O="resize_c";var T7O="filter_click";var U7O="long";var j7O="dthclosed";var G7O="shrink";var l7O="hresizing";var i7O="hresized";var x7O="mleave";var u7O="mmove";var O7O="mdown";var A7O="mup";var H7O="singledoubleclick";var C7O="mclick";k5V.MOUSE_CLICK=C7O;k5V.MOUSE_DOUBLE_CLICK=P933.a7O;k5V.MOUSE_SINGLE_DOUBLE_CLICK=H7O;k5V.MOUSE_UP=A7O;k5V.MOUSE_DOWN=O7O;k5V.MOUSE_MOVE=u7O;k5V.MOUSE_LEAVE=x7O;k5V.HEADER_RESIZED=i7O;k5V.HEADER_RESIZING=l7O;k5V.SHRINK_TO_FIT=G7O;k5V.DRILLTHROUGH_CLOSED=j7O;k5V.LONG_PRESS=U7O;function k5V(){}k5V.FILTER_CLICK=T7O;k5V.RESIZE_COLUMN=f7O;k5V.RESIZE_ROW=c7O;return k5V;}();J5V.GridEvent=M5V;var E5V=function(C5V){__extends(a5V,C5V);function a5V(O5V,A5V){void Q933.R4d===A5V&&(A5V=Q933.V2d);var H5V=C5V.call(this,M5V.MOUSE_CLICK)||this;H5V.cell=O5V;H5V.element=A5V;return H5V;}return a5V;}(events._Event);J5V.GridClickEvent=E5V;E5V=function(u5V){__extends(x5V,u5V);function x5V(l5V){var i5V=u5V.call(this,M5V.MOUSE_DOUBLE_CLICK)||this;i5V.cell=l5V;return i5V;}return x5V;}(events._Event);J5V.GridDoubleClickEvent=E5V;E5V=function(G5V){__extends(j5V,G5V);function j5V(f5V,c5V,T5V){void Q933.R4d===T5V&&(T5V=Q933.V2d);var U5V=G5V.call(this,M5V.MOUSE_SINGLE_DOUBLE_CLICK)||this;U5V.cell=f5V;U5V.isSingleClick=c5V;U5V.element=T5V;return U5V;}return j5V;}(events._Event);J5V.GridSingleDoubleClickEvent=E5V;E5V=function(W5V){__extends(n5V,W5V);function n5V(K5V){var y5V=W5V.call(this,M5V.MOUSE_DOWN)||this;y5V.cell=K5V;return y5V;}return n5V;}(events._Event);J5V.GridMouseDownEvent=E5V;E5V=function(m5V){__extends(r5V,m5V);function r5V(B5V){var I5V=m5V.call(this,M5V.MOUSE_MOVE)||this;I5V.cell=B5V;return I5V;}return r5V;}(events._Event);J5V.GridMouseMoveEvent=E5V;E5V=function(q5V){__extends(v5V,q5V);function v5V(D5V){var h5V=q5V.call(this,M5V.MOUSE_UP)||this;h5V.cell=D5V;return h5V;}return v5V;}(events._Event);J5V.GridMouseUpEvent=E5V;E5V=function(d5V){__extends(o5V,d5V);function o5V(s0V,X0V){var Q0V=d5V.call(this,M5V.LONG_PRESS)||this;Q0V.cell=s0V;Q0V.coords=X0V;return Q0V;}return o5V;}(events._Event);J5V.GridLongPressEvent=E5V;E5V=function(P0V){__extends(S0V,P0V);function S0V(w0V,z0V,g0V){void Q933.R4d===g0V&&(g0V=Q933.V2d);var L0V=P0V.call(this,M5V.FILTER_CLICK)||this;L0V.hierarchy=w0V;L0V.cell=z0V;L0V.element=g0V;return L0V;}return S0V;}(events._Event);J5V.FilterClickEvent=E5V;}(R5V.grid||(R5V.grid={})));}(Y5V._view||(Y5V._view={})));}(pivot||(pivot={})));(function(Z0V){(function(t0V){(function(F0V){var p0V=function(){e0V.validate=function(N0V){return N0V==e0V.COMPACT||N0V==e0V.CLASSIC||N0V==e0V.FLAT?N0V:e0V.COMPACT;};e0V.COMPACT=P933.W7O;e0V.CLASSIC=P933.n7O;function e0V(){}e0V.FLAT=X933.e0B;return e0V;}();F0V.GridType=p0V;}(t0V.grid||(t0V.grid={})));}(Z0V._view||(Z0V._view={})));}(pivot||(pivot={})));(function(b0V){(function(V0V){var Y0V=function(E0V){var o7O="wdr-circle";__extends(R0V,E0V);R0V.getInstance=function(){Q933.V2d==R0V._instance&&(R0V._instance=new R0V());return R0V._instance;};R0V.dispose=function(){R0V._instance=Q933.V2d;};R0V.prototype.setControls=function(){var I7O="wdr-alert-icon";var r7O="wdr-ui-btns-row";var K7O="wdr-content";var y7O="wdr-overlay-alert";this.overlay.addClass(y7O);this._buttons=[];var J0V=new uicontrols.UIComponentBase(Q933.S3d,K7O);this.addChild(J0V);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(P933.m7O);J0V.addChild(this._txtTitle);this._txtMessage=new uicontrols.UILabel();J0V.addChild(this._txtMessage);this._toolbar=new uicontrols.UIComponentBase(Q933.S3d,r7O);J0V.addChild(this._toolbar);this._icon=new uicontrols.UIComponentBase(Q933.S3d,I7O);this.addChild(this._icon);};R0V.prototype.openView=function(k0V,C0V,a0V,H0V,A0V,O0V){var g7I=Q933;void g7I.R4d===k0V&&(k0V=g7I.s3d);void g7I.R4d===C0V&&(C0V=g7I.s3d);void g7I.R4d===a0V&&(a0V=b0V.AlertType.ALERT);void g7I.R4d===H0V&&(H0V=g7I.V2d);void g7I.R4d===A0V&&(A0V=g7I.V2d);void g7I.R4d===O0V&&(O0V=!g7I.E4d);this.clear();this.setTitle(C0V);this.setMessage(k0V);this.setIcon(a0V);this.setButtons(H0V,A0V);V0V.PivotView.stage.addChild(this);this.isOpaque=O0V;this.open();this.centerPosition();};R0V.prototype.clear=function(){var L7I=Q933;var D7O="wdr-question";var h7O="wdr-info";var v7O="wdr-error";var q7O="wdr-confirmation";var B7O="wdr-alert";this.setTitle(L7I.s3d);for(this.setMessage(L7I.s3d);L7I.R4d<this._buttons.length;)this._buttons.pop().removeFromParent();this.container.toggleClass(B7O,!L7I.E4d);this.container.toggleClass(q7O,!L7I.E4d);this.container.toggleClass(v7O,!L7I.E4d);this.container.toggleClass(h7O,!L7I.E4d);this.container.toggleClass(D7O,!L7I.E4d);};R0V.prototype.setTitle=function(u0V){this._txtTitle.setSelectable(!Q933.E4d);this._txtTitle.setLabel(u0V);};R0V.prototype.setMessage=function(x0V){this._txtMessage.setLabel(x0V,!Q933.R4d);};R0V.prototype.setButtons=function(i0V,j0V){var U0V=this;Q933.V2d==i0V&&(i0V=[b0V.model._labels.Labels.BUTTON_OK]);i0V.reverse();Q933.V2d!=j0V&&j0V.reverse();this._handlers=j0V;for(var l0V,G0V=Q933.R4d;G0V<i0V.length;G0V++)l0V=new uicontrols.UIButton(),l0V.setLabel(i0V[G0V]),l0V.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(T0V){return U0V.buttonClickHandler(T0V);}),this._buttons.push(l0V),this.isPrimary(i0V[G0V])&&l0V.addClass(P933.d7O),this.isPrimary(i0V[G0V])&&(utils.OSUtil.isMac||utils.OSUtil.isIOS)?this._toolbar.addChild(l0V):this.isPrimary(i0V[G0V])?this._toolbar.container.prepend(l0V.container):this._toolbar.addChild(l0V);};R0V.prototype.isPrimary=function(f0V){switch(f0V){case b0V.model._labels.Labels.BUTTON_OK:case b0V.model._labels.Labels.BUTTON_SAVE:case b0V.model._labels.Labels.BUTTON_YES:return!Q933.R4d;}return!Q933.E4d;};R0V.prototype.buttonClickHandler=function(n0V){var o9I=Q933;n0V=n0V.target;for(var c0V=-o9I.E4d,W0V=o9I.R4d;W0V<this._buttons.length;W0V++)if(this._buttons[W0V]==n0V){c0V=W0V;break;}if(!(o9I.R4d>c0V)&&(this.close(),o9I.V2d!=this._handlers&&o9I.V2d!=this._handlers[c0V]))this._handlers[c0V]();};R0V.prototype.setIcon=function(y0V){this._icon.container.removeAllChildren();y0V==b0V.AlertType.ALERT?this._icon.container.addChild(this.createIconAlert()):y0V==b0V.AlertType.CONFIRMATION?this._icon.container.addChild(this.createIconConfirmation()):y0V==b0V.AlertType.ERROR?this._icon.container.addChild(this.createIconError()):y0V==b0V.AlertType.INFO&&this._icon.container.addChild(this.createIconInfo());};R0V.prototype.createIconConfirmation=function(){var Q4O="wdr-ui-icon wdr-icon-notif_confirm";var K0V=new uicontrols.UIElement(Q933.q3d,o7O);K0V.addChild(new uicontrols.UIElement(Q933.q3d,Q4O));return K0V;};function R0V(){var s4O="wdr-alert-view";var M0V=this;if(Q933.V2d!=R0V._instance)throw Error(s933.m0d);M0V=E0V.call(this,V0V.PivotView.stage.container)||this;M0V.setId(s4O);M0V.setControls();return M0V;}R0V.prototype.createIconInfo=function(){var X4O="wdr-ui-icon wdr-icon-notif_info";var m0V=new uicontrols.UIElement(Q933.q3d,o7O);m0V.addChild(new uicontrols.UIElement(Q933.q3d,X4O));return m0V;};R0V.prototype.createIconAlert=function(){var L4O="wdr-ui-icon wdr-icon-notif_warning";var S4O="wdr-triangle";var P4O="wdr-triangle-wrap";var r0V=new uicontrols.UIElement(Q933.q3d,P4O);r0V.addChild(new uicontrols.UIElement(Q933.q3d,S4O));r0V.addChild(new uicontrols.UIElement(Q933.q3d,L4O));return r0V;};R0V.prototype.createIconError=function(){var w4O="wdr-ui-icon wdr-icon-notif_arrow";var g4O="wdr-hexagon";var I0V=new uicontrols.UIElement(Q933.q3d,g4O);I0V.addChild(new uicontrols.UIElement(Q933.q3d,w4O));return I0V;};R0V.prototype.close=function(){E0V.prototype.close.call(this);this.clear();};R0V.prototype.onOverlayClick=function(){this.isOpaque||E0V.prototype.onOverlayClick.call(this);};return R0V;}(uicontrols.containers.UIPopup);V0V.AlertView=Y0V;}(b0V._view||(b0V._view={})));}(pivot||(pivot={})));(function(B0V){(function(q0V){(function(v0V){var h0V=function(d0V){__extends(D0V,d0V);D0V.prototype.setControls=function(){var Q3I=P933;var F4O="wdr-grid-container";var t4O="wdr-details-container";var Z4O="wdr-ui-btn-close";var z4O="wdr-header-container";var Q1V=this;this.headerGroup=new uicontrols.containers.UIContainer(z4O);this.addChild(this.headerGroup);this._txtTitle=new uicontrols.UILabel();this._txtTitle.addClass(Q3I.m7O);this._txtTitle.setSelectable(!Q933.E4d);this.headerGroup.addChild(this._txtTitle);this._btnClose=new uicontrols.UIButton();this._btnClose.addClass(Z4O);this._btnClose.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return Q1V.close();});this.headerGroup.addChild(this._btnClose);this.detailsGroup=new uicontrols.containers.UIContainer(t4O);this.addChild(this.detailsGroup);this._txtRowDetails=new uicontrols.UILabel();this._txtRowDetails.addClass(Q3I.p4O);this.detailsGroup.addChild(this._txtRowDetails);this._txtColDetails=new uicontrols.UILabel();this._txtColDetails.addClass(Q3I.p4O);this.detailsGroup.addChild(this._txtColDetails);this._txtMeasureDetails=new uicontrols.UILabel();this._txtMeasureDetails.addClass(Q3I.p4O);this.detailsGroup.addChild(this._txtMeasureDetails);this.sheetGroup=new uicontrols.containers.UIContainer(F4O);this.addChild(this.sheetGroup);this.gridLayout=new v0V.sheet.flat.FlatGridLayout();this.gridLayout.isDrillThrough=!Q933.R4d;this.gridLayout.getDataFunction=function(s1V,X1V){return Q1V.getData(s1V,X1V);};this.sheetGroup.container.addChild(this.gridLayout);};D0V.prototype.openView=function(L1V,P1V,g1V,w1V,z1V){var o2I=Q933;var S1V=this;void o2I.R4d===L1V&&(L1V=o2I.V2d);void o2I.R4d===P1V&&(P1V=o2I.V2d);void o2I.R4d===g1V&&(g1V=o2I.V2d);void o2I.R4d===w1V&&(w1V=o2I.V2d);void o2I.R4d===z1V&&(z1V=o2I.V2d);this.dataProvider=L1V;this.setSlice(P1V.clone());this.originalSlice=P1V;this.rowTuple=w1V;this.columnTuple=g1V;this.measure=z1V;this.tmpShowHeaders=B0V.model._options.OptionsManager.showHeaders;B0V.model._options.OptionsManager.showHeaders=!o2I.R4d;this.data=this.dataProvider.drillThrough(this.rowTuple,this.columnTuple,this.measure);this.keys=this.data.shift();B0V.model._options.OptionsManager.showDrillThroughConfigurator&&o2I.V2d==this._fieldsView&&(this._fieldsView=new q0V.config.FieldsView(),this._fieldsView.modalParent=q0V.PivotView.stage.container,this._fieldsView.isForDillThrough=!o2I.R4d,this._fieldsView.containtment=this.gridLayout.element,this._fieldsView.addEventListener(q0V.config.FieldsView.EVENT_OPEN,function(){return S1V.onFieldsViewOpen();}),this._fieldsView.addEventListener(q0V.config.FieldsView.EVENT_APPLY_SLICE,function(Z1V){return S1V.onFieldsViewApplySlice(Z1V);}),this.sheetGroup.addChild(this._fieldsView));this.gridLayout.addEventListener(q0V.config.FieldsView.EVENT_APPLY_SLICE,function(t1V){return S1V.onFieldsViewApplySlice(t1V);});this.open();this.redraw();};D0V.prototype.onDataLoaded=function(p1V){this.data=p1V;B0V.preloader(!Q933.E4d);Q933.V2d!=this.data&&(this.open(),this.redraw());};D0V.prototype.setSlice=function(F1V){this.slice=F1V;};D0V.prototype.redraw=function(){var D2I=Q933;var M6d=80;this._txtTitle.setLabel(B0V.model._labels.Labels.DRILL_THROUGH_TITLE);this._txtRowDetails.setLabel(this.getRowDetails(),!D2I.R4d);this._txtColDetails.setLabel(this.getColDetails(),!D2I.R4d);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!D2I.R4d);this.setWidth(q0V.PivotView.stageWidth-M6d);var e1V=q0V.PivotView.stage.container.getHeight(!D2I.R4d)-this.detailsGroup.container.getHeight(!D2I.R4d)-this.headerGroup.container.getHeight(!D2I.R4d)-D2I.B4d-this.container.padding.top-this.container.padding.bottom-D2I.s6d,N1V=this.getWidth()-D2I.M4d;this.gridLayout.clearAll();this.gridLayout.resize(N1V,e1V);this.gridLayout.width=N1V;this.gridLayout.height=e1V;this.gridLayout.freezeRows(D2I.E4d);this.gridLayout.setDataSize(this.data.length,this.slice.flatten().length);this.gridLayout.draw();this.centerPosition();};D0V.prototype.close=function(){d0V.prototype.close.call(this);!Q933.E4d==utils.nullOrUndefined(this.tmpShowHeaders)&&(B0V.model._options.OptionsManager.showHeaders=this.tmpShowHeaders);this.dispatchWith(v0V.GridEvent.DRILLTHROUGH_CLOSED);};D0V.prototype.getData=function(E1V,M1V){var v2I=Q933;if(v2I.R4d==E1V)return this.getHeaderCell(M1V);var V1V=new v0V.vo.GridCell();V1V.isDrillThrough=!v2I.R4d;V1V.isValue=!v2I.R4d;var Y1V;if(v2I.V2d==this.data||v2I.V2d==this.data[E1V-v2I.E4d])return v2I.V2d;Y1V=this.slice.flatten();if(!(M1V<this.data[E1V-v2I.E4d].length))return v2I.V2d;var b1V=Y1V.getItemAt(M1V);if(v2I.V2d==b1V)return v2I.V2d;Y1V=this.keys.indexOf(b1V.uniqueName);v2I.M4d<b1V.levels_.length&&(Y1V=this.keys.indexOf(b1V.levels_.getKeyAt(b1V.levels_.length-v2I.E4d)));var J1V=this.getNotNullMemberIdx(E1V,Y1V);V1V.hierarchy=b1V;V1V.label=this.getMemberFullCaption(b1V.members.getItemAt(J1V));var R1V=this.slice.hierarchyToMeasure(b1V.uniqueName);if(v2I.V2d==R1V)return v2I.V2d;Y1V=R1V.getFormat(!v2I.R4d).clone();this.originalSlice.measures_.keyExists(R1V.uniqueName)&&(b1V=b1V.members.getItemAt(J1V),v2I.V2d!=b1V&&(V1V.value=b1V.levelOrdinal,V1V.label=R1V.type==B0V.data_.types.MeasureType.NUMBER?utils.NumberFormatter.format(V1V.value,Y1V):b1V.caption));v2I.s3d!=Y1V.textAlign&&V1V.customize({"text-align":Y1V.textAlign});V1V.measure=R1V;return V1V;};D0V.prototype.getNotNullMemberIdx=function(C1V,k1V){for(;Q933.V2d==this.data[C1V-Q933.E4d][k1V];)k1V--;return this.data[C1V-Q933.E4d][k1V];};D0V.prototype.getMemberFullCaption=function(a1V){for(var H1V=[];a1V&&a1V.parent;)H1V.unshift(a1V.caption),a1V=a1V.parent;return H1V.join(P933.e4O);};D0V.prototype.getHeaderCell=function(O1V){var I2I=Q933;var A1V=new v0V.vo.GridCell();A1V.isDrillThrough=!I2I.R4d;A1V.isColumnHeader=!I2I.R4d;O1V=this.slice.flatten().getItemAt(O1V);if(I2I.V2d==O1V)return I2I.V2d;A1V.label=O1V.caption;return A1V;};function D0V(){var r2I=Q933;var N4O="wdr-drillthrough-view";var o0V=d0V.call(this,q0V.PivotView.stage.container)||this;o0V.slice=r2I.V2d;o0V.originalSlice=r2I.V2d;o0V.columnTuple=r2I.V2d;o0V.rowTuple=r2I.V2d;o0V.measure=r2I.V2d;o0V.START_TABLE_ROW=r2I.R4d;o0V.START_HEADERS_ROW=r2I.R4d;o0V.START_HEADERS_COLUMN=r2I.R4d;o0V.FIRST_DATA_ROW=r2I.R4d;o0V.FIRST_DATA_COLUMN=r2I.R4d;o0V.setId(N4O);o0V.setControls();return o0V;}D0V.prototype.getRowDetails=function(){var K2I=Q933;for(var x1V,u1V=[],i1V=K2I.R4d;i1V<this.rowTuple.length;i1V++){x1V=this.originalSlice.rowsOnly.getItemAt(i1V);if(K2I.V2d==x1V)return K2I.V2d;x1V=x1V.members.getItemAt(this.rowTuple[i1V]);u1V.push(x1V.caption);}u1V=K2I.R4d<u1V.length?utils.StringUtils.bind(B0V.model._labels.Labels.DRILL_THROUGH_ROW,u1V.join(P933.b4O)):K2I.s3d;return u1V=u1V.replace(/<br\s*[\/]?>/gi,K2I.R2d);};D0V.prototype.getColDetails=function(){var n2I=Q933;for(var G1V,l1V=[],j1V=n2I.R4d;j1V<this.columnTuple.length;j1V++){G1V=this.originalSlice.columnsOnly.getItemAt(j1V);if(n2I.V2d==G1V)return n2I.V2d;G1V=G1V.members.getItemAt(this.columnTuple[j1V]);l1V.push(G1V.caption);}l1V=n2I.R4d<l1V.length?utils.StringUtils.bind(B0V.model._labels.Labels.DRILL_THROUGH_COLUMN,l1V.join(P933.b4O)):n2I.s3d;return l1V=l1V.replace(/<br\s*[\/]?>/gi,n2I.R2d);};D0V.prototype.getMeasureDetails=function(){var U1V=this.measure.getFormat().clone(),T1V=this.dataProvider.getValue(this.rowTuple,this.columnTuple,this.measure),U1V=utils.NumberFormatter.format(T1V,U1V),U1V=utils.StringUtils.bind(B0V.model._labels.Labels.DRILL_THROUGH_VALUE,this.measure.caption,U1V),U1V=U1V.replace(/<br\s*[\/]?>/gi,Q933.R2d);this.value=T1V;return U1V;};D0V.prototype.onFieldsViewOpen=function(){this._fieldsView&&this._fieldsView.open(B0V.data_.Cube.getInstance().structure_,this.slice);};D0V.prototype.onFieldsViewApplySlice=function(f1V){f1V=f1V.data instanceof B0V.data_._structure.Slice?f1V.data:B0V.data_._structure.Slice.fromObject(B0V.model.report.SliceValueObject.fromObject(f1V.data),B0V.data_.Cube.getInstance().structure_);this.setSlice(f1V);this.redraw();};D0V.prototype.exportTo=function(n1V,y1V,c1V){var c2I=Q933;c1V=this.slice?this.slice.flatten().length:this.data[c2I.R4d]?this.data[c2I.R4d].length:c2I.R4d;var W1V=this.data?this.data.length+c2I.E4d:c2I.R4d;n1V==B0V.model._export.ExportType.HTML&&B0V.model._export.ExportHTML.run(this,y1V,c1V,W1V);n1V==B0V.model._export.ExportType.PDF&&B0V.model._export.ExportPDF.run(this,y1V,c1V,W1V);n1V==B0V.model._export.ExportType.EXCEL&&B0V.model._export.ExportXLS.run(this,y1V,c1V,W1V);};D0V.prototype.saveData=function(r1V,K1V,m1V){var I1V=this;this.timer&&this.timer.running&&this.timer.stop();Q933.V2d==this.timer&&(this.timer=new utils.Timer(s933.N0d,Q933.E4d));this.timer.addEventListener(utils.TimerEvent.TIMER_COMPLETE,function(){return I1V.onTimeComplete();});this.timer.start();(K1V=this.getData(r1V,K1V))&&K1V.label!=m1V&&K1V.value!=m1V&&this.dataProvider.save(this.rowTuple,this.columnTuple,K1V.hierarchy,m1V,r1V-Q933.E4d);this.draw();};D0V.prototype.onTimeComplete=function(){this._txtRowDetails.setLabel(this.getRowDetails(),!Q933.R4d);this._txtColDetails.setLabel(this.getColDetails(),!Q933.R4d);this._txtMeasureDetails.setLabel(this.getMeasureDetails(),!Q933.R4d);this.timer.stop();};return D0V;}(uicontrols.containers.UIPopup);v0V.DrillThroughView=h0V;}(q0V.grid||(q0V.grid={})));}(B0V._view||(B0V._view={})));}(pivot||(pivot={})));(function(B1V){(function(q1V){(function(v1V){(function(h1V){var D1V=function(){var j2I=Q933;var Y4O="isGrandTotal";var V4O="isTotal";Object.defineProperty(d1V.prototype,V4O,{get:function(){return this.isTotalRow||this.isTotalColumn;},enumerable:!j2I.R4d,configurable:!j2I.R4d});Object.defineProperty(d1V.prototype,Y4O,{get:function(){return this.isGrandTotalRow||this.isGrandTotalColumn;},enumerable:!j2I.R4d,configurable:!j2I.R4d});d1V.prototype.getDrillLabel=function(){return this.drilledDown||this.drilledUp?this.hierarchy.levels_.getItemAt(this.member.level.num+j2I.E4d).caption:j2I.s3d;};d1V.prototype.getLabel=function(){if(j2I.V2d!=d1V.customizeCellFunction){var o1V=new HtmlNodeWrapper();o1V.clear();o1V.tag=j2I.S3d;o1V.text+=this.label;d1V.customizeCellFunction(o1V.node,this.toObject());var Q8V=o1V.text,Q8V=B1V.model.XSSCheck.valid(Q8V)?Q8V:B1V.model.XSSCheck.validate(Q8V);o1V.clear();o1V=document.createElement(j2I.S3d);o1V.innerHTML=Q8V;return o1V.textContent?o1V.textContent.trim():Q8V;}return this.label;};d1V.prototype.customize=function(s8V){this.isCustomized=!j2I.R4d;j2I.V2d==this.style&&(this.style=new h1V.CellStyle());this.style.addCSS(s8V);};d1V.prototype.customizeWithClass=function(X8V){this.isCustomized=!j2I.R4d;j2I.V2d==this.style&&(this.style=new h1V.CellStyle());this.style.addStyle(X8V);this.style.addCustomStyle(X8V);};function d1V(){this.value=NaN;this.label=j2I.s3d;this.level=NaN;this.sortedDesc=this.sortedAsc=this.sortable=this.drilledDown=this.drilledUp=this.draggable=this.collapsed=this.expanded=this.filtered=this.hasHierarchyName=this.showTooltip=this.isLink=this.isValue=this.isClassicTotalRow=this.isGrandTotalColumn=this.isGrandTotalRow=this.isTotalColumn=this.isTotalRow=this.isMeasureHeader=this.isColumnHeader=this.isRowHeader=this.isFrozen=this.isFilterHeader=this.isCustomized=this.numeric=!j2I.E4d;this.colIdx=this.rowIdx=-j2I.E4d;this.recordId=j2I.V2d;this.isDrillThrough=this.isExpandedArea=this.isEmpty=!j2I.E4d;this.conditions=[];this.url=j2I.s3d;this.isKPIStatus=this.isKPITrend=!j2I.E4d;this.activeElementType=h1V.GridCellElementType.BACKGROUND;}d1V.prototype.toObject=function(){var R4O="header";if(this.obj)return this.obj;var P8V,g8V=B1V.model.PivotModel.getInstance(),S8V,z8V=[];if(!B1V.model._options.OptionsManager.flatView&&(S8V=this.isColumnHeader&&this.tuple?this.tuple:this.columnTuple))for(var w8V=g8V.cube_.slice_?g8V.cube_.slice_.columnsOnly:new utils.AssociativeArray(),L8V=j2I.R4d;L8V<S8V.length;L8V++)P8V=w8V.getItemAt(L8V),P8V=P8V.members.getItemAt(S8V[L8V]),z8V.push({caption:P8V.caption,uniqueName:P8V.uniqueName,hierarchyCaption:P8V.hierarchy_.caption,hierarchyUniqueName:P8V.hierarchy_.uniqueName});w8V=[];if(!B1V.model._options.OptionsManager.flatView&&(S8V=this.isRowHeader&&this.tuple?this.tuple:this.rowTuple))for(g8V=g8V.cube_.slice_?g8V.cube_.slice_.rowsOnly:new utils.AssociativeArray(),L8V=j2I.R4d;L8V<S8V.length;L8V++)P8V=g8V.getItemAt(L8V),P8V=P8V.members.getItemAt(S8V[L8V]),w8V.push({caption:P8V.caption,uniqueName:P8V.uniqueName,hierarchyCaption:P8V.hierarchy_.caption,hierarchyUniqueName:P8V.hierarchy_.uniqueName});S8V={columnIndex:this.colIdx,columns:z8V,label:this.label,measure:this.measure?B1V.data_._structure.GenericMeasure.toObject(this.measure):j2I.V2d,hierarchy:this.hierarchy?B1V.data_._structure.GenericHierarchy.toObject(this.hierarchy):j2I.V2d,member:this.member?B1V.data_._structure.GenericMember.toObject(this.member):j2I.V2d,rowIndex:this.rowIdx,rows:w8V,type:this.isColumnHeader||this.isRowHeader||this.isFilterHeader?R4O:P933.a9O,value:this.value,recordId:this.recordId,isTotal:this.isTotal,isTotalRow:this.isTotalRow,isTotalColumn:this.isTotalColumn,isClassicTotalRow:this.isClassicTotalRow,isGrandTotal:this.isGrandTotal,isGrandTotalRow:this.isGrandTotalRow,isGrandTotalColumn:this.isGrandTotalColumn,isDrillThrough:this.isDrillThrough};isNaN(this.level)||(S8V.level=this.level);j2I.R4d<this.conditions.length&&(S8V.conditions=this.conditions);return this.obj=S8V;};d1V.customizeCellFunction=j2I.V2d;return d1V;}();h1V.GridCell=D1V;}(v1V.vo||(v1V.vo={})));}(q1V.grid||(q1V.grid={})));}(B1V._view||(B1V._view={})));}(pivot||(pivot={})));(function(Z8V){(function(t8V){(function(p8V){(function(e8V){var F8V=function(){N8V.prototype.addStyle=function(b8V){-Q933.E4d==this.styleNames.indexOf(b8V)&&this.styleNames.push(b8V);};function N8V(){this.styleNames=[];this.customStyleNames=[];this.css={};}N8V.prototype.addCustomStyle=function(V8V){-Q933.E4d==this.customStyleNames.indexOf(V8V)&&this.customStyleNames.push(V8V);};N8V.prototype.addCSS=function(R8V){for(var Y8V in R8V)this.css[Y8V]=R8V[Y8V];};N8V.prototype.getClassString=function(){return this.styleNames.join(Q933.R2d);};N8V.prototype.getCustomClassString=function(){return this.customStyleNames.join(Q933.R2d);};N8V.prototype.getStyleString=function(){var E8V=Q933.s3d,M8V;for(M8V in this.css)E8V+=M8V+s933.O8d+this.css[M8V]+s933.E9h;return E8V;};return N8V;}();e8V.CellStyle=F8V;}(p8V.vo||(p8V.vo={})));}(t8V.grid||(t8V.grid={})));}(Z8V._view||(Z8V._view={})));}(pivot||(pivot={})));(function(J8V){(function(k8V){(function(C8V){(function(H8V){var a8V=function(){var E4O="Bold";A8V.getFontStyle=function(O8V){return Q933.v6d<O8V?A8V.BOLD:A8V.NORMAL;};A8V.NORMAL=Q933.s3d;A8V.BOLD=E4O;function A8V(){}return A8V;}();H8V.FontStylePDFType=a8V;a8V=function(){var i4O="background-color background-image color font-family font-size font-weight text-align padding-top padding-left padding-right padding-bottom border border-top-width border-top-color border-top-style border-bottom-width border-bottom-color border-bottom-style border-left-width border-left-color border-left-style border-right-width border-right-color border-right-style";var C4O="fill";var k4O="border-color";var J4O="background-image";u8V.prototype.merge=function(x8V){this.color=this.color||x8V.color;this.backgroundColor=this.backgroundColor||x8V.backgroundColor;this.backgroundImage=this.backgroundImage||x8V.backgroundImage;this.borderColor=this.borderColor||x8V.borderColor;this.fontSize=this.fontSize||x8V.fontSize;this.fontWeight=this.fontWeight||x8V.fontWeight;this.textAlign=this.textAlign||x8V.textAlign;this.fontFamily=this.fontFamily||x8V.fontFamily;this.width=this.width||x8V.width;this.maxWidth=this.maxWidth||x8V.maxWidth;this.height=this.height||x8V.height;this.maxHeight=this.maxHeight||x8V.maxHeight;};u8V.prototype.clone=function(){var i8V=new u8V();i8V.color=this.color;i8V.backgroundColor=this.backgroundColor;i8V.backgroundImage=this.backgroundImage;i8V.borderColor=this.borderColor;i8V.fontSize=this.fontSize;i8V.fontWeight=this.fontWeight;i8V.textAlign=this.textAlign;i8V.fontFamily=this.fontFamily;i8V.width=this.width;i8V.maxWidth=this.maxWidth;i8V.height=this.height;i8V.maxHeight=this.maxHeight;return i8V;};u8V.fromItem=function(G8V,l8V){var M1i=X933;var E1i=P933;var R1i=Q933;void R1i.R4d===l8V&&(l8V=R1i.V2d);var j8V=new u8V();if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(E1i.M4O)!=G8V.css(E1i.M4O))j8V.color=G8V.css(E1i.M4O);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(M1i.V2B)!=G8V.css(M1i.V2B))j8V.backgroundColor=G8V.css(M1i.V2B);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(J4O)!=G8V.css(J4O))j8V.backgroundImage=G8V.css(J4O);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(k4O)!=G8V.css(k4O))j8V.borderColor=G8V.css(k4O);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(M1i.J6B)!=G8V.css(M1i.J6B))j8V.fontSize=parseInt(G8V.css(M1i.J6B));if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(M1i.R2B)!=G8V.css(M1i.R2B))j8V.fontWeight=G8V.css(M1i.R2B);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(C4O)!=G8V.css(C4O))j8V.fill=G8V.css(C4O);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(M1i.E2B)!=G8V.css(M1i.E2B))j8V.textAlign=G8V.css(M1i.E2B);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(M1i.M6B)!=G8V.css(M1i.M6B))j8V.fontFamily=G8V.css(M1i.M6B);if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(R1i.R3d)!=G8V.css(R1i.R3d))j8V.width=parseInt(G8V.css(R1i.R3d));if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(E1i.a4O)!=G8V.css(E1i.a4O))j8V.maxWidth=parseInt(G8V.css(E1i.a4O));if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(R1i.M3d)!=G8V.css(R1i.M3d))j8V.height=parseInt(G8V.css(R1i.M3d));if(R1i.V2d==l8V||R1i.V2d!=l8V&&l8V.css(E1i.H4O)!=G8V.css(E1i.H4O))j8V.maxHeight=parseInt(G8V.css(E1i.H4O));return j8V;};function u8V(){}u8V.fromClass=function(U8V,T8V,c8V){var J1i=Q933;void J1i.R4d===T8V&&(T8V=J1i.V2d);void J1i.R4d===c8V&&(c8V=!J1i.R4d);var f8V=new uicontrols.UIElement(J1i.S3d);f8V.addClass(U8V).hide();U8V=new uicontrols.UIElement(J1i.S3d);J1i.V2d==T8V?k8V.PivotView.stage.container.append(f8V).append(U8V):T8V.append(f8V).append(U8V);T8V=u8V.fromItem(f8V,c8V?U8V:J1i.V2d);f8V.remove();U8V.remove();return T8V;};u8V.fromString=function(W8V){var k1i=Q933;var y8V=new u8V(),n8V=k1i.R4d;for(W8V=W8V.replace(/ /g,s933.E9h);-k1i.E4d<(n8V=W8V.indexOf(s933.E9h));)this.defineStyle(W8V.substring(k1i.R4d,n8V),y8V),W8V=W8V.substring(n8V+k1i.E4d);return y8V;};u8V.hexToRgb=function(K8V){var a1i=Q933;var u4O="rgb(";var O4O=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;var A4O=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;K8V=K8V.replace(A4O,function(B8V,m8V,r8V,I8V){return m8V+m8V+r8V+r8V+I8V+I8V;});K8V=O4O.exec(K8V);return a1i.V2d==K8V?a1i.s3d:u4O+parseInt(K8V[a1i.E4d],a1i.U4d)+s933.f0d+parseInt(K8V[a1i.M4d],a1i.U4d)+s933.f0d+parseInt(K8V[a1i.J4d],a1i.U4d)+s933.e9h;};u8V.defineStyle=function(q8V,v8V){var A1i=Q933;-A1i.E4d<q8V.indexOf(X933.V2B)?v8V.backgroundColor=this.hexToRgb(q8V.substring(A1i.T4d,q8V.length)):-A1i.E4d<q8V.indexOf(J4O)?v8V.backgroundImage=q8V.substring(A1i.T4d,q8V.length):-A1i.E4d<q8V.indexOf(k4O)?v8V.borderColor=this.hexToRgb(q8V.substring(A1i.l4d,q8V.length)):-A1i.E4d<q8V.indexOf(P933.M4O)?v8V.color=this.hexToRgb(q8V.substring(A1i.a4d,q8V.length)):-A1i.E4d<q8V.indexOf(X933.J6B)?v8V.fontSize=parseInt(q8V.substring(A1i.u4d,q8V.length)):-A1i.E4d<q8V.indexOf(C4O)?v8V.fill=this.hexToRgb(q8V.substring(A1i.C4d,q8V.length)):-A1i.E4d<q8V.indexOf(X933.E2B)?v8V.textAlign=q8V.substring(A1i.x4d,q8V.length):-A1i.E4d<q8V.indexOf(P933.a4O)?v8V.maxWidth=parseInt(q8V.substring(A1i.u4d,q8V.length)):-A1i.E4d<q8V.indexOf(P933.H4O)?v8V.maxHeight=parseInt(q8V.substring(A1i.x4d,q8V.length)):-A1i.E4d<q8V.indexOf(A1i.R3d)&&(v8V.width=parseInt(q8V.substring(A1i.a4d,q8V.length)));};u8V.fromItemToString=function(Q94,h8V,d8V){var x1i=Q933;void x1i.R4d===h8V&&(h8V=x1i.V2d);void x1i.R4d===d8V&&(d8V=x1i.V2d);var o8V=x1i.s3d;x1i.V2d==h8V&&(h8V=u8V.DEFAULT_CSS_PROPERIES);for(var D8V=x1i.R4d;D8V<h8V.length;D8V++)if(x1i.V2d==d8V||x1i.V2d!=d8V&&Q94.css(h8V[D8V])!=d8V.css(h8V[D8V]))o8V+=h8V[D8V]+s933.O8d+Q94.css(h8V[D8V])+s933.E9h;return o8V;};u8V.fromClassToString=function(S94,P94,L94,s94){var l1i=Q933;void l1i.R4d===P94&&(P94=l1i.V2d);void l1i.R4d===L94&&(L94=l1i.V2d);void l1i.R4d===s94&&(s94=void l1i.R4d);var X94=new uicontrols.UIElement(l1i.S3d);X94.addClass(S94).hide();void l1i.R4d===s94&&(s94=new uicontrols.UIElement(l1i.S3d),s94.hide());l1i.V2d==P94?k8V.PivotView.stage.container.append(X94).append(s94):P94.append(X94).append(s94);S94=u8V.fromItemToString(X94,L94,s94);X94.remove();l1i.V2d!=s94&&s94.remove();return S94;};u8V.parseRGB=function(g94){var G1i=Q933;var x4O="rgb";var z94=[],w94=g94.split(x4O);G1i.M4d<w94.length&&(g94=w94[G1i.M4d]);g94=g94.replace(/[^\d,]/g,G1i.s3d);g94=g94.split(s933.f0d);for(w94=G1i.R4d;w94<g94.length;w94++)z94[w94]=parseInt(g94[w94]);void G1i.R4d==z94[G1i.J4d]&&(z94[G1i.J4d]=G1i.E4d);return z94;};u8V.DEFAULT_CSS_PROPERIES=i4O.split(Q933.R2d);return u8V;}();H8V.StyleValueObject=a8V;}(C8V.vo||(C8V.vo={})));}(k8V.grid||(k8V.grid={})));}(J8V._view||(J8V._view={})));}(pivot||(pivot={})));(function(Z94){(function(t94){(function(p94){(function(e94){var F94=function(){var e6O="wdr-icon";var F6O="wdr-drilled-down";var p6O="wdr-drilled-up";var Z6O="wdr-collapsed-icon";var z6O="wdr-collapsed";var w6O="wdr-expanded-icon";var g6O="wdr-expanded";var L6O="wdr-sort-icon";var S6O="wdr-h-sort-desc";var P6O="wdr-h-sort-asc";var X6O="wdr-h-sort-icon";var s6O="wdr-h-sort";var Q6O="wdr-v-sort-desc";var o4O="wdr-v-sort-asc";var d4O="wdr-v-sort-icon";var D4O="wdr-v-sort";var h4O="wdr-link";var v4O="wdr-hierarchy-link";var q4O="wdr-grand-total";var B4O="wdr-total";var I4O="wdr-filtered-icon";var m4O="wdr-filter-icon";var K4O="wdr-page-header-items";var y4O="wdr-page-header";var n4O="wdr-filter-header";var W4O="wdr-measure-header";var c4O="wdr-header-r";var f4O="wdr-header-c";var T4O="wdr-header";var U4O="wdr-sheet-header";var j4O="wdr-empty";var G4O="wdr-cell";N94.TITLE=P933.l4O;N94.CELL=G4O;N94.CELL_EMPTY=j4O;N94.SHEET_HEADER=U4O;function N94(){}N94.HEADER=T4O;N94.HEADER_COLUMN=f4O;N94.HEADER_ROW=c4O;N94.MEASURE_HEADER=W4O;N94.FILTER_HEADER=n4O;N94.PAGE_HEADER=y4O;N94.PAGE_HEADER_ITEMS=K4O;N94.FILTER_ICON=m4O;N94.FILTERED=P933.r4O;N94.FILTERED_ICON=I4O;N94.HEADER_DRAGGABLE=Q933.l2d;N94.HEADER_DROPPABLE=Q933.q2d;N94.TOTAL=B4O;N94.GRAND_TOTAL=q4O;N94.HIERARCHY=v4O;N94.LINK=h4O;N94.V_SORT=D4O;N94.V_SORT_ICON=d4O;N94.V_SORT_ASC=o4O;N94.V_SORT_DESC=Q6O;N94.H_SORT=s6O;N94.H_SORT_ICON=X6O;N94.H_SORT_ASC=P6O;N94.H_SORT_DESC=S6O;N94.SORT_ICON=L6O;N94.EXPANDED=g6O;N94.EXPANDED_ICON=w6O;N94.COLLAPSED=z6O;N94.COLLAPSED_ICON=Z6O;N94.LEVEL=P933.t6O;N94.DRILLED_UP=p6O;N94.DRILLED_DOWN=F6O;N94.ICON=e6O;return N94;}();e94.GridStyleName=F94;}(p94.vo||(p94.vo={})));}(t94.grid||(t94.grid={})));}(Z94._view||(Z94._view={})));}(pivot||(pivot={})));(function(b94){(function(V94){(function(Y94){(function(E94){var R94=function(){var E6O="backgroud";var R6O="link";var Y6O="drill";var V6O="right icon";var b6O="main icon";var N6O="left icon";M94.LEFT_ICON=N6O;M94.MAIN_ICON=b6O;M94.RIGHT_ICON=V6O;M94.LABEL=s933.h5d;M94.DRILL=Y6O;function M94(){}M94.LINK=R6O;M94.BACKGROUND=E6O;return M94;}();E94.GridCellElementType=R94;}(Y94.vo||(Y94.vo={})));}(V94.grid||(V94.grid={})));}(b94._view||(b94._view={})));}(pivot||(pivot={})));(function(J94){(function(k94){(function(C94){(function(H94){var a94=function(){var r5i=Q933;var o6O="freeSpaceTop";var d6O="freeSpaceRight";var h6O="canDrawSmooth";var v6O="canDrawAll";var q6O="hasVerticalScroll";var B6O="hasHorizontalScroll";var I6O="colHeadersHeight";var r6O="rowHeadersWidth";var m6O="minDataWidth";var K6O="dataContentHeight";var y6O="dataContentWidth";var n6O="maxRowsCount";var W6O="maxColsCount";var c6O="availableWidth";var f6O="availableHeight";var T6O="layoutHeight";var U6O="layoutWidth";var j6O="originalHeight";var G6O="originalWidth";var l6O="scrollBarSize";var i6O="scrollBarHeight";var x6O="scrollBarWidth";var u6O="cellMaxHeight";var O6O="cellMaxWidth";var k6O=15E5;var M6O="gridStartY";Object.defineProperty(A94.prototype,M6O,{get:function(){return this.titleHeight+this.filtersHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.getScrollBarSize=function(){return utils.browserVersion().isMobile||utils.OSUtil.isMac?r5i.R4d:utils.browserVersion().isEdge?r5i.i4d:r5i.T4d;};A94.getScaleTreshold=function(){var J6O=1E7;return utils.detectBrowser().isChrome||utils.detectBrowser().isFirefox?J6O:k6O;};A94.prototype.clearColSizes=function(O94){this._colsWidth.length>O94&&(this._colsWidth.length=O94);this._colsWidthPending.length>O94&&(this._colsWidthPending.length=O94);this._colsWidthExplicit.length>O94&&(this._colsWidthExplicit.length=O94);this._dataContentWidth=-r5i.E4d;};A94.prototype.clearRowSizes=function(u94){this._rowsHeight.length>u94&&(this._rowsHeight.length=u94);this._rowsHeightPending.length>u94&&(this._rowsHeightPending.length=u94);this._rowsHeightExplicit.length>u94&&(this._rowsHeightExplicit.length=u94);this._dataContentHeight=-r5i.E4d;};A94.prototype.reset=function(){this._colsWidth.length=r5i.R4d;this._rowsHeight.length=r5i.R4d;this._colsWidthPending.length=r5i.R4d;this._rowsHeightPending.length=r5i.R4d;this._colsWidthExplicit.length=r5i.R4d;this._rowsHeightExplicit.length=r5i.R4d;this._dataContentHeight=this._dataContentWidth=-r5i.E4d;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=r5i.R4d;this._sheetHeaderWidth=A94.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=A94.SHEET_HEADER_HEIGHT;this._scaleY=this._scaleX=r5i.E4d;this._cellMaxHeight=this._cellMaxWidth=-r5i.E4d;this.setDefaults();};A94.prototype.setDefaults=function(){var A6O="wdr-grid-row";var H6O="wdr-grid-row-mobile";var a6O="wdr-grid-column";var C6O="wdr-grid-column-mobile";var x94=k94.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?C6O:a6O);A94.CELL_WIDTH=isNaN(x94.width)?r5i.a6d:Math.max(A94.CELL_MIN_WIDTH,x94.width);isNaN(x94.maxWidth)||(this._cellMaxWidth=Math.max(A94.CELL_MIN_WIDTH,x94.maxWidth));x94=k94.grid.vo.StyleValueObject.fromClass(utils.browserVersion().isMobile?H6O:A6O);A94.CELL_HEIGHT=isNaN(x94.height)?r5i.B4d:Math.max(A94.CELL_MIN_HEIGHT,x94.height);isNaN(x94.maxHeight)||(this._cellMaxHeight=Math.max(A94.CELL_MIN_HEIGHT,x94.maxHeight));};Object.defineProperty(A94.prototype,O6O,{get:function(){return this._cellMaxWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,u6O,{get:function(){return this._cellMaxHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.setScale=function(){var i94=this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);this._scaleY=i94>this._scaleTreshold?this._scaleTreshold/ i94:r5i.E4d;i94=this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);this._scaleX=i94>this._scaleTreshold?this._scaleTreshold/ i94:r5i.E4d;};A94.prototype.resize=function(G94,j94,l94){void r5i.R4d===l94&&(l94=!r5i.E4d);this._layoutWidth=G94;this._layoutHeight=j94;l94&&(this._originalWidth=G94,this._originalHeight=j94);};Object.defineProperty(A94.prototype,x6O,{get:function(){return this.hasVerticalScroll?this._scrollBarSize:r5i.R4d;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,i6O,{get:function(){return this.hasHorizontalScroll?this._scrollBarSize:r5i.R4d;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,l6O,{get:function(){return this._scrollBarSize;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,G6O,{get:function(){return this._originalWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,j6O,{get:function(){return this._originalHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,U6O,{get:function(){return this._layoutWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,T6O,{get:function(){return this._layoutHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,f6O,{get:function(){return this._layoutHeight-this.scrollBarHeight-this.gridStartY;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,c6O,{get:function(){return this._layoutWidth-this.scrollBarWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,X933.L0B,{get:function(){return this._layoutWidth-this.rowHeadersWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,X933.g0B,{get:function(){return this._layoutHeight-this.colHeadersHeight-this.gridStartY;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,W6O,{get:function(){return this.frozenColsCount+this.dataColsCount;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,n6O,{get:function(){return this.frozenRowsCount+this.dataRowsCount;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.getRowHeight=function(U94){var T94=isNaN(this._rowsHeight[U94])?A94.CELL_HEIGHT:this._rowsHeight[U94];return r5i.R4d<this.cellMaxHeight&&!this.isRowHeightExplicit(U94)?Math.min(this.cellMaxHeight,T94):T94;};A94.prototype.setRowHeight=function(f94,c94,W94,n94){void r5i.R4d===W94&&(W94=!r5i.E4d);void r5i.R4d===n94&&(n94=!r5i.E4d);c94=Math.max(c94,A94.CELL_MIN_HEIGHT);if(W94){if(isNaN(this._rowsHeightPending[f94])||c94>this._rowsHeightPending[f94])this._rowsHeightPending[f94]=c94;}else this._rowsHeight[f94]=c94,this._dataContentHeight=-r5i.E4d;n94&&(this._rowsHeightExplicit[f94]=!r5i.R4d);};A94.prototype.resetRowHeight=function(y94){this.isRowHeightExplicit(y94)&&(delete this._rowsHeight[y94],delete this._rowsHeightPending[y94],delete this._rowsHeightExplicit[y94],this._dataContentHeight=-r5i.E4d);};A94.prototype.getColWidth=function(K94){if(-r5i.E4d==K94)return this.getSheetHeaderWidth();if(K94>=this.maxColsCount)return Math.max(r5i.a6d,A94.CELL_WIDTH);var m94=isNaN(this._colsWidth[K94])?A94.CELL_WIDTH:this._colsWidth[K94];return r5i.R4d<this.cellMaxWidth&&!this.isColWidthExplicit(K94)?Math.min(this.cellMaxWidth,m94):m94;};A94.prototype.setColWidth=function(r94,I94,B94,q94){void r5i.R4d===B94&&(B94=!r5i.E4d);void r5i.R4d===q94&&(q94=!r5i.E4d);I94=Math.max(I94,A94.CELL_MIN_WIDTH);if(B94){if(isNaN(this._colsWidthPending[r94])||I94>this._colsWidthPending[r94])this._colsWidthPending[r94]=I94;}else-r5i.E4d==r94?this._sheetHeaderWidth=I94:this._colsWidth[r94]=I94,this._dataContentWidth=-r5i.E4d;q94&&(this._colsWidthExplicit[r94]=!r5i.R4d);};A94.prototype.resetColWidth=function(v94){this.isColWidthExplicit(v94)&&(delete this._colsWidth[v94],delete this._colsWidthPending[v94],delete this._colsWidthExplicit[v94],this._dataContentWidth=-r5i.E4d);};A94.prototype.isColWidthExplicit=function(h94){return!r5i.R4d===this._colsWidthExplicit[h94];};A94.prototype.isRowHeightExplicit=function(D94){return!r5i.R4d===this._rowsHeightExplicit[D94];};function A94(){this._cellMaxHeight=this._cellMaxWidth=this._dataContentHeight=this._dataContentWidth=-r5i.E4d;this.filtersHeight=this.titleHeight=this.scrollLeft=this.scrollTop=this.firstDataColIdx=this.firstDataRowIdx=this.frozenRowsCount=this.frozenColsCount=this.dataRowsCount=this.dataColsCount=this._sheetHeaderHeight=this._sheetHeaderWidth=r5i.R4d;this._scaleTreshold=k6O;this._scaleY=this._scaleX=r5i.E4d;this._colsWidth=[];this._rowsHeight=[];this._colsWidthPending=[];this._rowsHeightPending=[];this._colsWidthExplicit=[];this._rowsHeightExplicit=[];this._scrollBarSize=A94.getScrollBarSize();this._scaleTreshold=A94.getScaleTreshold();this._sheetHeaderWidth=A94.SHEET_HEADER_WIDTH;this._sheetHeaderHeight=A94.SHEET_HEADER_HEIGHT;this.setDefaults();}A94.prototype.applyPendingSizes=function(){for(var d94=r5i.R4d;d94<this._rowsHeightPending.length;d94++)if(!this.isRowHeightExplicit(d94)){var o94=this._rowsHeightPending[d94];!isNaN(o94)&&o94>this.getRowHeight(d94)&&this.setRowHeight(d94,o94);}this._rowsHeightPending.length=r5i.R4d;for(d94=-r5i.E4d;d94<this._colsWidthPending.length;d94++)this.isColWidthExplicit(d94)||(o94=this._colsWidthPending[d94],!isNaN(o94)&&o94>this.getColWidth(d94)&&this.setColWidth(d94,o94));this._colsWidthPending.length=r5i.R4d;};A94.prototype.getRowIndexAtPosition=function(X74,P74){void r5i.R4d===P74&&(P74=!r5i.E4d);var s74=X74/this.dataContentHeight*(this.layoutHeight/this._scaleY-this.layoutHeight)*this._scaleY;if(r5i.E4d!=this._scaleY&&X74+s74>=this.dataContentHeight-this.layoutHeight){for(var Q74=this.maxRowsCount,s74=this.dataContentHeight;s74>X74;)s74-=this.getRowHeight(Q74),Q74--;return Q74+r5i.E4d;}for(var Q74=P74?r5i.R4d:this.frozenRowsCount,S74=r5i.R4d;S74<X74+s74;)S74+=this.getRowHeight(Q74)*this._scaleY,Q74++;return Q74;};A94.prototype.getColIndexAtPosition=function(w74,z74){void r5i.R4d===z74&&(z74=!r5i.E4d);var g74=w74/this.dataContentWidth*(this.layoutWidth/this._scaleX-this.layoutWidth)*this._scaleX;if(r5i.E4d!=this._scaleX&&w74+g74>=this.dataContentWidth-this.layoutWidth){for(var L74=this.maxColsCount,g74=this.dataContentWidth;g74>w74;)g74-=this.getColWidth(L74),L74--;return L74+r5i.E4d;}for(var L74=z74?r5i.R4d:this.frozenColsCount,Z74=r5i.R4d;Z74<w74+g74;)Z74+=this.getColWidth(L74)*this._scaleX,L74++;return L74;};A94.prototype.getVisibleRowsCount=function(e74){for(var t74=r5i.R4d,p74=r5i.R4d,F74=this.dataHeight;p74<F74;)p74+=this.getRowHeight(e74+t74),t74++;return t74;};A94.prototype.getVisibleColsCount=function(Y74){for(var N74=r5i.R4d,b74=r5i.R4d,V74=this.dataWidth;b74<V74;)b74+=this.getColWidth(Y74+N74),N74++;return N74;};Object.defineProperty(A94.prototype,y6O,{get:function(){return r5i.R4d<=this._dataContentWidth?this._dataContentWidth:this._dataContentWidth=r5i.E4d>this._scaleX?this._scaleTreshold:this.calcRangeWidth(this.frozenColsCount,this.frozenColsCount+this.dataColsCount);},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.calcRangeWidth=function(J74,E74){if(J74>=E74)return r5i.R4d;var M74=r5i.R4d,k74=r5i.R4d,R74=r5i.R4d,C74;for(C74 in this._colsWidth)R74=parseInt(C74),!isNaN(R74)&&!isNaN(this._colsWidth[R74])&&R74>=J74&&R74<E74&&(k74++,M74+=this.getColWidth(R74));R74=Math.min(E74,this.maxColsCount);M74+=(R74-J74-k74)*(r5i.R4d<this.cellMaxWidth?Math.min(this.cellMaxWidth,A94.CELL_WIDTH):A94.CELL_WIDTH);E74>=this.maxColsCount&&(M74+=(E74-this.maxColsCount)*this.getColWidth(E74));return M74;};Object.defineProperty(A94.prototype,K6O,{get:function(){return r5i.R4d<=this._dataContentHeight?this._dataContentHeight:this._dataContentHeight=r5i.E4d>this._scaleY?this._scaleTreshold:this.calcRangeHeight(this.frozenRowsCount,this.frozenRowsCount+this.dataRowsCount);},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.calcRangeHeight=function(H74,A74){if(H74>=A74)return r5i.R4d;var O74=r5i.R4d,u74=r5i.R4d,a74=r5i.R4d,x74;for(x74 in this._rowsHeight)a74=parseInt(x74),!isNaN(a74)&&!isNaN(this._rowsHeight[a74])&&a74>=H74&&a74<A74&&(u74++,O74+=this.getRowHeight(a74));return O74+=(A74-H74-u74)*(r5i.R4d<this.cellMaxHeight?Math.min(this.cellMaxHeight,A94.CELL_HEIGHT):A94.CELL_HEIGHT);};A94.prototype.clearCache=function(){this._dataContentWidth=this._dataContentHeight=-r5i.E4d;};Object.defineProperty(A94.prototype,m6O,{get:function(){for(var i74=r5i.R4d,G74=this.frozenColsCount+this.dataColsCount,l74=this.frozenColsCount;l74<G74;l74++)if(i74+=this.getColWidth(l74),i74>A94.MIN_DATA_WIDTH)return A94.MIN_DATA_WIDTH;return i74;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,r6O,{get:function(){for(var U74=this.getSheetHeaderWidth(),j74=r5i.R4d;j74<this.frozenColsCount;j74++)U74+=this.getColWidth(j74);return U74;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,I6O,{get:function(){for(var f74=this.getSheetHeaderHeight(),T74=r5i.R4d;T74<this.frozenRowsCount;T74++)f74+=this.getRowHeight(T74);return f74;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.getSheetHeaderWidth=function(){return J94.model._options.OptionsManager.showHeaders?this._sheetHeaderWidth:r5i.R4d;};A94.prototype.getSheetHeaderHeight=function(){return J94.model._options.OptionsManager.showHeaders?this._sheetHeaderHeight:r5i.R4d;};A94.prototype.getColIndexWithUndefinedWidth=function(){for(var c74=this.frozenColsCount;c74<this.dataColsCount;c74++)if(!this.isColWidthDefined(c74))return c74;return r5i.V2d;};A94.prototype.getColIndicesWithUndefinedWidth=function(y74){for(var n74=[],W74=this.frozenColsCount;W74<this.dataColsCount&&(this.isColWidthDefined(W74)||(n74.push(W74),!(n74.length>=y74)));W74++);return n74;};A94.prototype.isColWidthDefined=function(m74,K74){void r5i.R4d===K74&&(K74=!r5i.R4d);return!isNaN(this._colsWidth[m74])||(K74?!isNaN(this._colsWidthPending[m74]):!r5i.E4d);};Object.defineProperty(A94.prototype,B6O,{get:function(){return this.dataContentWidth+(this.dataContentHeight>this.dataHeight?this.scrollBarSize:r5i.R4d)>this.dataWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,q6O,{get:function(){return this.dataContentHeight+(this.dataContentWidth>this.dataWidth?this.scrollBarSize:r5i.R4d)>this.dataHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.getRowY=function(B74,r74){void r5i.R4d===r74&&(r74=!r5i.E4d);var I74=J94.model._options.OptionsManager.showHeaders&&r74?this.getSheetHeaderHeight():r5i.R4d;return I74+=this.calcRangeHeight(r74?r5i.R4d:this.frozenRowsCount,B74);};A94.prototype.getColX=function(h74,q74){void r5i.R4d===q74&&(q74=!r5i.E4d);var v74=J94.model._options.OptionsManager.showHeaders&&q74?this.getSheetHeaderWidth():r5i.R4d;return v74+=this.calcRangeWidth(q74?r5i.R4d:this.frozenColsCount,h74);};Object.defineProperty(A94.prototype,v6O,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!r5i.E4d:r5i.v6d>this.maxColsCount*this.maxRowsCount;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,h6O,{get:function(){return utils.browserVersion().isEdge||utils.browserVersion().isMsie?!r5i.E4d:(this.hasVerticalScroll||this.hasHorizontalScroll)&&P933.D6O>this.maxColsCount*this.maxRowsCount;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.prototype.getBoundTop=function(D74){void r5i.R4d===D74&&(D74=!r5i.E4d);return this.canDrawAll?this.frozenRowsCount:D74?Math.max(this.frozenRowsCount,this.firstDataRowIdx-A94.ROWS_OFFSET):Math.max(this.frozenRowsCount,this.firstDataRowIdx);};A94.prototype.getBoundLeft=function(d74){void r5i.R4d===d74&&(d74=!r5i.E4d);return this.canDrawAll?this.frozenColsCount:d74?Math.max(this.frozenColsCount,this.firstDataColIdx-A94.COLS_OFFSET):Math.max(this.frozenColsCount,this.firstDataColIdx);};A94.prototype.getBoundBottom=function(Q44){void r5i.R4d===Q44&&(Q44=!r5i.E4d);var o74=this.getVisibleRowsCount(this.firstDataRowIdx);return this.canDrawAll?this.hasVerticalScroll?this.maxRowsCount:this.firstDataRowIdx+o74:Q44?Math.min(this.firstDataRowIdx+o74+(this.hasVerticalScroll?A94.ROWS_OFFSET:r5i.R4d),this.hasVerticalScroll?this.maxRowsCount:Number.MAX_VALUE):this.firstDataRowIdx+o74;};A94.prototype.getBoundRight=function(X44){void r5i.R4d===X44&&(X44=!r5i.E4d);var s44=this.getVisibleColsCount(this.firstDataColIdx);return this.canDrawAll?this.hasHorizontalScroll?this.maxColsCount:this.firstDataColIdx+s44:X44?Math.min(this.firstDataColIdx+s44+(this.hasHorizontalScroll?A94.COLS_OFFSET:r5i.R4d),this.hasHorizontalScroll?this.maxColsCount:Number.MAX_VALUE):this.firstDataColIdx+s44;};A94.prototype.isOnColEdge=function(P44){void r5i.R4d===P44&&(P44=NaN);isNaN(P44)&&(P44=this.getBoundRight());return r5i.R4d<this.scrollLeft&&P44>=this.maxColsCount;};A94.prototype.isOnRowEdge=function(S44){void r5i.R4d===S44&&(S44=NaN);isNaN(S44)&&(S44=this.getBoundBottom());return r5i.R4d<this.scrollTop&&S44>=this.maxRowsCount;};A94.prototype.getColEdgeOffset=function(L44){void r5i.R4d===L44&&(L44=NaN);isNaN(L44)&&(L44=this.firstDataColIdx);return this.isOnColEdge()?this.dataContentWidth-this.scrollLeft-this.calcRangeWidth(L44,this.maxColsCount):r5i.R4d;};A94.prototype.getRowEdgeOffset=function(g44){void r5i.R4d===g44&&(g44=NaN);isNaN(g44)&&(g44=this.firstDataRowIdx);return this.isOnRowEdge()?this.dataContentHeight-this.scrollTop-this.calcRangeHeight(g44,this.maxRowsCount):r5i.R4d;};A94.prototype.getRowIdxByRelativePosition=function(z44,p44){if(z44<this.gridStartY)return NaN;if(J94.model._options.OptionsManager.showHeaders&&z44<this.gridStartY+this.getSheetHeaderHeight())return-r5i.E4d;var w44=r5i.R4d,Z44=this.gridStartY+this.getSheetHeaderHeight();if(z44>this.colHeadersHeight)if(w44=this.firstDataRowIdx,Z44=this.gridStartY+this.colHeadersHeight,p44&&w44>this.frozenRowsCount){var t44=this.scrollTop-this.getRowY(w44-r5i.E4d);r5i.R4d<t44&&(Z44-=t44,w44--);}else p44||(z44-=this.getRowEdgeOffset());for(;Z44<z44;)Z44+=this.getRowHeight(w44),w44++;return w44-r5i.E4d;};A94.prototype.getColIdxByRelativePosition=function(N44,V44){if(J94.model._options.OptionsManager.showHeaders&&N44<this.getSheetHeaderWidth())return-r5i.E4d;var F44=r5i.R4d,e44=this.getSheetHeaderWidth();if(N44>this.rowHeadersWidth)if(F44=this.firstDataColIdx,e44=this.rowHeadersWidth,V44&&F44>this.frozenColsCount){var b44=this.scrollLeft-this.getColX(F44-r5i.E4d);r5i.R4d<b44&&(e44-=b44,F44--);}else V44||(N44-=this.getColEdgeOffset());for(;e44<N44;)e44+=this.getColWidth(F44),F44++;return F44-r5i.E4d;};A94.prototype.getRelativeRowY=function(M44,J44,Y44){void r5i.R4d===Y44&&(Y44=!r5i.R4d);var R44=r5i.R4d,E44=(Y44?this.gridStartY:r5i.R4d)+this.getSheetHeaderHeight();M44>this.frozenRowsCount&&(R44=this.firstDataRowIdx,E44=(Y44?this.gridStartY:r5i.R4d)+this.colHeadersHeight,R44<=M44&&(E44+=J44?this.getRowY(this.firstDataRowIdx)-this.scrollTop:this.getRowEdgeOffset()));return E44+=this.calcRangeHeight(R44,M44);};A94.prototype.getRelativeColX=function(a44,H44){var k44=r5i.R4d,C44=this.getSheetHeaderWidth();a44>this.frozenColsCount&&(k44=this.firstDataColIdx,C44=this.rowHeadersWidth,k44<=a44&&(C44+=H44?this.getColX(this.firstDataColIdx)-this.scrollLeft:this.getColEdgeOffset()));return C44+=this.calcRangeWidth(k44,a44);};A94.prototype.isRowHeightDefault=function(A44){return isNaN(this._rowsHeight[A44]);};Object.defineProperty(A94.prototype,d6O,{get:function(){return this.scrollLeft+this.dataWidth-this.dataContentWidth-this.scrollBarWidth;},enumerable:!r5i.R4d,configurable:!r5i.R4d});Object.defineProperty(A94.prototype,o6O,{get:function(){return this.scrollTop+this.dataHeight-this.dataContentHeight-this.scrollBarHeight;},enumerable:!r5i.R4d,configurable:!r5i.R4d});A94.ROWS_OFFSET=r5i.C4d;A94.COLS_OFFSET=r5i.C4d;A94.CELL_WIDTH=r5i.a6d;A94.CELL_HEIGHT=r5i.B4d;A94.CELL_MIN_WIDTH=r5i.S6d;A94.CELL_MIN_HEIGHT=r5i.B4d;A94.SHEET_HEADER_HEIGHT=r5i.m4d;A94.SHEET_HEADER_WIDTH=r5i.m4d;A94.MIN_DATA_WIDTH=r5i.j6d;return A94;}();H94.GridCoords=a94;}(C94.sheet||(C94.sheet={})));}(k94.grid||(k94.grid={})));}(J94._view||(J94._view={})));}(pivot||(pivot={})));(function(O44){(function(u44){(function(x44){(function(i44){var l44=function(j44){var w2O="min-width";var Q2O="isDirty";__extends(G44,j44);G44.prototype.calculateSizes=function(m44){var T1i=Q933;void T1i.R4d===m44&&(m44=!T1i.E4d);for(var W44=!T1i.E4d,r44=this.element.children,y44=T1i.R4d;y44<r44.length;y44++)for(var n44=r44.item(y44),W44=this.updateRowHeight(n44,!T1i.R4d)||W44,n44=n44.children,K44=T1i.R4d;K44<n44.length;K44++)W44=this.updateColWidth(n44.item(K44),m44)||W44;this._isDirty=W44;};Object.defineProperty(G44.prototype,Q2O,{get:function(){return this._isDirty;},enumerable:!Q933.R4d,configurable:!Q933.R4d});G44.prototype.updateRowHeight=function(h44,B44){var f1i=Q933;void f1i.R4d===B44&&(B44=!f1i.E4d);if(f1i.V2d!=this._coords){var v44=!f1i.E4d,I44=parseInt(h44.getAttribute(P933.s2O));if(isNaN(I44)||this._coords.isRowHeightExplicit(I44))return!f1i.E4d;var q44=h44.clientHeight;this._coords.getRowHeight(I44)<q44?(this._coords.setRowHeight(I44,Math.round(q44+f1i.E4d),B44),v44=!f1i.R4d):q44<=i44.GridCoords.CELL_HEIGHT&&this._coords.setRowHeight(I44,i44.GridCoords.CELL_HEIGHT,B44);return v44;}};G44.prototype.updateColWidth=function(Q64,d44){var W1i=Q933;void W1i.R4d===d44&&(d44=!W1i.E4d);if(W1i.V2d!=this._coords){var s64=!W1i.E4d,D44=parseInt(Q64.getAttribute(P933.X2O));if(isNaN(D44)||Q64.classList.contains(x44.vo.GridStyleName.SHEET_HEADER)&&W1i.R4d<=D44||this._coords.isColWidthExplicit(D44))return!W1i.E4d;var o44=Q64.clientWidth;this._coords.getColWidth(D44)<o44?(this._coords.setColWidth(D44,Math.round(o44+W1i.M4d),d44),s64=!W1i.R4d):-W1i.E4d!=D44&&o44<=i44.GridCoords.CELL_WIDTH&&this._coords.setColWidth(D44,i44.GridCoords.CELL_WIDTH,d44);return s64;}};G44.prototype.createCell=function(P64,S64,g64){var y1i=Q933;var g2O="</span>";var S2O='" title="';var P2O='<span class="';void y1i.R4d===g64&&(g64=!y1i.E4d);var X64=this._getDataFunc?this._getDataFunc(P64,S64):y1i.V2d;this.cell.clear();this.cell.tag=y1i.S3d;this.cell.addClass(x44.vo.GridStyleName.CELL);var w64=P64>=this._coords.maxRowsCount||S64>=this._coords.maxColsCount;!X64&&w64&&this.cell.addClass(x44.vo.GridStyleName.CELL_EMPTY);X64&&X64.isRowHeader&&(this.cell.addClass(x44.vo.GridStyleName.HEADER),this.cell.addClass(x44.vo.GridStyleName.HEADER_ROW),this.cell.addClass(x44.vo.GridStyleName.LEVEL+X64.level));X64&&X64.isColumnHeader&&(this.cell.addClass(x44.vo.GridStyleName.HEADER),this.cell.addClass(x44.vo.GridStyleName.HEADER_COLUMN));X64&&X64.isMeasureHeader&&this.cell.addClass(x44.vo.GridStyleName.MEASURE_HEADER);X64&&X64.isTotal&&this.cell.addClass(x44.vo.GridStyleName.TOTAL);X64&&X64.isGrandTotal&&this.cell.addClass(x44.vo.GridStyleName.GRAND_TOTAL);X64&&X64.expanded&&(this.cell.addClass(x44.vo.GridStyleName.EXPANDED),this.cell.text+=this.createIcon(x44.vo.GridStyleName.EXPANDED_ICON,O44.model._labels.Labels.TOOLTIPS_COLLAPSE_ICON));X64&&X64.collapsed&&(this.cell.addClass(x44.vo.GridStyleName.COLLAPSED),this.cell.text+=this.createIcon(x44.vo.GridStyleName.COLLAPSED_ICON,O44.model._labels.Labels.TOOLTIPS_EXPAND_ICON));this.cell.text+=X64?X64.label:y1i.s3d;X64&&(X64.drilledUp||X64.drilledDown)&&(this.cell.text+=P2O+x44.vo.GridStyleName.HIERARCHY+S2O+(X64.drilledUp?O44.model._labels.Labels.TOOLTIPS_DRILL_DOWN:O44.model._labels.Labels.TOOLTIPS_DRILL_UP)+P933.L2O+X64.getDrillLabel()+g2O,X64.drilledUp&&this.cell.addClass(x44.vo.GridStyleName.DRILLED_UP),X64.drilledDown&&this.cell.addClass(x44.vo.GridStyleName.DRILLED_DOWN));X64&&X64.isColumnHeader&&(X64.sortable&&!X64.isEmpty&&(this.cell.text=X64.sortedAsc?this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.V_SORT_ASC],O44.model._labels.Labels.TOOLTIPS_SORTED_ASC):X64.sortedDesc?this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.V_SORT_DESC],O44.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.V_SORT_ICON],O44.model._labels.Labels.TOOLTIPS_SORT_ICON)),X64.isEmpty&&this.cell.addClass(x44.vo.GridStyleName.CELL_EMPTY),X64.isEmpty||this.cell.addClass(x44.vo.GridStyleName.V_SORT));X64&&X64.isRowHeader&&(X64.sortable&&!X64.isEmpty&&(this.cell.text=X64.sortedAsc?this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.H_SORT_ASC],O44.model._labels.Labels.TOOLTIPS_SORTED_ASC):X64.sortedDesc?this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.H_SORT_DESC],O44.model._labels.Labels.TOOLTIPS_SORTED_DESC):this.cell.text+this.createIcon([x44.vo.GridStyleName.SORT_ICON,x44.vo.GridStyleName.H_SORT_ICON],O44.model._labels.Labels.TOOLTIPS_SORT_ICON)),this.cell.addClass(x44.vo.GridStyleName.H_SORT));this.cell.attr[P933.X2O]=S64;this.cell.attr[P933.s2O]=P64;y1i.R4d!=S64||O44.model._options.OptionsManager.showHeaders||(this.cell.style.height=this._coords.getRowHeight(P64)+y1i.r2d);if(X64&&X64.style){for(var L64=y1i.R4d;L64<X64.style.styleNames.length;L64++)this.cell.addClass(X64.style.styleNames[L64]);var L64=X64.style.css,z64;for(z64 in L64)this.cell.style[z64]=L64[z64];}this.setCellSize(this.cell,P64,S64,X64&&X64.isValue);g64&&(this.cell.style.top=this._coords.getRowY(P64,P64<this._coords.frozenRowsCount)+y1i.r2d,this.cell.style.left=this._coords.getColX(S64,S64<this._coords.frozenColsCount)+y1i.r2d);y1i.V2d==x44.vo.GridCell.customizeCellFunction||w64||(y1i.V2d==X64&&(X64=new x44.vo.GridCell(),X64.rowIdx=P64,X64.colIdx=S64),x44.vo.GridCell.customizeCellFunction(this.cell.node,X64.toObject()));return this.cell;};G44.prototype.isCellEmpty=function(t64,p64){if(this._getDataFunc){var Z64=this._getDataFunc(t64,p64);return utils.nullOrUndefined(Z64)||utils.nullOrEmpty(Z64.label);}return!Q933.R4d;};G44.prototype.setCellSize=function(F64,e64,N64,b64){var r1i=Q933;void r1i.R4d===b64&&(b64=!r1i.E4d);this._coords.isColWidthExplicit(N64)||this._coords.isRowHeightExplicit(e64)?(F64.style.width=this._coords.getColWidth(N64)+r1i.r2d,F64.style.height=this._coords.getRowHeight(e64)+r1i.r2d):(F64.style[w2O]=this._coords.getColWidth(N64)+r1i.r2d,F64.style[b64?r1i.M3d:P933.z2O]=this._coords.getRowHeight(e64)+r1i.r2d);!this._coords.isColWidthExplicit(N64)&&r1i.R4d<this._coords.cellMaxWidth&&(F64.style[P933.a4O]=this._coords.cellMaxWidth+r1i.r2d);!this._coords.isRowHeightExplicit(e64)&&r1i.R4d<this._coords.cellMaxHeight&&(F64.style[P933.H4O]=this._coords.cellMaxHeight+r1i.r2d);};G44.prototype.createIcon=function(V64,Y64){var B1i=Q933;var p2O="></i>";var t2O='title="';var Z2O='<i class="';void B1i.R4d===Y64&&(Y64=B1i.V2d);V64 instanceof Array&&(V64=V64.join(B1i.R2d));var R64=Z2O+x44.vo.GridStyleName.ICON+B1i.R2d+V64+s933.s9h;Y64&&(R64+=t2O+Y64+s933.s9h);return R64+p2O;};G44.prototype.createSheetHeaderCell=function(){this.cell.clear();this.cell.tag=Q933.S3d;this.cell.addClass(x44.vo.GridStyleName.CELL);this.cell.addClass(x44.vo.GridStyleName.SHEET_HEADER);this.cell.style.width=this._coords.getSheetHeaderWidth()+Q933.r2d;this.cell.style.height=this._coords.getSheetHeaderHeight()+Q933.r2d;return this.cell;};G44.prototype.createColumnSheetHeaderCell=function(E64,M64){var h1i=Q933;void h1i.R4d===M64&&(M64=!h1i.E4d);this.cell.clear();this.cell.tag=h1i.S3d;this.cell.addClass(x44.vo.GridStyleName.CELL);this.cell.addClass(x44.vo.GridStyleName.SHEET_HEADER);this.cell.text+=E64+h1i.E4d;this.cell.style.width=this._coords.getColWidth(E64)+h1i.r2d;h1i.R4d<this._coords.cellMaxWidth&&!this._coords.isColWidthExplicit(E64)&&(this.cell.style[P933.a4O]=this._coords.cellMaxWidth+h1i.r2d);this.cell.style.height=this._coords.getSheetHeaderHeight()+h1i.r2d;this.cell.attr[P933.s2O]=-h1i.E4d;this.cell.attr[P933.X2O]=E64;M64&&(this.cell.style.left=this._coords.getColX(E64,!h1i.E4d)+h1i.r2d);return this.cell;};function G44(T44,f44){var U44=j44.call(this,Q933.S3d)||this;U44._isDirty=!Q933.E4d;U44.cell=new HtmlNodeWrapper();U44._coords=T44;U44._getDataFunc=f44;U44.element.addEventListener(Q933.m3d,function(c44){return U44.onMouseEvent(c44);});return U44;}G44.prototype.createRowSheetHeaderCell=function(J64,k64){var Q8i=P933;var o1i=Q933;void o1i.R4d===k64&&(k64=!o1i.E4d);this.cell.clear();this.cell.tag=o1i.S3d;this.cell.addClass(x44.vo.GridStyleName.CELL);this.cell.addClass(x44.vo.GridStyleName.SHEET_HEADER);this.cell.text+=J64+o1i.E4d;this.cell.style[w2O]=this._coords.getSheetHeaderWidth()+o1i.r2d;this.cell.style.height=this._coords.getRowHeight(J64)+o1i.r2d;this.cell.style[Q8i.F2O]=this._coords.getRowHeight(J64)-o1i.M4d+o1i.r2d;o1i.R4d<this._coords.cellMaxHeight&&!this._coords.isRowHeightExplicit(J64)&&(this.cell.style[Q8i.H4O]=this._coords.cellMaxHeight+o1i.r2d);this.cell.attr[Q8i.s2O]=J64;this.cell.attr[Q8i.X2O]=-o1i.E4d;k64&&(this.cell.style.top=this._coords.getRowY(J64,!o1i.E4d)+o1i.r2d);return this.cell;};G44.prototype.getCellByPosition=function(A64,O64){var s8i=Q933;var a64=this._coords.getColIndexAtPosition(A64)-s8i.E4d,H64=this._coords.getRowIndexAtPosition(O64)-s8i.E4d,C64=s8i.V2d;s8i.V2d!=this._getDataFunc&&(C64=this._getDataFunc(H64,a64));s8i.V2d==C64&&(C64=new x44.vo.GridCell(),C64.rowIdx=H64,C64.colIdx=a64);return C64;};G44.prototype.getCellByElement=function(u64){var X8i=Q933;for(;!u64.hasClass(x44.vo.GridStyleName.CELL);)if(u64=u64.parent,X8i.V2d==u64)return X8i.V2d;var i64=parseInt(u64.attr(P933.X2O));u64=parseInt(u64.attr(P933.s2O));var x64=X8i.V2d;X8i.V2d!=this._getDataFunc&&(x64=this._getDataFunc(u64,i64));X8i.V2d==x64&&(x64=new x44.vo.GridCell(),x64.rowIdx=u64,x64.colIdx=i64);return x64;};G44.prototype.onMouseEvent=function(l64){var G64=uicontrols.UIElement.convert(l64.target),U64=this.getCellByElement(G64)||this.getCellByPosition(l64.offsetX,l64.offsetY),j64;switch(l64.type){case Q933.m3d:j64=new x44.GridClickEvent(U64,G64);}j64&&this.dispatch(j64);};G44.prototype.dispose=function(){j44.prototype.dispose.call(this);this._coords=this._getDataFunc=Q933.V2d;};return G44;}(uicontrols.UIElement);i44.AbstractSheet=l44;}(x44.sheet||(x44.sheet={})));}(u44.grid||(u44.grid={})));}(O44._view||(O44._view={})));}(pivot||(pivot={})));(function(T64){(function(f64){(function(c64){(function(W64){var n64=function(K64){var u4i=Q933;var Y2O="switched_to_simple";var V2O="switched_to_smooth";var b2O="scrollPane";__extends(y64,K64);y64.prototype.draw=function(){};y64.prototype.drawSmooth=function(){};Object.defineProperty(y64.prototype,P933.e2O,{get:function(){return this._isSmooth;},set:function(B64){this._isSmooth!=B64&&(this._isSmooth=B64,this.dispatchWith(this.isSmooth?y64.EVENT_SWITCHED_TO_SMOOTH:y64.EVENT_SWITCHED_TO_SIMPLE));},enumerable:!u4i.R4d,configurable:!u4i.R4d});y64.prototype.switchToSimple=function(){!u4i.E4d!=this.isSmooth&&(this._bounds.reset(),this._boundsSmooth.reset(),this.draw());};y64.prototype.clearBounds=function(){this._bounds.reset();};y64.prototype.clearBoundsSmooth=function(){this._boundsSmooth.reset();};y64.prototype.clearAllBounds=function(){this.clearBounds();this.clearBoundsSmooth();};y64.prototype.calculateSizes=function(h64){void u4i.R4d===h64&&(h64=!u4i.E4d);for(var q64=!u4i.E4d,o64=this._scrollPane.content.element.children,D64=u4i.R4d;D64<o64.length;D64++)for(var v64=o64.item(D64),q64=this.updateRowHeight(v64,h64)||q64,v64=v64.children,d64=u4i.R4d;d64<v64.length;d64++)var Q24=v64.item(d64),q64=this.updateColWidth(Q24,h64)||q64;this._isDirty=q64;};y64.prototype.calculateSizesSmooth=function(X24){void u4i.R4d===X24&&(X24=!u4i.E4d);for(var s24=!u4i.E4d,S24=this.scrollPane.placeholder.element.children,P24=u4i.R4d;P24<S24.length;P24++)var L24=S24.item(P24),s24=this.updateColWidth(L24,X24)||s24,s24=this.updateRowHeight(L24,X24)||s24;this._isDirty=s24;};function y64(r64,I64){var N2O="wdr-sheet-canvas";var m64=K64.call(this,r64,I64)||this;m64.SWITCH_TO_SMOOTH_DELAY=s933.N0d;m64._isSmooth=!u4i.E4d;m64.addClass(N2O);m64._scrollPane=new ScrollPane();m64.addChild(m64._scrollPane);m64._bounds=new W64.Bounds();m64._boundsSmooth=new W64.Bounds();return m64;}y64.prototype.setContentSize=function(){this._scrollPane.content.width=this._width-this._coords.scrollBarWidth;this._scrollPane.content.height=this._height-this._coords.scrollBarHeight;};Object.defineProperty(y64.prototype,b2O,{get:function(){return this._scrollPane;},enumerable:!u4i.R4d,configurable:!u4i.R4d});Object.defineProperty(y64.prototype,u4i.R3d,{get:function(){return this._width;},set:function(g24){this._width!=g24&&(this.element.style.minWidth=g24+u4i.r2d,this._width=g24,this._scrollPane.width=g24);},enumerable:!u4i.R4d,configurable:!u4i.R4d});Object.defineProperty(y64.prototype,u4i.M3d,{get:function(){return this._height;},set:function(w24){this._height!=w24&&(this.element.style.height=w24+u4i.r2d,this._height=w24,this._scrollPane.height=w24);},enumerable:!u4i.R4d,configurable:!u4i.R4d});y64.prototype.onMouseEvent=function(t24){var Z24=u4i.V2d,z24=u4i.V2d;t24.target==this.scrollPane.placeholder.element?Z24=this.getCellByPosition(t24.offsetX,t24.offsetY):(z24=uicontrols.UIElement.convert(t24.target),Z24=this.getCellByElement(z24)||this.getCellByPosition(t24.offsetX,t24.offsetY));if(u4i.V2d!=Z24&&u4i.V2d!=z24){var p24=c64.vo.GridCellElementType.BACKGROUND;z24.hasClass(c64.vo.GridStyleName.HIERARCHY)?p24=c64.vo.GridCellElementType.DRILL:z24.hasClass(c64.vo.GridStyleName.EXPANDED_ICON)||z24.hasClass(c64.vo.GridStyleName.COLLAPSED_ICON)?p24=c64.vo.GridCellElementType.LEFT_ICON:z24.hasClass(c64.vo.GridStyleName.SORT_ICON)?p24=c64.vo.GridCellElementType.RIGHT_ICON:z24.hasClass(c64.vo.GridStyleName.LINK)&&(p24=c64.vo.GridCellElementType.LINK);Z24.activeElementType=p24;}var F24;switch(t24.type){case u4i.m3d:F24=new c64.GridClickEvent(Z24,z24);break;case u4i.G2d:F24=new c64.GridMouseDownEvent(Z24);break;case u4i.f2d:F24=new c64.GridMouseUpEvent(Z24);break;case u4i.U2d:F24=new c64.GridMouseMoveEvent(Z24);}F24&&this.dispatch(F24);};y64.EVENT_SWITCHED_TO_SMOOTH=V2O;y64.EVENT_SWITCHED_TO_SIMPLE=Y2O;return y64;}(W64.AbstractSheet);W64.BaseSheet=n64;}(c64.sheet||(c64.sheet={})));}(f64.grid||(f64.grid={})));}(T64._view||(T64._view={})));}(pivot||(pivot={})));(function(e24){(function(N24){(function(b24){(function(Y24){var V24=function(){R24.prototype.set=function(C24){this.left=C24.left;this.top=C24.top;this.right=C24.right;this.bottom=C24.bottom;};R24.prototype.reset=function(){this.bottom=this.right=this.top=this.left=Q933.R4d;};function R24(E24,M24,J24,k24){var z8i=Q933;void z8i.R4d===E24&&(E24=z8i.R4d);void z8i.R4d===M24&&(M24=z8i.R4d);void z8i.R4d===J24&&(J24=z8i.R4d);void z8i.R4d===k24&&(k24=z8i.R4d);this.left=E24;this.top=M24;this.right=J24;this.bottom=k24;}R24.prototype.contains=function(a24){return this.left<=a24.left&&this.top<=a24.top&&this.right>=a24.right&&this.bottom>=a24.bottom;};R24.prototype.clone=function(){return new R24(this.left,this.top,this.right,this.bottom);};return R24;}();Y24.Bounds=V24;}(b24.sheet||(b24.sheet={})));}(N24.grid||(N24.grid={})));}(e24._view||(e24._view={})));}(pivot||(pivot={})));(function(H24){(function(A24){(function(O24){(function(x24){var u24=function(){i24.prototype.reset=function(){this.data=[];this.frozenCells=[];};i24.prototype.setData=function(G24,j24,U24,T24){void Q933.R4d===T24&&(T24=!Q933.E4d);U24.rowIdx=G24;U24.colIdx=j24;if(j24<this.coords.frozenColsCount||T24)Q933.V2d==this.data[G24]&&(this.data[G24]=[]),this.data[G24][j24]=U24;};i24.prototype.setDataFrozen=function(f24,c24,W24){Q933.V2d==this.frozenCells[f24]&&(this.frozenCells[f24]=[]);this.frozenCells[f24][c24]=W24;};i24.prototype.positionFrozenCells=function(n24){var p8i=Q933;if(p8i.V2d!=this.frozenCells[n24]){for(var K24=[],r24=!p8i.E4d,y24=p8i.R4d;y24<this.frozenCells[n24].length;y24++){if(p8i.V2d!=this.frozenCells[n24][y24]||!r24){var m24=this.frozenCells[n24][y24];p8i.V2d!=m24&&(m24.colIdx=K24.length);K24.push(m24);}p8i.V2d!=this.frozenCells[n24][y24]&&(r24=!p8i.R4d);}this.frozenCells[n24]=K24;}};i24.prototype.cellExists=function(I24,B24){void Q933.R4d===this.data[I24]&&(this.data[I24]=[]);return void Q933.R4d!==this.data[I24][B24];};i24.prototype.getData=function(q24,v24,D24){var e8i=Q933;void e8i.R4d===D24&&(D24=!e8i.R4d);if(!e8i.E4d==this.cellExists(q24,v24)){var h24=this.getDataFunction(q24,v24);e8i.V2d!=h24&&(h24.rowIdx=q24,h24.colIdx=v24);if(!D24)return h24;this.data[q24][v24]=h24;}return e8i.V2d===this.data[q24][v24]?void e8i.R4d:this.data[q24][v24];};i24.prototype.clearDataRow=function(d24){var N8i=Q933;if(d24<this.coords.frozenRowsCount)for(var Q34=this.data[d24]?this.data[d24].length:N8i.R4d,o24=N8i.E4d;o24<Q34;o24++)this.data[d24]&&(this.data[d24][o24]=N8i.V2d);else this.data[d24]&&(this.data[d24]=N8i.V2d);};i24.prototype.clearDataColumn=function(X34){for(var P34=this.data.length,s34=Q933.R4d;s34<P34;s34++)Q933.R4d==X34&&s34<this.coords.frozenRowsCount||this.data[s34]&&(this.data[s34][X34]=Q933.V2d);};i24.prototype.getDataFrozen=function(S34,L34){return this.frozenCells[S34]&&this.frozenCells[S34][L34]?this.frozenCells[S34][L34]:Q933.V2d;};function i24(l24){this.frozenCells=[];this.data=[];this.coords=l24;}i24.prototype.clearCell=function(g34,w34){Q933.V2d!=this.data[g34]&&(this.data[g34][w34]=this.getData(g34,w34));};i24.prototype.dispose=function(){this.reset();this.getDataFunction=Q933.V2d;};return i24;}();x24.SheetDataProvider=u24;}(O24.sheet||(O24.sheet={})));}(A24.grid||(A24.grid={})));}(H24._view||(H24._view={})));}(pivot||(pivot={})));(function(z34){(function(Z34){(function(t34){(function(F34){var e34=function(){var d5I=Q933;var C2O="row";var k2O="column";var J2O="from";var M2O="to";var E2O="blur";var R2O="focus";N34.prototype.dispose=function(){this.gridLayout.element&&this.gridLayout.element.removeEventListener(R2O,this.focusHandler);this.gridLayout.element&&this.gridLayout.element.removeEventListener(E2O,this.blurHandler);this.keyboardListener.removeEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);this.keyboardListener=this.gridLayout=d5I.V2d;};N34.prototype.draw=function(){this.selectionCanvas.redraw();};N34.prototype.select=function(R34,E34){this.deselect();this._from=R34;this._to=E34;this.draw();};N34.prototype.selectAll=function(){this.select(new p34(d5I.R4d,d5I.R4d),new p34(this.coords.getBoundRight(),this.coords.getBoundBottom()));};N34.prototype.selectTo=function(J34){var M34=this._from;this.deselect();this._from=M34;this._to=J34;this.draw();};N34.prototype.selectRow=function(k34){this.deselect();this._row=k34;this.draw();};N34.prototype.selectColumn=function(C34){this.deselect();this._column=C34;this.draw();};N34.prototype.deselect=function(){this._to=this._from=d5I.V2d;this._column=this._row=-d5I.E4d;};N34.prototype.clear=function(){this.deselect();this.draw();};N34.prototype.isSelectedRow=function(a34){return d5I.V2d==this._from||d5I.V2d==this._to?!d5I.E4d:this._row==a34||a34>=this._from.y&&a34<=this._to.y||a34>=this._to.y&&a34<=this._from.y;};N34.prototype.isSelectedColumn=function(H34){return d5I.V2d==this._from||d5I.V2d==this._to?!d5I.E4d:this._column==H34||H34>=this._from.x&&H34<=this._to.x||H34>=this._to.x&&H34<=this._from.x;};function N34(V34){var b34=this;this._to=this._from=d5I.V2d;this._column=this._row=-d5I.E4d;this._isFocused=!d5I.E4d;this.focusHandler=function(){b34._isFocused=!d5I.R4d;};this.blurHandler=function(){b34._isFocused=!d5I.E4d;};this.keydownHandler=function(Y34){return b34.onKeyDown(Y34);};this.gridLayout=V34;this.gridLayout.element.setAttribute(P933.L7O,s933.M8d);this.gridLayout.element.addEventListener(R2O,this.focusHandler);this.gridLayout.element.addEventListener(E2O,this.blurHandler);this.coords=this.gridLayout.coords;this.selectionCanvas=new F34.SelectionCanvas(this,this.gridLayout);this.gridLayout.addChild(this.selectionCanvas);this.keyboardListener=utils.KeyboardListener.getInstance();this.keyboardListener.addEventListener(utils.KeyboardEvent.KEY_DOWN,this.keydownHandler);}Object.defineProperty(N34.prototype,M2O,{get:function(){return this._to;},enumerable:!d5I.R4d,configurable:!d5I.R4d});Object.defineProperty(N34.prototype,J2O,{get:function(){return this._from;},enumerable:!d5I.R4d,configurable:!d5I.R4d});Object.defineProperty(N34.prototype,k2O,{get:function(){return this._column;},enumerable:!d5I.R4d,configurable:!d5I.R4d});Object.defineProperty(N34.prototype,C2O,{get:function(){return this._row;},enumerable:!d5I.R4d,configurable:!d5I.R4d});N34.prototype.move=function(u34,A34,O34){void d5I.R4d===A34&&(A34=!d5I.E4d);void d5I.R4d===O34&&(O34=!d5I.E4d);switch(u34){case d5I.d4d:this.moveLeft(A34,O34);break;case d5I.o4d:this.moveUp(A34,O34);break;case d5I.Q6d:this.moveRight(A34,O34);break;case d5I.s6d:this.moveDown(A34,O34);}};N34.prototype.moveLeft=function(i34,x34){void d5I.R4d===x34&&(x34=!d5I.E4d);d5I.V2d!=this.from&&this.moveHorizontal(-d5I.E4d,x34);};N34.prototype.moveRight=function(G34,l34){void d5I.R4d===l34&&(l34=!d5I.E4d);d5I.V2d!=this.from&&this.moveHorizontal(d5I.E4d,l34);};N34.prototype.moveUp=function(U34,j34){void d5I.R4d===j34&&(j34=!d5I.E4d);d5I.V2d!=this.from&&this.moveVertical(-d5I.E4d,j34);};N34.prototype.moveDown=function(f34,T34){void d5I.R4d===T34&&(T34=!d5I.E4d);d5I.V2d!=this.from&&this.moveVertical(d5I.E4d,T34);};N34.prototype.moveHorizontal=function(K34,n34){void d5I.R4d===n34&&(n34=!d5I.E4d);var c34=n34?this.to.x:this.from.x,y34=n34?this.to.x:this.from.x,c34=Math.max(d5I.R4d,Math.min(c34+K34,this.coords.maxColsCount-d5I.E4d)),W34=d5I.R4d;c34<this.coords.firstDataColIdx?(W34=Math.max(c34,this.coords.frozenColsCount),this.gridLayout.scrollToColumn(W34)):c34>=this.coords.getBoundRight()-d5I.E4d&&(W34=this.coords.firstDataColIdx+(c34-y34),this.gridLayout.scrollToColumn(W34));y34=n34?this.to.y:this.from.y;W34=c34;this.select(new p34(n34?this.from.x:c34,this.from.y),new p34(W34,y34));};N34.prototype.moveVertical=function(q34,I34){void d5I.R4d===I34&&(I34=!d5I.E4d);var m34=I34?this.to.y:this.from.y,B34=I34?this.to.y:this.from.y,m34=Math.max(d5I.R4d,Math.min(m34+q34,this.coords.maxRowsCount-d5I.E4d)),r34=d5I.R4d;m34<this.coords.firstDataRowIdx?(r34=Math.max(m34,this.coords.frozenRowsCount),this.gridLayout.scrollToRow(r34)):m34>=this.coords.getBoundBottom()-d5I.E4d&&(r34=this.coords.firstDataRowIdx+(m34-B34),this.gridLayout.scrollToRow(r34));B34=m34;r34=I34?this.to.x:this.from.x;this.select(new p34(this.from.x,I34?this.from.y:m34),new p34(r34,B34));};N34.prototype.onKeyDown=function(v34){var N6d=65;if(d5I.V2d!=this.keyboardListener&&(this._isFocused||this.keyboardListener.isFocused)){var h34=v34.ctrlKey||v34.metaKey;switch(v34.keyCode){case d5I.v4d:h34||this.gridLayout.triggerCellAction(this.gridLayout.selectedCell);break;case N6d:h34&&this.selectAll();break;case d5I.d4d:case d5I.o4d:case d5I.Q6d:case d5I.s6d:this.move(v34.keyCode,v34.ctrlKey,v34.shiftKey);}!h34||v34.altKey||v34.shiftKey||this.keyboardListener.isFocused||this.copy();}};N34.prototype.copy=function(){if(d5I.V2d!=this.from&&d5I.V2d!=this.to&&!(s933.V7h===typeof window.getSelection&&d5I.R4d<window.getSelection().toString().length||!utils.nullOrUndefined(document.selection)&&d5I.R4d<document.selection.createRange().text.length)){var d34=d5I.s3d,D34,s54=Math.min(this.from.x,this.to.x),P54=Math.max(this.from.x,this.to.x);D34=Math.min(this.from.y,this.to.y);for(var X54=Math.max(this.from.y,this.to.y),Q54=D34;Q54<=X54;Q54++){for(var o34=s54;o34<=P54;o34++)o34>s54&&(d34+=s933.W8d),D34=this.gridLayout.getCell(Q54,o34,!d5I.R4d),d5I.V2d!=D34&&(D34.isFrozen&&o34>D34.colIdx||(d34+=D34.label));Q54<X54&&(d34+=s933.D0d);}d5I.R4d<d34.length&&this.keyboardListener.copy(d34);}};return N34;}();F34.SelectionManager=e34;var p34=function(){S54.prototype.equals=function(w54){return w54.x==this.x&&w54.y==this.y;};function S54(L54,g54){var k8i=Q933;void k8i.R4d===L54&&(L54=k8i.R4d);void k8i.R4d===g54&&(g54=k8i.R4d);this.x=L54;this.y=g54;}return S54;}();F34.Point=p34;}(t34.sheet||(t34.sheet={})));}(Z34.grid||(Z34.grid={})));}(z34._view||(z34._view={})));}(pivot||(pivot={})));(function(z54){(function(Z54){(function(t54){(function(p54){var F54=function(N54){var G2O="wdr-clear-border";var a2O="started";__extends(e54,N54);Object.defineProperty(e54.prototype,a2O,{get:function(){return this._started;},set:function(M54){this._started=M54;this.started||(this.gridLayout.element.removeEventListener(Q933.U2d,this.mouseEventHandler),document.removeEventListener(Q933.U2d,this.mouseLeaveHandler));},enumerable:!Q933.R4d,configurable:!Q933.R4d});e54.prototype.onMouseEvent=function(C54){var a8i=Q933;var J54=C54.target;if(!(J54.classList.contains(t54.vo.GridStyleName.FILTER_HEADER)||J54.classList.contains(t54.vo.GridStyleName.FILTER_ICON)||J54.classList.contains(t54.vo.GridStyleName.FILTERED_ICON)||a8i.V2d!=uicontrols.UIElement.convert(J54).closest(P933.H2O))){var k54=this.gridLayout.getOffset(),J54=C54.clientX-k54.left,k54=C54.clientY-k54.top;if(!(J54>this.coords.availableWidth||k54>this.coords.gridStartY+this.coords.availableHeight||(k54=this.coords.getRowIdxByRelativePosition(k54,this.gridLayout.isSmooth),J54=this.coords.getColIdxByRelativePosition(J54,this.gridLayout.isSmooth),isNaN(k54)||isNaN(J54))))switch(C54.type){case a8i.G2d:this.onMouseDown(k54,J54);break;case a8i.U2d:this.onMouseMove(k54,J54);break;case a8i.f2d:this.onMouseUp(k54,J54);}}};e54.prototype.onMouseLeave=function(a54){var H54=uicontrols.UIElement.convert(this.gridLayout.element),A54=a54.clientX;a54=a54.clientY;(A54<H54.left||a54<H54.top||A54>H54.left+this.gridLayout.width||a54>H54.top+this.gridLayout.height)&&this.stopSelection();};e54.prototype.select=function(O54,u54,x54,i54){this.started=!Q933.E4d;this.manager.select(new p54.Point(u54,O54),new p54.Point(i54,x54));};e54.prototype.stopSelection=function(){this.started=!Q933.E4d;};e54.prototype.onMouseDown=function(l54,G54){this.started=!Q933.R4d;this.manager.select(new p54.Point(G54,l54),new p54.Point(G54,l54));this.gridLayout.element.addEventListener(Q933.U2d,this.mouseEventHandler);utils.fmdocument.addEventListener(Q933.U2d,this.mouseLeaveHandler);};e54.prototype.onMouseUp=function(j54,U54){this.started&&(this.started=!Q933.E4d,-Q933.E4d==j54?this.manager.selectColumn(U54):-Q933.E4d==U54?this.manager.selectRow(j54):this.manager.selectTo(new p54.Point(U54,j54)));};function e54(V54,Y54){var i8i=Q933;var x2O="wdr-clear-border-top";var u2O="wdr-clear-border-left";var O2O="wdr-sheet-selection-header";var A2O="wdr-sheet-selection-canvas";var b54=N54.call(this,i8i.S3d,A2O)||this;b54._started=!i8i.E4d;b54.allowed=!i8i.R4d;b54.mouseEventHandler=function(R54){return b54.onMouseEvent(R54);};b54.mouseLeaveHandler=function(E54){return b54.onMouseLeave(E54);};b54.manager=V54;b54.gridLayout=Y54;b54.coords=b54.gridLayout.coords;b54.colOverlay=new uicontrols.UIElement(i8i.S3d,A2O);b54.colOverlay.addClass(O2O);b54.colOverlay.hide();b54.gridLayout.addChild(b54.colOverlay);b54.rowOverlay=new uicontrols.UIElement(i8i.S3d,A2O);b54.rowOverlay.addClass(O2O);b54.rowOverlay.hide();b54.gridLayout.addChild(b54.rowOverlay);b54.colFix=new uicontrols.UIElement(i8i.S3d,A2O);b54.colFix.addClass(u2O);b54.colFix.hide();b54.gridLayout.addChild(b54.colFix);b54.rowFix=new uicontrols.UIElement(i8i.S3d,A2O);b54.rowFix.addClass(x2O);b54.rowFix.hide();b54.gridLayout.addChild(b54.rowFix);b54.gridLayout.element.addEventListener(i8i.G2d,b54.mouseEventHandler);b54.gridLayout.element.addEventListener(i8i.f2d,b54.mouseEventHandler);return b54;}e54.prototype.onMouseMove=function(T54,f54){this.started&&(!this.manager.to||this.manager.to.x==f54&&this.manager.to.y==T54||this.manager.selectTo(new p54.Point(f54,T54)));};e54.prototype.preventSelection=function(){this.started=this.allowed=!Q933.E4d;};e54.prototype.allowSelection=function(){this.allowed=!Q933.R4d;this.started=!Q933.E4d;};e54.prototype.redraw=function(){var j8i=Q933;var l2O="wdr-clear-border-right";var i2O="wdr-clear-border-bottom";this.colOverlay.hide();this.rowOverlay.hide();this.colFix.hide();this.rowFix.hide();-j8i.E4d!=this.manager.row&&this.drawSelectedRow(this.manager.row);-j8i.E4d!=this.manager.column&&this.drawSelectedColumn(this.manager.column);if(j8i.V2d!=this.manager.from&&this.allowed){var q54=Math.min(this.manager.from.x,this.manager.to.x),r54=Math.min(this.manager.from.y,this.manager.to.y),I54=Math.max(this.manager.from.x,this.manager.to.x),B54=Math.max(this.manager.from.y,this.manager.to.y);z54.model._options.OptionsManager.showHeaders&&this.drawHeaderSelection(q54,I54,r54,B54);var h54=this.coords.availableWidth,D54=this.coords.gridStartY+this.coords.availableHeight,n54=Math.max(this.coords.gridStartY,this.coords.getRelativeRowY(r54,this.gridLayout.isSmooth)-j8i.E4d),y54=this.coords.getRelativeRowY(B54+j8i.E4d,this.gridLayout.isSmooth),c54=Math.min(D54,y54),K54=Math.max(j8i.R4d,this.coords.getRelativeColX(q54,this.gridLayout.isSmooth)-j8i.E4d),m54=this.coords.getRelativeColX(I54+j8i.E4d,this.gridLayout.isSmooth),W54=Math.min(h54,m54),d54=c54-n54,v54=W54-K54;j8i.M4d>=v54||j8i.M4d>=d54?this.hide():K54<h54&&n54<D54?(this.show(),this.top=n54,this.left=K54,this.width=v54,this.height=d54,r54<this.coords.frozenRowsCount&&m54>W54&&(this.colFix.top=n54,this.colFix.left=W54,this.colFix.width=Math.min(m54,this.coords.layoutWidth)-W54,this.colFix.height=Math.min(c54,this.coords.gridStartY+this.coords.colHeadersHeight)-n54,this.colFix.toggleClass(i2O,B54>this.coords.frozenRowsCount),this.colFix.toggleClass(l2O,m54>this.coords.layoutWidth),this.colFix.removeClass(G2O),this.colFix.show()),q54<this.coords.frozenColsCount&&y54>c54&&(this.rowFix.top=c54,this.rowFix.left=K54,this.rowFix.width=Math.min(W54,this.coords.rowHeadersWidth)-K54,this.rowFix.height=Math.min(y54,this.coords.layoutHeight)-c54,this.rowFix.toggleClass(i2O,y54>this.coords.layoutHeight),this.rowFix.toggleClass(l2O,I54>this.coords.frozenColsCount),this.rowFix.removeClass(G2O),this.rowFix.show()),this.toggleClass(l2O,m54>W54),this.toggleClass(i2O,y54>c54)):this.hide();}else this.hide();};e54.prototype.drawSelectedRow=function(o54){if(!isNaN(o54)){var s04=this.coords.getRelativeRowY(o54,this.gridLayout.isSmooth);o54=this.coords.getRelativeRowY(o54+Q933.E4d,this.gridLayout.isSmooth);var Q04=Math.min(this.coords.gridStartY+this.coords.availableHeight,o54);s04<this.coords.gridStartY+this.coords.availableHeight?(this.rowOverlay.left=Q933.R4d,this.rowOverlay.top=s04,this.rowOverlay.width=this.coords.availableWidth,this.rowOverlay.height=Q04-s04,this.rowOverlay.show(),o54>Q04&&(this.rowFix.top=Q04,this.rowFix.left=Q933.R4d,this.rowFix.width=this.coords.rowHeadersWidth,this.rowFix.height=Math.min(o54,this.coords.layoutHeight)-Q04,this.rowFix.addClass(G2O),this.rowFix.show())):this.rowOverlay.hide();}};e54.prototype.drawSelectedColumn=function(X04){if(!isNaN(X04)){var S04=this.coords.getRelativeColX(X04,this.gridLayout.isSmooth);X04=this.coords.getRelativeColX(X04+Q933.E4d,this.gridLayout.isSmooth);var P04=Math.min(this.coords.availableWidth,X04);S04<this.coords.availableWidth?(this.colOverlay.left=S04,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=P04-S04,this.colOverlay.height=this.coords.availableHeight,this.colOverlay.show(),X04>P04&&(this.colFix.top=this.coords.gridStartY,this.colFix.left=P04,this.colFix.width=Math.min(X04,this.coords.layoutWidth)-P04,this.colFix.height=this.coords.colHeadersHeight,this.colFix.addClass(G2O),this.colFix.show())):this.colOverlay.hide();}};e54.prototype.drawHeaderSelection=function(L04,w04,g04,z04){L04=this.coords.getRelativeColX(L04,this.gridLayout.isSmooth);w04=Math.min(this.coords.layoutWidth,this.coords.getRelativeColX(w04+Q933.E4d,this.gridLayout.isSmooth));L04<this.coords.layoutWidth?(this.colOverlay.left=L04,this.colOverlay.top=this.coords.gridStartY,this.colOverlay.width=w04-L04,this.colOverlay.height=this.coords.getSheetHeaderHeight(),this.colOverlay.show()):this.colOverlay.hide();g04=this.coords.getRelativeRowY(g04,this.gridLayout.isSmooth);z04=Math.min(this.coords.layoutHeight,this.coords.getRelativeRowY(z04+Q933.E4d,this.gridLayout.isSmooth));this.rowOverlay.left=Q933.R4d;this.rowOverlay.top=g04;this.rowOverlay.width=this.coords.getSheetHeaderWidth();this.rowOverlay.height=z04-g04;this.rowOverlay.show();};return e54;}(uicontrols.UIElement);p54.SelectionCanvas=F54;}(t54.sheet||(t54.sheet={})));}(Z54.grid||(Z54.grid={})));}(z54._view||(z54._view={})));}(pivot||(pivot={})));var ScrollPane=function(t04){var H4E=Q933;var r2O="verticalScroll";var n2O="horizontalScroll";var W2O="placeholder";var c2O="content";var f2O="scrollTop";var T2O="scrollLeft";var U2O="contentHeight";var j2O="contentWidth";__extends(Z04,t04);Object.defineProperty(Z04.prototype,j2O,{get:function(){return this._placeholder.width;},set:function(F04){this._placeholder.width=F04;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,U2O,{get:function(){return this._placeholder.height;},set:function(e04){this._placeholder.height=e04;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,T2O,{get:function(){return this.element.scrollLeft;},set:function(N04){this.element.scrollLeft=N04;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,f2O,{get:function(){return this.element.scrollTop;},set:function(b04){this.element.scrollTop=b04;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,c2O,{get:function(){return this._content;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,W2O,{get:function(){return this._placeholder;},enumerable:!H4E.R4d,configurable:!H4E.R4d});Object.defineProperty(Z04.prototype,n2O,{set:function(V04){this.element.style.overflowX=V04?s933.L0d:X933.V1B;},enumerable:!H4E.R4d,configurable:!H4E.R4d});function Z04(){var m2O="wdr-scroll-content";var K2O="wdr-scroll-placeholder";var y2O="wdr-scroll-pane";var p04=t04.call(this,H4E.S3d,y2O)||this;p04._placeholder=new uicontrols.UIElement(H4E.S3d,K2O);p04._content=new uicontrols.UIElement(H4E.S3d,m2O);p04.addChild(p04._content);p04.addChild(p04._placeholder);return p04;}Object.defineProperty(Z04.prototype,r2O,{set:function(Y04){this.element.style.overflowY=Y04?s933.L0d:X933.V1B;},enumerable:!H4E.R4d,configurable:!H4E.R4d});return Z04;}(uicontrols.UIElement);(function(R04){(function(E04){(function(M04){(function(J04){var k04=function(a04){__extends(C04,a04);C04.prototype.draw=function(){var c8i=Q933;var x04=[],O04=new HtmlNodeWrapper();if(R04.model._options.OptionsManager.showHeaders){O04.tag=c8i.S3d;O04.addClass(P933.I2O);O04.text+=this.createSheetHeaderCell().toHtml();for(var u04=c8i.R4d;u04<this._coords.frozenColsCount;u04++)O04.text+=this.createColumnSheetHeaderCell(u04).toHtml();x04.push(O04.toHtml());for(u04=c8i.R4d;u04<this._coords.frozenRowsCount;u04++)O04.text=this.createRowSheetHeaderCell(u04).toHtml(),x04.push(O04.toHtml());}x04=x04.join(c8i.s3d);this.element.innerHTML!=x04&&this.html(x04);};function C04(A04){var H04=a04.call(this,A04,Q933.V2d)||this;H04._coords=A04;return H04;}C04.prototype.clear=function(){};return C04;}(J04.AbstractSheet);J04.SheetHeaders=k04;}(M04.sheet||(M04.sheet={})));}(E04.grid||(E04.grid={})));}(R04._view||(R04._view={})));}(pivot||(pivot={})));var HtmlNode=function(){i04.prototype.addClass=function(G04){Q933.R4d>this.classes.indexOf(G04)&&this.classes.push(G04);};i04.prototype.toHtml=function(){var m6E=Q933;var K6E=s933;var D2O="</";var h2O='="';var v2O=' class="';var q2O=';"';var B2O=' style="';var j04=P933.N9O+this.tag,U04=[],T04;for(T04 in this.style)U04.push(T04+K6E.O8d+this.style[T04]);m6E.R4d<U04.length&&(j04+=B2O+U04.join(K6E.E9h)+q2O);m6E.R4d<this.classes.length&&(j04+=v2O+this.classes.join(m6E.R2d)+K6E.s9h);for(var f04 in this.attr)j04+=m6E.R2d+f04+h2O+this.attr[f04]+K6E.s9h;return j04+=P933.b9O+(this.text||m6E.s3d)+D2O+this.tag+P933.b9O;};function i04(l04){void Q933.R4d===l04&&(l04=Q933.S3d);this.text=this.tag=Q933.s3d;this.style={};this.attr={};this.classes=[];this.tag=l04;}return i04;}(),HtmlNodeWrapper=function(){var A4E=Q933;var s3O="attr";var Q3O="style";var o2O="tag";var d2O="node";Object.defineProperty(c04.prototype,d2O,{get:function(){return this._node;},enumerable:!A4E.R4d,configurable:!A4E.R4d});Object.defineProperty(c04.prototype,o2O,{get:function(){return this.node.tag;},set:function(n04){this.node.tag=n04;},enumerable:!A4E.R4d,configurable:!A4E.R4d});Object.defineProperty(c04.prototype,A4E.S5d,{get:function(){return this.node.text;},set:function(y04){this.node.text=y04;},enumerable:!A4E.R4d,configurable:!A4E.R4d});Object.defineProperty(c04.prototype,Q3O,{get:function(){return this.node.style;},set:function(K04){this.node.style=K04;},enumerable:!A4E.R4d,configurable:!A4E.R4d});Object.defineProperty(c04.prototype,s3O,{get:function(){return this.node.attr;},set:function(m04){this.node.attr=m04;},enumerable:!A4E.R4d,configurable:!A4E.R4d});c04.prototype.addClass=function(r04){this.node.addClass(r04);};c04.prototype.clear=function(){this.tag=A4E.S3d;this.text=A4E.s3d;this.style={};this.attr={};this.node.classes=[];};c04.prototype.toHtml=function(B04){void A4E.R4d===B04&&(B04=!A4E.R4d);var I04=this.node.toHtml();B04&&this.clear();A4E.V2d!=pivot._view.grid.vo.GridCell.customizeCellFunction&&(I04=pivot.model.XSSCheck.valid(I04)?I04:pivot.model.XSSCheck.validate(I04));return I04;};function c04(W04){void A4E.R4d===W04&&(W04=A4E.S3d);this._node=new HtmlNode();this.clear();this.tag=W04;}return c04;}();(function(q04){(function(v04){(function(h04){(function(D04){var d04=function(Q14){__extends(o04,Q14);function o04(){return Q933.V2d!==Q14&&Q14.apply(this,arguments)||this;}o04.prototype.draw=function(){var K8i=Q933;this.setContentSize();var s14=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(s14.bottom)||this._coords.isOnColEdge(s14.right)||!this._bounds.contains(s14)){var X14=s14.clone();K8i.R4d!=this._coords.maxColsCount&&(X14.right=Math.min(X14.right,this._coords.maxColsCount));K8i.R4d!=this._coords.maxRowsCount&&(X14.bottom=Math.min(X14.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(X14)||!this._coords.canDrawAll&&(s14.left>this._coords.frozenColsCount&&s14.left<=this._boundsSmooth.left||s14.top>this._coords.frozenRowsCount&&s14.top<=this._boundsSmooth.top)){this._coords.isOnColEdge(s14.right)&&(s14.left=Math.max(s14.left-K8i.E4d,this._coords.frozenColsCount));this._coords.isOnRowEdge(s14.bottom)&&(s14.top=Math.max(s14.top-K8i.E4d,this._coords.frozenRowsCount));for(var X14=[],P14=new HtmlNodeWrapper(),S14=s14.top;S14<s14.bottom;S14++){P14.tag=K8i.S3d;P14.addClass(P933.I2O);P14.attr[P933.s2O]=S14;for(var L14=s14.left;L14<s14.right;++L14)P14.text+=this.createCell(S14,L14).toHtml();X14.push(P14.toHtml());}this.scrollPane.placeholder.html(K8i.s3d);this.scrollPane.placeholder.visible=this._coords.hasHorizontalScroll||this._coords.hasVerticalScroll;this.scrollPane.content.html(X14.join(K8i.s3d));this.scrollPane.content.show();X14.length=K8i.R4d;this.isSmooth=!K8i.E4d;this._bounds.set(s14);}}};o04.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};o04.prototype.drawSmooth=function(){var r8i=Q933;var g14=this.getBounds(!r8i.R4d);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(g14))){this._boundsSmooth=g14;for(var g14=[],w14=this._boundsSmooth.top;w14<this._boundsSmooth.bottom;w14++){this._coords.getRowHeight(w14);for(var z14=this._boundsSmooth.left;z14<this._boundsSmooth.right;++z14)g14.push(this.createCell(w14,z14,!r8i.R4d).toHtml());}this.scrollPane.placeholder.html(g14.join(r8i.s3d));this.scrollPane.placeholder.show();this.scrollPane.content.hide();this.scrollPane.content.html(r8i.s3d);g14=this.getBounds();this.isSmooth||this._coords.isOnRowEdge(g14.bottom)||(this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!r8i.E4d));this.isSmooth||this._coords.isOnColEdge(g14.right)||(this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!r8i.E4d));this.isSmooth=!r8i.R4d;}};o04.prototype.getBounds=function(Z14){void Q933.R4d===Z14&&(Z14=!Q933.E4d);var t14=new D04.Bounds();t14.top=this._coords.getBoundTop(Z14);t14.left=this._coords.getBoundLeft(Z14);t14.bottom=this._coords.getBoundBottom(Z14);t14.right=this._coords.getBoundRight(Z14);return t14;};o04.prototype.setContentSize=function(){this.scrollPane.contentWidth=Math.max(this._coords.dataContentWidth,this._coords.dataWidth-this._coords.scrollBarWidth);this.scrollPane.contentHeight=Math.max(this._coords.dataContentHeight,this._coords.dataHeight-this._coords.scrollBarHeight);this.scrollPane.content.right=this._coords.scrollBarWidth;this.scrollPane.content.bottom=this._coords.scrollBarHeight;this.scrollPane.horizontalScroll=this._coords.hasHorizontalScroll;this.scrollPane.verticalScroll=this._coords.hasVerticalScroll;};return o04;}(D04.BaseSheet);D04.DataSheet=d04;}(h04.sheet||(h04.sheet={})));}(v04.grid||(v04.grid={})));}(q04._view||(q04._view={})));}(pivot||(pivot={})));(function(p14){(function(F14){(function(e14){(function(N14){var b14=function(Y14){__extends(V14,Y14);function V14(){return Q933.V2d!==Y14&&Y14.apply(this,arguments)||this;}V14.prototype.draw=function(){var q8i=Q933;this.setContentSize();var R14=this.getBounds();if(this.isSmooth||this._coords.isOnRowEdge(R14.bottom)||!this._bounds.contains(R14)){var E14=R14.clone();q8i.R4d!=this._coords.maxRowsCount&&(E14.bottom=Math.min(E14.bottom,this._coords.maxRowsCount));if(!this.isSmooth||!this._boundsSmooth.contains(E14)){this._coords.isOnRowEdge(R14.bottom)&&(R14.top=Math.max(R14.top-q8i.E4d,this._coords.frozenRowsCount));for(var E14=[],M14=new HtmlNodeWrapper(),J14=R14.top;J14<R14.bottom;J14++){M14.tag=q8i.S3d;M14.addClass(P933.I2O);M14.attr[P933.s2O]=J14;p14.model._options.OptionsManager.showHeaders&&(M14.text+=this.createRowSheetHeaderCell(J14).toHtml());for(var k14=R14.left;k14<R14.right;++k14)M14.text+=this.createCell(J14,k14).toHtml();E14.push(M14.toHtml());}this.scrollPane.placeholder.html(q8i.s3d);this.scrollPane.placeholder.hide();this.scrollPane.content.html(E14.join(q8i.s3d));this.scrollPane.content.show();E14.length=q8i.R4d;this._isSmooth=!q8i.E4d;this._bounds.set(R14);}}};V14.prototype.createRowSheetHeaderCell=function(a14,C14){void Q933.R4d===C14&&(C14=!Q933.E4d);this.cell=Y14.prototype.createRowSheetHeaderCell.call(this,a14,C14);C14||(this.cell.style[P933.z2O]=this.cell.style.height,delete this.cell.style.height,delete this.cell.style[P933.F2O]);return this.cell;};V14.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.top=this._coords.getRowEdgeOffset(this._bounds.top);};V14.prototype.getBounds=function(A14){void Q933.R4d===A14&&(A14=!Q933.E4d);var H14=new N14.Bounds();H14.top=this._coords.getBoundTop(A14);H14.left=Q933.R4d;H14.bottom=this._coords.getBoundBottom(A14);H14.right=this._coords.frozenColsCount;A14&&H14.bottom==this._coords.maxRowsCount&&H14.bottom++;return H14;};V14.prototype.drawSmooth=function(){var o8i=Q933;var O14=this.getBounds(!o8i.R4d);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(O14))){this._boundsSmooth=O14;for(var O14=[],u14=this._boundsSmooth.top;u14<this._boundsSmooth.bottom;u14++){p14.model._options.OptionsManager.showHeaders&&O14.push(this.createRowSheetHeaderCell(u14,!o8i.R4d).toHtml());for(var x14=this._boundsSmooth.left;x14<this._boundsSmooth.right;++x14)O14.push(this.createCell(u14,x14,!o8i.R4d).toHtml());}this.scrollPane.placeholder.html(O14.join(o8i.s3d));this.scrollPane.content.hide();this.scrollPane.content.html(o8i.s3d);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnRowEdge(this._bounds.bottom)?this._scrollPane.scrollTop=this._coords.scrollTop:this.scrollPane.scrollTop=this._coords.getRowY(this._coords.firstDataRowIdx,!o8i.E4d);this.isSmooth=!o8i.R4d;}};V14.prototype.setContentSize=function(){this.scrollPane.contentHeight=this._coords.dataContentHeight+this._coords.scrollBarHeight;this.scrollPane.content.bottom=Q933.R4d;this.scrollPane.scrollTop=this._coords.scrollTop;};V14.prototype.getCellByPosition=function(j14,U14){var s9T=Q933;var l14=this._coords.getColIndexAtPosition(j14,!s9T.R4d)-s9T.E4d,G14=this._coords.getRowIndexAtPosition(U14)-s9T.E4d,i14=this._getDataFunc(G14,l14);s9T.V2d==i14&&(i14=new e14.vo.GridCell(),i14.rowIdx=G14,i14.colIdx=l14);return i14;};return V14;}(N14.BaseSheet);N14.RowHeadersSheet=b14;}(e14.sheet||(e14.sheet={})));}(F14.grid||(F14.grid={})));}(p14._view||(p14._view={})));}(pivot||(pivot={})));(function(T14){(function(f14){(function(c14){(function(W14){var n14=function(K14){__extends(y14,K14);y14.prototype.draw=function(){var X9T=Q933;utils.fmClearTimeout(this._bgTimeout);this.setContentSize();var m14=this.getBounds();if(this.isSmooth||this._coords.isOnColEdge(m14.right)||!this._bounds.contains(m14)){var r14=m14.clone();X9T.R4d!=this._coords.maxColsCount&&(r14.right=Math.min(r14.right,this._coords.maxColsCount));if(!this.isSmooth||!this._boundsSmooth.contains(r14)){this._coords.isOnColEdge(m14.right)&&(m14.left=Math.max(m14.left-X9T.E4d,this._coords.frozenColsCount));r14=[];T14.model._options.OptionsManager.showHeaders&&r14.push(this.createSheetHeaders(m14));for(var I14=new HtmlNodeWrapper(),B14=m14.top;B14<m14.bottom;B14++){I14.tag=X9T.S3d;I14.addClass(P933.I2O);I14.attr[P933.s2O]=B14;for(var q14=m14.left;q14<m14.right;++q14)I14.text+=this.createCell(B14,q14).toHtml();r14.push(I14.toHtml());}this.scrollPane.placeholder.html(X9T.s3d);this.scrollPane.placeholder.hide();this.scrollPane.content.html(r14.join(X9T.s3d));this.scrollPane.content.show();r14.length=X9T.R4d;this.isSmooth=!X9T.E4d;this._bounds.set(m14);}}};y14.prototype.adjustScrollPaneOffset=function(){this.scrollPane.content.left=this._coords.getColEdgeOffset(this._bounds.left);};y14.prototype.getBounds=function(h14){void Q933.R4d===h14&&(h14=!Q933.E4d);var v14=new W14.Bounds();v14.top=Q933.R4d;v14.left=this._coords.getBoundLeft(h14);v14.bottom=this._coords.frozenRowsCount;v14.right=this._coords.getBoundRight(h14);h14&&v14.right==this._coords.maxColsCount&&v14.right++;return v14;};function y14(){return Q933.V2d!==K14&&K14.apply(this,arguments)||this;}y14.prototype.drawSmooth=function(){var g9T=Q933;var d14=this.getBounds(!g9T.R4d);if(!(this.isSmooth&&this._coords.canDrawAll&&this._boundsSmooth.contains(d14))){this._boundsSmooth=d14;utils.fmClearTimeout(this._bgTimeout);for(var d14=[],D14=this._boundsSmooth.top;D14<this._boundsSmooth.bottom;D14++)for(var o14=this._boundsSmooth.left;o14<this._boundsSmooth.right;++o14)d14.push(this.createCell(D14,o14,!g9T.R4d).toHtml());D14=g9T.s3d;T14.model._options.OptionsManager.showHeaders&&(D14+=this.createSheetHeaders(this._boundsSmooth,!g9T.R4d));D14+=d14.join(g9T.s3d);this.scrollPane.placeholder.html(D14);this.scrollPane.content.hide();this.scrollPane.content.html(g9T.s3d);this.scrollPane.placeholder.show();this.isSmooth||this._coords.isOnColEdge(this._bounds.right)?this.scrollPane.scrollLeft=this._coords.scrollLeft:this.scrollPane.scrollLeft=this._coords.getColX(this._coords.firstDataColIdx,!g9T.E4d);this.isSmooth=!g9T.R4d;}};y14.prototype.setContentSize=function(){this.scrollPane.contentWidth=this._coords.dataContentWidth+this._coords.scrollBarWidth;this.scrollPane.content.right=Q933.R4d;};y14.prototype.backgroundProcess=function(){var z9T=Q933;var P84=this;utils.fmClearTimeout(this._bgTimeout);for(var S84=[],g84=this._coords.getColIndicesWithUndefinedWidth(z9T.S6d),s84=z9T.R4d;s84<this._coords.frozenRowsCount;s84++)for(var L84=z9T.R4d;L84<g84.length;L84++){var w84=g84[L84];this.isCellEmpty(s84,w84)||S84.push(this.createCell(s84,w84,!z9T.R4d).toHtml());}if(z9T.R4d<S84.length){var Q84=this._scrollPane.placeholder.element,X84=Q84.children.length,z84=Q84.innerHTML;Q84.innerHTML=z84+S84.join();this.requestAnimationFrame(function(){for(X84;X84<Q84.children.length;X84++)P84.updateColWidth(Q84.children.item(X84));Q84.innerHTML=z84;P84._bgTimeout=utils.fmSetTimeout(function(){return P84.backgroundProcess();},z9T.v6d);});}};y14.prototype.createSheetHeaders=function(F84,p84){var t9T=Q933;void t9T.R4d===p84&&(p84=!t9T.E4d);for(var t84=t9T.s3d,Z84=F84.left;Z84<F84.right;++Z84)t84+=this.createColumnSheetHeaderCell(Z84,p84).toHtml();p84||(Z84=new HtmlNodeWrapper(),Z84.tag=t9T.S3d,Z84.addClass(P933.I2O),Z84.text=t84,t84=Z84.toHtml());return t84;};y14.prototype.getCellByPosition=function(V84,Y84){var F9T=Q933;var N84=this._coords.getColIndexAtPosition(V84)-F9T.E4d,b84=this._coords.getRowIndexAtPosition(Y84,!F9T.R4d)-F9T.E4d,e84=this._getDataFunc(b84,N84);F9T.V2d==e84&&(e84=new c14.vo.GridCell(),e84.rowIdx=b84,e84.colIdx=N84);return e84;};y14.prototype.clearDrawings=function(){utils.fmClearTimeout(this._bgTimeout);};y14.prototype.dispose=function(){this.clearDrawings();K14.prototype.dispose.call(this);};return y14;}(W14.BaseSheet);W14.ColumnHeadersSheet=n14;}(c14.sheet||(c14.sheet={})));}(f14.grid||(f14.grid={})));}(T14._view||(T14._view={})));}(pivot||(pivot={})));(function(R84){(function(E84){(function(M84){(function(J84){var k84=function(a84){var z0i=Q933;var M3O="wdr-header-drop-indicator";var V3O="selectionManager";var b3O="dataProvider";var F3O="getDataFunction";var p3O="selectedCell";var t3O="coords";__extends(C84,a84);C84.prototype.setControls=function(){this.createTitle();this.createSheetHeaders();this.createColsSheet();this.createRowsSheet();this.createDataSheet();this.createResizeHandles();};C84.prototype.createTitle=function(){var X3O="wdr-grid-title";this._title=new uicontrols.UILabel();this._title.container.display=z0i.A3d;this._title.setId(X3O);this._title.addClass(P933.l4O);this._title.setSelectable(!z0i.R4d);this._title.container.css(z0i.E5d,s933.n1d);this._title.hide();this.addComponent(this._title);};C84.prototype.createSheetHeaders=function(){var P3O="wdr-sheet-headers";this._sheetHeaders=new J84.SheetHeaders(this._coords);this._sheetHeaders.id=P3O;this.addChild(this._sheetHeaders);};C84.prototype.createColsSheet=function(){var x84=this;this._colsSheet=new J84.ColumnHeadersSheet(this._coords,function(i84,l84){return x84.getCell(i84,l84);});this._colsSheet.id=P933.S3O;this._colsSheet.scrollPane.element.addEventListener(P933.L3O,this.colsScrollHandler);this._colsSheet.addEventListener(M84.GridEvent.MOUSE_CLICK,function(G84){return x84.onClick(G84);});this.addChild(this._colsSheet);};C84.prototype.createRowsSheet=function(){var g3O="wdr-rows-sheet";var j84=this;this._rowsSheet=new J84.RowHeadersSheet(this._coords,function(U84,T84){return j84.getCell(U84,T84);});this._rowsSheet.id=g3O;this._rowsSheet.scrollPane.element.addEventListener(P933.L3O,this.rowsScrollHandler);this._rowsSheet.addEventListener(M84.GridEvent.MOUSE_CLICK,function(f84){return j84.onClick(f84);});this.addChild(this._rowsSheet);};C84.prototype.createDataSheet=function(){var w3O="wdr-data-sheet";var c84=this;this._dataSheet=new J84.DataSheet(this._coords,function(W84,n84){return c84.getCell(W84,n84);});this._dataSheet.id=w3O;this._dataSheet.scrollPane.element.addEventListener(s933.L0d,this.dataScrollHandler,!z0i.R4d);this._dataSheet.addEventListener(J84.BaseSheet.EVENT_SWITCHED_TO_SIMPLE,function(y84){return c84.onModeSwitched(y84);});this._dataSheet.addEventListener(J84.BaseSheet.EVENT_SWITCHED_TO_SMOOTH,function(K84){return c84.onModeSwitched(K84);});this._dataSheet.addEventListener(M84.GridEvent.MOUSE_CLICK,function(m84){return c84.onClick(m84);});this.addChild(this._dataSheet);};C84.prototype.createResizeHandles=function(){var r84=this;this._colResizeHandles=new J84.ColumnResizeHandles(this);this._colResizeHandles.id=P933.z3O;this._colResizeHandles.addEventListener(M84.GridEvent.RESIZE_COLUMN,function(I84){return r84.onColResize(I84);});this.addChild(this._colResizeHandles);this._rowResizeHandles=new J84.RowResizeHandles(this);this._rowResizeHandles.id=P933.Z3O;this._rowResizeHandles.addEventListener(M84.GridEvent.RESIZE_ROW,function(B84){return r84.onRowResize(B84);});this.addChild(this._rowResizeHandles);this.element.addEventListener(P933.a7O,this.sheetHeaderDbClickHandler);};C84.prototype.draw=function(){var q84=this;this._coords.clearCache();this._dataSheet.width&&this._dataSheet.height||this.drawLayout();this._coords.setScale();this.adjustScrollPosition()||(utils.fmClearTimeout(this._drawSmoothTimer),this.disposeAnimationDraws(),this.animationDraws.push(this.requestAnimationFrame(function(){return q84._draw();})));};C84.prototype.disposeAnimationDraws=function(){for(;z0i.R4d<this.animationDraws.length;)this.cancelAnimationFrame(this.animationDraws.pop());};C84.prototype._draw=function(){var v84=this;E84.PivotView.stage.dispatchWith(E84.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!z0i.E4d});this._coords.applyPendingSizes();this.drawFirst();this._isHeadersDirty&&(this.calculateSizesFirst()&&(this._coords.applyPendingSizes(),this._colsSheet.clearBounds(),this._rowsSheet.clearBounds(),this.drawFirst()),this._isHeadersDirty=!z0i.E4d);this.drawLast();R84.model.JavaScriptHandlers.getInstance().dispatch(new R84.model.APIEvent(R84.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!z0i.E4d}));this.animationDraws.push(this.requestAnimationFrame(function(){v84.drawLayout();v84._selectionManager.draw();}));this.animationDraws.push(this.requestAnimationFrame(function(){var h84=v84.calculateSizesAll();h84?(v84._colsSheet.clearBounds(),v84._rowsSheet.clearBounds(),v84._dataSheet.clearBounds(),v84.draw()):v84._coords.canDrawSmooth&&(utils.fmClearTimeout(v84._drawSmoothTimer),v84._drawSmoothTimer=utils.fmSetTimeout(function(){return v84.drawSmooth();},v84.smoothTimeout));h84||v84.makeFieldsDraggable();}));this.animationDraws.push(this.requestAnimationFrame(function(){E84.PivotView.stage.dispatchWith(E84.ViewEvent.AFTER_GRID_DRAW,v84,{smooth:!z0i.E4d});}));};C84.prototype.drawFirst=function(){this._coords.titleHeight=utils.nullOrEmpty(R84.model._options.OptionsManager.gridTitle)?z0i.R4d:this._title.getHeight(!z0i.R4d);this._colsSheet.draw();this._colsSheet.adjustScrollPaneOffset();this._rowsSheet.draw();this._rowsSheet.adjustScrollPaneOffset();};C84.prototype.drawLast=function(){this._sheetHeaders.draw();this._selectionManager.draw();this._colResizeHandles.draw();this._rowResizeHandles.draw();this._dataSheet.draw();this._dataSheet.adjustScrollPaneOffset();};C84.prototype.calculateSizesFirst=function(){this._colsSheet.calculateSizes(!z0i.R4d);this._rowsSheet.calculateSizes(!z0i.R4d);return this._colsSheet.isDirty||this._rowsSheet.isDirty;};C84.prototype.calculateSizesAll=function(){this._dataSheet.calculateSizes(!z0i.R4d);this._colsSheet.calculateSizes(!z0i.R4d);this._rowsSheet.calculateSizes(!z0i.R4d);return this._dataSheet.isDirty||this._colsSheet.isDirty||this._rowsSheet.isDirty;};C84.prototype.drawSmooth=function(){var D84=this;this.disposeAnimationDraws();this.animationDraws.push(this.requestAnimationFrame(function(){return D84._drawSmooth();}));};C84.prototype._drawSmooth=function(){var d84=this;E84.PivotView.stage.dispatchWith(E84.ViewEvent.BEFORE_GRID_DRAW,this,{smooth:!z0i.R4d});this._colsSheet.drawSmooth();this._rowsSheet.drawSmooth();this._dataSheet.drawSmooth();R84.model.JavaScriptHandlers.getInstance().dispatch(new R84.model.APIEvent(R84.model.JavaScriptHandlers.AFTER_GRID_DRAW,{smooth:!z0i.R4d}));this.type==J84.flat.FlatGridLayout.TYPE&&this.makeFieldsDraggable();this.animationDraws.push(this.requestAnimationFrame(function(){d84._colsSheet.calculateSizesSmooth(!z0i.R4d);d84._rowsSheet.calculateSizesSmooth(!z0i.R4d);d84._dataSheet.calculateSizesSmooth(!z0i.R4d);if(d84._colsSheet.isDirty||d84._rowsSheet.isDirty||d84._dataSheet.isDirty)d84._colsSheet.clearBoundsSmooth(),d84._rowsSheet.clearBoundsSmooth(),d84._dataSheet.clearBoundsSmooth();d84._coords.canDrawAll||d84._colsSheet.backgroundProcess();}));this.animationDraws.push(this.requestAnimationFrame(function(){E84.PivotView.stage.dispatchWith(E84.ViewEvent.AFTER_GRID_DRAW,d84,{smooth:!z0i.R4d});}));};C84.prototype.onModeSwitched=function(Q9j){var o84=this;Q9j.type==J84.BaseSheet.EVENT_SWITCHED_TO_SIMPLE&&this.animationDraws.push(this.requestAnimationFrame(function(){o84._colsSheet.switchToSimple();o84._rowsSheet.switchToSimple();}));};C84.prototype.onDataScroll=function(){this.setScroll(this._dataSheet.scrollPane.scrollTop,this._dataSheet.scrollPane.scrollLeft);};C84.prototype.onRowsScroll=function(s9j){this.coords.hasVerticalScroll&&(s9j=s9j.wheelDeltaY||s9j.deltaY||s9j.wheelDelta||z0i.R4d,utils.browserVersion().isFirefox&&(s9j*=-z0i.s6d),utils.browserVersion().isMsie&&(s9j*=-z0i.E4d),isNaN(s9j)||z0i.R4d==s9j||(this._dataSheet.scrollPane.scrollTop=this._coords.scrollTop-s9j));};C84.prototype.onColsScroll=function(X9j){this.coords.hasHorizontalScroll&&(X9j=X9j.wheelDeltaX||X9j.deltaX||z0i.R4d,utils.browserVersion().isFirefox&&(X9j*=-z0i.s6d),utils.browserVersion().isMsie&&(X9j*=-z0i.E4d),z0i.R4d!=X9j&&(this._dataSheet.scrollPane.scrollLeft=this._coords.scrollLeft-X9j));};Object.defineProperty(C84.prototype,z0i.P5d,{get:function(){return this._type;},enumerable:!z0i.R4d,configurable:!z0i.R4d});Object.defineProperty(C84.prototype,t3O,{get:function(){return this._coords;},enumerable:!z0i.R4d,configurable:!z0i.R4d});C84.prototype.drawLayout=function(){this.width=this.coords.layoutWidth;this.height=this.coords.layoutHeight;utils.nullOrEmpty(R84.model._options.OptionsManager.gridTitle)?this._title.hide():(this._title.setLabel(R84.model._options.OptionsManager.gridTitle),this._title.show());this._colResizeHandles.left=z0i.R4d;this._colResizeHandles.top=this.coords.gridStartY;this._colResizeHandles.right=z0i.R4d;this._colResizeHandles.height=this.coords.getSheetHeaderHeight();this._rowResizeHandles.left=z0i.R4d;this._rowResizeHandles.top=this.coords.gridStartY;this._rowResizeHandles.bottom=z0i.R4d;this._rowResizeHandles.width=this.coords.getSheetHeaderWidth();};C84.prototype.triggerCellAction=function(P9j){z0i.V2d!=P9j&&this.dispatch(new M84.GridClickEvent(P9j));};Object.defineProperty(C84.prototype,p3O,{get:function(){var S9j;z0i.V2d!=this._selectionManager.from&&(S9j=this.getCell(this._selectionManager.from.y,this._selectionManager.from.x,!z0i.R4d),z0i.V2d==S9j&&(S9j=new M84.vo.GridCell(),S9j.rowIdx=this._selectionManager.from.y,S9j.colIdx=this._selectionManager.from.x));return S9j;},enumerable:!z0i.R4d,configurable:!z0i.R4d});C84.prototype.getCell=function(w9j,z9j,g9j,L9j){void z0i.R4d===L9j&&(L9j=!z0i.E4d);g9j=this._dataProvider.getData(w9j,z9j,!L9j);return L9j&&z0i.V2d==g9j?this._dataProvider.getDataFrozen(w9j,z9j):g9j;};C84.prototype.insertCell=function(t9j,p9j,F9j,Z9j){void z0i.R4d===Z9j&&(Z9j=!z0i.E4d);this._dataProvider.setData(t9j,p9j,F9j,Z9j);};C84.prototype.resize=function(e9j,N9j){this._coords.resize(e9j,N9j,!z0i.R4d);};Object.defineProperty(C84.prototype,F3O,{set:function(b9j){this._dataProvider.getDataFunction=b9j;},enumerable:!z0i.R4d,configurable:!z0i.R4d});C84.prototype.setDataSize=function(V9j,Y9j){this._coords.dataRowsCount=V9j;this._coords.dataColsCount=Y9j;};C84.prototype.freezeRows=function(R9j){R9j!=this._coords.frozenRowsCount&&(this._coords.firstDataRowIdx=R9j+(this._coords.firstDataRowIdx-this._coords.frozenRowsCount));this._coords.frozenRowsCount=R9j;};C84.prototype.freezeColumns=function(E9j){E9j!=this._coords.frozenColsCount&&(this._coords.firstDataColIdx=E9j+(this._coords.firstDataColIdx-this._coords.frozenColsCount));this._coords.firstDataColIdx<E9j&&(this._coords.firstDataColIdx=E9j);this._coords.frozenColsCount=E9j;};C84.prototype.clearAll=function(){this._isHeadersDirty=!z0i.R4d;this._dataProvider.reset();this._coords.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._selectionManager.clear();this._dataSheet.scrollPane.scrollTop=z0i.R4d;this._dataSheet.scrollPane.scrollLeft=z0i.R4d;this.clearDrawings();};function C84(){var H84=a84.call(this,z0i.S3d,P933.b7O)||this;H84.smoothTimeout=s933.N0d;H84.animationDraws=[];H84._isHeadersDirty=!z0i.E4d;H84.colsScrollHandler=function(A84){return H84.onColsScroll(A84);};H84.rowsScrollHandler=function(O84){return H84.onRowsScroll(O84);};H84.dataScrollHandler=function(){return H84.onDataScroll();};H84.sheetHeaderDbClickHandler=function(u84){return H84.onSheetHeaderDbClick(u84);};H84.clicks=z0i.R4d;H84.disableSelection();H84._coords=new J84.GridCoords();H84._dataProvider=new J84.SheetDataProvider(H84._coords);H84._selectionManager=new J84.SelectionManager(H84);H84.setControls();return H84;}C84.prototype.clearData=function(){this._dataProvider.reset();this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this._coords.clearCache();};C84.prototype.clearColSizes=function(M9j){this._isHeadersDirty=!z0i.R4d;this._coords.clearColSizes(M9j);};C84.prototype.clearRowSizes=function(J9j){this._isHeadersDirty=!z0i.R4d;this._coords.clearRowSizes(J9j);};C84.prototype.select=function(k9j,C9j,a9j,H9j){this._selectionManager.select(new J84.Point(C9j,k9j),new J84.Point(H9j,a9j));};C84.prototype.deselect=function(){this._selectionManager.clear();};C84.prototype.clearDrawings=function(){this.disposeAnimationDraws();utils.fmClearTimeout(this._drawSmoothTimer);utils.fmClearTimeout(this.clickTimeout);this._colsSheet.clearDrawings();};C84.prototype.dispose=function(){var e3O="dbclick";this._dataProvider.dispose();this._selectionManager.dispose();this.clearDrawings();this._colsSheet.removeAllEventListeners();this._colsSheet.scrollPane.element&&this._colsSheet.scrollPane.element.removeEventListener(P933.L3O,this.colsScrollHandler);this._colsSheet.dispose();this._rowsSheet.removeAllEventListeners();this._rowsSheet.scrollPane.element&&this._rowsSheet.scrollPane.element.removeEventListener(P933.L3O,this.rowsScrollHandler);this._rowsSheet.dispose();this._dataSheet.removeAllEventListeners();this._dataSheet.scrollPane.element&&this._dataSheet.scrollPane.element.removeEventListener(s933.L0d,this.dataScrollHandler);this._dataSheet.dispose();this._colResizeHandles.removeAllEventListeners();this._colResizeHandles.dispose();this._rowResizeHandles.removeAllEventListeners();this._rowResizeHandles.dispose();this.element&&this.element.removeEventListener(e3O,this.sheetHeaderDbClickHandler);a84.prototype.dispose.call(this);};C84.prototype.onClick=function(A9j){z0i.V2d!=A9j.cell&&this.dispatch(A9j);this.onClickForApi(A9j);};C84.prototype.onFilterClick=function(O9j){this.dispatch(O9j);};C84.prototype.onClickForApi=function(u9j){var I6d=300;var x9j=this;this.clicks++;z0i.E4d==this.clicks&&(this.clickTimeout=utils.fmSetTimeout(function(){if(z0i.E4d==x9j.clicks){if(u9j.cell){var i9j=new M84.GridSingleDoubleClickEvent(u9j.cell,!z0i.R4d,u9j.element);x9j.dispatch(i9j);}}else u9j.cell&&(i9j=new M84.GridSingleDoubleClickEvent(u9j.cell,!z0i.E4d,u9j.element),x9j.dispatch(i9j));x9j.clicks=z0i.R4d;},I6d));};C84.prototype.setScroll=function(l9j,G9j){void z0i.R4d===l9j&&(l9j=NaN);void z0i.R4d===G9j&&(G9j=NaN);var j9j=!z0i.E4d;isNaN(l9j)||l9j==this.coords.scrollTop||(this.coords.scrollTop=l9j,this.coords.firstDataRowIdx=this.coords.getRowIndexAtPosition(l9j),this._rowsSheet.scrollPane.scrollTop=l9j,j9j=!z0i.R4d);isNaN(G9j)||G9j==this.coords.scrollLeft||(this.coords.scrollLeft=G9j,this.coords.firstDataColIdx=this.coords.getColIndexAtPosition(G9j),this._colsSheet.scrollPane.scrollLeft=G9j,j9j=!z0i.R4d);j9j&&this.draw();};C84.prototype.onColResize=function(U9j){this.dispatch(U9j);this._coords.applyPendingSizes();z0i.R4d<U9j.data.width?this._coords.setColWidth(U9j.data.colIdx,U9j.data.width,!z0i.E4d,!z0i.R4d):this._coords.resetColWidth(U9j.data.colIdx);this.drawAfterResize();};C84.prototype.onRowResize=function(T9j){this.dispatch(T9j);this._coords.applyPendingSizes();z0i.R4d<T9j.data.height?this._coords.setRowHeight(T9j.data.rowIdx,T9j.data.height,!z0i.E4d,!z0i.R4d):this._coords.resetRowHeight(T9j.data.rowIdx);this.drawAfterResize();};C84.prototype.onSheetHeaderDbClick=function(f9j){if(!z0i.E4d!=R84.model._options.OptionsManager.showHeaders){var W9j=this.getOffset(),c9j=f9j.clientX-W9j.left;f9j=f9j.clientY-W9j.top;c9j>this.coords.getSheetHeaderWidth()&&f9j>this.coords.gridStartY+this.coords.getSheetHeaderHeight()||(f9j=this.coords.getRowIdxByRelativePosition(f9j,this.isSmooth),c9j=this.coords.getColIdxByRelativePosition(c9j,this.isSmooth),-z0i.E4d!=f9j||isNaN(c9j)||this._colResizeHandles.dispatchWith(M84.GridEvent.RESIZE_COLUMN,this,{width:-z0i.E4d,colIdx:c9j}),-z0i.E4d!=c9j||isNaN(f9j)||this._rowResizeHandles.dispatchWith(M84.GridEvent.RESIZE_ROW,this,{height:-z0i.E4d,rowIdx:f9j}));}};C84.prototype.drawAfterResize=function(){this._colsSheet.clearAllBounds();this._rowsSheet.clearAllBounds();this._dataSheet.clearAllBounds();this.adjustScrollPosition()||this.draw();};C84.prototype.adjustScrollPosition=function(){var n9j=!z0i.E4d;z0i.R4d<this._coords.scrollLeft&&this._coords.freeSpaceRight>this._coords.scrollLeft&&(this._dataSheet.scrollPane.scrollLeft=z0i.R4d,n9j=!z0i.R4d);z0i.R4d<this._coords.scrollTop&&this._coords.freeSpaceTop>this._coords.scrollTop&&(this._dataSheet.scrollPane.scrollTop=z0i.R4d,n9j=!z0i.R4d);return n9j;};C84.prototype.getCellByElement=function(K9j){var y9j=uicontrols.UIElement.convert(K9j).closest(P933.N3O);return z0i.V2d!=y9j?(K9j=parseInt(y9j.attr(P933.s2O)),y9j=parseInt(y9j.attr(P933.X2O)),this.getCell(K9j,y9j,!z0i.R4d,!z0i.R4d)):z0i.V2d;};Object.defineProperty(C84.prototype,P933.e2O,{get:function(){return this._dataSheet.isSmooth;},enumerable:!z0i.R4d,configurable:!z0i.R4d});C84.prototype.scrollToRow=function(m9j){this._dataSheet.scrollPane.scrollTop=this.coords.getRowY(m9j);};C84.prototype.scrollToColumn=function(r9j){this._dataSheet.scrollPane.scrollLeft=this.coords.getColX(r9j);};Object.defineProperty(C84.prototype,b3O,{get:function(){return this._dataProvider;},enumerable:!z0i.R4d,configurable:!z0i.R4d});Object.defineProperty(C84.prototype,V3O,{get:function(){return this._selectionManager;},enumerable:!z0i.R4d,configurable:!z0i.R4d});C84.prototype.resizeColumn=function(I9j,B9j){this.coords.setColWidth(I9j,B9j,!z0i.E4d,!z0i.R4d);};C84.prototype.resizeRow=function(q9j,v9j){this.coords.setRowHeight(q9j,v9j,!z0i.E4d,!z0i.R4d);};C84.prototype.makeFieldsDraggable=function(){var h9j=this;this.droppable({onDrop:function(D9j,d9j,o9j,Q7j){return h9j.onDrop(D9j,d9j,o9j,Q7j);},onDragOver:function(s7j,X7j,P7j,S7j){return h9j.onDragOver(s7j,X7j,P7j,S7j);},onDragLeave:function(L7j,g7j,w7j,z7j){return h9j.onDragLeave(L7j,g7j,w7j,z7j);}});};C84.prototype.createHeaderDragHelper=function(t7j){var R3O="wdr-header-helper";var Z7j=new uicontrols.UIElement(z0i.q3d);Z7j.addClass(P933.Y3O);Z7j.addClass(z0i.l2d);Z7j.addClass(R3O);Z7j.css(z0i.E5d,s933.M5d);Z7j.css(P933.E3O,z0i.a6d);Z7j.text(t7j.element.firstChild.textContent);return Z7j;};C84.prototype.onDragOver=function(p7j,e7j,N7j,F7j){p7j=uicontrols.UIElement.convert(F7j.target);p7j.hasClass(M3O)||this.showIndicator(p7j,p7j);};C84.prototype.onDragLeave=function(b7j,V7j,Y7j,R7j){this.removeDropIndicator();};C84.prototype.onDrop=function(E7j,M7j,J7j,k7j){};C84.prototype.showIndicator=function(C7j,a7j){};C84.prototype.createDropIndicator=function(){return this._dropIndicator?this._dropIndicator:new uicontrols.UIElement(z0i.S3d,M3O);};C84.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!z0i.R4d),this._dropIndicator=z0i.V2d);};return C84;}(uicontrols.UIElement);J84.BaseGridLayout=k84;}(M84.sheet||(M84.sheet={})));}(E84.grid||(E84.grid={})));}(R84._view||(R84._view={})));}(pivot||(pivot={})));(function(H7j){(function(A7j){(function(O7j){(function(u7j){var x7j=function(l7j){__extends(i7j,l7j);function i7j(j7j){var G7j=l7j.call(this,j7j,Q933.V2d)||this;G7j._coords=j7j;G7j._hierarchies=[];G7j.addClass(P933.J3O);G7j.addEventListener(O7j.GridEvent.MOUSE_CLICK,function(U7j){return G7j.onClick(U7j);});return G7j;}i7j.prototype.draw=function(){var G9T=Q933;for(var T7j=[],f7j=new HtmlNodeWrapper(),c7j=G9T.R4d;c7j<this._coords.frozenRowsCount;c7j++){f7j.tag=G9T.S3d;f7j.addClass(P933.I2O);for(var W7j=G9T.R4d;W7j<this._coords.frozenColsCount;W7j++)if(H7j.model._options.OptionsManager.showHierarchyCaptions){var n7j=c7j-this._coords.frozenRowsCount+this._hierarchies.length;f7j.text+=this.createFilterCell(c7j,W7j,G9T.R4d<=n7j?this._hierarchies[n7j]:G9T.V2d).toHtml();}else f7j.text+=this.createCell(c7j,W7j).toHtml();T7j.push(f7j.toHtml());}T7j=T7j.join(G9T.s3d);this.element.innerHTML!=T7j&&this.html(T7j);};i7j.prototype.createFilterCell=function(m7j,r7j,y7j){var K7j=this._hierarchies.indexOf(y7j);this.cell.clear();this.cell.tag=Q933.S3d;this.cell.addClass(O7j.vo.GridStyleName.CELL);this.cell.addClass(O7j.vo.GridStyleName.HEADER);this.cell.addClass(O7j.vo.GridStyleName.HEADER_ROW);y7j?(this.cell.addClass(O7j.vo.GridStyleName.LEVEL+K7j),this.cell.text=y7j.caption,H7j.model._options.OptionsManager.showFilter&&(this.cell.addClass(O7j.vo.GridStyleName.FILTER_HEADER),y7j.hasFilter()&&(this.cell.addClass(O7j.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(O7j.vo.GridStyleName.FILTERED_ICON,H7j.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=H7j.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(O7j.vo.GridStyleName.FILTER_ICON))):this.cell.addClass(O7j.vo.GridStyleName.CELL_EMPTY);this.setCellSize(this.cell,m7j,r7j);this.cell.attr[P933.X2O]=r7j;this.cell.attr[P933.s2O]=m7j;Q933.R4d<=K7j&&(this.cell.attr[P933.k3O]=K7j);return this.cell;};i7j.prototype.setHierarchies=function(q7j){for(var I7j=this._hierarchies.length=Q933.R4d;I7j<q7j.length;I7j++){var B7j=q7j.getItemAt(I7j);!Q933.E4d==B7j.isMeasures&&this._hierarchies.push(B7j);}};i7j.prototype.onClick=function(h7j){var v7j=h7j.element;v7j.hasClass(O7j.vo.GridStyleName.FILTER_HEADER)&&(v7j=parseInt(v7j.attr(P933.k3O)),isNaN(v7j)||this.dispatch(new O7j.FilterClickEvent(this._hierarchies[v7j],h7j.cell)));};i7j.prototype.clear=function(){this._hierarchies.length=Q933.R4d;this.draw();};return i7j;}(u7j.AbstractSheet);u7j.RowsFilter=x7j;}(O7j.sheet||(O7j.sheet={})));}(A7j.grid||(A7j.grid={})));}(H7j._view||(H7j._view={})));}(pivot||(pivot={})));(function(D7j){(function(d7j){(function(o7j){(function(Q4j){var s4j=function(P4j){__extends(X4j,P4j);X4j.prototype.draw=function(){var n9T=Q933;this.removeAllChildren();if(D7j.model._options.OptionsManager.showHierarchyCaptions){var w4j=new HtmlNodeWrapper(n9T.S3d);w4j.addClass(P933.I2O);w4j.style.height=this._coords.getRowHeight(this.rowIndex)+n9T.r2d;for(var z4j=n9T.R4d;z4j<this._hierarchies.length;z4j++)w4j.text+=this.createFilterCell(this.rowIndex,z4j,this._hierarchies[z4j]).toHtml();this.html(w4j.toHtml());n9T.R4d==this._hierarchies.length?this.hide():this.show();}else this.hide();};X4j.prototype.createFilterCell=function(t4j,p4j,Z4j){this.cell.clear();this.cell.tag=Q933.S3d;this.cell.addClass(o7j.vo.GridStyleName.CELL);this.cell.addClass(o7j.vo.GridStyleName.HEADER);Z4j&&(this.cell.text=Z4j.caption,D7j.model._options.OptionsManager.showFilter&&(this.cell.addClass(o7j.vo.GridStyleName.FILTER_HEADER),this.cell.attr.title=D7j.model._labels.Labels.TOOLTIPS_FILTER_ICON,Z4j.hasFilter()&&(this.cell.addClass(o7j.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(o7j.vo.GridStyleName.FILTERED_ICON,D7j.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.text+=this.createIcon(o7j.vo.GridStyleName.FILTER_ICON)));this.cell.style[P933.z2O]=this._coords.getRowHeight(t4j)+Q933.r2d;this.cell.attr[P933.s2O]=t4j;this.cell.attr[P933.k3O]=p4j;return this.cell;};X4j.prototype.setHierarchies=function(N4j){for(var F4j=this._hierarchies.length=Q933.R4d;F4j<N4j.length;F4j++){var e4j=N4j.getItemAt(F4j);!Q933.E4d==e4j.isMeasures&&this._hierarchies.push(e4j);}Q933.R4d==this._hierarchies.length?this.hide():this.show();};X4j.prototype.onClick=function(b4j){b4j=b4j.element;if(b4j.hasClass(o7j.vo.GridStyleName.FILTER_HEADER)){var V4j=parseInt(b4j.attr(P933.k3O));isNaN(V4j)||this.dispatch(new o7j.FilterClickEvent(this._hierarchies[V4j],Q933.V2d,b4j));}};function X4j(L4j){var S4j=P4j.call(this,L4j,Q933.V2d)||this;S4j.rowIndex=Q933.R4d;S4j._coords=L4j;S4j._hierarchies=[];S4j.addClass(P933.J3O);S4j.hide();S4j.addEventListener(o7j.GridEvent.MOUSE_CLICK,function(g4j){return S4j.onClick(g4j);});return S4j;}X4j.prototype.clear=function(){this._hierarchies.length=Q933.R4d;this.draw();};return X4j;}(Q4j.AbstractSheet);Q4j.ColumnsFilter=s4j;}(o7j.sheet||(o7j.sheet={})));}(d7j.grid||(d7j.grid={})));}(D7j._view||(D7j._view={})));}(pivot||(pivot={})));(function(Y4j){(function(R4j){(function(E4j){(function(J4j){var k4j=function(a4j){__extends(C4j,a4j);function C4j(){var H4j=a4j.call(this)||this;H4j._hierarchies=[];H4j.addClass(s933.i5d);H4j.addClass(P933.J3O);H4j.hide();return H4j;}C4j.prototype.draw=function(){var u4j=this;this.removeAllChildren();if(Y4j.model._options.OptionsManager.showFilter&&Y4j.model._options.OptionsManager.showReportFiltersArea){for(var A4j=Q933.R4d;A4j<this._hierarchies.length;A4j++){var O4j=new M4j(this._hierarchies[A4j],!Q933.R4d);O4j.container.attr(P933.k3O,A4j);O4j.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(x4j){return u4j.onClick(x4j);});this.addChild(O4j.container);}Q933.R4d==this._hierarchies.length?this.hide():this.show();}else this.hide();};C4j.prototype.setHierarchies=function(G4j){for(var i4j=this._hierarchies.length=Q933.R4d;i4j<G4j.length;i4j++){var l4j=G4j.getItemAt(i4j);!Q933.E4d==l4j.isMeasures&&this._hierarchies.push(l4j);}this.draw();};C4j.prototype.onClick=function(j4j){j4j=j4j.target;this.dispatch(new E4j.FilterClickEvent(j4j.hierarchy,Q933.V2d,j4j.container));};C4j.prototype.clear=function(){this._hierarchies.length=Q933.R4d;this.draw();};Object.defineProperty(C4j.prototype,X933.S0B,{get:function(){return Q933.R4d==this._hierarchies.length;},enumerable:!Q933.R4d,configurable:!Q933.R4d});return C4j;}(uicontrols.UIElement);J4j.PagesFilter=k4j;var M4j=function(T4j){var D6i=Q933;var H3O="isFiltered";__extends(U4j,T4j);function U4j(W4j,c4j){var a3O="wdr-filter-desc";void D6i.R4d===c4j&&(c4j=!D6i.E4d);var f4j=T4j.call(this)||this;f4j._isPage=!D6i.E4d;f4j._hierarchy=W4j;f4j._isPage=c4j;f4j.setLabel(f4j._hierarchy.caption);f4j.removeClass(D6i.K3d);f4j.addClass(E4j.vo.GridStyleName.FILTER_HEADER);f4j.addClass(E4j.vo.GridStyleName.HEADER);f4j._filterIcon=new uicontrols.UIElement(P933.C3O,E4j.vo.GridStyleName.ICON);f4j._filterIcon.addClass(E4j.vo.GridStyleName.FILTER_ICON);f4j.container.append(f4j._filterIcon);f4j._filteredIcon=new uicontrols.UIElement(P933.C3O,E4j.vo.GridStyleName.ICON);f4j._filteredIcon.addClass(E4j.vo.GridStyleName.FILTERED_ICON);f4j.container.append(f4j._filteredIcon);f4j.isFiltered=f4j._hierarchy.hasFilter();f4j._isPage&&(f4j._description=new uicontrols.UILabel(),f4j._description.setLabel(f4j.getFilterDescription()),f4j._description.addClass(a3O),f4j.addChild(f4j._description));return f4j;}Object.defineProperty(U4j.prototype,X933.v0B,{get:function(){return this._hierarchy;},enumerable:!D6i.R4d,configurable:!D6i.R4d});Object.defineProperty(U4j.prototype,H3O,{get:function(){return this.container.hasClass(P933.r4O);},set:function(n4j){this.container.toggleClass(P933.r4O,n4j);},enumerable:!D6i.R4d,configurable:!D6i.R4d});U4j.prototype.getFilterDescription=function(){var y4j=Y4j.model._labels.Labels.FILTER_ALL;this.hierarchy.hasFilter()&&(y4j=D6i.E4d==this.hierarchy.filter.length?this.hierarchy.filter.getItemAt(D6i.R4d).caption:Y4j.model._labels.Labels.FILTER_MULTIPLE_ITEMS);return y4j;};return U4j;}(uicontrols.UIButton);J4j.FilterCell=M4j;}(E4j.sheet||(E4j.sheet={})));}(R4j.grid||(R4j.grid={})));}(Y4j._view||(Y4j._view={})));}(pivot||(pivot={})));(function(K4j){(function(m4j){(function(r4j){(function(I4j){var B4j=function(v4j){var q4i=Q933;var c3O="pageFilter";var f3O="rowsFilter";var T3O="colsFilter";var i3O=".wdr-header:not(.wdr-empty)";__extends(q4j,v4j);q4j.prototype.setControls=function(){v4j.prototype.setControls.call(this);this.createColsFilter();this.createRowsFilter();this.createPageFilter();};function q4j(){var h4j=v4j.call(this)||this;h4j._type=q4j.TYPE;h4j.addClass(P933.A3O);return h4j;}q4j.prototype.createColsFilter=function(){var O3O="wdr-cols-filter";var D4j=this;this._colsFilter=new I4j.ColumnsFilter(this._coords);this._colsFilter.id=O3O;this._colsFilter.addEventListener(r4j.GridEvent.FILTER_CLICK,function(d4j){return D4j.onFilterClick(d4j);});this.addChild(this._colsFilter);};q4j.prototype.createRowsFilter=function(){var o4j=this;this._rowsFilter=new I4j.RowsFilter(this._coords);this._rowsFilter.id=P933.u3O;this._rowsFilter.addEventListener(r4j.GridEvent.FILTER_CLICK,function(Q6j){return o4j.onFilterClick(Q6j);});this._rowsFilter.addEventListener(r4j.GridEvent.MOUSE_CLICK,function(s6j){return o4j.onClick(s6j);});this.addChild(this._rowsFilter);};q4j.prototype.createPageFilter=function(){var x3O="wdr-page-filter";var X6j=this;this._pageFilter=new I4j.PagesFilter();this._pageFilter.id=x3O;this._pageFilter.addEventListener(r4j.GridEvent.FILTER_CLICK,function(P6j){return X6j.onFilterClick(P6j);});this.addChild(this._pageFilter);};q4j.prototype.drawFirst=function(){this._coords.filtersHeight=this._pageFilter.isEmpty?q4i.R4d:this._pageFilter.element.offsetHeight;v4j.prototype.drawFirst.call(this);this._rowsFilter.draw();};q4j.prototype.drawLast=function(){v4j.prototype.drawLast.call(this);this._colsFilter.draw();};q4j.prototype.calculateSizesFirst=function(){this._rowsFilter.calculateSizes(!q4i.R4d);return v4j.prototype.calculateSizesFirst.call(this)||this._rowsFilter.isDirty;};q4j.prototype.calculateSizesAll=function(){this._rowsFilter.calculateSizes(!q4i.R4d);return v4j.prototype.calculateSizesAll.call(this)||this._rowsFilter.isDirty;};q4j.prototype.drawLayout=function(){v4j.prototype.drawLayout.call(this);this._pageFilter.isEmpty||(this._pageFilter.top=this._coords.titleHeight,this._pageFilter.left=q4i.R4d,this._pageFilter.right=q4i.R4d);this._colResizeHandles.top=this._coords.gridStartY;this._rowResizeHandles.top=this._coords.gridStartY;this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=q4i.R4d;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._rowsFilter.left=this._coords.getColX(q4i.R4d,!q4i.R4d);this._rowsFilter.top=this._coords.gridStartY+this._coords.getRowY(q4i.R4d,!q4i.R4d);this._colsFilter.top=this._coords.gridStartY+this._coords.getRowY(this._colsFilter.rowIndex,!q4i.R4d);this._colsFilter.left=this._coords.rowHeadersWidth;this._colsFilter.right=Math.max(q4i.R4d,this._coords.layoutWidth-this._coords.getRelativeColX(this._coords.maxColsCount,this.isSmooth));this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=q4i.R4d;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-q4i.E4d;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-q4i.E4d;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+q4i.E4d;};q4j.prototype.drawAfterResize=function(){v4j.prototype.drawAfterResize.call(this);this._rowsFilter.draw();this._colsFilter.draw();};q4j.prototype.makeFieldsDraggable=function(){var w6j=this;v4j.prototype.makeFieldsDraggable.call(this);for(var g6j={createHelper:function(z6j){return w6j.createHeaderDragHelper(z6j);}},L6j=this._colsFilter.find(i3O,!q4i.R4d),S6j=q4i.R4d;S6j<L6j.length;S6j++)L6j[S6j].draggable(g6j);L6j=this._rowsFilter.find(i3O,!q4i.R4d);for(S6j=q4i.R4d;S6j<L6j.length;S6j++)L6j[S6j].draggable(g6j);L6j=this._pageFilter.find(i3O,!q4i.R4d);for(S6j=q4i.R4d;S6j<L6j.length;S6j++)L6j[S6j].draggable(g6j);};q4j.prototype.onDrop=function(N6j,Z6j,p6j,e6j){p6j=this.getDropTargetFilter(p6j);if(q4i.V2d==p6j)this.removeDropIndicator();else if(e6j=this.getDropPosition(p6j,this._dropIndicator),this.removeDropIndicator(),!isNaN(e6j)){var F6j=parseInt(N6j.attr(P933.k3O)),b6j=N6j.closest(P933.H2O);Z6j=K4j.data_.Cube.getInstance().slice_.clone();var t6j;b6j==this._colsFilter?(t6j=Z6j.columnsOnly.getItemAt(F6j),F6j=Z6j.columns.indexOf(t6j.uniqueName)):b6j==this._rowsFilter?(t6j=Z6j.rowsOnly.getItemAt(F6j),F6j=Z6j.rows.indexOf(t6j.uniqueName)):b6j==this._pageFilter&&(t6j=Z6j.pages.getItemAt(F6j),F6j=Z6j.pages.indexOf(t6j.uniqueName));q4i.V2d==t6j||p6j==b6j&&F6j==e6j||(N6j.hide(),p6j==b6j?p6j==this._colsFilter?Z6j.columns.moveItemAt(F6j,e6j):p6j==this._rowsFilter?Z6j.rows.moveItemAt(F6j,e6j):p6j==this._pageFilter&&Z6j.pages.moveItemAt(F6j,e6j):(Z6j.columns.removeItem(t6j.uniqueName),Z6j.rows.removeItem(t6j.uniqueName),Z6j.pages.removeItem(t6j.uniqueName),p6j==this._colsFilter?Z6j.columns.addItemAt(t6j.uniqueName,t6j,e6j):p6j==this._rowsFilter?Z6j.rows.addItemAt(t6j.uniqueName,t6j,e6j):p6j==this._pageFilter&&Z6j.pages.addItemAt(t6j.uniqueName,t6j,e6j)),q4i.E4d<Z6j.columns.length&&Z6j.columns.getItemAt(q4i.R4d).isMeasures&&(N6j=Z6j.columns.getItemAt(q4i.R4d),Z6j.columns.splice(q4i.R4d,q4i.E4d),Z6j.columns.addItemAt(N6j.uniqueName,N6j,Z6j.columns.length)),K4j.model.PivotModel.getInstance().runQuery(Z6j));}};q4j.prototype.getDropPosition=function(V6j,Y6j){return V6j==this._colsFilter?this.getColumnDropPosition(Y6j):V6j==this._rowsFilter?this.getRowDropPosition(Y6j):V6j==this._pageFilter?this.getPageDropPosition(Y6j):NaN;};q4j.prototype.getColumnDropPosition=function(R6j){var E6j=K4j.data_.Cube.getInstance().slice_;if(q4i.V2d!=R6j){R6j=R6j.index();if(R6j>E6j.columns.length)return E6j.columns.length;E6j=E6j.columns.indexOf(P933.l3O);q4i.R4d<=E6j&&E6j<=R6j&&q4i.R4d!=R6j&&R6j++;return R6j;}return NaN;};q4j.prototype.getRowDropPosition=function(M6j){var F7T=P933;var J6j=K4j.data_.Cube.getInstance().slice_;if(q4i.V2d!=M6j){M6j=M6j.parent.hasClass(F7T.J3O)?J6j.rows.length:(M6j=M6j.parent.find(F7T.G3O))?parseInt(M6j.attr(F7T.k3O)):q4i.R4d;if(M6j>J6j.rows.length)return J6j.rows.length;J6j=J6j.rows.indexOf(F7T.l3O);q4i.R4d<=J6j&&J6j<=M6j&&q4i.R4d!=M6j&&M6j++;return M6j;}return NaN;};q4j.prototype.getPageDropPosition=function(k6j){var C6j=K4j.data_.Cube.getInstance().slice_;return q4i.V2d!=k6j?(k6j=k6j.index(),k6j>C6j.columns.length?C6j.columns.length:k6j):NaN;};q4j.prototype.getDropTargetFilter=function(A6j){var e7T=P933;var j3O=".wdr-resize-handles";var H6j=A6j.closest(e7T.H2O);if(q4i.V2d==H6j){var a6j=A6j.closest(e7T.N3O);q4i.V2d!=a6j?(A6j=parseInt(a6j.attr(e7T.s2O)),a6j=parseInt(a6j.attr(e7T.X2O)),this.isOverColumns(A6j,a6j)?H6j=this._colsFilter:this.isOverRows(A6j,a6j)&&(H6j=this._rowsFilter)):(a6j=A6j.closest(j3O),q4i.V2d!=a6j&&(e7T.z3O==a6j.id?H6j=this._colsFilter:e7T.Z3O==a6j.id&&(H6j=this._rowsFilter)));}return H6j;};q4j.prototype.isOverColumns=function(u6j,O6j){return O6j>=this.coords.frozenColsCount;};q4j.prototype.isOverRows=function(i6j,x6j){return x6j<=this.coords.frozenColsCount;};q4j.prototype.showIndicator=function(l6j,G6j){var N7T=P933;var U3O=".wdr-row";l6j=this.getDropTargetFilter(l6j);if(q4i.V2d==l6j)this.removeDropIndicator();else{var j6j=G6j.closest(i3O);q4i.V2d!=G6j.closest(N7T.H2O)&&q4i.V2d!=j6j?(this._dropIndicator=this.createDropIndicator(),l6j==this._pageFilter?j6j.before(this._dropIndicator):G6j.before(this._dropIndicator)):(this._dropIndicator=this.createDropIndicator(),l6j==this._colsFilter?this._colsFilter.find(U3O).append(this._dropIndicator):l6j==this._rowsFilter?q4i.V2d!=G6j.closest(N7T.H2O)?this._rowsFilter.find(N7T.G3O).before(this._dropIndicator):this._type==I4j.classic.ClassicGridLayout.TYPE?this._rowsFilter.find(N7T.G3O).parent.append(this._dropIndicator):this._rowsFilter.append(this._dropIndicator):l6j==this._pageFilter&&this._pageFilter.append(this._dropIndicator));}};q4j.prototype.clearAll=function(){v4j.prototype.clearAll.call(this);this._colsFilter.clear();this._pageFilter.clear();this._rowsFilter.clear();};Object.defineProperty(q4j.prototype,T3O,{get:function(){return this._colsFilter;},enumerable:!q4i.R4d,configurable:!q4i.R4d});Object.defineProperty(q4j.prototype,f3O,{get:function(){return this._rowsFilter;},enumerable:!q4i.R4d,configurable:!q4i.R4d});Object.defineProperty(q4j.prototype,c3O,{get:function(){return this._pageFilter;},enumerable:!q4i.R4d,configurable:!q4i.R4d});q4j.prototype.dispose=function(){this._colsFilter.removeAllEventListeners();this._colsFilter.dispose();this._rowsFilter.removeAllEventListeners();this._rowsFilter.dispose();this._pageFilter.removeAllEventListeners();v4j.prototype.dispose.call(this);};q4j.TYPE=P933.W7O;return q4j;}(I4j.BaseGridLayout);I4j.CompactGridLayout=B4j;}(r4j.sheet||(r4j.sheet={})));}(m4j.grid||(m4j.grid={})));}(K4j._view||(K4j._view={})));}(pivot||(pivot={})));(function(U6j){(function(T6j){(function(f6j){(function(W6j){var c6j=function(y6j){var K3O="wdr-active";var y3O="data-idx";var n3O="wdr-handle";__extends(n6j,y6j);n6j.prototype.draw=function(){this._wrapper.attr(P933.W3O,U6j.model._labels.Labels.TOOLTIPS_HEADER_FIT);};n6j.prototype.createHandle=function(q6j){this._handle.tag=Q933.S3d;this._handle.addClass(n3O);this._handle.attr[y3O]=q6j;this._handle.attr.title=U6j.model._labels.Labels.TOOLTIPS_HEADER_RESIZE;return this._handle;};n6j.prototype.onMouseDown=function(v6j){if(v6j.target.classList.contains(n3O)){this._currentHandle=v6j.target;this._currentHandle.classList.add(K3O);this._baseOffset=this.getOffset();document.body.addEventListener(Q933.U2d,this._mouseMoveHandler);v6j.stopImmediatePropagation();var h6j=parseInt(this._currentHandle.getAttribute(y3O));this.startResizing(this._currentHandle,h6j);v6j.preventDefault();v6j.stopImmediatePropagation();}};n6j.prototype.startResizing=function(D6j,d6j){};function n6j(m6j){var R7T=Q933;var I3O="wdr-wrapper";var r3O="wdr-indicator";var m3O="wdr-resize-handles";var K6j=y6j.call(this,R7T.S3d,m3O)||this;K6j._mouseDownHandler=function(r6j){return K6j.onMouseDown(r6j);};K6j._mouseUpHandler=function(I6j){return K6j.onMouseUp(I6j);};K6j._mouseMoveHandler=function(B6j){return K6j.onMouseMove(B6j);};K6j._handle=new HtmlNodeWrapper();K6j._gridLayout=m6j;K6j._coords=m6j.coords;K6j.element.addEventListener(R7T.G2d,K6j._mouseDownHandler);document.body.addEventListener(R7T.f2d,K6j._mouseUpHandler);K6j._indicator=new uicontrols.UIElement(R7T.S3d,r3O);K6j._indicator.hide();K6j.addChild(K6j._indicator);K6j._wrapper=new uicontrols.UIElement(R7T.S3d,I3O);K6j._wrapper.attr(P933.W3O,U6j.model._labels.Labels.TOOLTIPS_HEADER_FIT);K6j.addChild(K6j._wrapper);return K6j;}n6j.prototype.onMouseUp=function(o6j){document.body.removeEventListener(Q933.U2d,this._mouseMoveHandler);this._currentHandle&&(this._currentHandle.classList.remove(K3O),o6j=parseInt(this._currentHandle.getAttribute(y3O)),this.stopResizing(this._currentHandle,o6j),this._currentHandle=Q933.V2d,this._indicator.hide());};n6j.prototype.stopResizing=function(Q2j,s2j){};n6j.prototype.onMouseMove=function(S2j){var X2j=S2j.clientX-this._baseOffset.left,P2j=S2j.clientY-this._baseOffset.top;if(Q933.R4d>X2j||Q933.R4d>P2j||X2j>this._coords.layoutWidth||P2j>this._coords.layoutHeight)this.onMouseUp(S2j);else this.positionHandle(this._currentHandle,X2j,P2j),this._indicator.show();};n6j.prototype.positionHandle=function(L2j,g2j,w2j){};n6j.prototype.dispose=function(){this.element&&this.element.removeEventListener(Q933.G2d,this._mouseDownHandler);document.body.removeEventListener(Q933.U2d,this._mouseMoveHandler);document.body.removeEventListener(Q933.f2d,this._mouseUpHandler);y6j.prototype.dispose.call(this);};return n6j;}(uicontrols.UIElement);W6j.ResizeHandles=c6j;}(f6j.sheet||(f6j.sheet={})));}(T6j.grid||(T6j.grid={})));}(U6j._view||(U6j._view={})));}(pivot||(pivot={})));(function(z2j){(function(Z2j){(function(t2j){(function(p2j){var F2j=function(N2j){__extends(e2j,N2j);e2j.prototype.draw=function(){var C7T=Q933;N2j.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var V2j=C7T.s3d,b2j=C7T.R4d;b2j<this._coords.frozenRowsCount;b2j++)V2j+=this.createHandle(b2j).toHtml(!C7T.R4d);for(var b2j=this._coords.getBoundTop(),Y2j=Math.min(this._coords.maxRowsCount,this._coords.getBoundBottom());b2j<Y2j;b2j++)V2j+=this.createHandle(b2j).toHtml(!C7T.R4d);this._wrapper.html(V2j);};e2j.prototype.createHandle=function(R2j){N2j.prototype.createHandle.call(this,R2j);this._handle.style.top=this._coords.getRelativeRowY(R2j,this._gridLayout.isSmooth,!Q933.E4d)+this._coords.getRowHeight(R2j)+Q933.r2d;return this._handle;};e2j.prototype.startResizing=function(M2j,E2j){this._startY=this._coords.getRelativeRowY(E2j,this._gridLayout.isSmooth,!Q933.E4d);};e2j.prototype.stopResizing=function(k2j,C2j){var J2j=Math.round(k2j.offsetTop+k2j.clientHeight/Q933.M4d-this._startY),J2j=Math.max(p2j.GridCoords.CELL_MIN_HEIGHT,J2j);this.dispatchWith(t2j.GridEvent.RESIZE_ROW,this,{height:J2j,rowIdx:C2j});};function e2j(){return Q933.V2d!==N2j&&N2j.apply(this,arguments)||this;}e2j.prototype.positionHandle=function(H2j,A2j,a2j){a2j=Math.max(this._startY+p2j.GridCoords.CELL_MIN_HEIGHT,a2j);H2j.style.top=a2j+Q933.r2d;this._indicator.top=a2j;this._indicator.width=this._coords.availableWidth;};return e2j;}(p2j.ResizeHandles);p2j.RowResizeHandles=F2j;}(t2j.sheet||(t2j.sheet={})));}(Z2j.grid||(Z2j.grid={})));}(z2j._view||(z2j._view={})));}(pivot||(pivot={})));(function(O2j){(function(u2j){(function(x2j){(function(i2j){var l2j=function(j2j){__extends(G2j,j2j);function G2j(){return Q933.V2d!==j2j&&j2j.apply(this,arguments)||this;}G2j.prototype.draw=function(){var i7T=Q933;j2j.prototype.draw.call(this);this._wrapper.removeAllChildren();for(var T2j=i7T.s3d,U2j=i7T.R4d;U2j<this._coords.frozenColsCount;U2j++)T2j+=this.createHandle(U2j).toHtml(!i7T.R4d);for(var f2j=Math.min(this._coords.maxColsCount,this._coords.getBoundRight()),U2j=this._coords.getBoundLeft();U2j<f2j;U2j++)T2j+=this.createHandle(U2j).toHtml(!i7T.R4d);this._wrapper.html(T2j);};G2j.prototype.createHandle=function(c2j){j2j.prototype.createHandle.call(this,c2j);this._handle.style.left=this._coords.getRelativeColX(c2j,this._gridLayout.isSmooth)+this._coords.getColWidth(c2j)+Q933.r2d;return this._handle;};G2j.prototype.startResizing=function(n2j,W2j){this._startX=this._coords.getRelativeColX(W2j,this._gridLayout.isSmooth);};G2j.prototype.stopResizing=function(K2j,m2j){var y2j=Math.round(K2j.offsetLeft+K2j.clientWidth/Q933.M4d-this._startX),y2j=Math.max(i2j.GridCoords.CELL_MIN_WIDTH,y2j);this.dispatchWith(x2j.GridEvent.RESIZE_COLUMN,this,{width:y2j,colIdx:m2j});};G2j.prototype.positionHandle=function(I2j,r2j,B2j){r2j=Math.max(this._startX+i2j.GridCoords.CELL_MIN_WIDTH,r2j);I2j.style.left=r2j+Q933.r2d;this._indicator.left=r2j;this._indicator.height=this._coords.availableHeight;};return G2j;}(i2j.ResizeHandles);i2j.ColumnResizeHandles=l2j;}(x2j.sheet||(x2j.sheet={})));}(u2j.grid||(u2j.grid={})));}(O2j._view||(O2j._view={})));}(pivot||(pivot={})));(function(q2j){(function(v2j){(function(h2j){(function(D2j){(function(d2j){var o2j=function(s3j){var B3O="isClassicViewOk";__extends(Q3j,s3j);Q3j.prototype.createRowsFilter=function(){var P3j=this;this._rowsFilter=new d2j.ClassicRowsFilter(this._coords);this._rowsFilter.id=P933.u3O;this._rowsFilter.addEventListener(h2j.GridEvent.FILTER_CLICK,function(S3j){return P3j.onFilterClick(S3j);});this._rowsFilter.addEventListener(h2j.GridEvent.MOUSE_CLICK,function(L3j){return P3j.onClick(L3j);});this.addChild(this._rowsFilter);};Q3j.prototype.drawFirst=function(){this.isClassicViewOk?s3j.prototype.drawFirst.call(this):(q2j.uialert(q2j.model._labels.Labels.MESSAGE_TOO_MANY_COLUMNS_IN_CLASSIC_MODE,q2j.model._labels.Labels.CONFIRMATION,q2j.AlertType.CONFIRMATION),q2j.model.PivotModel.getInstance().setOptions({gridType:h2j.GridType.COMPACT}),q2j.model.PivotModel.getInstance().refresh());};Object.defineProperty(Q3j.prototype,B3O,{get:function(){return this._coords.dataWidth>this._coords.minDataWidth;},enumerable:!Q933.R4d,configurable:!Q933.R4d});Q3j.prototype.clearDrawings=function(){s3j.prototype.clearDrawings.call(this);this._rowsFilter.clearDrawings();};function Q3j(){var q3O="wdr-classic-view";var X3j=s3j.call(this)||this;X3j._type=Q3j.TYPE;X3j.removeClass(P933.A3O);X3j.addClass(q3O);return X3j;}Q3j.prototype.getRowDropPosition=function(g3j){var w3j=q2j.data_.Cube.getInstance().slice_;if(Q933.V2d!=g3j){g3j=g3j.index();if(g3j>w3j.rows.length)return w3j.rows.length;w3j=w3j.rows.indexOf(P933.l3O);Q933.R4d<=w3j&&w3j<=g3j&&Q933.R4d!=g3j&&g3j++;return g3j;}return NaN;};Q3j.TYPE=P933.n7O;return Q3j;}(D2j.CompactGridLayout);d2j.ClassicGridLayout=o2j;}(D2j.classic||(D2j.classic={})));}(h2j.sheet||(h2j.sheet={})));}(v2j.grid||(v2j.grid={})));}(q2j._view||(q2j._view={})));}(pivot||(pivot={})));(function(z3j){(function(Z3j){(function(t3j){(function(p3j){(function(e3j){var F3j=function(b3j){__extends(N3j,b3j);N3j.prototype.dispose=function(){utils.fmClearTimeout(this._timeout);b3j.prototype.dispose.call(this);};function N3j(V3j){return b3j.call(this,V3j)||this;}N3j.prototype.draw=function(){var Y2T=Q933;for(var J3j=this,M3j=[],Y3j=new HtmlNodeWrapper(),R3j=Y2T.R4d;R3j<this._coords.frozenRowsCount;R3j++){Y3j.tag=Y2T.S3d;Y3j.addClass(P933.I2O);for(var E3j=Y2T.R4d;E3j<this._coords.frozenColsCount;E3j++)Y3j.text=z3j.model._options.OptionsManager.showHierarchyCaptions?Y3j.text+this.createFilterCell(R3j,E3j,R3j==this._coords.frozenRowsCount-Y2T.E4d?this._hierarchies[E3j]:Y2T.V2d).toHtml():Y3j.text+this.createCell(R3j,E3j).toHtml();M3j.push(Y3j.toHtml());}this.html(M3j.join(Y2T.s3d));this._timeout=utils.fmSetTimeout(function(){return J3j.calculateSizes(!Y2T.R4d);},Y2T.R4d);};N3j.prototype.clearDrawings=function(){utils.fmClearTimeout(this._timeout);};return N3j;}(p3j.RowsFilter);e3j.ClassicRowsFilter=F3j;}(p3j.classic||(p3j.classic={})));}(t3j.sheet||(t3j.sheet={})));}(Z3j.grid||(Z3j.grid={})));}(z3j._view||(z3j._view={})));}(pivot||(pivot={})));(function(k3j){(function(C3j){(function(a3j){(function(H3j){(function(A3j){var O3j=function(x3j){var h3O="isDrillThrough";__extends(u3j,x3j);function u3j(){var v3O="wdr-flat-view";var i3j=x3j.call(this)||this;i3j._isDrillThrough=!Q933.E4d;i3j._hierachiesList=Q933.V2d;i3j.colsScrollHander=function(l3j){return i3j.onColsScroll(l3j);};i3j._type=u3j.TYPE;i3j.addClass(v3O);return i3j;}u3j.prototype.createColsSheet=function(){var G3j=this;this._colsSheet=new A3j.FlatColumnsSheet(this._coords,function(j3j,U3j){return G3j.getCell(j3j,U3j);});this._colsSheet.id=P933.S3O;this._colsSheet.scrollPane.element.addEventListener(P933.L3O,this.colsScrollHander);this._colsSheet.addEventListener(a3j.GridEvent.MOUSE_CLICK,function(T3j){return G3j.onClick(T3j);});this._colsSheet.addEventListener(a3j.GridEvent.MOUSE_CLICK,function(f3j){return G3j.onClickForApi(f3j);});this._colsSheet.addEventListener(a3j.GridEvent.FILTER_CLICK,function(c3j){return G3j.onFilterClick(c3j);});this.addChild(this._colsSheet);};u3j.prototype.drawLayout=function(){var N2T=Q933;x3j.prototype.drawLayout.call(this);this._sheetHeaders.top=this._coords.gridStartY;this._sheetHeaders.left=N2T.R4d;this._sheetHeaders.width=this._coords.rowHeadersWidth;this._sheetHeaders.height=this._coords.colHeadersHeight;this._colsSheet.left=this._coords.rowHeadersWidth;this._colsSheet.top=this._coords.gridStartY;this._colsSheet.width=this._coords.dataWidth;this._colsSheet.height=this._coords.layoutHeight-this._coords.gridStartY;this._rowsSheet.left=N2T.R4d;this._rowsSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY;this._rowsSheet.width=this._coords.layoutWidth;this._rowsSheet.height=this._coords.dataHeight;this._dataSheet.left=this._coords.rowHeadersWidth-N2T.E4d;this._dataSheet.top=this._coords.colHeadersHeight+this._coords.gridStartY-N2T.E4d;this._dataSheet.width=this._coords.dataWidth;this._dataSheet.height=this._coords.dataHeight+N2T.E4d;};u3j.prototype.drawLast=function(){x3j.prototype.drawLast.call(this);};Object.defineProperty(u3j.prototype,h3O,{get:function(){return this._isDrillThrough;},set:function(W3j){this._isDrillThrough=W3j;},enumerable:!Q933.R4d,configurable:!Q933.R4d});u3j.prototype.makeFieldsDraggable=function(){var K3j=this;x3j.prototype.makeFieldsDraggable.call(this);for(var m3j={createHelper:function(r3j){return K3j.createHeaderDragHelper(r3j);}},y3j=this._colsSheet.find(P933.G3O,!Q933.R4d),n3j=Q933.R4d;n3j<y3j.length;n3j++)y3j[n3j].draggable(m3j);};u3j.prototype.showIndicator=function(q3j,B3j){var p2T=Q933;var I3j=B3j.closest(P933.N3O);p2T.V2d!=I3j?(I3j=parseInt(I3j.attr(P933.X2O)),I3j=Math.min(I3j,this.coords.dataColsCount),this._dropIndicator=this.createDropIndicator(),this._dropIndicator.left=this.coords.getRelativeColX(I3j,this.isSmooth)-(I3j==this.coords.dataColsCount?p2T.R4d:this._dropIndicator.width),this._dropIndicator.top=this._coords.gridStartY+this.coords.getRelativeRowY(p2T.R4d,this.isSmooth)-p2T.E4d,this._dropIndicator.height=this.coords.getRowHeight(p2T.R4d)+p2T.E4d,this.append(this._dropIndicator)):this.removeDropIndicator();};u3j.prototype.onDrop=function(d3j,v3j,h3j,D3j){var Z2T=Q933;this.removeDropIndicator();D3j=h3j.closest(P933.N3O);Z2T.V2d!=D3j&&(v3j=k3j.data_.Cube.getInstance().slice_.clone(),h3j=this.isDrillThrough&&Z2T.V2d!=this._hierachiesList?this._hierachiesList:v3j.flatten(),D3j=parseInt(D3j.attr(P933.X2O)),d3j=parseInt(d3j.attr(P933.X2O)),D3j=Math.max(Z2T.R4d,Math.min(D3j,h3j.length-Z2T.E4d)),d3j!=D3j&&(h3j.moveItemAt(d3j,D3j),Z2T.R4d<v3j.flatOrder.length&&(v3j.flatOrder=h3j.toKeyArray()),this.isDrillThrough?(this._hierachiesList=h3j,v3j.flatOrder=h3j.toKeyArray(),this.dispatchWith(C3j.config.FieldsView.EVENT_APPLY_SLICE,this,v3j)):(v3j.rows=h3j,k3j.model.PivotModel.getInstance().runQuery(v3j))));};u3j.TYPE=X933.e0B;return u3j;}(H3j.BaseGridLayout);A3j.FlatGridLayout=O3j;}(H3j.flat||(H3j.flat={})));}(a3j.sheet||(a3j.sheet={})));}(C3j.grid||(C3j.grid={})));}(k3j._view||(k3j._view={})));}(pivot||(pivot={})));(function(o3j){(function(Q5j){(function(s5j){(function(X5j){(function(S5j){var P5j=function(g5j){__extends(L5j,g5j);L5j.prototype.onFilterClick=function(p5j){Q933.V2d!=p5j.cell&&p5j.cell.isFilterHeader&&Q933.V2d!=p5j.cell.hierarchy&&p5j.cell.activeElementType!=s5j.vo.GridCellElementType.RIGHT_ICON&&this.dispatch(new s5j.FilterClickEvent(p5j.cell.hierarchy,p5j.cell));};L5j.prototype.createCell=function(F5j,N5j,e5j){void Q933.R4d===e5j&&(e5j=!Q933.E4d);this.cell=g5j.prototype.createCell.call(this,F5j,N5j,e5j);(F5j=this._getDataFunc?this._getDataFunc(F5j,N5j):Q933.V2d)&&F5j.isFilterHeader&&(this.cell.addClass(s5j.vo.GridStyleName.FILTER_HEADER),F5j.filtered&&(this.cell.addClass(s5j.vo.GridStyleName.FILTERED),this.cell.text+=this.createIcon(s5j.vo.GridStyleName.FILTERED_ICON,o3j.model._labels.Labels.TOOLTIPS_FILTERED)),this.cell.attr.title=o3j.model._labels.Labels.TOOLTIPS_FILTER_ICON,this.cell.text+=this.createIcon(s5j.vo.GridStyleName.FILTER_ICON));return this.cell;};function L5j(z5j,Z5j){var w5j=g5j.call(this,z5j,Z5j)||this;w5j.addEventListener(s5j.GridEvent.MOUSE_CLICK,function(t5j){return w5j.onFilterClick(t5j);});return w5j;}return L5j;}(X5j.ColumnHeadersSheet);S5j.FlatColumnsSheet=P5j;}(X5j.flat||(X5j.flat={})));}(s5j.sheet||(s5j.sheet={})));}(Q5j.grid||(Q5j.grid={})));}(o3j._view||(o3j._view={})));}(pivot||(pivot={})));(function(b5j){(function(V5j){(function(R5j){var Y5j=function(M5j){var D3O="#wdr-aggregations-view";__extends(E5j,M5j);E5j.prototype.showWith=function(O5j,H5j){var n9i=Q933;this.origin=H5j;this.fieldData=O5j;this.setData(O5j);this.show();this.container.addEventListener(n9i.h2d,this.leaveHandler);document.body.addEventListener(n9i.G2d,this.leaveHandler);var A5j=H5j.getOffset(this.container.element.offsetParent);this.container.css(n9i.C3d,this.container.element.offsetParent.clientWidth-A5j.left+n9i.r2d);this.container.css(n9i.k3d,A5j.top-this.getHeight()/n9i.M4d+H5j.getHeight()/n9i.M4d+n9i.r2d);};E5j.prototype.onMouseLeave=function(u5j){var k9i=Q933;if(k9i.G2d!=u5j.type||k9i.V2d==uicontrols.UIElement.convert(event.target).closest(D3O))this.container.removeEventListener(k9i.h2d,this.leaveHandler),document.body.removeEventListener(k9i.G2d,this.leaveHandler),this.hide();};function E5j(){var d3O="wdr-arrow";var J5j=M5j.call(this,Q933.S3d)||this;J5j.leaveHandler=function(C5j){return J5j.onMouseLeave(C5j);};J5j.list=new uicontrols.lists.UIList();J5j.list.markSelected=!Q933.R4d;J5j.list.setItemRendererFactory(J5j.itemRendererFactory);J5j.list.setLabelField(s933.P6B);J5j.list.addEventListener(events._Event.CHANGE,function(a5j){return J5j.onListChange(a5j);});J5j.addChild(J5j.list);J5j.container.disableSelection();var k5j=new uicontrols.UIElement(Q933.S3d,d3O);J5j.container.addChild(k5j);return J5j;}E5j.prototype.onStageMouseDown=function(x5j){Q933.V2d==uicontrols.UIElement.convert(x5j.target).closest(D3O)&&this.hide();};E5j.prototype.setData=function(l5j){var k1I=Q933;for(var G5j,j5j=k1I.R4d,U5j=[],i5j=k1I.R4d;i5j<l5j.availableAggregations.length;i5j++)G5j={caption:l5j.availableAggregationsCaptions[i5j],aggregation:l5j.availableAggregations[i5j]},void k1I.R4d!=l5j.availableAggregationsTotalCaptions&&(G5j.totalCaption=l5j.availableAggregationsTotalCaptions[i5j]),U5j.push(G5j),l5j.availableAggregations[i5j]==l5j.aggregation&&(j5j=i5j);this.list.setDataProvider(U5j);this.list.setSelectedIndex(j5j);this.list.container.setScrollTop(k1I.R4d);};E5j.prototype.onListChange=function(T5j){this.dispatchWith(events._Event.CHANGE,this,{fieldData:this.fieldData,aggrData:T5j.data.selectedItem,origin:this.origin});this.hide();};E5j.prototype.itemRendererFactory=function(c5j,W5j){var f5j=new uicontrols.renderers.SelectItemRenderer();f5j.setData(c5j);f5j.setIndex(W5j);return f5j;};return E5j;}(uicontrols.UIComponentBase);R5j.AggregationsView=Y5j;}(V5j.config||(V5j.config={})));}(b5j._view||(b5j._view={})));}(pivot||(pivot={})));(function(n5j){(function(y5j){(function(K5j){(function(r5j){var m5j=function(){var P5I=Q933;var L5O="isCalculatedAvailable";var S5O="isSearchNeeded";var P5O="isSearch";var X5O="hasFolders";var Q5O="isMeasuresAsHierarchies";I5j.prototype.update=function(B5j,q5j,v5j){this._structure=B5j;this._slice=q5j;this._dataSourceType=v5j;this.clearSearch();this.updateSlice();this.updateStructure();};I5j.prototype.updateSlice=function(){this.pages=this.getPages();this.rows=this.getRows();this.markValues(this.rows);this.columns=this.getColumns();this.markValues(this.columns);this.measures=this.getMeasures();this.markMeasures(this.measures);};I5j.prototype.updateStructure=function(){this._hierarchies=[];this.allHierarchies=[];this.addHierarchies(this._hierarchies,this.getAllHierarchies());this.removeSingleDimensions(this._hierarchies);this.addMeasures(this._hierarchies,this.getAllMeasures());this.sortHierarchies(this._hierarchies);if(I5j.expandFormulas){I5j.expandFormulas=!P5I.E4d;var h5j=utils.ArrayUtils.find(this._hierarchies,s933.w1d+n5j.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME,X933.b0B);P5I.V2d!=h5j&&this.expandField(h5j);}this.markSelected(this.pages);this.markSelected(this.columns);this.markSelected(this.rows);this.markSelected(this.measures);};I5j.prototype.onCalculatedValueAdded=function(d5j){if(P5I.V2d!=this._structure){var D5j=utils.ArrayUtils.find(this.getAllMeasures(),d5j,X933.b0B);P5I.V2d!=D5j&&(D5j.isMeasure=!P5I.R4d,D5j.showAggregations=this.isMeasuresAsHierarchies,d5j=utils.ArrayUtils.findIndex(this.measures,d5j,X933.b0B),P5I.R4d<=d5j?(D5j.isChanged=!P5I.R4d,this.measures[d5j]=D5j):this.measures.push(D5j));this.updateStructure();}};I5j.prototype.onCalculatedValueRemoved=function(o5j){P5I.V2d!=this._slice&&P5I.V2d!=this._structure&&(this.updateSlice(),this.updateStructure());};I5j.prototype.removeItemByName=function(s0j,X0j){for(var Q0j=P5I.R4d;Q0j<s0j.length;Q0j++)if(s0j[Q0j].uniqueName==X0j){s0j.splice(Q0j,P5I.E4d);break;}};I5j.prototype.markValues=function(P0j){P0j=utils.ArrayUtils.find(P0j,n5j.data_.Cube.MEASURES_NAME,X933.b0B);P5I.V2d!=P0j&&(P0j.caption=n5j.model._labels.Labels.FIELDS_LIST_VALUES,P0j.isValues=!P5I.R4d);};I5j.prototype.markMeasures=function(L0j){for(var S0j=P5I.R4d;S0j<L0j.length;S0j++)L0j[S0j].isMeasure=!P5I.R4d,L0j[S0j].showAggregations=n5j.model._options.OptionsManager.showAggregations;};I5j.prototype.markSelected=function(w0j){for(var z0j,g0j=P5I.R4d;g0j<w0j.length;g0j++)w0j[g0j].isSelected=!P5I.R4d,z0j=this.findItem(w0j[g0j].uniqueName,w0j[g0j].isMeasure),this._slice.allHierarchies().getItem(w0j[g0j].uniqueName),P5I.V2d!=z0j&&this.selectField(z0j,!P5I.R4d);};I5j.prototype.selectField=function(Z0j,t0j){Z0j.isSelected=t0j;P5I.V2d!=Z0j.parent&&Z0j.parent.isSelected!=t0j&&(!P5I.R4d==t0j?this.selectField(Z0j.parent,t0j):!P5I.E4d==this.hasSelected(Z0j.parent.children)&&this.selectField(Z0j.parent,t0j));if(Z0j.isLevelFolder&&!P5I.E4d==t0j)for(var p0j=P5I.R4d;p0j<Z0j.children.length;p0j++)this.selectField(Z0j.children[p0j],t0j);};I5j.prototype.hasSelected=function(e0j){for(var F0j=P5I.R4d;F0j<e0j.length;F0j++)if(!P5I.R4d===e0j[F0j].isSelected)return!P5I.R4d;return!P5I.E4d;};function I5j(){}I5j.prototype.addHierarchies=function(R0j,b0j){var Y4T=X933;var o3O="Folder.";for(var V0j,Y0j,N0j=P5I.R4d;N0j<b0j.length;N0j++)V0j=this._structure.hierarchyToMeasure(b0j[N0j].uniqueName),P5I.V2d!=V0j&&V0j.type!=n5j.data_.types.MeasureType.COUNT&&P5I.s3d!=b0j[N0j].folder?(Y0j=utils.ArrayUtils.find(this.allHierarchies,o3O+b0j[N0j].folder,Y4T.b0B),P5I.V2d==Y0j&&(Y0j={isFolder:!P5I.R4d},Y0j.uniqueName=o3O+b0j[N0j].folder,Y0j.caption=b0j[N0j].folder,Y0j.children=[],R0j.push(Y0j),this.allHierarchies.push(Y0j)),b0j[N0j].level=P5I.E4d,b0j[N0j].parent=Y0j,Y0j.children.push(b0j[N0j])):(V0j=utils.ArrayUtils.find(R0j,b0j[N0j].dimensionUniqueName,Y4T.b0B),P5I.V2d==V0j&&(V0j={isFolder:!P5I.R4d},V0j.uniqueName=b0j[N0j].dimensionUniqueName,V0j.caption=b0j[N0j].dimensionCaption,V0j.children=[],V0j.level=P5I.R4d,R0j.push(V0j),this.allHierarchies.push(V0j)),b0j[N0j].isLevel?(V0j=P5I.s3d==b0j[N0j].folder?V0j:Y0j,V0j=utils.ArrayUtils.find(V0j.children,b0j[N0j].hierarchyName,Y4T.b0B),b0j[N0j].level=V0j.level+P5I.E4d,b0j[N0j].parent=V0j,P5I.V2d==V0j.children&&(V0j.children=[]),V0j.children.push(b0j[N0j]),V0j.isLevelFolder=!P5I.R4d):P5I.s3d!=b0j[N0j].folder?(Y0j=utils.ArrayUtils.find(V0j.children,V0j.uniqueName+b0j[N0j].folder,Y4T.b0B),P5I.V2d==Y0j&&(Y0j={isFolder:!P5I.R4d},Y0j.uniqueName=V0j.uniqueName+b0j[N0j].folder,Y0j.caption=b0j[N0j].folder,Y0j.children=[],Y0j.level=P5I.E4d,Y0j.parent=V0j,V0j.children.push(Y0j),this.allHierarchies.push(Y0j)),b0j[N0j].level=P5I.M4d,b0j[N0j].parent=Y0j,Y0j.children.push(b0j[N0j])):(b0j[N0j].level=P5I.E4d,b0j[N0j].parent=V0j,V0j.children.push(b0j[N0j]))),this.allHierarchies.push(b0j[N0j]);};I5j.prototype.addMeasures=function(a0j,M0j){for(var J0j,H0j={},E0j=P5I.R4d;E0j<M0j.length;E0j++){M0j[E0j].isMeasure=!P5I.R4d;M0j[E0j].showAggregations=n5j.model._options.OptionsManager.showAggregations;M0j[E0j].calculated&&(M0j[E0j].groupName=n5j.model._labels.Labels.FIELDS_LIST_FORMULAS_GROUP_NAME);this.isMeasuresAsHierarchies&&(J0j=this.toHierarchyUniqueName(M0j[E0j].uniqueName),J0j=utils.ArrayUtils.find(this.allHierarchies,J0j,X933.b0B));if(this.isMeasuresAsHierarchies&&P5I.V2d!=J0j)J0j.measureItem=M0j[E0j],J0j.measureItem.hierarchyItem=J0j,M0j[E0j].parent=J0j.parent;else if(P5I.s3d!=M0j[E0j].groupName){var k0j=this.addMeasureFolders(H0j,M0j[E0j].groupName,M0j[E0j].folder.split(X933.e5B),M0j[E0j].calculated),C0j=k0j.folder;P5I.V2d!=C0j&&P5I.R4d>C0j.children.indexOf(M0j[E0j])&&C0j.children.push(M0j[E0j]);P5I.V2d!=k0j.root&&P5I.R4d>a0j.indexOf(k0j.root)&&a0j.push(k0j.root);M0j[E0j].level=k0j.folder.level+P5I.E4d;M0j[E0j].parent=C0j;}else M0j[E0j].level=P5I.R4d,a0j.push(M0j[E0j]);this.allHierarchies.push(M0j[E0j]);}};I5j.prototype.addMeasureFolders=function(l0j,u0j,x0j,T0j){void P5I.R4d===T0j&&(T0j=!P5I.E4d);x0j.unshift(u0j);u0j=P5I.s3d;for(var G0j=P5I.R4d,i0j,A0j,U0j,O0j=P5I.R4d;O0j<x0j.length;O0j++){var j0j=u0j+s933.w1d+x0j[O0j];utils.nullOrEmpty(x0j[O0j])||(A0j=l0j[j0j],P5I.V2d==A0j&&(A0j={},A0j.caption=x0j[O0j],A0j.uniqueName=j0j,A0j.folder=u0j,A0j.children=[],A0j.level=G0j,A0j.isFolder=!P5I.R4d,A0j.isMeasuresFolder=!P5I.R4d,A0j.isCalculatedMeasuresFolder=T0j,this.allHierarchies.push(A0j),l0j[A0j.uniqueName]=A0j),(A0j.parent=i0j)&&i0j.children&&P5I.R4d>i0j.children.indexOf(A0j)&&i0j.children.push(A0j),P5I.V2d==U0j&&(U0j=A0j),u0j+=s933.w1d+x0j[O0j],l0j=l0j[u0j],i0j=A0j,G0j++);}return{folder:A0j,root:U0j};};I5j.prototype.removeSingleDimensions=function(c0j){for(var W0j,f0j=P5I.R4d;f0j<c0j.length;f0j++)if(!P5I.R4d===c0j[f0j].isFolder&&P5I.E4d==c0j[f0j].children.length&&!P5I.R4d!==c0j[f0j].children[P5I.R4d].isFolder&&!c0j[f0j].children[P5I.R4d].calculated&&(W0j=c0j[f0j].children[P5I.R4d],W0j.level=P5I.R4d,W0j.parent=P5I.V2d,c0j.splice(f0j,P5I.E4d,W0j),W0j.children))for(var n0j=P5I.R4d;n0j<W0j.children.length;n0j++)W0j.children[n0j].level-=P5I.E4d;};I5j.prototype.sortHierarchies=function(K0j){var y0j=this;K0j.sort(function(I0j,B0j){var m0j=y0j.getFieldRank(I0j),r0j=y0j.getFieldRank(B0j);return m0j==r0j?I0j.caption.localeCompare(B0j.caption):r0j-m0j;});};I5j.prototype.getFieldRank=function(q0j){return!P5I.R4d===q0j.isLevel?P5I.R4d:!P5I.R4d===q0j.isFolder&&!P5I.R4d!==q0j.isMeasuresFolder?P5I.J4d:!P5I.R4d!==q0j.isFolder&&!P5I.R4d!==q0j.isMeasure?P5I.M4d:!P5I.R4d===q0j.isFolder&&!P5I.R4d===q0j.isMeasuresFolder?P5I.E4d:P5I.R4d;};I5j.prototype.collapseField=function(v0j){if(!this.isSearch){for(var D0j=this._hierarchies.indexOf(v0j)+P5I.E4d,h0j=P5I.R4d;h0j<v0j.children.length;h0j++)!P5I.R4d===v0j.children[h0j].isExpanded&&this.collapseField(v0j.children[h0j]);this._hierarchies.splice(D0j,v0j.children.length);v0j.isExpanded=!P5I.E4d;}};I5j.prototype.expandField=function(d0j){if(!this.isSearch){var o0j=this._hierarchies.indexOf(d0j)+P5I.E4d;d0j.isLevelFolder||this.sortHierarchies(d0j.children);utils.ArrayUtils.insert(this._hierarchies,d0j.children,o0j);d0j.isExpanded=!P5I.R4d;}};I5j.prototype.toHierarchyUniqueName=function(Q1j){Q1j=this._structure.measureToHierarchy(Q1j);return P5I.V2d!=Q1j?Q1j.uniqueName:P5I.s3d;};I5j.prototype.toMeasureUniqueName=function(s1j){s1j=this._structure.hierarchyToMeasure(s1j);return P5I.V2d!=s1j?s1j.uniqueName:P5I.s3d;};I5j.prototype.findHierarchy=function(P1j){for(var X1j=P5I.R4d;X1j<this.allHierarchies.length;X1j++)if(!this.allHierarchies[X1j].isMeasure&&!this.allHierarchies[X1j].isFolder&&this.allHierarchies[X1j].uniqueName==P1j)return this.allHierarchies[X1j];};I5j.prototype.findMeasure=function(L1j){for(var S1j=P5I.R4d;S1j<this.allHierarchies.length;S1j++)if(this.allHierarchies[S1j].isMeasure&&!this.allHierarchies[S1j].isFolder&&this.allHierarchies[S1j].uniqueName==L1j)return this.allHierarchies[S1j];};I5j.prototype.findItem=function(w1j,g1j){void P5I.R4d===g1j&&(g1j=!P5I.E4d);return g1j?this.findMeasure(w1j):this.findHierarchy(w1j);};I5j.prototype.isValidSlice=function(){return P5I.R4d<this.measures.length;};I5j.prototype.getSlice=function(){return{pages:this.toPlainArray(this.pages),rows:this.toPlainArray(this.rows),columns:this.toPlainArray(this.columns),measures:this.toPlainArray(this.measures),flatOrder:this._slice?this._slice.flatOrder:[]};};I5j.prototype.isSliceDifferent=function(z1j){return P5I.V2d==this._slice?!P5I.R4d:this.isDifferent(z1j.pages,this._slice.pages.toArray())||this.isDifferent(z1j.rows,this._slice.rows.toArray())||this.isDifferent(z1j.columns,this._slice.columns.toArray())||this.isDifferent(z1j.measures,this._slice.measures_.toArray());};I5j.prototype.toPlainArray=function(t1j){for(var F1j=[],p1j,Z1j=P5I.R4d;Z1j<t1j.length;Z1j++)p1j={uniqueName:t1j[Z1j].uniqueName},t1j[Z1j].isMeasure&&(p1j.aggregation=t1j[Z1j].aggregation,p1j.isChanged=t1j[Z1j].isChanged),t1j[Z1j].isLevel&&(p1j.activeLevelName=t1j[Z1j].uniqueName,p1j.uniqueName=t1j[Z1j].hierarchyName),F1j.push(p1j);return F1j;};I5j.prototype.isDifferent=function(N1j,b1j){if(N1j.length!=b1j.length)return!P5I.R4d;for(var e1j=P5I.R4d;e1j<b1j.length;e1j++)if(N1j[e1j].uniqueName!=b1j[e1j].uniqueName||N1j[e1j].aggregation!=b1j[e1j].aggregation||N1j[e1j].activeLevelName!=b1j[e1j].activeLevelName||N1j[e1j].isChanged)return!P5I.R4d;return!P5I.E4d;};Object.defineProperty(I5j.prototype,Q5O,{get:function(){var V1j=this._dataSourceType;return V1j==n5j.data_.consts.DataSourceType.CSV||V1j==n5j.data_.consts.DataSourceType.JSON;},enumerable:!P5I.R4d,configurable:!P5I.R4d});Object.defineProperty(I5j.prototype,P933.s5O,{get:function(){for(var Y1j=P5I.R4d;Y1j<this._hierarchies.length;Y1j++)if((this._hierarchies[Y1j].isFolder||this._hierarchies[Y1j].isMeasuresFolder||this._hierarchies[Y1j].isLevelFolder)&&!this._hierarchies[Y1j].isExpanded)return!P5I.R4d;return!P5I.E4d;},enumerable:!P5I.R4d,configurable:!P5I.R4d});Object.defineProperty(I5j.prototype,X5O,{get:function(){for(var R1j=P5I.R4d;R1j<this._hierarchies.length;R1j++)if(this._hierarchies[R1j].isFolder||this._hierarchies[R1j].isMeasuresFolder||this._hierarchies[R1j].isLevelFolder)return!P5I.R4d;return!P5I.E4d;},enumerable:!P5I.R4d,configurable:!P5I.R4d});I5j.prototype.collapseAll=function(){if(!this.isSearch){for(var E1j=P5I.R4d;E1j<this._hierarchies.length;E1j++)if(this._hierarchies[E1j].isFolder||this._hierarchies[E1j].isMeasuresFolder||this._hierarchies[E1j].isLevelFolder)this._hierarchies[E1j].isExpanded=!P5I.E4d;for(var M1j=[],E1j=P5I.R4d;E1j<this._hierarchies.length;E1j++)P5I.R4d==this._hierarchies[E1j].level&&M1j.push(this._hierarchies[E1j]);this._hierarchies.splice(P5I.R4d,this._hierarchies.length);utils.ArrayUtils.insert(this._hierarchies,M1j,P5I.R4d);}};I5j.prototype.expandAll=function(){if(!this.isSearch){this.collapseAll();for(var J1j=P5I.R4d;J1j<this._hierarchies.length;J1j++)(this._hierarchies[J1j].isFolder||this._hierarchies[J1j].isLevelFolder)&&this._expandField(this._hierarchies[J1j],J1j+P5I.E4d);}};I5j.prototype._expandField=function(k1j,C1j){k1j.isExpanded=!P5I.R4d;P5I.V2d!=k1j.children&&P5I.R4d<k1j.children.length&&(this.sortHierarchies(k1j.children),utils.ArrayUtils.insert(this._hierarchies,k1j.children,C1j));};I5j.prototype.getPages=function(){return P5I.V2d!=this._slice?this.convertHierarchies(this._slice.pages):[];};I5j.prototype.getRows=function(){return P5I.V2d!=this._slice?this.convertHierarchies(this._slice.rows):[];};I5j.prototype.getColumns=function(){return P5I.V2d!=this._slice?this.convertHierarchies(this._slice.columns):[];};I5j.prototype.getMeasures=function(){return P5I.V2d!=this._slice?this.convertMeasures(this._slice.measures_):[];};I5j.prototype.getAllHierarchies=function(){return P5I.V2d!=this._structure?this.convertHierarchies(this._structure.allHierarchies(!P5I.E4d),!P5I.R4d):[];};I5j.prototype.getAllMeasures=function(){return P5I.V2d!=this._structure?this.convertMeasures(this._structure.measures_):[];};I5j.prototype.convertHierarchies=function(i1j,A1j){void P5I.R4d===A1j&&(A1j=!P5I.E4d);for(var O1j=[],u1j=P5I.R4d;u1j<i1j.length;u1j++){var a1j=i1j.getItemAt(u1j);O1j.push({caption:a1j.caption,uniqueName:a1j.uniqueName,dimensionUniqueName:a1j.dimension.uniqueName,dimensionCaption:a1j.dimension.caption,folder:a1j.folder,isLevel:!P5I.E4d,isLevelFolder:a1j.isHierarchy&&A1j});if(a1j.isHierarchy&&A1j)for(var H1j=P5I.R4d;H1j<a1j.levels_.length;H1j++)if(P5I.R4d!=H1j){var x1j=a1j.levels_.getItemAt(H1j);O1j.push({caption:x1j.caption,uniqueName:x1j.uniqueName,dimensionUniqueName:a1j.dimension.uniqueName,dimensionCaption:a1j.dimension.caption,folder:a1j.folder,hierarchyName:a1j.uniqueName,hierarchyCaption:a1j.caption,isLevel:!P5I.R4d,isLevelFolder:!P5I.E4d});}}return O1j;};I5j.prototype.convertMeasures=function(f1j){for(var T1j=[],U1j=P5I.R4d;U1j<f1j.length;U1j++){var l1j=f1j.getItemAt(U1j),G1j=n5j.data_._structure.GenericMeasure.toObject(l1j),j1j=l1j.availableAggregations;P5I.R4d!=l1j.availableAggregations.length||l1j.calculated||(j1j=n5j.data_.consts.AggregationName.ALL_AGGREGATIONS);G1j.availableAggregations=j1j;G1j.availableAggregationsCaptions=n5j.data_.consts.AggregationName.aggregationCaptions(j1j);G1j.availableAggregationsTotalCaptions=n5j.data_.consts.AggregationName.aggregationTotalCaptions(j1j);T1j.push(G1j);}return T1j;};I5j.prototype.search=function(W1j){W1j=W1j.toLowerCase();if(this.searchPhrase!=W1j){this.searchPhrase=W1j;this.searchedHierarchies=[];for(var y1j=this.allHierarchies.length,n1j=P5I.R4d;n1j<y1j;n1j++){var c1j=this.allHierarchies[n1j];c1j.isFolder||c1j.isMeasure&&this.isMeasuresAsHierarchies||!utils.StringUtils.contains(c1j.caption,W1j)||(this.addParents(c1j,this.searchedHierarchies),this.searchedHierarchies.push(c1j));}}};I5j.prototype.addParents=function(m1j,I1j){if(m1j.parent&&P5I.R4d>I1j.indexOf(m1j.parent)){for(var K1j=[];P5I.V2d!=m1j.parent;)K1j.push(m1j.parent),m1j=m1j.parent;for(var K1j=K1j.reverse(),r1j=P5I.R4d;r1j<K1j.length;r1j++)P5I.R4d>I1j.indexOf(K1j[r1j])&&I1j.push(K1j[r1j]);}};I5j.prototype.clearSearch=function(){this.searchPhrase=P5I.s3d;this.searchedHierarchies=P5I.V2d;};Object.defineProperty(I5j.prototype,P5O,{get:function(){return!utils.nullOrEmpty(this.searchPhrase);},enumerable:!P5I.R4d,configurable:!P5I.R4d});Object.defineProperty(I5j.prototype,S5O,{get:function(){return this.allHierarchies&&P5I.S6d<this.allHierarchies.length;},enumerable:!P5I.R4d,configurable:!P5I.R4d});Object.defineProperty(I5j.prototype,L5O,{get:function(){return n5j.model._options.OptionsManager.showCalculatedValuesButton;},enumerable:!P5I.R4d,configurable:!P5I.R4d});Object.defineProperty(I5j.prototype,X933.k1B,{get:function(){return this.isSearch?this.searchedHierarchies:this._hierarchies;},enumerable:!P5I.R4d,configurable:!P5I.R4d});I5j.expandFormulas=!P5I.E4d;return I5j;}();r5j.PivotFieldsModel=m5j;}(K5j._pivot||(K5j._pivot={})));}(y5j.config||(y5j.config={})));}(n5j._view||(n5j._view={})));}(pivot||(pivot={})));(function(B1j){(function(q1j){(function(v1j){(function(h1j){var D1j=function(o1j){__extends(d1j,o1j);d1j.prototype.onCancelClick=function(){this.view.close();};d1j.prototype.onOkClick=function(){this.applySlice();this.view.close();};d1j.prototype.onSearchChange=function(){var g5O="wdr-searched";this.model.search(this.view.inpSearch.getText());this.view.lstHierarchies.container.toggleClass(g5O,this.model.isSearch);this.view.lstHierarchies.setDataProvider(this.model.hierarchies);this.validateList(this.view.lstHierarchies);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders&&!this.model.isSearch);};d1j.prototype.applySlice=function(){var I8j=this.model.getSlice();this.model.isSliceDifferent(I8j)&&this.dispatchWith(v1j.FieldsView.EVENT_APPLY_SLICE,this,I8j);};d1j.prototype.onCalculatedValueAdded=function(B8j){B1j.model.PivotModel.getInstance().removeEventListener(q1j.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model.onCalculatedValueAdded(B8j.data.measureUniqueName);this.updateView();};d1j.prototype.onCalculatedValueRemoved=function(q8j){B1j.model.PivotModel.getInstance().removeEventListener(q1j.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model.onCalculatedValueRemoved(q8j.data);this.updateView();};d1j.prototype.onAddMeasureClick=function(){B1j.model.PivotModel.getInstance().dispatchWith(q1j.ViewEvent.CALCULATED_VIEW_OPEN);B1j.model.PivotModel.getInstance().addEventListener(q1j.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);};d1j.prototype.onCollapseExpandClick=function(){this.model.isExpandAll?this.model.expandAll():this.model.collapseAll();this.validateList(this.view.lstHierarchies);this.view.setLabels();};d1j.prototype.onFieldDoubleClick=function(v8j){var h8j=uicontrols.UIElement.convert(v8j.target).closest(s933.q5d);Q933.V2d!=h8j&&(h8j=this.getListById(h8j.attr(Q933.o2d)),v8j=uicontrols.UIElement.convert(v8j.target).closest(s933.r5d),Q933.V2d!=v8j&&(v8j=parseInt(v8j.attr(s933.I5d)),this.removeField(h8j,v8j)));};d1j.prototype.onMeasureFieldClick=function(d8j){var D8j=uicontrols.UIElement.convert(d8j.target).closest(s933.r5d);Q933.V2d!=D8j&&(D8j=parseInt(D8j.attr(s933.I5d)),D8j=this.model.measures[D8j],P933.w5O==uicontrols.UIElement.convert(d8j.target).attr(Q933.o2d)&&this.view.aggrView.showWith(D8j,uicontrols.UIElement.convert(d8j.target)));};d1j.prototype.onAggregationChange=function(o8j){var Q9g=o8j.data.fieldData,s9g=o8j.data.aggrData;uicontrols.UIElement.convert(o8j.data.origin);Q9g.aggregation=s9g.aggregation;Q9g.caption=B1j.model._options.OptionsManager.showAggregationLabels?utils.StringUtils.bind(s9g.totalCaption,Q9g.name):Q9g.name;this.view.lstMeasures.validateItem(Q9g);o8j=utils.ArrayUtils.find(this.model.hierarchies,Q9g.uniqueName,X933.b0B);Q933.V2d!=o8j&&(this.model.isMeasuresAsHierarchies&&Q933.V2d!=o8j.measureItem&&(o8j=o8j.measureItem),o8j.aggregation=Q9g.aggregation,o8j.caption=Q9g.caption,this.view.lstHierarchies.validateItem(o8j));};d1j.prototype.onHierarchyFieldClick=function(P9g){var u4T=Q933;var S9g=uicontrols.UIElement.convert(P9g.target).closest(s933.r5d);if(u4T.V2d!=S9g){var S9g=parseInt(S9g.attr(s933.I5d)),X9g=this.model.hierarchies[S9g];if(P933.w5O==uicontrols.UIElement.convert(P9g.target).attr(u4T.o2d))this.view.aggrView.showWith(X9g,uicontrols.UIElement.convert(P9g.target));else if(P933.z5O==uicontrols.UIElement.convert(P9g.target).attr(u4T.o2d))B1j.model.PivotModel.getInstance().dispatchWith(q1j.ViewEvent.CALCULATED_VIEW_OPEN,u4T.V2d,{measureName:X9g.uniqueName}),B1j.model.PivotModel.getInstance().addEventListener(q1j.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler),B1j.model.PivotModel.getInstance().addEventListener(q1j.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);else if(X9g.isFolder||X9g.isLevelFolder&&P933.Z5O!=uicontrols.UIElement.convert(P9g.target).attr(u4T.o2d))!u4T.R4d===X9g.isExpanded?this.model.collapseField(X9g):this.model.expandField(X9g),this.validateList(this.view.lstHierarchies),this.view.setLabels();else{if(!u4T.R4d==X9g.isSelected||u4T.V2d!=X9g.measureItem&&!u4T.R4d==X9g.measureItem.isSelected)!u4T.R4d==X9g.isSelected&&(this.model.selectField(X9g,!u4T.E4d),this.findAndRemoveField(X9g)),u4T.V2d!=X9g.measureItem&&!u4T.R4d==X9g.measureItem.isSelected&&(this.model.selectField(X9g.measureItem,!u4T.E4d),this.findAndRemoveField(X9g.measureItem));else if(X9g.isMeasure)this.model.selectField(X9g,!u4T.R4d),this.model.measures.push(X9g),this.validateList(this.view.lstMeasures);else if(X9g.measureItem&&X9g.measureItem.type!=B1j.data_.types.MeasureType.COUNT&&X9g.measureItem.type!=B1j.data_.types.MeasureType.DATE)this.model.selectField(X9g.measureItem,!u4T.R4d),this.model.measures.push(X9g.measureItem),this.validateList(this.view.lstMeasures);else{if(X9g.isLevel)for(X9g.parent.isSelected&&this.findAndRemoveField(X9g.parent),P9g=u4T.R4d;P9g<X9g.parent.children.length;P9g++){var L9g=X9g.parent.children[P9g];L9g.uniqueName!=X9g.uniqueName&&(L9g.isSelected&&this.findAndRemoveField(L9g),L9g.isSelected=!u4T.E4d);}this.model.selectField(X9g,!u4T.R4d);this.model.rows.push(X9g);this.validateList(this.view.lstRows);}this.validateItemRecursivelyAt(this.view.lstHierarchies,S9g);this.validateSlice();}}};d1j.prototype.validateItemRecursivelyAt=function(z9g,Z9g){z9g.validateItemAt(Z9g);var g9g=z9g.getDataProvider()[Z9g];Q933.V2d!=g9g.parent&&this.validateItemRecursively(z9g,g9g.parent);if(g9g.isLevelFolder)for(var w9g=Q933.R4d;w9g<g9g.children.length;w9g++)z9g.validateItem(g9g.children[w9g]);if(g9g.isLevel)for(w9g=Q933.R4d;w9g<g9g.parent.children.length;w9g++)z9g.validateItem(g9g.parent.children[w9g]);};d1j.prototype.validateItemRecursively=function(F9g,t9g){F9g.validateItem(t9g);t9g.parent&&this.validateItemRecursively(F9g,t9g.parent);if(t9g.isLevelFolder)for(var p9g=Q933.R4d;p9g<t9g.children.length;p9g++)F9g.validateItem(t9g.children[p9g]);if(t9g.isLevel)for(p9g=Q933.R4d;p9g<t9g.parent.children.length;p9g++)F9g.validateItem(t9g.parent.children[p9g]);};d1j.prototype.onDragStart=function(e9g){return!Q933.R4d;};d1j.prototype.onHierarchiesDrop=function(N9g,b9g,V9g,Y9g){N9g&&N9g.closest(s933.q5d)&&(b9g=parseInt(N9g.attr(s933.I5d)),N9g=this.getListById(N9g.closest(s933.q5d).attr(Q933.o2d)),N9g!=this.view.lstHierarchies&&this.removeField(N9g,b9g));};d1j.prototype.onHierarchiesDragEnterOrOver=function(R9g,E9g,M9g,J9g){R9g&&R9g.closest(s933.q5d)&&(R9g=this.getListById(R9g.closest(s933.q5d).attr(Q933.o2d)),R9g!=this.view.lstHierarchies&&(R9g.container.hasClass(Q933.q2d)?E9g&&E9g.addClass(P933.t5O):E9g&&E9g.addClass(P933.p5O)));};d1j.prototype.onDragEnterOrOver=function(k9g,C9g,a9g,H9g){var n4T=Q933;this.removeDropIndicator();k9g&&k9g.closest(s933.q5d)&&(a9g instanceof uicontrols.lists.UIList||(a9g=this.getListById(a9g.attr(n4T.o2d))),C9g=this.getListById(k9g.closest(s933.q5d).attr(n4T.o2d)),C9g.container.hasClass(n4T.q2d)&&this.isDropAllowed(this.getDataByElement(k9g,C9g),C9g,a9g)&&(H9g instanceof MouseEvent?this.showIndicator(uicontrols.UIElement.convert(H9g.target)):(k9g=H9g.changedTouches[n4T.R4d],this.showIndicator(uicontrols.UIElement.convert(document.elementFromPoint(k9g.clientX,k9g.clientY))))));};d1j.prototype.isDropAllowed=function(O9g,u9g,A9g){var y4T=Q933;return O9g.isValues&&A9g!=this.view.lstColumns&&A9g!=this.view.lstRows||!y4T.E4d==this.model.isMeasuresAsHierarchies&&(A9g!=this.view.lstMeasures&&O9g.isMeasure||A9g==this.view.lstMeasures&&!O9g.isMeasure)||O9g.calculated&&A9g!=this.view.lstMeasures||u9g==this.view.lstHierarchies&&y4T.V2d!=utils.ArrayUtils.find(A9g.getDataProvider(),O9g.uniqueName,X933.b0B)?!y4T.E4d:!y4T.R4d;};d1j.prototype.getDataByElement=function(i9g,l9g){var x9g=parseInt(i9g.attr(s933.I5d));return l9g.getDataProvider()[x9g];};d1j.prototype.onDragLeave=function(j9g,G9g,U9g,T9g){this.removeDropIndicator();j9g&&j9g.closest(s933.q5d)&&G9g&&(G9g.removeClass(P933.t5O),G9g.removeClass(P933.p5O));};d1j.prototype.onDrop=function(f9g,c9g,n9g,W9g){var B4T=s933;this.removeDropIndicator();f9g&&f9g.closest(B4T.q5d)&&(c9g instanceof uicontrols.lists.UIList||(c9g=this.getListById(c9g.attr(Q933.o2d))),W9g=this.getListById(f9g.closest(B4T.q5d).attr(Q933.o2d)),!Q933.E4d!=this.isDropAllowed(this.getDataByElement(f9g,W9g),W9g,c9g)&&(n9g=n9g?parseFloat(n9g.attr(B4T.I5d)):c9g.getDataProvider().length,f9g=parseInt(f9g.attr(B4T.I5d)),W9g!=c9g||f9g!=n9g))&&(W9g==this.view.lstHierarchies&&c9g!=this.view.lstHierarchies?this.addField(W9g,c9g,f9g,n9g):this.moveField(W9g,c9g,f9g,n9g),this.validateView());};d1j.prototype.showIndicator=function(y9g){var K9g=y9g.closest(s933.r5d);Q933.V2d!=K9g?(this._dropIndicator=this.createDropIndicator(),K9g.before(this._dropIndicator)):(y9g=y9g.closest(s933.q5d),Q933.V2d!=y9g&&(this._dropIndicator=this.createDropIndicator(),Q933.R4d<y9g.element.children.length?y9g.append(this._dropIndicator):y9g.prepend(this._dropIndicator)));};d1j.prototype.createDropIndicator=function(){return new uicontrols.UIElement(Q933.S3d,P933.F5O);};d1j.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!Q933.R4d),this._dropIndicator=Q933.V2d);};d1j.prototype.moveField=function(r9g,I9g,B9g,q9g){var Q6T=Q933;var m9g=r9g.getDataProvider()[B9g];r9g==I9g?(r9g=I9g.getDataProvider(),B9g<q9g&&(q9g-=Q6T.E4d),r9g.splice(q9g,Q6T.R4d,r9g.splice(B9g,Q6T.E4d)[Q6T.R4d])):(m9g=r9g.getDataProvider()[B9g],r9g.getDataProvider().splice(B9g,Q6T.E4d),r9g.validateNow(),I9g==this.view.lstMeasures&&(this.model.selectField(m9g,!Q6T.E4d),m9g=this.model.findMeasure(this.model.toMeasureUniqueName(m9g.uniqueName))),r9g==this.view.lstMeasures&&(this.model.selectField(m9g,!Q6T.E4d),m9g=this.model.findHierarchy(this.model.toHierarchyUniqueName(m9g.uniqueName))),Q6T.V2d!=m9g&&(this.model.selectField(m9g,!Q6T.R4d),this.findAndRemoveField(m9g),I9g.getDataProvider().splice(q9g,Q6T.R4d,m9g)));this.validateList(I9g);this.validateSlice();};d1j.prototype.addField=function(h9g,o9g,v9g,Q7g){var s6T=Q933;v9g=h9g.getDataProvider()[v9g];if(v9g.isLevel){v9g.parent.isSelected&&this.findAndRemoveField(v9g.parent);for(var d9g=s6T.R4d;d9g<v9g.parent.children.length;d9g++){var D9g=v9g.parent.children[d9g];D9g.uniqueName!=v9g.uniqueName&&(D9g.isSelected&&this.findAndRemoveField(D9g),D9g.isSelected=!s6T.E4d);}this.validateItemRecursively(this.view.lstHierarchies,v9g);}this.model.isMeasuresAsHierarchies&&o9g==this.view.lstMeasures&&s6T.V2d!=v9g.measureItem&&(v9g=v9g.measureItem);v9g.isSelected?(this.model.selectField(v9g,!s6T.E4d),this.findAndRemoveField(v9g,h9g,!s6T.R4d),this.model.selectField(v9g,!s6T.R4d)):(this.model.selectField(v9g,!s6T.R4d),h9g=utils.ArrayUtils.findIndex(this.view.lstHierarchies.getDataProvider(),v9g.uniqueName,X933.b0B),this.validateItemRecursivelyAt(this.view.lstHierarchies,h9g),this.view.lstHierarchies.validateItemAt(h9g));o9g.getDataProvider().splice(Q7g,s6T.R4d,v9g);this.validateList(o9g);this.validateSlice();};d1j.prototype.removeField=function(X7g,P7g){var P6T=Q933;if(!(X7g.getDataProvider().length<=P7g)){var s7g=X7g.getDataProvider()[P7g];s7g.isValues||(X7g.getDataProvider().splice(P7g,P6T.E4d),this.validateList(X7g),s7g=this.model.findItem(s7g.uniqueName,s7g.isMeasure),P6T.V2d!=s7g&&(this.model.selectField(s7g,!P6T.E4d),this.validateItemRecursively(this.view.lstHierarchies,P6T.V2d!=s7g.hierarchyItem?s7g.hierarchyItem:s7g),s7g.isLevel&&(this.model.selectField(s7g.parent,!P6T.E4d),this.validateItemRecursively(this.view.lstHierarchies,s7g.parent))),this.validateSlice());}};d1j.prototype.findAndRemoveField=function(z7g,g7g,w7g){var S6T=Q933;var e5O="hierarchyName";void S6T.R4d===g7g&&(g7g=S6T.V2d);void S6T.R4d===w7g&&(w7g=!S6T.E4d);for(var L7g=-S6T.E4d,S7g=S6T.R4d;S7g<this.lists.length;S7g++)this.lists[S7g]==g7g||this.lists[S7g]==this.view.lstMeasures&&w7g||(L7g=utils.ArrayUtils.findIndex(this.lists[S7g].getDataProvider(),z7g.uniqueName,X933.b0B),-S6T.E4d==L7g&&(L7g=utils.ArrayUtils.findIndex(this.lists[S7g].getDataProvider(),z7g.uniqueName,e5O)),-S6T.E4d<L7g&&(this.lists[S7g].getDataProvider().splice(L7g,S6T.E4d),this.validateList(this.lists[S7g])));};d1j.prototype.getListById=function(Z7g){switch(Z7g){case this.view.lstHierarchies.getId():return this.view.lstHierarchies;case this.view.lstPages.getId():return this.view.lstPages;case this.view.lstRows.getId():return this.view.lstRows;case this.view.lstColumns.getId():return this.view.lstColumns;case this.view.lstMeasures.getId():return this.view.lstMeasures;}return Q933.V2d;};d1j.prototype.update=function(F7g,e7g,t7g,p7g){var w6T=Q933;void w6T.R4d===t7g&&(t7g=w6T.s3d);void w6T.R4d===p7g&&(p7g=!w6T.R4d);p7g&&this.model.update(F7g,e7g,t7g);this.updateView();};function d1j(s8j){var p6T=P933;var Z6T=Q933;var Q8j=o1j.call(this)||this;Q8j.type=X933.F0B;Q8j.calculatedValueAddedHandler=function(X8j){return Q8j.onCalculatedValueAdded(X8j);};Q8j.calculatedValueRemovedHandler=function(P8j){return Q8j.onCalculatedValueRemoved(P8j);};Q8j.model=new h1j.PivotFieldsModel();Q8j.view=new h1j.PivotFieldsView(Q8j,s8j);Q8j.view.addEventListener(events._Event.CLOSED,function(S8j){return Q8j.dispatch(S8j);});Q8j.lists=[Q8j.view.lstPages,Q8j.view.lstRows,Q8j.view.lstColumns,Q8j.view.lstMeasures];Q8j.view.btnOk&&Q8j.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return Q8j.onOkClick();});Q8j.view.btnCancel&&Q8j.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return Q8j.onCancelClick();});Z6T.V2d!=Q8j.view.aggrView&&Q8j.view.aggrView.addEventListener(events._Event.CHANGE,function(L8j){return Q8j.onAggregationChange(L8j);});Q8j.view.lstHierarchies&&(Q8j.view.lstHierarchies.container.addEventListener(Z6T.m3d,function(g8j){return Q8j.onHierarchyFieldClick(g8j);}),Q8j.view.lstHierarchies.droppable({onDrop:function(w8j,z8j,Z8j,t8j){return Q8j.onHierarchiesDrop(w8j,z8j,Z8j,t8j);},onDragEnter:function(p8j,F8j,e8j,N8j){return Q8j.onHierarchiesDragEnterOrOver(p8j,F8j,e8j,N8j);},onDragOver:function(b8j,V8j,Y8j,R8j){return Q8j.onHierarchiesDragEnterOrOver(b8j,V8j,Y8j,R8j);},onDragLeave:function(E8j,M8j,J8j,k8j){return Q8j.onDragLeave(E8j,M8j,J8j,k8j);},itemSelector:s933.r5d}),Q8j.view.lstHierarchies.container.disableSelection());s8j={onDrop:function(C8j,a8j,H8j,A8j){return Q8j.onDrop(C8j,a8j,H8j,A8j);},onDragEnter:function(O8j,u8j,x8j,i8j){return Q8j.onDragEnterOrOver(O8j,u8j,x8j,i8j);},onDragOver:function(l8j,G8j,j8j,U8j){return Q8j.onDragEnterOrOver(l8j,G8j,j8j,U8j);},onDragLeave:function(T8j,f8j,c8j,W8j){return Q8j.onDragLeave(T8j,f8j,c8j,W8j);},itemSelector:s933.r5d};Q8j.view.lstPages&&(Q8j.view.lstPages.droppable(s8j),Q8j.view.lstPages.container.addEventListener(p6T.a7O,function(n8j){return Q8j.onFieldDoubleClick(n8j);}),Q8j.view.lstPages.container.disableSelection());Q8j.view.lstRows&&(Q8j.view.lstRows.droppable(s8j),Q8j.view.lstRows.container.addEventListener(p6T.a7O,function(y8j){return Q8j.onFieldDoubleClick(y8j);}),Q8j.view.lstRows.container.disableSelection());Q8j.view.lstColumns&&(Q8j.view.lstColumns.droppable(s8j),Q8j.view.lstColumns.container.addEventListener(p6T.a7O,function(K8j){return Q8j.onFieldDoubleClick(K8j);}),Q8j.view.lstColumns.container.disableSelection());Q8j.view.lstMeasures&&(Q8j.view.lstMeasures.container.addEventListener(Z6T.m3d,function(m8j){return Q8j.onMeasureFieldClick(m8j);}),Q8j.view.lstMeasures.container.addEventListener(p6T.a7O,function(r8j){return Q8j.onFieldDoubleClick(r8j);}),Q8j.view.lstMeasures.droppable(s8j),Q8j.view.lstMeasures.container.disableSelection());Q8j.view.btnAddMeasure&&Q8j.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return Q8j.onAddMeasureClick();});Q8j.view.btnCollapseExpand&&Q8j.view.btnCollapseExpand.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return Q8j.onCollapseExpandClick();});Q8j.view.inpSearch&&(Q8j.view.inpSearch.setChangeDelay(Z6T.v6d),Q8j.view.inpSearch.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return Q8j.onSearchChange();}));return Q8j;}d1j.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model.isValidSlice());};Object.defineProperty(d1j.prototype,P933.s5O,{get:function(){return this.model.isExpandAll;},enumerable:!Q933.R4d,configurable:!Q933.R4d});d1j.prototype.updateView=function(){var F6T=Q933;var N7g=this;this.view.reset&&this.view.reset();this.view.btnAddMeasure&&this.view.btnAddMeasure.isVisible(this.model.isCalculatedAvailable);this.view.lstHierarchies&&this.view.lstHierarchies.setDataProvider(this.model.hierarchies,!F6T.E4d);this.view.lstPages&&this.view.lstPages.setDataProvider(this.model.pages,!F6T.E4d);this.view.lstRows&&this.view.lstRows.setDataProvider(this.model.rows,!F6T.E4d);this.view.lstColumns&&this.view.lstColumns.setDataProvider(this.model.columns,!F6T.E4d);this.view.lstMeasures&&this.view.lstMeasures.setDataProvider(this.model.measures,!F6T.E4d);this.view.btnCollapseExpand&&this.view.btnCollapseExpand.isVisible(this.model.hasFolders);this.view.searchWrap&&this.view.searchWrap.isVisible(this.model.isSearchNeeded);this.view.inpSearch&&(this.view.inpSearch.clear(!F6T.E4d),this.model.clearSearch());this.view.setLabels();this.view.container.requestAnimationFrame(function(){N7g.validateView();});};d1j.prototype.validateList=function(b7g){var V7g=this;b7g.validateNow();var R7g={onDragStart:function(E7g){return V7g.onDragStart(E7g);},createHelper:function(M7g){return V7g.view.createHelper(M7g);}};utils.browserVersion().isMobile&&(R7g.handle=P933.N5O);var Y7g=b7g.container.find(s933.r5d,!Q933.R4d);if(b7g==this.view.lstHierarchies)for(b7g=Q933.R4d;b7g<Y7g.length;b7g++)Y7g[b7g].hasClass(P933.b5O)&&!Y7g[b7g].hasClass(P933.V5O)||Y7g[b7g].draggable(R7g);else for(b7g.droppable({onDrop:function(J7g,k7g,C7g,a7g){return V7g.onDrop(J7g,k7g,C7g,a7g);},onDragEnter:function(H7g,A7g,O7g,u7g){return V7g.onDragEnterOrOver(H7g,A7g,O7g,u7g);},onDragOver:function(x7g,i7g,l7g,G7g){return V7g.onDragEnterOrOver(x7g,i7g,l7g,G7g);},onDragLeave:function(j7g,U7g,T7g,f7g){return V7g.onDragLeave(j7g,U7g,T7g,f7g);},itemSelector:s933.r5d}),b7g=Q933.R4d;b7g<Y7g.length;b7g++)Y7g[b7g].draggable(R7g);};d1j.prototype.validateView=function(){try{this.validateSlice(),this.validateList(this.view.lstHierarchies),this.validateList(this.view.lstPages),this.validateList(this.view.lstRows),this.validateList(this.view.lstColumns),this.validateList(this.view.lstMeasures);}catch(c7g){}};return d1j;}(events.EventDispatcher);h1j.PivotFieldsController=D1j;}(v1j._pivot||(v1j._pivot={})));}(q1j.config||(q1j.config={})));}(B1j._view||(B1j._view={})));}(pivot||(pivot={})));(function(W7g){(function(n7g){(function(y7g){(function(m7g){var K7g=function(I7g){__extends(r7g,I7g);r7g.prototype.onViewResize=function(D7g){this.setWidth(D7g.size.width+(D7g.size.width-D7g.originalSize.width));this.addLayoutClasses();this.centerPosition();};r7g.prototype.setControls=function(){var R6T=s933;var Y6T=P933;var V6T=Q933;var o5O="wdr-wrap-measures";var d5O="wdr-list-wrap wdr-list-wrap-measures";var D5O="wdr-lst-columns";var h5O="wdr-wrap-columns";var v5O="wdr-list-wrap wdr-list-wrap-cols";var q5O="wdr-lst-rows";var B5O="wdr-wrap-rows";var I5O="wdr-list-wrap wdr-list-wrap-rows";var m5O="wdr-lst-pages";var y5O="wdr-wrap-pages";var n5O="wdr-list-wrap wdr-list-wrap-pages";var G5O="button";var i5O="wdr-btn-collapse-expand-all";var x5O="wdr-ui-link-btn";var u5O="wdr-list-header-label-wrap";var O5O="wdr-list-header wdr-list-header-wide";var A5O="wdr-list-wrap wdr-list-wrap-all";var H5O="wdr-ui-col-3";var s4g=this,X4g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.Y5O);this.addChild(X4g);var d7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.R5O);X4g.addChild(d7g);this.lblTitle=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(Y6T.m7O);d7g.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.lblSubtitle.addClass(Y6T.E5O);d7g.addChild(this.lblSubtitle);d7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.M5O);X4g.addChild(d7g);this.btnAddMeasure=new uicontrols.UIButton(Y6T.J5O);this.btnAddMeasure.setId(Y6T.k5O);this.btnAddMeasure.setLabel(W7g.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);d7g.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(W7g.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(Y6T.d7O);this.btnOk.setLabel(W7g.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(d7g.addChild(this.btnCancel),d7g.addChild(this.btnOk)):(d7g.addChild(this.btnOk),d7g.addChild(this.btnCancel));X4g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.C5O);this.addChild(X4g);var P4g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.a5O);X4g.addChild(P4g);d7g=new uicontrols.UIComponentBase(V6T.S3d,H5O);P4g.addChild(d7g);var Q4g=new uicontrols.UIComponentBase(V6T.S3d,A5O);d7g.addChild(Q4g);var o7g=new uicontrols.UIComponentBase(V6T.S3d,O5O);Q4g.addChild(o7g);d7g=new uicontrols.UIComponentBase(V6T.S3d,u5O);o7g.addChild(d7g);this.lblHierarchies=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);d7g.addChild(this.lblHierarchies);this.btnCollapseExpand=new uicontrols.UIButton(x5O);this.btnCollapseExpand.removeClass(V6T.K3d);this.btnCollapseExpand.setId(i5O);this.btnCollapseExpand.setLabel(W7g.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);d7g.addChild(this.btnCollapseExpand);this.searchWrap=new uicontrols.UIComponentBase(V6T.S3d,Y6T.l5O);o7g.addChild(this.searchWrap);d7g=new uicontrols.UIComponentBase(G5O,Y6T.j5O);d7g.addEventListener(V6T.m3d,function(){return s4g.onSearchClick();});this.searchWrap.addChild(d7g);o7g=new uicontrols.UIComponentBase(V6T.q3d,Y6T.U5O);d7g.addChild(o7g);this.inpSearch=new uicontrols.UITextInput();this.inpSearch.addClass(Y6T.T5O);this.searchWrap.addChild(this.inpSearch);d7g=new uicontrols.UIComponentBase(V6T.q3d,Y6T.f5O);d7g.addEventListener(V6T.m3d,function(){return s4g.onSearchCloseClick();});this.searchWrap.addChild(d7g);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.c5O);Q4g.addChild(o7g);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(Y6T.W5O);this.lstHierarchies.setItemRendererFactory(function(S4g,L4g){return s4g.selectableItemRendererFactory(S4g,L4g);});this.lstHierarchies.setLabelField(R6T.P6B);o7g.addChild(this.lstHierarchies);d7g=new uicontrols.UIComponentBase(V6T.S3d,H5O);P4g.addChild(d7g);Q4g=new uicontrols.UIComponentBase(V6T.S3d,n5O);Q4g.setId(y5O);d7g.addChild(Q4g);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.K5O);Q4g.addChild(o7g);this.lblPages=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_FILTERS);o7g.addChild(this.lblPages);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.c5O);Q4g.addChild(o7g);this.lstPages=new uicontrols.lists.UIList();this.lstPages.setId(m5O);this.lstPages.setItemRendererFactory(function(g4g,w4g){return s4g.fieldItemRendererFactory(g4g,w4g);});this.lstPages.setLabelField(R6T.P6B);o7g.addChild(this.lstPages);this.lblPagesPrompt=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblPagesPrompt.addClass(Y6T.r5O);Q4g.addChild(this.lblPagesPrompt);Q4g=new uicontrols.UIComponentBase(V6T.S3d,I5O);Q4g.setId(B5O);d7g.addChild(Q4g);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.K5O);Q4g.addChild(o7g);this.lblRows=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_ROWS);o7g.addChild(this.lblRows);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.c5O);Q4g.addChild(o7g);this.lstRows=new uicontrols.lists.UIList();this.lstRows.setId(q5O);this.lstRows.setItemRendererFactory(function(z4g,Z4g){return s4g.fieldItemRendererFactory(z4g,Z4g);});this.lstRows.setLabelField(R6T.P6B);o7g.addChild(this.lstRows);this.lblRowsPrompt=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.addClass(Y6T.r5O);Q4g.addChild(this.lblRowsPrompt);d7g=new uicontrols.UIComponentBase(V6T.S3d,H5O);P4g.addChild(d7g);Q4g=new uicontrols.UIComponentBase(V6T.S3d,v5O);Q4g.setId(h5O);d7g.addChild(Q4g);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.K5O);Q4g.addChild(o7g);this.lblColumns=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_COLUMNS);o7g.addChild(this.lblColumns);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.c5O);Q4g.addChild(o7g);this.lstColumns=new uicontrols.lists.UIList();this.lstColumns.setId(D5O);this.lstColumns.setItemRendererFactory(function(t4g,p4g){return s4g.fieldItemRendererFactory(t4g,p4g);});this.lstColumns.setLabelField(R6T.P6B);o7g.addChild(this.lstColumns);this.lblColumnsPrompt=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.addClass(Y6T.r5O);Q4g.addChild(this.lblColumnsPrompt);Q4g=new uicontrols.UIComponentBase(V6T.S3d,d5O);Q4g.setId(o5O);d7g.addChild(Q4g);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.K5O);Q4g.addChild(o7g);this.lblMeasures=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_VALUES);o7g.addChild(this.lblMeasures);o7g=new uicontrols.UIComponentBase(V6T.S3d,Y6T.c5O);Q4g.addChild(o7g);this.lstMeasures=new uicontrols.lists.UIList();this.lstMeasures.setId(Y6T.Q0O);this.lstMeasures.setItemRendererFactory(function(F4g,e4g){return s4g.fieldItemRendererFactory(F4g,e4g);});this.lstMeasures.setLabelField(R6T.P6B);o7g.addChild(this.lstMeasures);this.lblMeasuresPrompt=new uicontrols.UILabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.addClass(Y6T.r5O);Q4g.addChild(this.lblMeasuresPrompt);this.aggrView=new y7g.AggregationsView();this.aggrView.setId(Y6T.s0O);this.aggrView.hide();X4g.addChild(this.aggrView);};r7g.prototype.setLabels=function(){this.lblTitle.setLabel(W7g.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(W7g.model._labels.Labels.FIELDS_LIST_SUBTITLE);this.btnCancel.setLabel(W7g.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(W7g.model._labels.Labels.BUTTON_APPLY);this.lblHierarchies.setLabel(W7g.model._labels.Labels.FIELDS_LIST_ALL_FIELDS);this.lblPages.setLabel(W7g.model._labels.Labels.FIELDS_LIST_FILTERS);this.lblRows.setLabel(W7g.model._labels.Labels.FIELDS_LIST_ROWS);this.lblColumns.setLabel(W7g.model._labels.Labels.FIELDS_LIST_COLUMNS);this.lblMeasures.setLabel(W7g.model._labels.Labels.FIELDS_LIST_VALUES);this.btnAddMeasure.setLabel(W7g.model._labels.Labels.FIELDS_LIST_ADD_CALCULATED_MEASURE);this.lblPagesPrompt.setLabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblRowsPrompt.setLabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblColumnsPrompt.setLabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.lblMeasuresPrompt.setLabel(W7g.model._labels.Labels.FIELDS_LIST_DROP_FIELD);this.btnCollapseExpand.setLabel(this.controller.isExpandAll?W7g.model._labels.Labels.FIELDS_LIST_EXPAND_ALL:W7g.model._labels.Labels.FIELDS_LIST_COLLAPSE_ALL);};r7g.prototype.fieldItemRendererFactory=function(b4g,V4g){var N4g=new y7g.renderers.FieldItemRenderer();N4g.setData(b4g);N4g.setIndex(V4g);return N4g;};r7g.prototype.selectableItemRendererFactory=function(E4g,R4g){var Y4g=new y7g.renderers.SelectableItemRenderer(E4g,R4g);Y4g.setIndex(R4g);return Y4g;};r7g.prototype.onSearchClick=function(){this.searchWrap.addClass(P933.X0O);this.inpSearch.container.focus();};r7g.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(P933.X0O);this.inpSearch.clear();};r7g.prototype.reset=function(){this.searchWrap.removeClass(P933.X0O);this.inpSearch.clear(!Q933.E4d);};r7g.prototype.createHelper=function(J4g){var a6T=P933;var C6T=Q933;var M4g=new uicontrols.UIElement(C6T.q3d);M4g.attr(C6T.o2d,a6T.P0O);M4g.addClass(a6T.Y3O);M4g.addClass(C6T.l2d);M4g.toggleClass(a6T.S0O,J4g.hasClass(a6T.S0O));M4g.css(C6T.R3d,J4g.css(C6T.R3d));M4g.css(C6T.E5d,s933.M5d);M4g.css(a6T.E3O,C6T.a6d);M4g.attr(s933.I5d,J4g.attr(s933.I5d));M4g.text(J4g.text());return M4g;};function r7g(q7g,v7g){var L0O="wdr-pivot-fields";var B7g=I7g.call(this,v7g)||this;B7g.toolbarHeight=Q933.R4d;B7g.controller=q7g;B7g.addClass(L0O);B7g.setControls();B7g.container.disableSelection();B7g.container.resizable({sides:[Q933.J3d,Q933.C3d],resize:function(h7g){return B7g.onViewResize(h7g);}});return B7g;}r7g.prototype.addLayoutClasses=function(k4g){I7g.prototype.addLayoutClasses.call(this,!Q933.R4d);};return r7g;}(uicontrols.containers.UIPopup);m7g.PivotFieldsView=K7g;}(y7g._pivot||(y7g._pivot={})));}(n7g.config||(n7g.config={})));}(W7g._view||(W7g._view={})));}(pivot||(pivot={})));(function(C4g){(function(a4g){(function(H4g){var A4g=function(u4g){var B8E=Q933;var k0O="EVENT_OPEN";var J0O="EVENT_APPLY_SLICE";var M0O="isOpen";var E0O="containtment";var R0O="modalParent";var V0O="isForDillThrough";var b0O="hasChanged";var N0O="isSliceChange";var e0O="isDataSourceChange";var F0O="isActiveChange";var p0O="isFlatChange";var w0O="wdr-fields-opened";__extends(O4g,u4g);O4g.prototype.setControls=function(){var g0O="wdr-btn-open-fields";var i4g=this;this.openBtn=new uicontrols.UIButton();this.openBtn.setId(g0O);this.openBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(l4g){return i4g.onOpenClick();});this.addChild(this.openBtn);};O4g.prototype.open=function(j4g,U4g,G4g){var t0O="wdr-dt-fields-overlay";var Z0O="wdr-dt-fields";var z0O="wdr-fields-view";void B8E.R4d===G4g&&(G4g=B8E.s3d);this.container.toggleClass(w0O,!B8E.R4d);this.isForDillThrough||(C4g.model.JavaScriptHandlers.getInstance().dispatch(new C4g.model.APIEvent(C4g.model.JavaScriptHandlers.FILDS_LIST_OPEN)),C4g.model._options.OptionsManager.configuratorOpened=!B8E.R4d);this._isFlat=C4g.model._options.OptionsManager.flatView;this.controller=this.getController();this.controller.update(j4g,U4g,G4g,this.hasChanged);this.controller.view.setId(z0O);this.controller.view.container.toggleClass(Z0O,this.isForDillThrough);this.controller.view.overlay.container.toggleClass(t0O,this.isForDillThrough);this._modalParent?this._modalParent.addChild(this.controller.view.container):this.addChild(this.controller.view);this.isVisible()||this.show();this.controller.view.open();this._isActive=!B8E.R4d;this._prevSlice=C4g.data_.Cube.getInstance().slice_?C4g.data_.Cube.getInstance().slice_.clone():B8E.V2d;this._connectionInfo=C4g.data_.Cube.getInstance().connectionInfo_;};Object.defineProperty(O4g.prototype,p0O,{get:function(){return this._isFlat!=C4g.model._options.OptionsManager.flatView;},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,F0O,{get:function(){return this._isActive!=C4g.model._options.OptionsManager.configuratorOpened;},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,e0O,{get:function(){return B8E.V2d==this._connectionInfo||B8E.V2d==C4g.data_.Cube.getInstance().structure_||!this._connectionInfo.isEqual(C4g.data_.Cube.getInstance().connectionInfo_);},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,N0O,{get:function(){return B8E.V2d==C4g.data_.Cube.getInstance().slice_&&B8E.V2d!=this._prevSlice||B8E.V2d!=C4g.data_.Cube.getInstance().slice_&&B8E.V2d==this._prevSlice||C4g.data_.Cube.getInstance().slice_&&this._prevSlice&&!C4g.data_.Cube.getInstance().slice_.isEqual(this._prevSlice);},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,b0O,{get:function(){return this.isActiveChange||this.isDataSourceChange||this.isSliceChange||this.isFlatChange;},enumerable:!B8E.R4d,configurable:!B8E.R4d});O4g.prototype.getController=function(){var W4g=this,T4g=B8E.V2d,c4g=this._isFlat||this._isForDillThrough,f4g=this._modalParent||a4g.PivotView.stage.container;B8E.V2d==this.controller?T4g=c4g?new H4g.flat.FlatFieldsController(f4g):new H4g._pivot.PivotFieldsController(f4g):c4g&&X933.e0B!=this.controller.type?T4g=new H4g.flat.FlatFieldsController(f4g):c4g||X933.F0B==this.controller.type||(T4g=new H4g._pivot.PivotFieldsController(f4g));if(B8E.V2d==T4g)return this.controller;this.controller&&this.controller.removeAllEventListeners();T4g.addEventListener(events._Event.CLOSED,function(){return W4g.onViewClosed();});T4g.addEventListener(O4g.EVENT_APPLY_SLICE,function(n4g){return W4g.onApplySlice(n4g);});return T4g;};O4g.prototype.onApplySlice=function(y4g){this.dispatch(y4g);};O4g.prototype.onViewClosed=function(){this._isActive=void B8E.R4d;this._connectionInfo=B8E.V2d;this._isFlat=void B8E.R4d;this.isForDillThrough||(C4g.model.JavaScriptHandlers.getInstance().dispatch(new C4g.model.APIEvent(C4g.model.JavaScriptHandlers.FILDS_LIST_CLOSE)),C4g.model._options.OptionsManager.getInstance(),C4g.model._options.OptionsManager.configuratorButton?this.show():this.hide(),C4g.model._options.OptionsManager.configuratorOpened=!B8E.E4d,this.dispatchWith(events._Event.CLOSED));this.container.toggleClass(w0O,!B8E.E4d);};O4g.prototype.close=function(){this.controller&&this.controller.view.close();};O4g.prototype.onOpenClick=function(){this.dispatchWith(O4g.EVENT_OPEN);};Object.defineProperty(O4g.prototype,V0O,{get:function(){return this._isForDillThrough;},set:function(K4g){this._isForDillThrough=K4g;},enumerable:!B8E.R4d,configurable:!B8E.R4d});function O4g(){var Y0O="wdr-fields-view-wrap";var x4g=u4g.call(this)||this;x4g.addClass(Y0O);x4g.setControls();return x4g;}Object.defineProperty(O4g.prototype,R0O,{set:function(m4g){this._modalParent=m4g;},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,E0O,{set:function(r4g){},enumerable:!B8E.R4d,configurable:!B8E.R4d});Object.defineProperty(O4g.prototype,M0O,{get:function(){return this._isActive;},enumerable:!B8E.R4d,configurable:!B8E.R4d});O4g.EVENT_APPLY_SLICE=J0O;O4g.EVENT_OPEN=k0O;return O4g;}(uicontrols.UIComponentBase);H4g.FieldsView=A4g;}(a4g.config||(a4g.config={})));}(C4g._view||(C4g._view={})));}(pivot||(pivot={})));(function(I4g){(function(B4g){(function(q4g){(function(h4g){var v4g=function(d4g){__extends(D4g,d4g);D4g.prototype.createTextDisplay=function(){Q933.V2d==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(Q933.q3d),this.textDisplay.attr(Q933.o2d,P933.C0O));};D4g.prototype.createArrgDisplay=function(){Q933.V2d==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(Q933.q3d),this.aggrDisplay.attr(Q933.o2d,P933.w5O));};function D4g(){var o4g=d4g.call(this)||this;o4g.createTextDisplay();return o4g;}D4g.prototype.createDragHandle=function(){Q933.V2d==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(Q933.q3d),this.dragHandle.attr(Q933.o2d,P933.P0O));};D4g.prototype.draw=function(){var T6T=P933;var U6T=Q933;var Q6g=this.getData();this.container.empty();var s6g=U6T.s3d,s6g=U6T.V2d!=this.getLabelFunction()?this.getLabelFunction()(Q6g):Q6g.isLevel?Q6g.hierarchyCaption+T6T.e4O+Q6g[this.getLabelField()]:Q6g[this.getLabelField()];this.textDisplay.text(s6g);this.textDisplay.attr(T6T.W3O,s6g);this.container.append(this.textDisplay);!U6T.R4d==Q6g.isMeasure&&!U6T.R4d==Q6g.showAggregations&&U6T.E4d<Q6g.availableAggregations.length&&I4g.model._options.OptionsManager.showAggregations&&(this.createArrgDisplay(),this.container.append(this.aggrDisplay));this.createDragHandle();this.container.append(this.dragHandle);this.container.toggleClass(T6T.a0O,!U6T.R4d===Q6g.isMeasure);this.container.toggleClass(T6T.S0O,!U6T.R4d===Q6g.isValues);this.container.toggleClass(U6T.t5d,!U6T.R4d===Q6g.isSelected);this.container.toggleClass(T6T.H0O,!U6T.R4d===Q6g.isLevel);};return D4g;}(uicontrols.renderers.UIItemRenderer);h4g.FieldItemRenderer=v4g;}(q4g.renderers||(q4g.renderers={})));}(B4g.config||(B4g.config={})));}(I4g._view||(I4g._view={})));}(pivot||(pivot={})));(function(X6g){(function(P6g){(function(S6g){(function(g6g){var L6g=function(z6g){__extends(w6g,z6g);w6g.prototype.createIconDisplay=function(){var A0O="wdr-icon-display";Q933.V2d==this.iconDisplay&&(this.iconDisplay=new uicontrols.UIElement(Q933.q3d),this.iconDisplay.attr(Q933.o2d,A0O));};w6g.prototype.createMoreIconDisplay=function(){Q933.V2d==this.moreIconDisplay&&(this.moreIconDisplay=new uicontrols.UIElement(Q933.q3d),this.moreIconDisplay.attr(Q933.o2d,P933.Z5O));};w6g.prototype.createTextDisplay=function(){Q933.V2d==this.textDisplay&&(this.textDisplay=new uicontrols.UIElement(Q933.q3d),this.textDisplay.attr(Q933.o2d,P933.C0O));};w6g.prototype.createArrgDisplay=function(){Q933.V2d==this.aggrDisplay&&(this.aggrDisplay=new uicontrols.UIElement(Q933.q3d),this.aggrDisplay.attr(Q933.o2d,P933.w5O));};w6g.prototype.createCalcDisplay=function(){Q933.V2d==this.calcDisplay&&(this.calcDisplay=new uicontrols.UIElement(Q933.q3d),this.calcDisplay.attr(Q933.o2d,P933.z5O));};w6g.prototype.createDragHandle=function(){Q933.V2d==this.dragHandle&&(this.dragHandle=new uicontrols.UIElement(Q933.q3d),this.dragHandle.attr(Q933.o2d,P933.P0O));};function w6g(t6g,p6g){void Q933.R4d===t6g&&(t6g=Q933.V2d);var Z6g=z6g.call(this)||this;Z6g.data=t6g;Z6g.createIconDisplay();Z6g.createTextDisplay();return Z6g;}w6g.prototype.draw=function(){var D6T=Q933;var h6T=P933;var l0O="wdr-calculated";var i0O="wdr-measures-calculated-folder";var x0O="wdr-measures-folder";var u0O="wdr-unchecked";var O0O="wdr-checked";var F6g=this.getData();this.container.empty();this.container.append(this.iconDisplay);F6g.isLevelFolder&&(this.createMoreIconDisplay(),this.container.append(this.moreIconDisplay));this.textDisplay.text(F6g[this.getLabelField()]);this.textDisplay.attr(h6T.W3O,F6g[this.getLabelField()]);this.container.append(this.textDisplay);!D6T.R4d===F6g.isMeasure&&!D6T.R4d===F6g.calculated&&!D6T.R4d===F6g.showAggregations&&(this.createCalcDisplay(),this.container.append(this.calcDisplay));F6g.isFolder||F6g.isMeasuresFolder?D6T.V2d!=this.dragHandle&&this.dragHandle.remove():(this.createDragHandle(),this.container.append(this.dragHandle));for(var N6g=!D6T.R4d===F6g.isSelected||D6T.V2d!=F6g.measureItem&&!D6T.R4d===F6g.measureItem.isSelected,e6g=D6T.E4d;D6T.u4d>e6g;e6g++)this.container.toggleClass(h6T.t6O+e6g,F6g.level===e6g);this.container.toggleClass(D6T.t5d,!D6T.R4d===N6g);this.container.toggleClass(O0O,!D6T.R4d!==F6g.isFolder&&!D6T.R4d!==F6g.isLevel&&!D6T.R4d===N6g);this.container.toggleClass(u0O,!D6T.R4d!==F6g.isFolder&&!D6T.R4d!==F6g.isLevel&&!D6T.R4d!==N6g);this.container.toggleClass(h6T.a0O,!D6T.R4d===F6g.isMeasure);this.container.toggleClass(h6T.b5O,!D6T.R4d===F6g.isFolder||!D6T.R4d===F6g.isLevelFolder);this.container.toggleClass(h6T.V5O,!D6T.R4d===F6g.isLevelFolder);this.container.toggleClass(h6T.H0O,!D6T.R4d===F6g.isLevel);this.container.toggleClass(x0O,!D6T.R4d===F6g.isMeasuresFolder);this.container.toggleClass(i0O,!D6T.R4d===F6g.isMeasuresFolder&&!D6T.R4d===F6g.isCalculatedMeasuresFolder);this.container.toggleClass(l0O,!D6T.R4d===F6g.calculated);this.container.toggleClass(P6g.grid.vo.GridStyleName.COLLAPSED,(!D6T.R4d===F6g.isFolder||!D6T.R4d===F6g.isLevelFolder)&&!D6T.R4d!==F6g.isExpanded);this.container.toggleClass(P6g.grid.vo.GridStyleName.EXPANDED,(!D6T.R4d===F6g.isFolder||!D6T.R4d===F6g.isLevelFolder)&&!D6T.R4d===F6g.isExpanded);};return w6g;}(uicontrols.renderers.UIItemRenderer);g6g.SelectableItemRenderer=L6g;}(S6g.renderers||(S6g.renderers={})));}(P6g.config||(P6g.config={})));}(X6g._view||(X6g._view={})));}(pivot||(pivot={})));(function(b6g){(function(V6g){(function(Y6g){(function(E6g){var R6g=function(){M6g.prototype.update=function(u6g,O6g){var d6T=Q933;this._structure=u6g;this._slice=O6g;this.hierarchies=[];var J6g,C6g=d6T.V2d,H6g=this._structure.calculatedMeasures;if(d6T.V2d!=this._slice)for(var C6g=this._slice.flatten(!d6T.R4d),k6g=d6T.R4d;k6g<C6g.length;k6g++)J6g=C6g.getItemAt(k6g),H6g.keyExists(J6g.uniqueName)&&(J6g=H6g.getItem(J6g.uniqueName),J6g.showAggregations=b6g.model._options.OptionsManager.showAggregations,J6g.isMeasure=!d6T.R4d),J6g.isSelected=!d6T.R4d,this.hierarchies.push(J6g);for(var a6g=[],A6g=this._structure.allHierarchies(!d6T.E4d),k6g=d6T.R4d;k6g<A6g.length;k6g++)J6g=A6g.getItemAt(k6g),d6T.V2d==C6g||C6g.keyExists(J6g.uniqueName)||(J6g.isSelected=!d6T.E4d,a6g.push(J6g));for(k6g=d6T.R4d;k6g<H6g.length;k6g++)J6g=H6g.getItemAt(k6g),d6T.V2d==C6g||C6g.keyExists(J6g.uniqueName)||(J6g.isSelected=O6g.measures_.keyExists(J6g.uniqueName)||-d6T.E4d<this.newCalculated.indexOf(J6g.uniqueName),J6g.showAggregations=b6g.model._options.OptionsManager.showAggregations,J6g.isMeasure=!d6T.R4d,a6g.push(J6g));a6g.sort(function(x6g,i6g){return x6g.caption<i6g.caption?-d6T.E4d:x6g.caption>i6g.caption?d6T.E4d:d6T.R4d;});for(k6g=d6T.R4d;k6g<a6g.length;k6g++)J6g=a6g[k6g],this.hierarchies.push(J6g);};M6g.prototype.isValidSlice=function(){return!Q933.R4d;};M6g.prototype.toPlainArray=function(T6g,U6g){for(var G6g=[],l6g=Q933.R4d;l6g<U6g.length;l6g++){var j6g=T6g[U6g[l6g]];j6g.isSelected&&G6g.push(j6g.uniqueName);}return G6g;};function M6g(){this.newCalculated=[];}M6g.prototype.getSlice=function(y6g){var X2T=Q933;var f6g=this._slice.clone();y6g=this.toPlainArray(this.hierarchies,y6g);f6g.flatOrder=y6g;for(var m6g=f6g.flatten(!X2T.R4d),W6g,K6g=f6g.measures_,n6g=X2T.R4d;n6g<y6g.length;n6g++){var c6g=y6g[n6g];m6g.keyExists(c6g)||((W6g=this._structure.allHierarchies().getItem(c6g))?f6g.rows.addItem(c6g,W6g):this._structure.calculatedMeasures.keyExists(c6g)&&(K6g.addItem(c6g,this._structure.calculatedMeasures.getItem(c6g)),f6g.measures_=K6g));}for(n6g=X2T.R4d;n6g<m6g.length;n6g++)W6g=m6g.getItemAt(n6g),-X2T.E4d==y6g.indexOf(W6g.uniqueName)&&(f6g.columns.keyExists(W6g.uniqueName)&&f6g.columns.removeItem(W6g.uniqueName),f6g.rows.keyExists(W6g.uniqueName)&&f6g.rows.removeItem(W6g.uniqueName),c6g=this._structure.hierarchyToMeasure(W6g.uniqueName),X2T.V2d==c6g&&(c6g=this._structure.calculatedMeasures.getItem(W6g.uniqueName)),K6g.keyExists(c6g.uniqueName)&&K6g.removeItem(c6g.uniqueName));f6g.measures_=K6g;this.newCalculated=[];return f6g;};M6g.prototype.onCalculatedValueAdded=function(I6g){var P2T=Q933;if(P2T.V2d!=this._slice&&P2T.V2d!=this._structure){this.update(this._structure,this._slice);var r6g=utils.ArrayUtils.find(this.hierarchies,I6g,X933.b0B);P2T.V2d!=r6g&&(r6g.isSelected=!P2T.R4d);this.newCalculated.push(I6g);}};M6g.prototype.onCalculatedValueRemoved=function(B6g){Q933.V2d!=this._slice&&Q933.V2d!=this._structure&&this.update(this._structure,this._slice);};M6g.prototype.isSliceDifferent=function(q6g){var o6T=Q933;q6g=q6g.flatten(!o6T.R4d);var h6g=this._slice.flatten(!o6T.R4d);if(q6g.length!=h6g.length)return!o6T.R4d;for(var v6g=o6T.R4d;v6g<q6g.length;v6g++)if(q6g.getKeyAt(v6g)!=h6g.getKeyAt(v6g))return!o6T.R4d;return!o6T.E4d;};M6g.prototype.getSelectAllSelection=function(){for(var D6g=Q933.R4d,d6g=Q933.R4d;d6g<this.hierarchies.length;d6g++)this.hierarchies[d6g].isSelected&&D6g++;return Q933.R4d==D6g?uicontrols.UICheckBox.UNSELECTED:D6g==this.hierarchies.length?uicontrols.UICheckBox.SELECTED:uicontrols.UICheckBox.SEMI_SELECTED;};return M6g;}();E6g.FlatFieldsModel=R6g;}(Y6g.flat||(Y6g.flat={})));}(V6g.config||(V6g.config={})));}(b6g._view||(b6g._view={})));}(pivot||(pivot={})));(function(o6g){(function(Q2g){(function(s2g){(function(X2g){var P2g=function(L2g){var G0O="wdr-drag-over";__extends(S2g,L2g);S2g.prototype.onDragEnterOrOver=function(u2g,x2g,l2g,i2g){this.removeDropIndicator();u2g&&u2g.closest(s933.q5d)&&(x2g&&x2g.addClass(P933.t5O),u2g.addClass(G0O),this.showIndicator(uicontrols.UIElement.convert(i2g.target)));};S2g.prototype.onDragLeave=function(j2g,G2g,U2g,T2g){this.removeDropIndicator();j2g&&j2g.closest(s933.q5d)&&(G2g&&G2g.removeClass(P933.t5O),G2g&&G2g.removeClass(P933.p5O),j2g.removeClass(G0O));};S2g.prototype.onDrop=function(f2g,W2g,c2g,n2g){var w4T=Q933;this.removeDropIndicator();f2g&&f2g.closest(s933.q5d)&&(f2g=parseInt(f2g.attr(s933.I5d)),c2g=c2g?parseFloat(c2g.attr(s933.I5d)):this.view.lstHierarchies.getDataProvider().length,f2g!=c2g&&(W2g=this.view.lstHierarchies.getDataProvider(),f2g<c2g&&(c2g-=w4T.E4d),W2g.splice(c2g,w4T.R4d,W2g.splice(f2g,w4T.E4d)[w4T.R4d]),this.updateView()));};S2g.prototype.onCancelClick=function(){this.view.close();};S2g.prototype.onOkClick=function(){this.applySlice();this.view.close();};S2g.prototype.onSelectAllChange=function(){for(var m2g=this.view.selectAllCbx.checked,K2g=this.model_.hierarchies,y2g=Q933.R4d;y2g<K2g.length;y2g++)K2g[y2g].isSelected=m2g;this.view.lstHierarchies.validateNow();};S2g.prototype.onHierarchyFieldClick=function(B2g){var r2g=uicontrols.UIElement.convert(B2g.target).closest(s933.r5d);if(Q933.V2d!=r2g){var r2g=parseInt(r2g.attr(s933.I5d)),I2g=this.model_.hierarchies[r2g];P933.z5O==uicontrols.UIElement.convert(B2g.target).attr(Q933.o2d)?o6g.model.PivotModel.getInstance().dispatchWith(Q2g.ViewEvent.CALCULATED_VIEW_OPEN,Q933.V2d,{measureName:I2g.uniqueName}):(I2g.isSelected=!I2g.isSelected,this.view.lstHierarchies&&this.view.lstHierarchies.validateItemAt(r2g),this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection()));}};S2g.prototype.onAddMeasureClick=function(){o6g.model.PivotModel.getInstance().dispatchWith(Q2g.ViewEvent.CALCULATED_VIEW_OPEN);o6g.model.PivotModel.getInstance().addEventListener(Q2g.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);o6g.model.PivotModel.getInstance().addEventListener(Q2g.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);};S2g.prototype.onCalculatedValueAdded=function(q2g){o6g.model.PivotModel.getInstance().removeEventListener(Q2g.calculated.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,this.calculatedValueAddedHandler);this.model_.onCalculatedValueAdded(q2g.data.measureUniqueName);this.updateView();};S2g.prototype.onCalculatedValueRemoved=function(v2g){o6g.model.PivotModel.getInstance().removeEventListener(Q2g.calculated.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,this.calculatedValueRemovedHandler);this.model_.onCalculatedValueRemoved(v2g.data);this.updateView();};S2g.prototype.updateView=function(){var o2g=this;if(this.view.lstHierarchies){this.view.lstHierarchies.setDataProvider(this.model_.hierarchies);this.validateSlice();this.view.lstHierarchies.validateNow();var D2g={createHelper:function(Q3g){return o2g.view.createHelper(Q3g);}};utils.browserVersion().isMobile&&(D2g.handle=P933.N5O);for(var d2g=this.view.lstHierarchies.container.find(s933.r5d,!Q933.R4d),h2g=Q933.R4d;h2g<d2g.length;h2g++)d2g[h2g].draggable(D2g);}};S2g.prototype.update=function(s3g,X3g){this.model_.update(s3g,X3g);this.updateView();this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(this.model_.getSelectAllSelection());this.view.setLabels();};S2g.prototype.validateSlice=function(){this.view.btnOk&&this.view.btnOk.setEnabled(this.model_.isValidSlice());};S2g.prototype.applySlice=function(){for(var P3g=[],L3g=this.view.lstHierarchies.container.find(s933.r5d,!Q933.R4d),S3g=Q933.R4d;S3g<L3g.length;S3g++){var g3g=parseInt(L3g[S3g].attr(s933.I5d));P3g.push(g3g);}P3g=this.model_.getSlice(P3g);this.model_.isSliceDifferent(P3g)&&this.dispatchWith(s2g.FieldsView.EVENT_APPLY_SLICE,this,P3g);};S2g.prototype.showIndicator=function(w3g){var z3g=w3g.closest(s933.r5d);Q933.V2d!=z3g?(this._dropIndicator=this.createDropIndicator(),z3g.before(this._dropIndicator)):(w3g=w3g.closest(s933.q5d),Q933.V2d!=w3g&&(this._dropIndicator=this.createDropIndicator(),Q933.R4d<w3g.element.children.length?w3g.append(this._dropIndicator):w3g.prepend(this._dropIndicator)));};S2g.prototype.createDropIndicator=function(){return new uicontrols.UIElement(Q933.S3d,P933.F5O);};function S2g(w2g){var g2g=L2g.call(this)||this;g2g.type=X933.e0B;g2g.calculatedValueAddedHandler=function(z2g){return g2g.onCalculatedValueAdded(z2g);};g2g.calculatedValueRemovedHandler=function(Z2g){return g2g.onCalculatedValueRemoved(Z2g);};g2g.model_=new X2g.FlatFieldsModel();g2g.view=new X2g.FlatFieldsView(g2g,w2g);g2g.view.addEventListener(events._Event.CLOSED,function(t2g){return g2g.dispatch(t2g);});g2g.view.btnOk&&g2g.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return g2g.onOkClick();});g2g.view.btnCancel&&g2g.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return g2g.onCancelClick();});g2g.view.lstHierarchies&&(g2g.view.lstHierarchies.container.addEventListener(Q933.m3d,function(p2g){return g2g.onHierarchyFieldClick(p2g);}),g2g.view.lstHierarchies.container.droppable({onDrop:function(F2g,e2g,N2g,b2g){return g2g.onDrop(F2g,e2g,N2g,b2g);},onDragEnter:function(V2g,Y2g,R2g,E2g){return g2g.onDragEnterOrOver(V2g,Y2g,R2g,E2g);},onDragOver:function(M2g,J2g,k2g,C2g){return g2g.onDragEnterOrOver(M2g,J2g,k2g,C2g);},onDragLeave:function(a2g,H2g,A2g,O2g){return g2g.onDragLeave(a2g,H2g,A2g,O2g);},itemSelector:s933.r5d}));g2g.view.selectAllCbx&&g2g.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return g2g.onSelectAllChange();});g2g.view.btnAddMeasure&&g2g.view.btnAddMeasure.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return g2g.onAddMeasureClick();});return g2g;}S2g.prototype.removeDropIndicator=function(){this._dropIndicator&&(this._dropIndicator.removeFromParent(!Q933.R4d),this._dropIndicator=Q933.V2d);};return S2g;}(events.EventDispatcher);X2g.FlatFieldsController=P2g;}(s2g.flat||(s2g.flat={})));}(Q2g.config||(Q2g.config={})));}(o6g._view||(o6g._view={})));}(pivot||(pivot={})));(function(Z3g){(function(t3g){(function(p3g){(function(e3g){var F3g=function(b3g){__extends(N3g,b3g);function N3g(Y3g,R3g){var j0O="wdr-flat-fields";var V3g=b3g.call(this,R3g)||this;V3g.addClass(j0O);V3g.controller=Y3g;V3g.setControls();return V3g;}N3g.prototype.setControls=function(){var T7T=P933;var U7T=Q933;var T0O="wdr-select-all-cbx";var U0O="wdr-list-wrap";var M3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.Y5O);this.addChild(M3g);var E3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.R5O);M3g.addChild(E3g);this.lblTitle=new uicontrols.UILabel(Z3g.model._labels.Labels.FIELDS_LIST_TITLE);this.lblTitle.addClass(T7T.m7O);E3g.addChild(this.lblTitle);this.lblSubtitle=new uicontrols.UILabel(Z3g.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.lblSubtitle.addClass(T7T.E5O);E3g.addChild(this.lblSubtitle);E3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.M5O);M3g.addChild(E3g);this.btnAddMeasure=new uicontrols.UIButton(T7T.J5O);this.btnAddMeasure.setId(T7T.k5O);E3g.addChild(this.btnAddMeasure);this.btnCancel=new uicontrols.UIButton();this.btnCancel.setLabel(Z3g.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(T7T.d7O);this.btnOk.setLabel(Z3g.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(E3g.addChild(this.btnCancel),E3g.addChild(this.btnOk)):(E3g.addChild(this.btnOk),E3g.addChild(this.btnCancel));E3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.C5O);this.addChild(E3g);M3g=new uicontrols.UIComponentBase(U7T.S3d,U0O);E3g.addChild(M3g);E3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.K5O);M3g.addChild(E3g);this.selectAllCbx=new uicontrols.UICheckBox();this.selectAllCbx.setId(T0O);this.selectAllCbx.setLabel(Z3g.model._labels.Labels.FILTER_SELECT_ALL);E3g.addChild(this.selectAllCbx);E3g=new uicontrols.UIComponentBase(U7T.S3d,T7T.c5O);M3g.addChild(E3g);this.lstHierarchies=new uicontrols.lists.UIList();this.lstHierarchies.setId(T7T.W5O);this.lstHierarchies.setItemRendererFactory(this.selectableItemRendererFactory);this.lstHierarchies.setLabelField(s933.P6B);E3g.addChild(this.lstHierarchies);};N3g.prototype.selectableItemRendererFactory=function(k3g,C3g){var J3g=new p3g.renderers.SelectableItemRenderer(k3g,C3g);J3g.setData(k3g);J3g.setIndex(C3g);return J3g;};N3g.prototype.setLabels=function(){this.lblTitle.setLabel(Z3g.model._labels.Labels.FIELDS_LIST_TITLE);this.lblSubtitle.setLabel(Z3g.model._labels.Labels.FIELDS_LIST_FLAT_HIERARCHY_BOX);this.btnCancel.setLabel(Z3g.model._labels.Labels.BUTTON_CANCEL);this.btnOk.setLabel(Z3g.model._labels.Labels.BUTTON_APPLY);this.selectAllCbx.setLabel(Z3g.model._labels.Labels.FILTER_SELECT_ALL);};N3g.prototype.createHelper=function(H3g){var H9T=P933;var a9T=Q933;var a3g=new uicontrols.UIElement(a9T.q3d);a3g.attr(a9T.o2d,H9T.P0O);a3g.addClass(H9T.Y3O);a3g.addClass(a9T.l2d);a3g.toggleClass(H9T.S0O,H3g.hasClass(H9T.S0O));a3g.css(a9T.R3d,H3g.css(a9T.R3d));a3g.css(a9T.E5d,s933.M5d);a3g.css(H9T.E3O,a9T.a6d);a3g.attr(s933.I5d,H3g.attr(s933.I5d));a3g.text(H3g.text());return a3g;};return N3g;}(uicontrols.containers.UIPopup);e3g.FlatFieldsView=F3g;}(p3g.flat||(p3g.flat={})));}(t3g.config||(t3g.config={})));}(Z3g._view||(Z3g._view={})));}(pivot||(pivot={})));(function(A3g){(function(O3g){(function(u3g){var x3g=function(l3g){var n0O="EVENT_CALCULATED_VALUE_REMOVED";var W0O="EVENT_CALCULATED_VALUE_ADDED";__extends(i3g,l3g);function i3g(){var c0O="wdr-calculated-view-overlay";var f0O="wdr-calculated-view";var G3g=l3g.call(this,O3g.PivotView.stage.container)||this;G3g.setId(f0O);G3g.container.disableSelection();G3g.overlay.addClass(c0O);G3g.controller=new u3g.CalculatedController();G3g.controller.addEventListener(events._Event.CLOSE,function(){return G3g.close();});G3g.addChild(G3g.controller.view);return G3g;}i3g.prototype.openView=function(j3g){this.controller.update(j3g);this.open();};i3g.prototype.close=function(){l3g.prototype.close.call(this);this.controller.clear();};i3g.EVENT_CALCULATED_VALUE_ADDED=W0O;i3g.EVENT_CALCULATED_VALUE_REMOVED=n0O;i3g.addingMeasureFlag=!Q933.E4d;return i3g;}(uicontrols.containers.UIPopup);u3g.CalculatedView=x3g;}(O3g.calculated||(O3g.calculated={})));}(A3g._view||(A3g._view={})));}(pivot||(pivot={})));(function(U3g){(function(T3g){(function(f3g){var c3g=function(){W3g.prototype.update=function(n3g){utils.nullOrEmpty(n3g)||(this.currentMeasure=this.model_.cube_.structure_.findMeasure(n3g));};Object.defineProperty(W3g.prototype,X933.I6B,{get:function(){return!Q933.R4d;},enumerable:!Q933.R4d,configurable:!Q933.R4d});W3g.prototype.getAllMeasures=function(){return this.model_.getAllMeasures();};W3g.prototype.removeMeasure=function(y3g){f3g.CalculatedView.addingMeasureFlag=!Q933.R4d;this.model_.removeCalculatedMeasure(y3g.uniqueName);this.model_.dispatchWith(f3g.CalculatedView.EVENT_CALCULATED_VALUE_REMOVED,Q933.V2d,y3g.uniqueName);utils.fmSetTimeout(function(){f3g.CalculatedView.addingMeasureFlag=!Q933.E4d;},s933.N0d);};W3g.prototype.addMeasure=function(I3g,K3g,r3g){var G6i=Q933;void G6i.R4d===K3g&&(K3g=G6i.s3d);void G6i.R4d===r3g&&(r3g=!G6i.E4d);K3g=G6i.R4d<K3g.length?K3g:this.generateMeasureName();var m3g;if(G6i.V2d!=this.currentMeasure){if(this.currentMeasure.caption!=K3g||this.currentMeasure.formula!=I3g||this.currentMeasure.individual!=r3g)m3g=new U3g.data_._structure.GenericMeasure(this.currentMeasure.uniqueName,K3g),m3g.formula=I3g,m3g.individual=r3g;}else m3g=new U3g.data_._structure.GenericMeasure(K3g,K3g),m3g.formula=I3g,m3g.individual=r3g;G6i.V2d!=m3g&&(f3g.CalculatedView.addingMeasureFlag=!G6i.R4d,T3g.config._pivot.PivotFieldsModel.expandFormulas=!G6i.R4d,this.model_.addCalculatedMeasure(m3g),this.model_.dispatchWith(f3g.CalculatedView.EVENT_CALCULATED_VALUE_ADDED,G6i.V2d,{measureUniqueName:m3g.uniqueName}),utils.fmSetTimeout(function(){f3g.CalculatedView.addingMeasureFlag=!G6i.E4d;},s933.N0d));};W3g.prototype.isValidFormula=function(B3g){B3g=new utils.Lexer().parse(B3g);return Q933.V2d!=B3g&&void Q933.R4d!=B3g.length;};W3g.prototype.generateMeasureName=function(){var N6i=Q933;var y0O=" #";for(var d3g=U3g.model._labels.Labels.CALCULATED_VIEW_FORMULA+y0O,q3g=N6i.R4d,h3g=this.model_.cube_.structure_.calculatedMeasures,o3g=RegExp(U3g.model._labels.Labels.CALCULATED_VIEW_FORMULA+y0O),v3g=N6i.R4d;v3g<h3g.length;v3g++){var D3g=h3g.getItemAt(v3g).caption;o3g.test(D3g)&&(q3g=Math.max(q3g,parseInt(D3g.substr(U3g.model._labels.Labels.CALCULATED_VIEW_FORMULA.length+N6i.M4d))));}return d3g+(q3g+N6i.E4d);};function W3g(){var F6i=P933;var V1O="MAX";var b1O="_maxBtn";var N1O="MIN";var e1O="_minBtn";var F1O="ABS";var p1O="_absBtn";var t1O="IF";var Z1O="_ifBtn";var z1O="AND";var w1O="_andBtn";var g1O="OR";var L1O="_orBtn";var S1O="_notEqualBtn";var P1O="_equalBtn2";var X1O="\u2265";var s1O="_greaterOrEqualBtn";var Q1O="\u2264";var o0O="_lessOrEqualBtn";var d0O="_greaterBtn";var D0O="_lessBtn";var h0O="_equalBtn";var v0O="_powerBtn";var q0O="\u00f7";var B0O="_divideBtn";var I0O="\u00d7";var r0O="_multiplyBtn";var m0O="_subtractBtn";var K0O="_addBtn";this.model_=U3g.model.PivotModel.getInstance();this.funcButtonsDataProvider=[{name:K0O,label:s933.b8d,func:U3g.data_.consts.FunctionName.ADD},{name:m0O,label:Q933.l3d,func:U3g.data_.consts.FunctionName.SUBTRACT},{name:r0O,label:I0O,func:U3g.data_.consts.FunctionName.MULTIPLY},{name:B0O,label:q0O,func:U3g.data_.consts.FunctionName.DIVIDE},{name:v0O,label:s933.a9h,func:U3g.data_.consts.FunctionName.POWER},{name:h0O,label:s933.G0d,func:U3g.data_.consts.FunctionName.EQUAL},{name:D0O,label:F6i.N9O,func:U3g.data_.consts.FunctionName.LESS},{name:d0O,label:F6i.b9O,func:U3g.data_.consts.FunctionName.GREATER},{name:o0O,label:Q1O,func:U3g.data_.consts.FunctionName.LESS_OR_EQUAL},{name:s1O,label:X1O,func:U3g.data_.consts.FunctionName.GREATER_OR_EQUAL},{name:P1O,label:F6i.V9O,func:U3g.data_.consts.FunctionName.EQUAL_2},{name:S1O,label:F6i.Y9O,func:U3g.data_.consts.FunctionName.NOT_EQUAL},{name:L1O,label:g1O,func:U3g.data_.consts.FunctionName.OR},{name:w1O,label:z1O,func:U3g.data_.consts.FunctionName.AND},{name:Z1O,label:t1O,func:U3g.data_.consts.FunctionName.IF},{name:p1O,label:F1O,func:U3g.data_.consts.FunctionName.ABS},{name:e1O,label:N1O,func:U3g.data_.consts.FunctionName.MIN},{name:b1O,label:V1O,func:U3g.data_.consts.FunctionName.MAX}];}return W3g;}();f3g.CalculatedModel=c3g;}(T3g.calculated||(T3g.calculated={})));}(U3g._view||(U3g._view={})));}(pivot||(pivot={})));(function(Q5g){(function(s5g){(function(X5g){var P5g=function(L5g){var J8E=Q933;var k1O="isFormulaEmpty";var J1O="funcButtonsDataProvider";var Y1O="wdr-droppable-over";__extends(S5g,L5g);function S5g(){var g5g=L5g.call(this)||this;g5g.model_=new X5g.CalculatedModel();g5g.view=new X5g.CalculatedViewContent(g5g);g5g.view.removeButton&&g5g.view.removeButton.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(z5g){return g5g.onRemoveBtnClick(z5g);});g5g.view.measuresDragList&&g5g.view.measuresDragList.setItemRendererFactory(function(Z5g,t5g){return g5g.fieldItemRendererFactory(Z5g,t5g);});g5g.view.formulaInput&&g5g.view.formulaInput.container.droppable({onDrop:function(p5g){return g5g.onMeasureDrop(p5g);},onDragEnter:function(){return g5g.onFormulaDragEnterOrOver();},onDragOver:function(){return g5g.onFormulaDragEnterOrOver();},onDragLeave:function(){return g5g.onFormulaDragLeave();},itemSelector:s933.r5d});g5g.view.btnOk&&g5g.view.btnOk.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return g5g.onOkClick();});g5g.view.btnCancel&&g5g.view.btnCancel.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(){return g5g.onCancelClick();});g5g.view.aggrView&&g5g.view.aggrView.addEventListener(events._Event.CHANGE,function(F5g){return g5g.onAggrChange(F5g);});if(g5g.view.funcBtns)for(var w5g=J8E.R4d;w5g<g5g.view.funcBtns.length;w5g++)g5g.view.funcBtns[w5g].addEventListener(uicontrols.UIButton.CLICK_EVENT,function(e5g){return g5g.onFuncBtnClick(e5g);});return g5g;}S5g.prototype.onFormulaDragEnterOrOver=function(){this.view.formulaInput.addClass(Y1O);};S5g.prototype.onFormulaDragLeave=function(){this.view.formulaInput.removeClass(Y1O);};S5g.prototype.onMeasureDrop=function(N5g){var E1O='{0}("{1}")';var R1O='"{0}"';this.view.formulaInput.removeClass(Y1O);N5g=parseInt(N5g.attr(s933.I5d));N5g=this.view.measuresDragList.getDataProvider()[N5g];N5g.aggregation==Q5g.data_.consts.AggregationName.NONE?this.insertText(utils.StringUtils.bind(R1O,N5g.uniqueName)):this.insertText(utils.StringUtils.bind(E1O,N5g.aggregation,N5g.uniqueName));};S5g.prototype.fieldItemRendererFactory=function(Y5g,R5g){var V5g=this,b5g=new s5g.config.renderers.FieldItemRenderer();b5g.setData(Y5g);b5g.setIndex(R5g);b5g.setLabelFunction(function(E5g){var M1O=" (";return E5g.name+M1O+Q5g.data_.consts.AggregationName.aggregationCaption(E5g.aggregation)+s933.e9h;});b5g.addEventListener(J8E.m3d,function(M5g){return V5g.onAggrClick(M5g);});return b5g;};Object.defineProperty(S5g.prototype,J1O,{get:function(){return this.model_.funcButtonsDataProvider;},enumerable:!J8E.R4d,configurable:!J8E.R4d});Object.defineProperty(S5g.prototype,k1O,{get:function(){return J8E.R4d==this.view.formulaInput.getText().length;},enumerable:!J8E.R4d,configurable:!J8E.R4d});S5g.prototype.update=function(J5g){var C1O="wdr-compact";this.model_.update(J5g);J8E.V2d!=this.model_.currentMeasure?(this.view.nameInput&&(this.view.nameInput.setText(this.model_.currentMeasure.caption),this.view.nameInput.container.toggleClass(C1O,!J8E.R4d)),this.view.formulaInput&&this.view.formulaInput.setText(this.model_.currentMeasure.formula),this.view.removeButton&&this.view.removeButton.isVisible(!J8E.R4d)):(this.view.nameInput&&this.view.nameInput.container.toggleClass(C1O,!J8E.E4d),this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=!J8E.E4d),this.view.removeButton&&this.view.removeButton.isVisible(!J8E.E4d));this.view.cbxIndiValues&&(this.view.cbxIndiValues.checked=this.model_.currentMeasure?this.model_.currentMeasure.individual:!J8E.E4d);this.view.setLabels();this.updateMeasuresList();};S5g.prototype.updateMeasuresList=function(){for(var H5g=this,C5g=this.model_.getAllMeasures(),a5g=[],k5g=J8E.R4d;k5g<C5g.length;k5g++)if(J8E.V2d==this.model_.currentMeasure||this.model_.currentMeasure.uniqueName!=C5g[k5g].uniqueName)C5g[k5g].isMeasure=!J8E.R4d,C5g[k5g].showAggregations=this.model_.showAggregations&&!C5g[k5g].calculated&&C5g[k5g].type!=Q5g.data_.types.MeasureType.COUNT,a5g.push(C5g[k5g]);a5g.sort(this.compareFunction);if(this.view.measuresDragList)for(this.view.measuresDragList.setDataProvider(a5g),C5g={createHelper:function(A5g){return H5g.view.createHelper(A5g);}},utils.browserVersion().isMobile&&(C5g.handle=P933.N5O),a5g=this.view.measuresDragList.container.find(s933.r5d,!J8E.R4d),k5g=J8E.R4d;k5g<a5g.length;k5g++)a5g[k5g].draggable(C5g);};S5g.prototype.clear=function(){this.view.nameInput&&this.view.nameInput.setText(J8E.s3d);this.view.formulaInput&&this.view.formulaInput.setText(J8E.s3d);this.model_.currentMeasure=J8E.V2d;};S5g.prototype.compareFunction=function(O5g,u5g){return O5g.name>u5g.name?J8E.E4d:-J8E.E4d;};S5g.prototype.onRemoveBtnClick=function(x5g){if(utils.browserVersion().isMobile)this.onRemoveMeasure();else this.showRemoveAlert();};S5g.prototype.showRemoveAlert=function(){var i5g=this,l5g,G5g;utils.OSUtil.isIOS||utils.OSUtil.isMac?(l5g=[Q5g.model._labels.Labels.BUTTON_NO,Q5g.model._labels.Labels.BUTTON_YES],G5g=[J8E.V2d,function(){return i5g.onRemoveMeasure();}]):(l5g=[Q5g.model._labels.Labels.BUTTON_YES,Q5g.model._labels.Labels.BUTTON_NO],G5g=[function(){return i5g.onRemoveMeasure();},J8E.V2d]);var j5g=Q5g.model.XSSCheck.valid(this.model_.currentMeasure.caption)?this.model_.currentMeasure.caption:Q5g.model.XSSCheck.validate(this.model_.currentMeasure.caption);Q5g.uialert(Q5g.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_MESSAGE,utils.StringUtils.bind(Q5g.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE_TITLE,j5g),Q5g.AlertType.ALERT,l5g,G5g);};S5g.prototype.onRemoveMeasure=function(){this.model_.removeMeasure(this.model_.currentMeasure);this.close();};S5g.prototype.onAggrClick=function(T5g){if(P933.w5O==T5g.target.id){var U5g=parseInt(uicontrols.UIElement.convert(T5g.target).closest(s933.r5d).attr(s933.I5d)),U5g=this.view.measuresDragList.getDataProvider()[U5g];this.view.aggrView.showWith(U5g,uicontrols.UIElement.convert(T5g.target));}};S5g.prototype.onAggrChange=function(f5g){var a1O=" of ";var c5g=f5g.data.fieldData;f5g=f5g.data.aggrData;c5g.aggregation=f5g.aggregation;c5g.caption=f5g.caption+a1O+c5g.name;this.view.measuresDragList.validateItem(c5g);};S5g.prototype.onFuncBtnClick=function(W5g){W5g=parseInt(W5g.target.container.attr(s933.I5d));W5g=this.funcButtonsDataProvider[W5g].func;W5g==Q5g.data_.consts.FunctionName.IF||W5g==Q5g.data_.consts.FunctionName.ABS||W5g==Q5g.data_.consts.FunctionName.MIN||W5g==Q5g.data_.consts.FunctionName.MAX||W5g==Q5g.data_.consts.FunctionName.VALUE?this.addSpecialOperation(W5g):this.addOperation(W5g);};S5g.prototype.onCancelClick=function(){this.close();};S5g.prototype.onOkClick=function(){var n5g=this.view.formulaInput.getText();J8E.R4d==n5g.length?this.close():!J8E.E4d==this.model_.isValidFormula(n5g)?Q5g.uialert(Q5g.model._labels.Labels.MESSAGE_WRONG_FORMULA_FORMAT):(this.model_.addMeasure(n5g,this.view.nameInput.getText(),this.view.cbxIndiValues.checked),this.close());};S5g.prototype.close=function(){this.dispatchWith(events._Event.CLOSE);};S5g.prototype.insertText=function(K5g,m5g){void J8E.R4d===m5g&&(m5g=J8E.R4d);var y5g=this.view.formulaInput.getSelectionBeginIndex();this.view.formulaInput.getSelectionEndIndex();var r5g=this.view.formulaInput.getText();-J8E.E4d==y5g&&(y5g=this.lastPosition);J8E.R4d==y5g||J8E.R2d==r5g.charAt(y5g-J8E.E4d)?(this.view.formulaInput.insertText(K5g+J8E.R2d),this.lastPosition=y5g+K5g.length+J8E.E4d):(this.view.formulaInput.insertText(J8E.R2d+K5g+J8E.R2d),this.lastPosition=y5g+K5g.length+J8E.M4d);this.lastPosition-=m5g;this.view.formulaInput.setSelection(this.lastPosition);};S5g.prototype.addOperation=function(I5g){this.insertText(I5g);};S5g.prototype.addSpecialOperation=function(B5g){var n4i=s933;var H1O=", , )";var q5g=this.view.formulaInput.getSelectionBeginIndex(),v5g=this.view.formulaInput.getSelectionEndIndex(),h5g=this.view.formulaInput.getText();n4i.j7B==B5g?this.insertText(B5g+n4i.Y9h+h5g.slice(q5g,v5g)+H1O,J8E.a4d):this.insertText(B5g+n4i.Y9h+h5g.slice(q5g,v5g)+n4i.e9h,J8E.M4d);};return S5g;}(events.EventDispatcher);X5g.CalculatedController=P5g;}(s5g.calculated||(s5g.calculated={})));}(Q5g._view||(Q5g._view={})));}(pivot||(pivot={})));(function(D5g){(function(d5g){(function(Q0g){var o5g=function(X0g){__extends(s0g,X0g);s0g.prototype.setControls=function(){var c4i=P933;var f4i=Q933;var G1O="wdr-formula-input";var l1O="wdr-formula-wrap";var i1O="wdr-ui-col-9 wdr-calc-action";var x1O="wdr-func-btn-group";var u1O="wdr-name-input";var O1O="wdr-remove-btn";var A1O="wdr-ui-btn-light wdr-icon-act_trash";var Z0g=this,g0g=new uicontrols.UIComponentBase(f4i.S3d,c4i.Y5O);this.addChild(g0g);var L0g=new uicontrols.UIComponentBase(f4i.S3d,c4i.R5O);g0g.addChild(L0g);this.titleLabel=new uicontrols.UILabel(D5g.model._labels.Labels.CALCULATED_VIEW_TITLE);this.titleLabel.addClass(c4i.m7O);L0g.addChild(this.titleLabel);this.subtitleLabel=new uicontrols.UILabel(D5g.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.subtitleLabel.addClass(c4i.E5O);L0g.addChild(this.subtitleLabel);L0g=new uicontrols.UIComponentBase(f4i.S3d,c4i.M5O);g0g.addChild(L0g);this.removeButton=new uicontrols.UIButton(A1O);this.removeButton.setId(O1O);this.removeButton.container.attr(c4i.W3O,D5g.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);L0g.addChild(this.removeButton);this.btnCancel=new uicontrols.UIButton(f4i.K3d);this.btnCancel.setLabel(D5g.model._labels.Labels.BUTTON_CANCEL);this.btnOk=new uicontrols.UIButton(c4i.d7O);this.btnOk.setLabel(D5g.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(L0g.addChild(this.btnCancel),L0g.addChild(this.btnOk)):(L0g.addChild(this.btnOk),L0g.addChild(this.btnCancel));g0g=new uicontrols.UIComponentBase(f4i.S3d,c4i.C5O);this.addChild(g0g);this.nameInput=new uicontrols.UITextInput();this.nameInput.setId(u1O);this.nameInput.setPrompt(D5g.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);g0g.addChild(this.nameInput);this.measuresDragList=new uicontrols.lists.UIList();this.measuresDragList.setId(c4i.Q0O);this.measuresDragList.useCache=!f4i.E4d;this.measuresDragList.setLabelField(s933.P6B);g0g.addChild(this.measuresDragList);this.cbxIndiValues=new uicontrols.UICheckBox();this.cbxIndiValues.setLabel(D5g.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);g0g.addChild(this.cbxIndiValues);this.funcBtnsContainer=new uicontrols.UIComponentBase(f4i.S3d,c4i.a5O);this.funcBtnsContainer.setId(x1O);g0g.addChild(this.funcBtnsContainer);this.funcBtns=[];for(var L0g=this.controller.funcButtonsDataProvider,z0g=f4i.R4d;z0g<L0g.length;z0g++){var w0g=new uicontrols.UIButton(i1O);w0g.removeClass(f4i.K3d);w0g.setName(L0g[z0g].name);w0g.setLabel(L0g[z0g].label);w0g.container.attr(s933.I5d,z0g);this.funcBtnsContainer.addChild(w0g);this.funcBtns.push(w0g);}L0g=new uicontrols.UIComponentBase(f4i.S3d,l1O);g0g.addChild(L0g);this.formulaInput=new uicontrols.UITextArea();this.formulaInput.setId(G1O);this.formulaInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return Z0g.onFormulaChange();});L0g.addChild(this.formulaInput);this.lblFormulaPrompt=new uicontrols.UILabel(D5g.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.lblFormulaPrompt.addClass(c4i.r5O);L0g.addChild(this.lblFormulaPrompt);this.aggrView=new d5g.config.AggregationsView();this.aggrView.setId(c4i.s0O);this.aggrView.hide();g0g.addChild(this.aggrView);};s0g.prototype.setLabels=function(){this.titleLabel.setLabel(D5g.model._labels.Labels.CALCULATED_VIEW_TITLE);this.subtitleLabel.setLabel(D5g.model._labels.Labels.CALCULATED_VIEW_MEASURE_BOX);this.btnOk.setLabel(D5g.model._labels.Labels.BUTTON_APPLY);this.btnCancel.setLabel(D5g.model._labels.Labels.BUTTON_CANCEL);this.nameInput.setPrompt(D5g.model._labels.Labels.CALCULATED_VIEW_MEASURE_NAME);this.cbxIndiValues.setLabel(D5g.model._labels.Labels.CALCULATED_VIEW_CALCULATE_INDI_VALUES);this.lblFormulaPrompt.setLabel(D5g.model._labels.Labels.CALCULATED_VIEW_FORMULA_PROMPT);this.removeButton.container.attr(P933.W3O,D5g.model._labels.Labels.CALCULATED_VIEW_REMOVE_VALUE);};s0g.prototype.createHelper=function(p0g){var G4i=Q933;var t0g=new uicontrols.UIElement(G4i.q3d);t0g.attr(G4i.o2d,P933.P0O);t0g.addClass(P933.Y3O);t0g.addClass(G4i.l2d);t0g.css(G4i.R3d,p0g.css(G4i.R3d));t0g.css(G4i.E5d,s933.M5d);t0g.css(P933.E3O,G4i.a6d);t0g.attr(s933.I5d,p0g.attr(s933.I5d));t0g.text(p0g.text());return t0g;};function s0g(S0g){var P0g=X0g.call(this)||this;P0g.controller=S0g;P0g.setControls();return P0g;}s0g.prototype.onFormulaChange=function(){this.lblFormulaPrompt.isVisible(Q933.R4d==this.formulaInput.getText().length);};return s0g;}(uicontrols.UIComponentBase);Q0g.CalculatedViewContent=o5g;}(d5g.calculated||(d5g.calculated={})));}(D5g._view||(D5g._view={})));}(pivot||(pivot={})));(function(F0g){(function(N0g){var e0g=function(){var r1O="RENDER_COMPLETE";var m1O="CLASSIC_TO_COMPACT";var K1O="CONTEXT_MENU_OPEN";var y1O="DRILL_THROUGH_CLOSE";var n1O="DRILL_THROUGH_OPEN";var W1O="CALCULATED_VIEW_CLOSE";var c1O="CALCULATED_VIEW_OPEN";var f1O="FILTER_COLLAPSE_EXPAND";var T1O="FILTER_SELECTION_CHANGE";var U1O="FILTER_CLOSE";var j1O="FILTER_OPEN";V0g.FILTER_OPEN=j1O;V0g.FILTER_CLOSE=U1O;V0g.FILTER_SELECTION_CHANGE=T1O;V0g.FILTER_COLLAPSE_EXPAND=f1O;V0g.CALCULATED_VIEW_OPEN=c1O;V0g.CALCULATED_VIEW_CLOSE=W1O;function V0g(){}V0g.DRILL_THROUGH_OPEN=n1O;V0g.DRILL_THROUGH_CLOSE=y1O;V0g.CONTEXT_MENU_OPEN=K1O;V0g.CLASSIC_TO_COMPACT=m1O;V0g.RENDER_COMPLETE=r1O;V0g.BEFORE_GRID_DRAW=s933.g4h;V0g.AFTER_GRID_DRAW=s933.w4h;return V0g;}();N0g.ViewEvent=e0g;var b0g=function(Y0g){__extends(R0g,Y0g);function R0g(M0g){var E0g=Y0g.call(this,e0g.FILTER_OPEN)||this;E0g.hierarchy=M0g;return E0g;}return R0g;}(events._Event);N0g.FilterOpenEvent=b0g;}(F0g._view||(F0g._view={})));}(pivot||(pivot={})));(function(J0g){(function(k0g){(function(a0g){var C0g=function(){H0g.prototype.setHierarchy=function(A0g){this.currentHierarchy=A0g;};H0g.prototype.getHierarchy=function(){return this.currentHierarchy;};H0g.prototype.setSortType=function(O0g){this.sortType=O0g;this.allMembers=this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!Q933.E4d,this.sortType).toArray();};function H0g(){this.allMembers=[];this.selectedMembers=[];this.searchedMembers=[];this.searchPhrase=Q933.s3d;this.isAllSelected=!Q933.R4d;}H0g.prototype.getSortType=function(){return this.sortType;};H0g.prototype.select=function(x0g,i0g){if(this.isAllSelected!=i0g)this.selectedMembers.push(x0g);else{var u0g=this.selectedMembers.indexOf(x0g);-Q933.E4d<u0g&&this.selectedMembers.splice(u0g,Q933.E4d);}this.selectedMembers.length==this.allMembers.length&&this.selectAll(!this.isAllSelected);};H0g.prototype.search=function(G0g,j0g){var H4i=Q933;G0g=G0g.toLowerCase();if(this.searchPhrase===G0g)j0g();else if(this.searchPhrase=G0g,H4i.R4d==this.searchPhrase.length)j0g();else{this.searchedMembers.length=H4i.R4d;for(var U0g=this.allMembers.length,l0g=H4i.R4d,l0g=H4i.R4d;l0g<U0g;l0g++)utils.StringUtils.contains(this.allMembers[l0g].caption,G0g)&&this.searchedMembers.push(this.allMembers[l0g]);j0g(this.searchedMembers);}};H0g.prototype.setSearchedMembers=function(T0g){Q933.V2d!=T0g?this.searchedMembers=T0g:this.searchedMembers.length=Q933.R4d;};H0g.prototype.selectAll=function(c0g){if(this.isSearched())for(var W0g=this.searchedMembers.length,f0g=Q933.R4d;f0g<W0g;f0g++)utils.StringUtils.contains(this.searchedMembers[f0g].caption,this.searchPhrase)&&this.select(this.searchedMembers[f0g],c0g);else this.isAllSelected=c0g,this.selectedMembers.length=Q933.R4d;};H0g.prototype.selectDescendants=function(n0g){};H0g.prototype.getTotalSelectedLength=function(){var k4i=Q933;var y0g=k4i.R4d,y0g=this.isAllSelected||this.isSearched()?this.isAllSelected&&this.isSearched()?this.searchedMembers.length+this.countTheDifference()-this.selectedMembers.length:this.isAllSelected||k4i.R4d!=this.selectedMembers.length?this.allMembers.length-this.selectedMembers.length:this.selectedMembers.length:this.selectedMembers.length;return k4i.R4d<y0g?y0g:k4i.R4d;};H0g.prototype.countTheDifference=function(){var V4i=Q933;for(var r0g=V4i.R4d,m0g=V4i.R4d,K0g=V4i.R4d;m0g<this.selectedMembers.length;){for(;K0g<this.searchedMembers.length&&this.searchedMembers[K0g].uniqueName!=this.selectedMembers[m0g].uniqueName;)K0g++;this.searchedMembers.length==K0g&&r0g++;K0g=V4i.R4d;m0g++;}return r0g;};H0g.prototype.getSelectedLength=function(){if(this.isSearched()){for(var B0g=Q933.R4d,I0g=Q933.R4d;I0g<this.searchedMembers.length;I0g++)Q933.R4d>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[I0g].uniqueName,X933.b0B)==this.isAllSelected&&B0g++;return B0g;}return this.getTotalSelectedLength();};H0g.prototype.setFilterItems=function(h0g){this.selectedMembers.length=Q933.R4d;var v0g=h0g.length;this.isAllSelected=Q933.R4d==v0g;if(!this.isAllSelected)for(var q0g=Q933.R4d;q0g<v0g;q0g++)this.selectedMembers.push(h0g[q0g]);};H0g.prototype.getFilterItems=function(){var p4i=Q933;var D0g=p4i.R4d,o0g=[],d0g=[],d0g=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,Q1g=d0g.length;if(this.isSearched()&&this.isAllSelected)for(d0g=D0g=p4i.R4d;D0g<this.searchedMembers.length;){for(;d0g<this.selectedMembers.length&&this.searchedMembers[D0g].uniqueName!=this.selectedMembers[d0g].uniqueName;)d0g++;d0g==this.selectedMembers.length&&o0g.push(this.searchedMembers[D0g]);d0g=p4i.R4d;D0g++;}else for(;D0g<Q1g;D0g++)o0g[D0g]=d0g[D0g];D0g=this.isSearched()&&this.isAllSelected?!p4i.E4d:p4i.R4d==o0g.length?!p4i.E4d:this.isAllSelected;return{items:o0g,negation:D0g};};H0g.prototype.setItems=function(s1g){this.allMembers=s1g;this.searchPhrase=Q933.s3d;this.searchedMembers.length=Q933.R4d;};H0g.prototype.getItems=function(g1g,w1g){var w4i=Q933;for(var X1g,L1g=[],P1g=g1g,z1g=RegExp(s933.Y9h+this.searchPhrase+s933.e9h,P933.C3O),S1g=this.isSearched()?this.searchedMembers:this.allMembers;P1g<w1g&&!(P1g>S1g.length-w4i.E4d);P1g++)X1g=S1g[P1g],X1g={member:X1g,label:this.isSearched()?X1g.caption.replace(z1g,P933.I1O):X1g.caption,isSelected:(-w4i.E4d==this.selectedMembers.indexOf(X1g)?this.isAllSelected:!this.isAllSelected)?w4i.E4d:w4i.R4d,levelNum:w4i.R4d,rightMargin:w1g-g1g<S1g.length-w4i.E4d?w4i.j4d:w4i.R4d},L1g.push(X1g);return L1g;};H0g.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.allMembers.length;};H0g.prototype.getTotalLength=function(){return this.getLength();};H0g.prototype.isSearched=function(){return Q933.R4d<this.searchPhrase.length;};H0g.prototype.expand=function(Z1g){};H0g.prototype.collapse=function(t1g){};return H0g;}();a0g.MembersFilterDataProvider=C0g;}(k0g.filter||(k0g.filter={})));}(J0g._view||(J0g._view={})));}(pivot||(pivot={})));(function(p1g){(function(F1g){(function(N1g){var e1g=function(){b1g.prototype.setHierarchy=function(V1g){this.currentHierarchy=V1g;this.members.length=Q933.R4d;};b1g.prototype.getHierarchy=function(){return this.currentHierarchy;};b1g.prototype.setSortType=function(Y1g){this.sortType=Y1g;this.members.length=Q933.R4d;this.insertDescendants(this.currentHierarchy.allMember,-Q933.E4d);};b1g.prototype.getSortType=function(){return this.sortType;};b1g.prototype.setItems=function(M1g){for(var E1g=Q933.R4d,J1g=M1g.length,R1g;E1g<J1g;E1g++)R1g=M1g[E1g],R1g.isAll||(this.members.push(R1g),R1g.isDrilledDown&&R1g.children&&Q933.R4d<R1g.children.length&&(this.expandedMembers.push(R1g),this.setItems(this.sortType===p1g.data_.consts.SortType.UNSORTED?R1g.children.toArray():this.currentHierarchy.sortChildren(R1g,!Q933.E4d,this.sortType).toArray())));};b1g.prototype.getItems=function(A1g,O1g){var C7i=Q933;for(var C1g=A1g,H1g=[],k1g,u1g=RegExp(s933.Y9h+this.searchPhrase+s933.e9h,P933.C3O),a1g=this.isSearched()?this.searchedMembers:this.members;C1g<O1g&&!(C1g>a1g.length-C7i.E4d);C1g++)k1g=a1g[C1g],k1g={member:k1g,levelNum:k1g.level.num,label:this.isSearched()?k1g.caption.replace(u1g,P933.I1O):k1g.caption,isSelected:this.isSelected(k1g),isSearched:this.isSearched(),isExpanded:this.isExpanded(k1g),rightMargin:O1g-A1g<a1g.length-C7i.E4d?C7i.T4d:C7i.R4d},H1g.push(k1g);return H1g;};b1g.prototype.isSelected=function(i1g){var a0I=Q933;var x1g=(-a0I.E4d==this.selectedMembers.indexOf(i1g)?this.isAllSelected:!this.isAllSelected)?a0I.E4d:a0I.R4d;a0I.R4d<this.selectedMembers.length&&-a0I.E4d!=this.partlySelectedMembers.indexOf(i1g)&&(x1g=-a0I.E4d);return x1g;};b1g.prototype.isExpanded=function(l1g){var L0I=Q933;return this.isSearched()||l1g.isLeaf?-L0I.E4d:-L0I.E4d!=this.expandedMembers.indexOf(l1g)?L0I.E4d:L0I.R4d;};b1g.prototype.getLength=function(){return this.isSearched()?this.searchedMembers.length:this.members.length;};b1g.prototype.getTotalLength=function(){return this.isSearched()?this.searchedMembers.length-this.numParentsInSearch:this.currentHierarchy?this.currentHierarchy.members.length-Q933.E4d:Q933.R4d;};b1g.prototype.select=function(j1g,U1g){var X0I=Q933;var G1g=-X0I.E4d,G1g=this.selectedMembers.indexOf(j1g);this.isAllSelected!==U1g?(-X0I.E4d==G1g&&this.selectedMembers.push(j1g),X0I.R4d<j1g.children.length&&this.pushDescendantsToSelected(j1g)):(-X0I.E4d!=G1g&&this.selectedMembers.splice(G1g,X0I.E4d),X0I.R4d<j1g.children.length&&this.removeDescendantsFromSelected(j1g));G1g=utils.ArrayUtils.findIndex(this.partlySelectedMembers,j1g.uniqueName,X933.b0B);-X0I.E4d!=G1g&&this.partlySelectedMembers.splice(G1g,X0I.E4d);this.selectParents(j1g);this.selectedMembers.length===this.currentHierarchy.members.length-X0I.E4d&&(this.selectedMembers.length=X0I.R4d,this.partlySelectedMembers.length=X0I.R4d,this.isAllSelected=!this.isAllSelected);};b1g.prototype.selectDescendants=function(T1g){-Q933.E4d==this.partlySelectedMembers.indexOf(T1g)&&(-Q933.E4d==this.selectedMembers.indexOf(T1g)?this.removeDescendantsFromSelected(T1g):this.pushDescendantsToSelected(T1g));};b1g.prototype.selectParents=function(c1g){var Q0I=Q933;var W1g,f1g=c1g.parent;if(f1g&&!f1g.isAll){c1g=utils.ArrayUtils.findIndex(this.selectedMembers,f1g.uniqueName,X933.b0B);W1g=utils.ArrayUtils.findIndex(this.partlySelectedMembers,f1g.uniqueName,X933.b0B);var n1g=-Q0I.E4d!=c1g;this.hasSelectedChildren(f1g,!Q0I.E4d)?(this.hasSelectedChildren(f1g)?(-Q0I.E4d==W1g&&this.partlySelectedMembers.push(f1g),this.isAllSelected&&n1g&&this.selectedMembers.splice(c1g,Q0I.E4d)):(-Q0I.E4d!=W1g&&this.partlySelectedMembers.splice(W1g,Q0I.E4d),this.isAllSelected&&!n1g&&this.selectedMembers.push(f1g)),!this.isAllSelected&&n1g&&this.selectedMembers.splice(c1g,Q0I.E4d)):(-Q0I.E4d!=W1g&&this.partlySelectedMembers.splice(W1g,Q0I.E4d),this.isAllSelected&&n1g?this.selectedMembers.splice(c1g,Q0I.E4d):this.isAllSelected||n1g||this.selectedMembers.push(f1g));this.selectParents(f1g);}};function b1g(){this.numParentsInSearch=Q933.R4d;this.members=[];this.selectedMembers=[];this.searchedMembers=[];this.partlySelectedMembers=[];this.expandedMembers=[];this.searchPhrase=Q933.s3d;this.isAllSelected=!Q933.R4d;this.sortType=p1g.data_.consts.SortType.UNSORTED;}b1g.prototype.hasSelectedChildren=function(B1g,K1g){var B5I=Q933;void B5I.R4d===K1g&&(K1g=!B5I.R4d);for(var y1g=B5I.R4d,m1g=B1g.children.toArray(),I1g=m1g.length,r1g;y1g<I1g;y1g++)if(r1g=m1g[y1g],-B5I.E4d==utils.ArrayUtils.findIndex(this.selectedMembers,r1g.uniqueName,X933.b0B)==this.isAllSelected==K1g||-B5I.E4d!=utils.ArrayUtils.findIndex(this.partlySelectedMembers,r1g.uniqueName,X933.b0B))return!B5I.R4d;return!B5I.E4d;};b1g.prototype.pushDescendantsToSelected=function(h1g){var y5I=Q933;for(var v1g=y5I.R4d,D1g,q1g,d1g=h1g.children.toArray(),o1g=d1g.length;v1g<o1g;v1g++)q1g=d1g[v1g],h1g=utils.ArrayUtils.findIndex(this.selectedMembers,q1g.uniqueName,X933.b0B),D1g=utils.ArrayUtils.findIndex(this.partlySelectedMembers,q1g.uniqueName,X933.b0B),-y5I.E4d==h1g&&this.selectedMembers.push(q1g),-y5I.E4d!=D1g&&this.partlySelectedMembers.splice(D1g,y5I.E4d),y5I.R4d<q1g.children.length&&this.pushDescendantsToSelected(q1g);};b1g.prototype.removeDescendantsFromSelected=function(s8g){var j5I=Q933;for(var X8g=j5I.R4d,P8g,Q8g,S8g=s8g.children.toArray(),L8g=S8g.length;X8g<L8g;X8g++)Q8g=S8g[X8g],s8g=utils.ArrayUtils.findIndex(this.selectedMembers,Q8g.uniqueName,X933.b0B),P8g=utils.ArrayUtils.findIndex(this.partlySelectedMembers,Q8g.uniqueName,X933.b0B),-j5I.E4d!=s8g&&this.selectedMembers.splice(s8g,j5I.E4d),-j5I.E4d!=P8g&&this.partlySelectedMembers.splice(P8g,j5I.E4d),j5I.R4d<Q8g.children.length&&this.removeDescendantsFromSelected(Q8g);};b1g.prototype.selectAll=function(w8g){if(this.isSearched())for(var z8g=this.searchedMembers.length,g8g=Q933.R4d;g8g<z8g;g8g++)utils.StringUtils.contains(this.searchedMembers[g8g].caption,this.searchPhrase)&&this.select(this.searchedMembers[g8g],w8g);else this.isAllSelected=w8g,this.selectedMembers.length=Q933.R4d,this.partlySelectedMembers.length=Q933.R4d;};b1g.prototype.getSelectedLength=function(){if(this.isSearched()){for(var t8g=Q933.R4d,p8g=this.searchedMembers.length,Z8g=Q933.R4d;Z8g<p8g;Z8g++)utils.StringUtils.contains(this.searchedMembers[Z8g].caption,this.searchPhrase)&&Q933.R4d>utils.ArrayUtils.findIndex(this.selectedMembers,this.searchedMembers[Z8g].uniqueName,X933.b0B)==this.isAllSelected&&t8g++;return t8g;}return this.getTotalSelectedLength();};b1g.prototype.getTotalSelectedLength=function(){var F8g=this.isAllSelected?this.currentHierarchy.members.length-this.selectedMembers.length-this.partlySelectedMembers.length-Q933.E4d:this.selectedMembers.length;return Q933.R4d>F8g?Q933.R4d:F8g;};b1g.prototype.setFilterItems=function(Y8g){var C5I=Q933;var V8g=Y8g.length;this.selectedMembers.length=C5I.R4d;this.partlySelectedMembers.length=C5I.R4d;if(C5I.R4d==V8g)this.isAllSelected=!C5I.R4d;else{this.isAllSelected=!C5I.E4d;for(var e8g,N8g,b8g=C5I.R4d;b8g<V8g;b8g++)for(e8g=Y8g[b8g],N8g=e8g.children.toArray(),N8g=N8g.length,this.selectedMembers.push(e8g),C5I.R4d<N8g&&this.pushDescendantsToSelected(e8g);e8g.parent&&!e8g.parent.isAll;)e8g=e8g.parent,-C5I.E4d==utils.ArrayUtils.findIndex(this.partlySelectedMembers,e8g.uniqueName,X933.b0B)&&this.partlySelectedMembers.push(e8g);}};b1g.prototype.getFilterItems=function(){var J5I=Q933;for(var R8g=J5I.R4d,M8g=[],J8g,k8g,C8g,E8g=[],E8g=this.isSearched()&&this.isAllSelected?this.searchedMembers:this.selectedMembers,a8g=E8g.length;R8g<a8g;R8g++)J8g=E8g[R8g],k8g=J8g.parent,C8g=-J5I.E4d,utils.nullOrUndefined(k8g)||(C8g=utils.ArrayUtils.findIndex(E8g,k8g.uniqueName,X933.b0B)),-J5I.E4d===C8g&&M8g.push(J8g);R8g=this.isSearched()&&this.isAllSelected?!J5I.E4d:J5I.R4d==M8g.length?!J5I.E4d:this.isAllSelected;return{items:M8g,negation:R8g};};b1g.prototype.search=function(A8g,u8g){var R5I=Q933;A8g=A8g.toLowerCase();if(this.searchPhrase===A8g)u8g();else if(this.searchPhrase=A8g,R5I.R4d==this.searchPhrase.length)u8g();else{this.numParentsInSearch=this.searchedMembers.length=R5I.R4d;this.fillSearchTree(this.currentHierarchy.allMember,A8g);for(var O8g=R5I.R4d,H8g=R5I.R4d,H8g=R5I.R4d;H8g<this.searchedMembers.length;H8g++)O8g=this.insertParentsToSearch(this.searchedMembers[H8g],H8g),this.numParentsInSearch+=O8g,H8g+=O8g;u8g(this.searchedMembers);}};b1g.prototype.setSearchedMembers=function(x8g){Q933.V2d!=x8g?this.searchedMembers=x8g:this.searchedMembers.length=Q933.R4d;};b1g.prototype.insertParentsToSearch=function(j8g,G8g){var i8g=j8g.parent,l8g=Q933.R4d;utils.nullOrUndefined(i8g)||i8g.isAll||(-Q933.E4d==utils.ArrayUtils.findIndex(this.searchedMembers,i8g.uniqueName,X933.b0B)&&(l8g++,this.searchedMembers.splice(G8g,Q933.R4d,i8g)),l8g+=this.insertParentsToSearch(i8g,G8g));return l8g;};b1g.prototype.fillSearchTree=function(n8g,c8g){for(var f8g=n8g.children,W8g=f8g.length,U8g,T8g=Q933.R4d;T8g<W8g;T8g++)U8g=f8g.getItemAt(T8g),utils.StringUtils.contains(U8g.caption,c8g)&&this.searchedMembers.push(U8g),this.fillSearchTree(U8g,c8g);};b1g.prototype.isSearched=function(){return Q933.R4d<this.searchPhrase.length;};b1g.prototype.expand=function(y8g){-Q933.E4d==this.expandedMembers.indexOf(y8g)&&this.expandedMembers.push(y8g);this.showDescendants(y8g,!Q933.R4d);};b1g.prototype.collapse=function(m8g){var K8g=this.expandedMembers.indexOf(m8g);-Q933.E4d!=K8g&&this.expandedMembers.splice(K8g,Q933.E4d);this.showDescendants(m8g,!Q933.E4d);};b1g.prototype.showDescendants=function(r8g,B8g){var I8g=utils.ArrayUtils.findIndex(this.members,r8g.uniqueName,X933.b0B);B8g?this.insertDescendants(r8g,I8g):this.members.splice(I8g+Q933.E4d,this.getNumDescendants(r8g));};b1g.prototype.insertDescendants=function(d8g,o8g){var w5I=Q933;for(var h8g=this.sortType===p1g.data_.consts.SortType.UNSORTED?d8g.children.toArray():this.currentHierarchy.sortChildren(d8g,!w5I.E4d,this.sortType).toArray(),q8g,v8g=h8g.length-w5I.E4d,D8g=o8g+w5I.E4d;-w5I.E4d<v8g;v8g--)q8g=h8g[v8g],this.members.splice(D8g,w5I.R4d,q8g),-w5I.E4d<this.expandedMembers.indexOf(q8g)&&this.insertDescendants(q8g,D8g);};b1g.prototype.getNumDescendants=function(Q9k){Q9k=Q9k.children.toArray();for(var X9k=Q9k.length,P9k=X9k,S9k,s9k=Q933.R4d;s9k<X9k;s9k++)S9k=Q9k[s9k],-Q933.E4d<this.expandedMembers.indexOf(S9k)&&(P9k+=this.getNumDescendants(S9k));return P9k;};return b1g;}();N1g.MembersTreeDataProvider=e1g;}(F1g.filter||(F1g.filter={})));}(p1g._view||(p1g._view={})));}(pivot||(pivot={})));(function(L9k){(function(g9k){(function(w9k){var z9k=function(t9k){var M8E=Q933;var Z8O="searchInput";var z8O="selectedAmountLabel";var w8O="membersFilterList";var g8O="selectAllCbx";__extends(Z9k,t9k);function Z9k(F9k){var p9k=t9k.call(this)||this;p9k.controller=F9k;p9k.setControls();return p9k;}Z9k.prototype.setControls=function(){var X5I=P933;var L8O="wdr-ft-contentheight-220";var S8O="wdr-filters-topx-view";var P8O="wdr-clear-top-btn";var X8O="wdr-btn-canceltopx";var s8O="wdr-ui-toggle-btn-dark";var Q8O="wdr-top10-btn";var o1O="wdr-ui-col-2 wdr-tar wdr-topx-col";var d1O="wdr-sort-btn";var D1O="wdr-sort-btns";var h1O="wdr-sort-label";var v1O="wdr-ui-col-2";var q1O="wdr-ui-col wdr-vam wdr-ui-btns-row";var B1O="wdr-ui-col-2 wdr-vam";var N9k=new uicontrols.UIComponentBase(M8E.S3d,X5I.Y5O);this.addChild(N9k);var e9k=new uicontrols.UIComponentBase(M8E.S3d,B1O);N9k.addChild(e9k);this.titleLabel=new uicontrols.UILabel();this.titleLabel.addClass(X5I.m7O);e9k.addChild(this.titleLabel);e9k=new uicontrols.UIComponentBase(M8E.S3d,q1O);N9k.addChild(e9k);this.cancelBtn=new uicontrols.UIButton(M8E.K3d);this.cancelBtn.setLabel(L9k.model._labels.Labels.BUTTON_CANCEL);this.okBtn=new uicontrols.UIButton(X5I.d7O);this.okBtn.setLabel(L9k.model._labels.Labels.BUTTON_APPLY);utils.OSUtil.isIOS||utils.OSUtil.isMac?(e9k.addChild(this.cancelBtn),e9k.addChild(this.okBtn)):(e9k.addChild(this.okBtn),e9k.addChild(this.cancelBtn));N9k=new uicontrols.UIComponentBase(M8E.S3d,X5I.a5O);this.addChild(N9k);this.sortContainer=new uicontrols.UIComponentBase(M8E.S3d,v1O);this.sortContainer.container.display=M8E.I3d;N9k.addChild(this.sortContainer);this.sortLabel=new uicontrols.UILabel();this.sortLabel.setId(h1O);this.sortLabel.addClass(X5I.p4O);this.sortLabel.setLabel(L9k.model._labels.Labels.FILTER_SORT);this.sortContainer.addChild(this.sortLabel);e9k=new uicontrols.UIComponentBase(M8E.S3d,D1O);this.sortContainer.addChild(e9k);this.azBtn=new uicontrols.UIToggleButton();this.azBtn.container.addClass(d1O);this.azBtn.setLabel(L9k.model._labels.Labels.FILTER_ASC_SORT);e9k.addChild(this.azBtn);this.zaBtn=new uicontrols.UIToggleButton();this.zaBtn.container.addClass(d1O);this.zaBtn.setLabel(L9k.model._labels.Labels.FILTER_DESC_SORT);e9k.addChild(this.zaBtn);e9k=new uicontrols.UIComponentBase(M8E.S3d,o1O);e9k.container.display=M8E.I3d;N9k.addChild(e9k);this.top10Btn=new uicontrols.UIToggleButton();this.top10Btn.setId(Q8O);this.top10Btn.addClass(s8O);this.top10Btn.setLabel(L9k.model._labels.Labels.FILTER_TOP_X);e9k.addChild(this.top10Btn);this.clearTopBtn=new uicontrols.UIComponentBase(M8E.q3d,X8O);this.clearTopBtn.setId(P8O);this.clearTopBtn.container.attr(X5I.W3O,L9k.model._labels.Labels.FILTER_TOP_X_CLEAR);this.top10Btn.addChild(this.clearTopBtn);this.topBottomView=new w9k.TopBottomView();this.topBottomView.setId(S8O);this.topBottomView.hide();this.addChild(this.topBottomView);this.membersView=new w9k.MembersView();this.membersView.addClass(L8O);this.addChild(this.membersView);};Object.defineProperty(Z9k.prototype,g8O,{get:function(){return this.membersView.selectAllCbx;},enumerable:!M8E.R4d,configurable:!M8E.R4d});Object.defineProperty(Z9k.prototype,w8O,{get:function(){return this.membersView.membersFilterList;},enumerable:!M8E.R4d,configurable:!M8E.R4d});Object.defineProperty(Z9k.prototype,z8O,{get:function(){return this.membersView.selectedAmountLabel;},enumerable:!M8E.R4d,configurable:!M8E.R4d});Object.defineProperty(Z9k.prototype,Z8O,{get:function(){return this.membersView.searchInput;},enumerable:!M8E.R4d,configurable:!M8E.R4d});Z9k.prototype.setLabels=function(){this.top10Btn.setLabel(L9k.model._labels.Labels.FILTER_TOP_X);this.clearTopBtn.container.attr(P933.W3O,L9k.model._labels.Labels.FILTER_TOP_X_CLEAR);this.azBtn.setLabel(L9k.model._labels.Labels.FILTER_ASC_SORT);this.zaBtn.setLabel(L9k.model._labels.Labels.FILTER_DESC_SORT);this.searchInput.setPrompt(L9k.model._labels.Labels.FILTER_SEARCH);this.selectAllCbx.setLabel(L9k.model._labels.Labels.FILTER_SELECT_ALL);this.okBtn.setLabel(L9k.model._labels.Labels.BUTTON_APPLY);this.cancelBtn.setLabel(L9k.model._labels.Labels.BUTTON_CANCEL);this.sortLabel.setLabel(L9k.model._labels.Labels.FILTER_SORT);this.topBottomView.setLabels();};return Z9k;}(uicontrols.containers.UIContainer);w9k.FilterViewContent=z9k;}(g9k.filter||(g9k.filter={})));}(L9k._view||(L9k._view={})));}(pivot||(pivot={})));(function(b9k){(function(V9k){(function(Y9k){var R9k=function(M9k){__extends(E9k,M9k);E9k.prototype.onSearchClick=function(){this.searchWrap.addClass(P933.X0O);this.searchInput.container.focus();this.selectedAmountLabel.hide();};E9k.prototype.onSearchCloseClick=function(){this.searchWrap.removeClass(P933.X0O);this.searchInput.clear();this.selectedAmountLabel.show();};E9k.prototype.reset=function(){this.onSearchCloseClick();};function E9k(){var d3I=P933;var D3I=Q933;var N8O="wdr-members-filter-list";var e8O="wdr-filters-table-content";var F8O="wdr-select-counter";var p8O="wdr-filters-table-header wdr-fth-withsearch";var t8O="wdr-filters-table";var J9k=M9k.call(this,D3I.S3d,t8O)||this,k9k=new uicontrols.UIComponentBase(D3I.S3d,p8O);J9k.addChild(k9k);J9k.selectAllCbx=new uicontrols.UICheckBox();J9k.selectAllCbx.setLabel(b9k.model._labels.Labels.FILTER_SELECT_ALL);k9k.addChild(J9k.selectAllCbx);J9k.selectedAmountLabel=new uicontrols.UILabel();J9k.selectedAmountLabel.setId(F8O);k9k.addChild(J9k.selectedAmountLabel);J9k.searchWrap=new uicontrols.UIComponentBase(D3I.S3d,d3I.l5O);k9k.addChild(J9k.searchWrap);k9k=new uicontrols.UIComponentBase(D3I.y3d,d3I.j5O);k9k.container.text(b9k.model._labels.Labels.FILTER_SEARCH);k9k.addEventListener(D3I.m3d,function(){return J9k.onSearchClick();});J9k.searchWrap.addChild(k9k);var C9k=new uicontrols.UIComponentBase(D3I.q3d,d3I.U5O);k9k.addChild(C9k);J9k.searchInput=new uicontrols.UITextInput();J9k.searchInput.addClass(d3I.T5O);J9k.searchWrap.addChild(J9k.searchInput);k9k=new uicontrols.UIComponentBase(D3I.q3d,d3I.f5O);k9k.addEventListener(D3I.m3d,function(){return J9k.onSearchCloseClick();});J9k.searchWrap.addChild(k9k);k9k=new uicontrols.UIComponentBase(D3I.S3d,e8O);J9k.addChild(k9k);J9k.membersFilterList=new Y9k.FilterList();J9k.membersFilterList.setSmartDataProvider(new Y9k.MembersFilterDataProvider());J9k.membersFilterList.setId(N8O);k9k.addChild(J9k.membersFilterList);return J9k;}return E9k;}(uicontrols.UIComponentBase);Y9k.MembersView=R9k;}(V9k.filter||(V9k.filter={})));}(b9k._view||(b9k._view={})));}(pivot||(pivot={})));(function(a9k){(function(H9k){(function(A9k){var O9k=function(x9k){__extends(u9k,x9k);u9k.prototype.onCollapseExpand=function(){var G9k=this.getData();G9k.isExpanded=this.expandBtn.getSelection();this.container.dispatchWith(A9k.FilterList.EXPAND_EVENT,this,G9k);};u9k.prototype.onClick=function(j9k){j9k.target==this.container.element&&(this.selectedCheckBox.toggle(),this.onSelect());};u9k.prototype.onSelect=function(){var U9k=this.getData();U9k.isSelected=this.selectedCheckBox.getSelection();this.container.dispatchWith(A9k.FilterList.SELECT_EVENT,this,U9k);};function u9k(){var h3I=Q933;var b8O="wdr-expand-toggle-btn";var i9k=x9k.call(this)||this;i9k.levelMargin=h3I.W4d;i9k.expandBtn=new uicontrols.UIToggleButton();i9k.expandBtn.removeClass(h3I.p5d);i9k.expandBtn.addClass(b8O);i9k.expandBtn.addEventListener(events._Event.CHANGE,function(){return i9k.onCollapseExpand();});i9k.container.append(i9k.expandBtn.container);i9k.selectedCheckBox=new uicontrols.UICheckBox();i9k.selectedCheckBox.addEventListener(events._Event.CHANGE,function(){return i9k.onSelect();});i9k.container.append(i9k.selectedCheckBox.container);i9k.container.addEventListener(h3I.m3d,function(l9k){return i9k.onClick(l9k);});i9k.invalidate(h3I.d2d);return i9k;}u9k.prototype.draw=function(){var v3I=Q933;if(this.isInvalid(s933.m5d)){var T9k=this.getData();if(this.expandBtn&&this.selectedCheckBox&&T9k){this.container.css(X933.l6B,v3I.s3d);var f9k=this.levelMargin*(T9k.levelNum-v3I.E4d);T9k.isSearched||-v3I.E4d!==T9k.isExpanded||(f9k+=v3I.B4d);v3I.R4d<f9k&&this.container.css(X933.l6B,f9k+v3I.r2d);isNaN(T9k.isExpanded)||-v3I.E4d===T9k.isExpanded||T9k.isSearched?this.expandBtn.hide():(this.expandBtn.show(),this.expandBtn.setSelection(T9k.isExpanded));f9k=T9k[this.getLabelField()];f9k=f9k.replace(/<(?:.|\n)*?>/gi,v3I.s3d);this.selectedCheckBox.setLabel(f9k,!v3I.R4d);this.selectedCheckBox.setSelection(T9k.isSelected);}}};return u9k;}(uicontrols.renderers.UIItemRenderer);A9k.FilterListItemRenderer=O9k;}(H9k.filter||(H9k.filter={})));}(a9k._view||(a9k._view={})));}(pivot||(pivot={})));(function(c9k){(function(W9k){(function(n9k){var y9k=function(m9k){var V8O="__";__extends(K9k,m9k);K9k.prototype.getItemRendererFactory=function(h9k,D9k){var v9k=this,q9k=new n9k.FilterListItemRenderer();q9k.setData(h9k);q9k.setIndex(D9k);q9k.addEventListener(K9k.SELECT_EVENT,function(d9k){return v9k.onSelect(d9k);});q9k.addEventListener(K9k.EXPAND_EVENT,function(o9k){return v9k.onExpand(o9k);});return q9k;};K9k.prototype.onSelect=function(Q7k){Q7k=Q7k.data;this.setSelected(Q7k,Q933.E4d===Q7k.isSelected);this.dispatch(new events._Event(K9k.SELECT_EVENT,this));};K9k.prototype.onExpand=function(P7k){var X7k=this,s7k=P7k.data;if(Q933.E4d===s7k.isExpanded)if(Q933.R4d===s7k.member.children.length)c9k.model.PivotModel.getInstance().cube_.loadMemberChildren(s7k.member.hierarchy_,s7k.member,function(S7k){return X7k.onChildrenLoaded(s7k.member);});else this.onChildrenLoaded(s7k.member);else this.getSmartDataProvider().collapse(s7k.member),this.invalidate(s933.m5d),this.dispatch(new events._Event(K9k.EXPAND_EVENT,this));};K9k.prototype.onChildrenLoaded=function(L7k){c9k.preloader(!Q933.E4d);this.getSmartDataProvider().selectDescendants(L7k);this.getSmartDataProvider().expand(L7k);this.invalidate(s933.m5d);this.dispatch(new events._Event(K9k.EXPAND_EVENT,this));};K9k.prototype.getSmartDataProvider=function(){return this.filterDataProvider;};K9k.prototype.setSmartDataProvider=function(g7k){this.filterDataProvider=g7k;};K9k.prototype.getFilterItems=function(){return this.getSmartDataProvider().getFilterItems();};K9k.prototype.setFilterItems=function(w7k){this.getSmartDataProvider().setFilterItems(w7k);this.invalidate(s933.m5d);};K9k.prototype.getSelectedLength=function(){return this.getSmartDataProvider().getSelectedLength();};K9k.prototype.getTotalSelectedLength=function(){return this.getSmartDataProvider().getTotalSelectedLength();};K9k.prototype.getTotalLength=function(){return this.getSmartDataProvider().getLength();};K9k.prototype.getTotalItemsCount=function(){return this.getSmartDataProvider().getTotalLength();};function K9k(){var r9k=m9k.call(this)||this;r9k.setItemRendererFactory(function(I9k,B9k){return r9k.getItemRendererFactory(I9k,B9k);});return r9k;}K9k.prototype.setSelected=function(z7k,Z7k){this.getSmartDataProvider().select(z7k.member,Z7k);this.invalidate(s933.m5d);};K9k.prototype.selectAll=function(t7k){this.getSmartDataProvider().selectAll(t7k);this.invalidate(s933.m5d);};K9k.prototype.search=function(F7k,e7k){var p7k=this;this.getSmartDataProvider().search(F7k,function(N7k){p7k.getSmartDataProvider().setSearchedMembers(N7k);p7k.invalidate(s933.m5d);e7k();});};K9k.prototype.isSearched=function(){return this.getSmartDataProvider().isSearched();};K9k.prototype.setHierarchy=function(b7k){this.getSmartDataProvider().setHierarchy(b7k);};K9k.prototype.sort=function(V7k){V7k!==this.getSmartDataProvider().getSortType()&&(this.getSmartDataProvider().setSortType(V7k),this.invalidate(s933.m5d));};K9k.SELECT_EVENT=Q933.Z5d;K9k.EXPAND_EVENT=V8O;return K9k;}(uicontrols.lists.UIVirtualList);n9k.FilterList=y9k;}(W9k.filter||(W9k.filter={})));}(c9k._view||(c9k._view={})));}(pivot||(pivot={})));(function(Y7k){(function(R7k){(function(M7k){var E7k=function(k7k){__extends(J7k,k7k);J7k.prototype.onBtnTopChange=function(){this._isEmpty=!Q933.E4d;this.btnBottom.setSelection(Q933.E4d-this.btnTop.getSelection());this.dispatch(new events._Event(J7k.CHANGE_EVENT,this));};J7k.prototype.onBtnBottomChange=function(){this._isEmpty=!Q933.E4d;this.btnTop.setSelection(Q933.E4d-this.btnBottom.getSelection());this.dispatch(new events._Event(J7k.CHANGE_EVENT,this));};J7k.prototype.onMeasuresChange=function(A7k){this._isEmpty=!Q933.E4d;this.dispatch(new events._Event(J7k.CHANGE_EVENT,this));};J7k.prototype.onQuantityChange=function(){this._isEmpty=!Q933.E4d;Q933.s3d==this.getFilterType()&&this.setFilterType(Y7k.data_.consts.FilterType.TOP);this.dispatch(new events._Event(J7k.CHANGE_EVENT,this));};J7k.prototype.setMeasures=function(O7k){this.measuresDropDown.setDataProvider(O7k);this.measuresDropDown.setSelectedIndex(Q933.R4d);};J7k.prototype.getSelectedMeasure=function(){return this.measuresDropDown.getSelectedItem();};J7k.prototype.setSelectedMeasure=function(u7k){this._isEmpty=!Q933.E4d;this.measuresDropDown.setSelectedItem(u7k,X933.b0B);};J7k.prototype.reset=function(){var b3I=Q933;var Y8O="10";this._isEmpty=!b3I.R4d;var x7k=Y7k.model._options.OptionsManager.flatView;this.btnTop.setSelection(x7k?b3I.R4d:b3I.E4d);this.btnBottom.setSelection(b3I.R4d);this.measuresDropDown.setSelectedIndex(b3I.R4d);this.measuresDropDown.isVisible(!x7k);this.quantityInput.setText(Y8O);};J7k.prototype.setLabels=function(){this.btnTop.setLabel(Y7k.model._labels.Labels.FILTER_TOP);this.btnBottom.setLabel(Y7k.model._labels.Labels.FILTER_BOTTOM);this.measuresDropDown.setPrompt(Q933.s3d);};J7k.prototype.getFilterType=function(){return Q933.E4d===this.btnTop.getSelection()?Y7k.data_.consts.FilterType.TOP:Q933.E4d===this.btnBottom.getSelection()?Y7k.data_.consts.FilterType.BOTTOM:Q933.s3d;};J7k.prototype.setFilterType=function(i7k){var L3I=Q933;i7k==Y7k.data_.consts.FilterType.TOP?(this._isEmpty=!L3I.E4d,this.btnTop.setSelection(L3I.E4d),this.btnBottom.setSelection(L3I.R4d)):i7k==Y7k.data_.consts.FilterType.BOTTOM&&(this._isEmpty=!L3I.E4d,this.btnTop.setSelection(L3I.R4d),this.btnBottom.setSelection(L3I.E4d));};J7k.prototype.getFilterQuantity=function(){return parseInt(this.quantityInput.getText());};J7k.prototype.setFilterQuantity=function(l7k){this._isEmpty=!Q933.E4d;this.quantityInput.setText(l7k.toString());};Object.defineProperty(J7k.prototype,X933.S0B,{get:function(){return this._isEmpty;},enumerable:!Q933.R4d,configurable:!Q933.R4d});function J7k(){var X3I=Q933;var H8O="wdr-top-measures-dropdown";var a8O="wdr-btn-bottom";var C8O="wdr-topx-btn";var k8O="wdr-btn-top";var J8O="wdr-topx-btns";var M8O=/^\d+$/;var E8O="wdr-top-amount-input";var R8O="wdr-filters-subview";var C7k=k7k.call(this,X3I.S3d)||this;C7k._isEmpty=!X3I.R4d;C7k.addClass(R8O);C7k.quantityInput=new uicontrols.UITextInput();C7k.quantityInput.setId(E8O);C7k.quantityInput.setRestriction(M8O);C7k.quantityInput.setType(X3I.V3d);C7k.quantityInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(){return C7k.onQuantityChange();});C7k.addChild(C7k.quantityInput);var a7k=new uicontrols.UIComponentBase(X3I.S3d);a7k.setId(J8O);C7k.addChild(a7k);C7k.btnTop=new uicontrols.UIToggleButton();C7k.btnTop.setId(k8O);C7k.btnTop.addClass(C8O);C7k.btnTop.setLabel(Y7k.model._labels.Labels.FILTER_TOP);C7k.btnTop.addEventListener(events._Event.CHANGE,function(){return C7k.onBtnTopChange();});a7k.addChild(C7k.btnTop);C7k.btnBottom=new uicontrols.UIToggleButton();C7k.btnBottom.setId(a8O);C7k.btnBottom.addClass(C8O);C7k.btnBottom.setLabel(Y7k.model._labels.Labels.FILTER_BOTTOM);C7k.btnBottom.addEventListener(events._Event.CHANGE,function(){return C7k.onBtnBottomChange();});a7k.addChild(C7k.btnBottom);C7k.measuresDropDown=new uicontrols.lists.UIDropDownList();C7k.measuresDropDown.setId(H8O);C7k.measuresDropDown.setLabelField(s933.P6B);C7k.measuresDropDown.setPrompt(X3I.s3d);C7k.measuresDropDown.addEventListener(events._Event.CHANGE,function(H7k){return C7k.onMeasuresChange(H7k);});C7k.addChild(C7k.measuresDropDown);return C7k;}J7k.CHANGE_EVENT=Q933.Z5d;return J7k;}(uicontrols.UIComponentBase);M7k.TopBottomView=E7k;}(R7k.filter||(R7k.filter={})));}(Y7k._view||(Y7k._view={})));}(pivot||(pivot={})));(function(G7k){(function(j7k){(function(T7k){var U7k=function(){var b8E=Q933;var x8O="isPages";var u8O="isValuesFilterChanged";var O8O="isValuesFilterEmpty";f7k.getInstance=function(){b8E.V2d==f7k.instance&&(f7k.instance=new f7k());return f7k.instance;};f7k.dispose=function(){f7k.instance=b8E.V2d;};f7k.prototype.getHierarchies=function(){return this.hierarchies;};f7k.prototype.setHierarchies=function(c7k){this.hierarchies=c7k;};function f7k(){var A8O="FilterModel is singleton!";this.sortTypeChanged=!b8E.E4d;if(b8E.V2d!=f7k.instance)throw A8O;this.pivotInstance=G7k.Pivot.instance;this.modelLocator=G7k.model.PivotModel.getInstance();this.zeroCoord=j7k.PivotView.stage.position();}f7k.prototype.update=function(n7k){this.currentCoord={top:this.zeroCoord.top,left:this.zeroCoord.left};var W7k=this.modelLocator.cube_.slice_.allHierarchies(!b8E.E4d,!b8E.R4d,this.isFlatTable).toArray();this.setHierarchies(W7k);this.setCurrentHierarchy(n7k);this.measures=this.modelLocator.cube_.slice_.measures_.toArray();};f7k.prototype.clearValuesFilter=function(){this.filterType=G7k.data_.consts.FilterType.NONE;this.filterQuantity=-b8E.E4d;this.filterMeasureName=b8E.s3d;};f7k.prototype.setCurrentHierarchy=function(y7k){if(this.currentHierarchy=y7k)this.sortType=this.currentHierarchy.sortName,this.sortTypeChanged=!b8E.E4d,this.filterMeasureName=this.currentHierarchy.filterMeasureName,this.filterQuantity=this.currentHierarchy.filterQuantity,this.filterType=this.currentHierarchy.filterType,this.members=this.sortType!==G7k.data_.consts.SortType.UNSORTED?this.currentHierarchy.sortChildren(this.currentHierarchy.allMember,!b8E.E4d,this.sortType).toArray():this.currentHierarchy.allMember.children.toArray();};f7k.prototype.getTopBottomMeasures=function(){return this.isFlatTable?[this.modelLocator.cube_.structure_.hierarchyToMeasure(this.currentHierarchy.uniqueName)]:this.measures;};f7k.prototype.getSortType=function(){return this.sortType;};f7k.prototype.setSortType=function(K7k){this.sortType=K7k;this.sortTypeChanged=!b8E.R4d;};f7k.prototype.applyChanges=function(){this.currentHierarchy.hasValuesFilter()&&this.isValuesFilterEmpty&&this.modelLocator.clearFilter(this.currentHierarchy.uniqueName);this.applyMembersFilter();this.applyValuesFilter();this.applySort();};Object.defineProperty(f7k.prototype,O8O,{get:function(){return!this.filterMeasureName||b8E.R4d===this.filterMeasureName.length||isNaN(this.filterQuantity)||b8E.E4d>this.filterQuantity||!this.filterType||b8E.R4d===this.filterType.length||this.filterType===G7k.data_.consts.FilterType.NONE;},enumerable:!b8E.R4d,configurable:!b8E.R4d});Object.defineProperty(f7k.prototype,u8O,{get:function(){return this.currentHierarchy.filterMeasureName!==this.filterMeasureName||this.currentHierarchy.filterQuantity!==this.filterQuantity||this.currentHierarchy.filterType!==this.filterType?!b8E.R4d:!b8E.E4d;},enumerable:!b8E.R4d,configurable:!b8E.R4d});f7k.prototype.applyValuesFilter=function(){!this.isValuesFilterEmpty&&this.isValuesFilterChanged&&(b8E.k3d===this.filterType?this.modelLocator.setTopX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName):b8E.a3d===this.filterType&&this.modelLocator.setBottomX(this.currentHierarchy.uniqueName,this.filterQuantity,this.filterMeasureName));};f7k.prototype.isMembersFilterChanged=function(){if(this.filteredMembers.length!==this.currentHierarchy.filterMembers.length&&!this.filterNegation)return!b8E.R4d;for(var m7k=b8E.R4d,r7k=this.filteredMembers.length;m7k<r7k;m7k++)if(this.filterNegation===this.currentHierarchy.filterMembers.keyExists(this.filteredMembers[m7k].uniqueName))return!b8E.R4d;return this.filterNegation&&this.currentHierarchy&&this.currentHierarchy.filterMembers.length+this.filteredMembers.length!==this.currentHierarchy.members.length-b8E.E4d?!b8E.R4d:!b8E.E4d;};f7k.prototype.applyMembersFilter=function(){this.isMembersFilterChanged()&&this.modelLocator.setFilter(this.currentHierarchy.uniqueName,this.filteredMembers,this.filterNegation);};f7k.prototype.isSortTypeChanged=function(){return this.sortTypeChanged;};f7k.prototype.applySort=function(){this.isSortTypeChanged()&&this.modelLocator.setSort(this.currentHierarchy.uniqueName,this.sortType);};Object.defineProperty(f7k.prototype,x8O,{get:function(){return!this.isFlatTable&&this.modelLocator.cube_.slice_.pages.keyExists(this.currentHierarchy.uniqueName);},enumerable:!b8E.R4d,configurable:!b8E.R4d});Object.defineProperty(f7k.prototype,P933.R7O,{get:function(){return G7k.model._options.OptionsManager.flatView;},enumerable:!b8E.R4d,configurable:!b8E.R4d});return f7k;}();T7k.FilterModel=U7k;}(j7k.filter||(j7k.filter={})));}(G7k._view||(G7k._view={})));}(pivot||(pivot={})));(function(I7k){(function(B7k){(function(q7k){var v7k=function(D7k){var T8O="isAvailableTopX";var i8O="wdr-not-empty";__extends(h7k,D7k);h7k.prototype.onDataUpdated=function(){this.update(this.model.currentHierarchy);};h7k.prototype.onClearTop=function(S4k){S4k.stopImmediatePropagation();this.model.clearValuesFilter();this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.hide());this.view.top10Btn&&(this.view.top10Btn.container.removeClass(i8O),this.view.top10Btn.setSelection(Q933.R4d));};h7k.prototype.onTopBottomChange=function(){if(this.view.topBottomView){this.model.filterType=this.view.topBottomView.getFilterType();this.model.filterQuantity=this.view.topBottomView.getFilterQuantity();var L4k=this.view.topBottomView.getSelectedMeasure();this.model.filterMeasureName=L4k?L4k.uniqueName:Q933.s3d;}this.view.top10Btn&&this.view.top10Btn.container.addClass(i8O);};h7k.prototype.onTop10Change=function(){this.view.topBottomView&&this.view.topBottomView.isVisible(Q933.E4d===this.view.top10Btn.getSelection());};h7k.prototype.onOkClick=function(g4k){this.dispatchWith(P933.l8O);g4k=this.view.membersFilterList.getFilterItems();this.model.filteredMembers=g4k.items;this.model.filterNegation=g4k.negation;this.model.applyChanges();};h7k.prototype.onCancelClick=function(w4k){this.dispatchWith(P933.l8O);};h7k.prototype.onAzBtnChange=function(){var w0i=Q933;w0i.E4d===this.view.azBtn.getSelection()&&(this.view.zaBtn.setSelection(w0i.R4d),this.model.setSortType(I7k.data_.consts.SortType.ASC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));w0i.R4d===this.view.azBtn.getSelection()&&w0i.R4d===this.view.zaBtn.getSelection()&&(this.model.setSortType(I7k.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};h7k.prototype.onZaBtnChange=function(){var g0i=Q933;g0i.E4d===this.view.zaBtn.getSelection()&&(this.view.azBtn.setSelection(g0i.R4d),this.model.setSortType(I7k.data_.consts.SortType.DESC),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));g0i.R4d===this.view.azBtn.getSelection()&&g0i.R4d===this.view.zaBtn.getSelection()&&(this.model.setSortType(I7k.data_.consts.SortType.UNSORTED),this.view.membersFilterList&&this.view.membersFilterList.sort(this.model.getSortType()));};h7k.prototype.onSelectAllChange=function(){this.view.membersFilterList&&(this.view.membersFilterList.selectAll(Q933.E4d==this.view.selectAllCbx.getSelection()),this.view.membersFilterList.getTotalSelectedLength(),this.view.okBtn.setEnabled(Q933.R4d<this.view.membersFilterList.getTotalSelectedLength()));this.updateSelectedLabel();};function h7k(){var P0i=Q933;var d7k=D7k.call(this)||this;d7k.model=q7k.FilterModel.getInstance();d7k.view=new q7k.FilterViewContent(d7k);P0i.V2d!=d7k.view.hierarchiesList&&d7k.view.hierarchiesList.addEventListener(events._Event.CHANGE,function(o7k){return d7k.onHierarchiesListChange(o7k);});P0i.V2d!=d7k.view.searchInput&&d7k.view.searchInput.addEventListener(uicontrols.UITextInput.CHANGE_EVENT,function(Q4k){return d7k.onSearchInputChange(Q4k.data);});P0i.V2d!=d7k.view.membersFilterList&&(d7k.view.membersFilterList.addEventListener(q7k.FilterList.SELECT_EVENT,function(){return d7k.onMembersFilterSelect();}),d7k.view.membersFilterList.addEventListener(q7k.FilterList.EXPAND_EVENT,function(){return d7k.onMembersFilterExpand();}));P0i.V2d!=d7k.view.selectAllCbx&&d7k.view.selectAllCbx.addEventListener(events._Event.CHANGE,function(){return d7k.onSelectAllChange();});P0i.V2d!=d7k.view.azBtn&&d7k.view.azBtn.addEventListener(events._Event.CHANGE,function(){return d7k.onAzBtnChange();});P0i.V2d!=d7k.view.zaBtn&&d7k.view.zaBtn.addEventListener(events._Event.CHANGE,function(){return d7k.onZaBtnChange();});P0i.V2d!=d7k.view.top10Btn&&d7k.view.top10Btn.addEventListener(events._Event.CHANGE,function(){return d7k.onTop10Change();});P0i.V2d!=d7k.view.clearTopBtn&&d7k.view.clearTopBtn.container.addEventListener(P0i.m3d,function(s4k){return d7k.onClearTop(s4k);});P0i.V2d!=d7k.view.topBottomView&&d7k.view.topBottomView.addEventListener(q7k.TopBottomView.CHANGE_EVENT,function(){return d7k.onTopBottomChange();});P0i.V2d!=d7k.view.okBtn&&d7k.view.okBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(X4k){return d7k.onOkClick(X4k);});P0i.V2d!=d7k.view.cancelBtn&&d7k.view.cancelBtn.addEventListener(uicontrols.UIButton.CLICK_EVENT,function(P4k){return d7k.onCancelClick(P4k);});return d7k;}h7k.prototype.onMembersFilterSelect=function(){this.view.okBtn.setEnabled(Q933.R4d<this.view.membersFilterList.getTotalSelectedLength());this.updateAllSelectedCbx();this.updateSelectedLabel();};h7k.prototype.onMembersFilterExpand=function(){this.updateLayout();this.updateSelectedLabel();};h7k.prototype.updateAllSelectedCbx=function(){var Q0i=Q933;Q0i.R4d==this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(Q0i.R4d):this.view.membersFilterList.getTotalItemsCount()>this.view.membersFilterList.getSelectedLength()?this.view.selectAllCbx.setSelection(-Q0i.E4d):this.view.membersFilterList.getTotalItemsCount()==this.view.membersFilterList.getSelectedLength()&&this.view.selectAllCbx.setSelection(Q0i.E4d);};h7k.prototype.update=function(z4k){var d5i=Q933;var j8O="Sorting members...";var G8O="Please, wait";var Z4k=this;!d5i.E4d!=this.view.isVisible()&&(X933.S8B<z4k.members.length?(I7k.preloader(!d5i.R4d,G8O,j8O,!d5i.R4d,!d5i.R4d),setTimeout(function(){Z4k.model.update(z4k);Z4k.updateView();I7k.preloader(!d5i.E4d);},d5i.S6d)):(this.model.update(z4k),this.updateView()));};h7k.prototype.onSearchInputChange=function(t4k){var p4k=this;t4k.trim()==t4k&&this.view.membersFilterList&&this.view.membersFilterList.search(t4k,function(){return p4k.onSearchComplete();});};h7k.prototype.onSearchComplete=function(){this.updateLayout();this.updateSelectedLabel();this.updateAllSelectedCbx();};h7k.prototype.updateView=function(){var U8O="wdr-filter-pages-layout";this.view.setLabels();this.view.container.toggleClass(U8O,this.model.isPages);this.view.membersView&&this.view.membersView.reset();this.view.searchInput&&(this.view.searchInput.clear(),this.view.searchInput.setChangeDelay(Q933.R4d));this.view.top10Btn&&(I7k.data_.types.MeasureType.STRING==I7k.data_.types.MeasureType.fromDataType(this.model.currentHierarchy.dimension.type+Q933.s3d)&&I7k.model._options.OptionsManager.flatView?this.view.top10Btn.hide():this.view.top10Btn.show());this.updateSortType();this.updateHierarchy();this.updateMembers();this.updateTopBottom();this.updateLayout();this.updateSelectedLabel();var F4k=!this.model.isPages;this.view.azBtn&&(F4k?this.view.azBtn.show():this.view.azBtn.hide());this.view.zaBtn&&(F4k?this.view.zaBtn.show():this.view.zaBtn.hide());this.view.top10Btn&&(this.isAvailableTopX?this.view.top10Btn.show():this.view.top10Btn.hide());this.view.sortContainer&&(F4k?this.view.sortContainer.show():this.view.sortContainer.hide());};Object.defineProperty(h7k.prototype,T8O,{get:function(){if(this.model.isFlatTable){var e4k=this.model.modelLocator.cube_.structure_.hierarchyToMeasure(this.model.currentHierarchy.uniqueName);return e4k&&e4k.type==I7k.data_.types.MeasureType.NUMBER;}return!this.model.isPages;},enumerable:!Q933.R4d,configurable:!Q933.R4d});h7k.prototype.updateMembers=function(){var C5i=Q933;var N4k=this.model.currentHierarchy;this.view.selectAllCbx&&this.view.selectAllCbx.setSelection(C5i.R4d<N4k.filterMembers.length?-C5i.E4d:C5i.E4d);var b4k;b4k=C5i.M4d<N4k.levels_.length?new q7k.MembersTreeDataProvider():new q7k.MembersFilterDataProvider();this.view.membersFilterList&&(this.view.membersFilterList.setSmartDataProvider(b4k),this.view.membersFilterList.setHierarchy(N4k),this.view.membersFilterList.setDataProvider(this.model.members),this.view.membersFilterList.setFilterItems(N4k.filterMembers.toArray()),this.view.membersFilterList.sort(this.model.getSortType()));};h7k.prototype.updateHierarchy=function(){this.view.titleLabel&&this.view.titleLabel.setLabel(this.model.currentHierarchy.caption);this.view.toolbar&&this.view.toolbar.setHeader(this.model.currentHierarchy.caption);};h7k.prototype.updateLayout=function(){var k5i=Q933;var J6d=84;if(this.view.membersFilterList&&k5i.R4d<this.view.membersFilterList.getTotalLength())if(this.view.selectAllCbx&&this.view.selectAllCbx.show(),k5i.R4d==this.view.explicitListHeight||isNaN(this.view.explicitListHeight)){var V4k=utils.browserVersion().isMobile?utils.viewportHeight()-k5i.S6d:B7k.PivotView.stage.getY()+B7k.PivotView.stageHeight-window.document.documentElement.scrollTop,V4k=Math.min(V4k,parseFloat(window.document.documentElement.style.height))-this.view.membersFilterList.container.offset().top+window.document.documentElement.scrollTop-B7k.PivotView.stage.toolbarHeight,V4k=Math.max(V4k,J6d);this.setOptimalListHeight(V4k,!k5i.R4d);}else this.setOptimalListHeight(this.view.explicitListHeight,!k5i.E4d);else this.view.selectAllCbx&&this.view.selectAllCbx.hide();};h7k.prototype.updateSortType=function(){var A3i=Q933;this.view.azBtn&&this.view.azBtn.setSelection(X933.I0B===this.model.getSortType()?A3i.E4d:A3i.R4d);this.view.zaBtn&&this.view.zaBtn.setSelection(X933.I8B===this.model.getSortType()?A3i.E4d:A3i.R4d);};h7k.prototype.updateTopBottom=function(){var z3i=Q933;this.view.topBottomView&&(this.view.topBottomView.reset(),this.view.topBottomView.setMeasures(this.model.getTopBottomMeasures()));z3i.k3d===this.model.filterType||z3i.a3d===this.model.filterType?(this.view.topBottomView&&(this.view.topBottomView.setFilterType(this.model.filterType),this.view.topBottomView.setFilterQuantity(this.model.filterQuantity),this.view.topBottomView.setSelectedMeasure(utils.ArrayUtils.find(this.model.measures,this.model.filterMeasureName,X933.b0B)),this.view.topBottomView.show()),this.view.top10Btn&&this.view.top10Btn.setSelection(z3i.E4d)):(this.view.topBottomView&&this.view.topBottomView.hide(),this.view.top10Btn&&this.view.top10Btn.setSelection(z3i.R4d));var Y4k=this.view.topBottomView?this.view.topBottomView.isEmpty:!z3i.R4d;this.view.top10Btn&&this.view.top10Btn.container.toggleClass(i8O,!Y4k);};h7k.prototype.setOptimalListHeight=function(M4k,J4k){var R4k=Math.max(Math.min(M4k,this.view.membersFilterList.getMaxHeight()),this.view.membersFilterList.getMinHeight());if(J4k)var E4k=R4k%this.view.membersFilterList.getRowHeight(),R4k=R4k-E4k;this.view.membersFilterList.setHeight(R4k);this.view.table&&this.view.contentPanel.setHeight(this.view.table.getHeight());};h7k.prototype.updateSelectedLabel=function(){var k4k=Q933.s3d;this.view.membersFilterList&&(k4k=this.view.membersFilterList.isSearched()?utils.StringUtils.bind(I7k.model._labels.Labels.FILTER_AMOUNT_FOUND,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()):utils.StringUtils.bind(I7k.model._labels.Labels.FILTER_AMOUNT_SELECTED,this.view.membersFilterList.getSelectedLength(),this.view.membersFilterList.getTotalItemsCount()));this.view.selectedAmountLabel&&this.view.selectedAmountLabel.setLabel(k4k);this.view.selectAllCbx&&this.view.selectAllCbx.setLabel(this.view.membersFilterList&&this.view.membersFilterList.isSearched()?I7k.model._labels.Labels.FILTER_SELECT_ALL_RESULTS:I7k.model._labels.Labels.FILTER_SELECT_ALL);};h7k.prototype.onHierarchiesListChange=function(C4k){var a4k=C4k.data.selectedItem;-Q933.E4d<C4k.data.selectedIndex&&(this.model.setCurrentHierarchy(a4k),this.updateView());};return h7k;}(events.EventDispatcher);q7k.FilterController=v7k;}(B7k.filter||(B7k.filter={})));}(I7k._view||(I7k._view={})));}(pivot||(pivot={})));(function(H4k){(function(A4k){(function(O4k){var u4k=function(i4k){__extends(x4k,i4k);x4k.prototype.openView=function(G4k){this.open();this.controller.update(G4k);this.centerPosition();this.dispatchWith(events._Event.OPENED);};x4k.prototype.close=function(){i4k.prototype.close.call(this);this.dispatchWith(events._Event.CLOSED);};function x4k(){var f8O="wdr-filter-view";var l4k=i4k.call(this,A4k.PivotView.stage.container)||this;l4k.setId(f8O);l4k.addClass(Q933.N3d);l4k.controller=new O4k.FilterController();l4k.controller.addEventListener(P933.l8O,function(){return l4k.close();});l4k.addChild(l4k.controller.view);l4k.controller.view.show();return l4k;}return x4k;}(uicontrols.containers.UIPopup);O4k.FilterView=u4k;}(A4k.filter||(A4k.filter={})));}(H4k._view||(H4k._view={})));}(pivot||(pivot={})));var xls;(function(j4k){var U4k=function(){var X9E="rId";var r8O=".xml";T4k.prototype.toUint8Array=function(){var D8O="uint8array";var h8O="STORE";var v8O="docProps/core.xml";var q8O="docProps/app.xml";var B8O="xl/styles.xml";var I8O="xl/sharedStrings.xml";var m8O="xl/worksheets/sheet";var K8O="xl/theme/theme1.xml";var y8O="xl/workbook.xml";var n8O="xl/_rels/workbook.xml.rels";var W8O="_rels/.rels";var c8O="[Content_Types].xml";utils.getTimer();var f4k=new JSZip();f4k.file(c8O,j4k.XLSTemplates.XML_HEADER+this.composeContentTypeXMLString());f4k.file(W8O,j4k.XLSTemplates.XML_HEADER+j4k.XLSTemplates._RELS);f4k.file(n8O,j4k.XLSTemplates.XML_HEADER+this.composeWorkbookRelsXMLString());f4k.file(y8O,j4k.XLSTemplates.XML_HEADER+this.composeWorkbookXMLString());f4k.file(K8O,j4k.XLSTemplates.XML_HEADER+j4k.XLSTemplates.THEME);for(var c4k=Q933.R4d;c4k<this.sheets.length;c4k++){var W4k=this.sheets[c4k].toXMLString();f4k.file(m8O+(c4k+Q933.E4d)+r8O,j4k.XLSTemplates.XML_HEADER+W4k);}f4k.file(I8O,j4k.XLSTemplates.XML_HEADER+this.composeSharedStrings());f4k.file(B8O,j4k.XLSTemplates.XML_HEADER+this.styleSheet.toXMLString());f4k.file(q8O,j4k.XLSTemplates.XML_HEADER+j4k.XLSTemplates.APP_XML);f4k.file(v8O,j4k.XLSTemplates.XML_HEADER+j4k.XLSTemplates.CORE_XML);return f4k.generate({compression:h8O,type:D8O});};T4k.prototype.composeSharedStrings=function(){var Q9E="</t></si>";var o8O="<si><t>";var d8O="<axis/>";var n4k=Q933.s3d;misc.XML.create(d8O).attr(s933.E1d,s933.J4h);for(var y4k=Q933.R4d;y4k<j4k.XLSSharedStrings.strings.length;y4k++)var K4k=utils.StringUtils.escapeHtml(j4k.XLSSharedStrings.strings[y4k]),n4k=n4k+(o8O+K4k+Q9E);return utils.StringUtils.bind(j4k.XLSTemplates.SHARED_STRING_XML,n4k);};T4k.prototype.composeWorkbookXMLString=function(){var t2E=Q933;var s9E='<sheet name="{0}" sheetId="{1}" r:id="{2}"/>';for(var r4k=t2E.s3d,m4k=t2E.R4d;m4k<this.sheets.length;m4k++)r4k+=utils.StringUtils.bind(s9E,this.sheets[m4k].name,m4k+t2E.E4d,X9E+(m4k+t2E.k4d));return utils.StringUtils.bind(j4k.XLSTemplates.WORKBOOK_XML,r4k);};T4k.prototype.composeWorkbookRelsXMLString=function(){var Z2E=Q933;var P9E="worksheets/sheet";for(var B4k=Z2E.s3d,I4k=Z2E.R4d;I4k<this.sheets.length;I4k++)B4k+=utils.StringUtils.bind(j4k.XLSTemplates.WORKBOOK_XML_RELS_SHEET,X9E+(I4k+Z2E.k4d),P9E+(I4k+Z2E.E4d)+r8O);return utils.StringUtils.bind(j4k.XLSTemplates.WORKBOOK_XML_RELS,B4k);};function T4k(){this.styleSheet=new j4k.styles.XLSStyleSheet();this.sheets=[];j4k.styles.format.XLSStyleFormat.lastNumFmtId=j4k.styles.format.XLSStyleFormat.defaultNumFmtId;}T4k.prototype.composeContentTypeXMLString=function(){var S9E="/xl/worksheets/sheet";for(var v4k=Q933.s3d,q4k=Q933.R4d;q4k<this.sheets.length;q4k++)v4k+=utils.StringUtils.bind(j4k.XLSTemplates.CONTENT_TYPES_XML_SHEET,S9E+(q4k+Q933.E4d)+r8O);return utils.StringUtils.bind(j4k.XLSTemplates.CONTENT_TYPES_XML,v4k);};return T4k;}();j4k.XLS=U4k;}(xls||(xls={})));(function(h4k){var D4k=function(){var B6E=Q933;Object.defineProperty(d4k.prototype,B6E.P5d,{get:function(){return this._type;},enumerable:!B6E.R4d,configurable:!B6E.R4d});function d4k(o4k,Q6k,s6k,X6k){void B6E.R4d===o4k&&(o4k=B6E.R4d);void B6E.R4d===Q6k&&(Q6k=B6E.R4d);void B6E.R4d===s6k&&(s6k=B6E.s3d);void B6E.R4d===X6k&&(X6k=B6E.R4d);this.row=o4k;this.column=Q6k;this.value=s6k;this.styleIndex=X6k;}Object.defineProperty(d4k.prototype,P933.a9O,{get:function(){return this._value;},set:function(P6k){var z9E="<[^<]+?>";var w9E="/&/gmi";var g9E="gmi";var L9E="<br/?>";B6E.V3d===typeof P6k&&isNaN(P6k)&&(P6k=B6E.s3d);if(B6E.Y3d===typeof P6k){P6k=P6k.replace(RegExp(L9E,g9E),s933.D0d);P6k=P6k.replace(w9E,B6E.s3d);P6k=P6k.replace(RegExp(z9E,g9E),B6E.s3d);var S6k=h4k.XLSSharedStrings.strings.indexOf(P6k);-B6E.E4d==S6k?(this._value=h4k.XLSSharedStrings.strings.length,h4k.XLSSharedStrings.strings.push(P6k)):this._value=S6k;this._type=h4k.XLSType.STRING;}else this._value=P6k,this._type=B6E.V3d===typeof P6k?h4k.XLSType.NUMBER:B6E.V2d===P6k?h4k.XLSType.NULL:!B6E.E4d===P6k?h4k.XLSType.MERGED:h4k.XLSType.UNKNOWN;},enumerable:!B6E.R4d,configurable:!B6E.R4d});Object.defineProperty(d4k.prototype,B6E.o2d,{get:function(){var r4d=26;for(var g6k=B6E.s3d,L6k=this.column+B6E.E4d,z6k=B6E.R4d;r4d<L6k;){var w6k=B6E.R4d<L6k%r4d?L6k%r4d:r4d,L6k=L6k/r4d;r4d==w6k&&L6k--;g6k=String.fromCharCode(w6k+B6E.e6d)+g6k;if(B6E.J4d==z6k++)break;}g6k=String.fromCharCode(L6k+B6E.e6d)+g6k;return g6k+(this.row+B6E.E4d);},set:function(Z6k){},enumerable:!B6E.R4d,configurable:!B6E.R4d});d4k.prototype.toString=function(){var e9E=", value: ";var F9E=", id: ";var p9E=", type: ";var t9E=", column: ";var Z9E="XLSCell {row: ";return Z9E+this.row+t9E+this.column+p9E+this.type+F9E+this.id+e9E+this.value+s933.o8d;};return d4k;}();h4k.XLSCell=D4k;}(xls||(xls={})));(function(p6k){var t6k=function(){F6k.strings=[];function F6k(){}return F6k;}();p6k.XLSSharedStrings=t6k;}(xls||(xls={})));(function(e6k){var N6k=function(){var v6E=Q933;var V9E="rowsCount";var b9E="columnsCount";var N9E="maxCell";Object.defineProperty(b6k.prototype,N9E,{get:function(){return this.getCell(this.maxRow,this.maxColumn);},set:function(Y6k){},enumerable:!v6E.R4d,configurable:!v6E.R4d});Object.defineProperty(b6k.prototype,b9E,{get:function(){return this.maxColumn+v6E.E4d;},enumerable:!v6E.R4d,configurable:!v6E.R4d});Object.defineProperty(b6k.prototype,V9E,{get:function(){return this.maxRow+v6E.E4d;},enumerable:!v6E.R4d,configurable:!v6E.R4d});b6k.prototype.setColumnWidth=function(R6k,E6k){this.columns[R6k]=E6k;};function b6k(V6k){this.cells=[];this.maxColumn=this.maxRow=v6E.R4d;this.columns=[];this.rows=[];this.mergedCells=[];this.name=V6k;}b6k.prototype.getColumnWidth=function(M6k){return this.columns[M6k]?this.columns[M6k]:v6E.R4d;};b6k.prototype.setRowHeight=function(J6k,k6k){this.rows[J6k]=k6k;};b6k.prototype.getRowHeight=function(C6k){return this.rows[C6k]?this.rows[C6k]:v6E.R4d;};b6k.prototype.setCell=function(a6k,H6k,O6k,A6k){void v6E.R4d===A6k&&(A6k=v6E.V2d);v6E.V2d==this.cells[a6k]&&(this.cells[a6k]=[]);this.cells[a6k][H6k]=O6k instanceof e6k.XLSCell?O6k:new e6k.XLSCell(a6k,H6k,O6k,v6E.V2d==A6k?v6E.R4d:A6k.index);this.maxRow<a6k&&(this.maxRow=a6k);this.maxColumn<H6k&&(this.maxColumn=H6k);};b6k.prototype.getCell=function(x6k,i6k){var u6k;v6E.V2d!=this.cells[x6k]&&(u6k=this.cells[x6k][i6k]);v6E.V2d==u6k&&(u6k=new e6k.XLSCell(x6k,i6k,v6E.V2d));return u6k;};b6k.prototype.mergeCells=function(U6k,T6k,c6k){var l6k=this.getCell(U6k,T6k);if(v6E.V2d!=l6k){for(var f6k=l6k.id,j6k,G6k=T6k+v6E.E4d;G6k<T6k+c6k;G6k++)j6k=new e6k.XLSCell(U6k,G6k,!v6E.E4d,l6k.styleIndex),this.cells[U6k][G6k]=j6k;f6k+=s933.O8d+(j6k?j6k.id:l6k.id);this.mergedCells.push(f6k);}};b6k.prototype.toXMLString=function(){var O9E='<mergeCells count="{0}">{1}</mergeCells>';var A9E='<mergeCell ref="{0}"/>';var H9E='<col min="{0}" max="{1}" width="{2}" customWidth="1" />';var a9E='<row spans="1:3" r="{0}" x14ac:dyDescent="0.25" ht="{1}" customHeight="1">{2}</row>';var C9E='<row spans="1:3" r="{0}"  >{1}</row>';var k9E="</v></c>";var J9E="><v>";var M9E=' t="s"';var E9E='" />';var R9E='" s="';var Y9E='<c r="';utils.getTimer();for(var m6k=v6E.s3d,n6k=v6E.R4d;n6k<this.cells.length;n6k++){var W6k=this.cells[n6k];if(v6E.V2d!=W6k&&v6E.R4d!=W6k.length){for(var K6k=v6E.s3d,r6k=v6E.R4d;r6k<W6k.length;r6k++){var y6k=W6k[r6k];v6E.V2d!=y6k&&y6k.type!=e6k.XLSType.NULL&&(K6k=y6k.type==e6k.XLSType.MERGED?K6k+(Y9E+y6k.id+R9E+y6k.styleIndex.toString()+E9E):K6k+(Y9E+y6k.id+R9E+y6k.styleIndex.toString()+s933.s9h+(y6k.type==e6k.XLSType.STRING?M9E:v6E.s3d)+J9E+y6k.value+k9E));}m6k=isNaN(this.rows[n6k])?m6k+utils.StringUtils.bind(C9E,n6k+v6E.E4d,K6k):m6k+utils.StringUtils.bind(a9E,n6k+v6E.E4d,this.rows[n6k],K6k);}}n6k=v6E.s3d;for(W6k=v6E.R4d;W6k<this.columns.length;W6k++)isNaN(this.columns[W6k])||(n6k+=utils.StringUtils.bind(H9E,W6k+v6E.E4d,W6k+v6E.E4d,this.columns[W6k]));K6k=v6E.s3d;for(W6k=v6E.R4d;W6k<this.mergedCells.length;W6k++)K6k+=utils.StringUtils.bind(A9E,this.mergedCells[W6k]);W6k=v6E.R4d<this.mergedCells.length?utils.StringUtils.bind(O9E,this.mergeCells.length,K6k):v6E.s3d;return utils.StringUtils.bind(e6k.XLSTemplates.SHEET_XML,this.getCell(v6E.R4d,v6E.R4d).id+s933.O8d+this.maxCell.id,n6k,m6k,W6k);};return b6k;}();e6k.XLSSheet=N6k;}(xls||(xls={})));(function(B6k){var I6k=function(){var h6E=Q933;var k6d=98;q6k.NULL=h6E.R4d;function q6k(){}q6k.NUMBER=h6E.E4d;q6k.STRING=h6E.M4d;q6k.MERGED=k6d;q6k.UNKNOWN=h6E.C6d;return q6k;}();B6k.XLSType=I6k;}(xls||(xls={})));(function(v6k){(function(h6k){var D6k=function(){Object.defineProperty(d6k.prototype,Q933.o2d,{get:function(){var C9I=s933;return this.fill.id+C9I.O8d+this.font.id+C9I.O8d+this.textIndent+C9I.O8d+this.textAlign+C9I.O8d+this.format.id;},set:function(P2k){},enumerable:!Q933.R4d,configurable:!Q933.R4d});d6k.prototype.toXMLString=function(){var J9I=Q933;var j9E=' applyAlignment="1"';var G9E=' applyNumberFormat = "1"';var l9E='<xf numFmtId="{0}"{1} fontId="{2}" fillId="{3}" borderId="1" xfId="0" applyFont="1" applyFill="1"{4}>{5}</xf>';var i9E='<alignment vertical="center" wrapText="1"/>';var x9E=' indent="';var u9E='<alignment vertical="center" horizontal="{0}" wrapText="1"{1}/>';var S2k=J9I.s3d,S2k=this.textIndent||this.textAlign?utils.StringUtils.bind(u9E,utils.nullOrUndefined(this.textAlign)?J9I.J3d:this.textAlign,utils.nullOrUndefined(this.textIndent)?J9I.s3d:x9E+this.textIndent+s933.s9h):i9E;return utils.StringUtils.bind(l9E,this.format.numFmtId,J9I.R4d<this.format.numFmtId?G9E:J9I.s3d,this.font.fontIndex,this.fill.fillIndex,J9I.R4d<S2k.length?j9E:J9I.s3d,S2k);};function d6k(X2k,o6k,Q2k,s2k){var M9I=Q933;void M9I.R4d===Q2k&&(Q2k=M9I.V2d);void M9I.R4d===s2k&&(s2k=M9I.V2d);this.index=M9I.R4d;o6k instanceof h6k.fills.XLSStyleFill?this.fill=o6k:!isNaN(o6k)&&-M9I.E4d<o6k?this.fill=new h6k.fills.XLSStyleFill(o6k):this.fill=new h6k.fills.XLSStyleFill();this.font=X2k instanceof h6k.fonts.XLSStyleFont?X2k:new h6k.fonts.XLSStyleFont(X2k);this.format=Q2k&&Q2k instanceof h6k.format.XLSStyleFormat?Q2k:new h6k.format.XLSStyleFormat(M9I.R4d,M9I.s3d);M9I.V2d!=s2k&&(this.textAlign=s2k);}return d6k;}();h6k.XLSStyle=D6k;}(v6k.styles||(v6k.styles={})));}(xls||(xls={})));(function(L2k){(function(g2k){var w2k=function(){z2k.prototype.addStyle=function(t2k){this.styles.keyExists(t2k.id)?t2k.index=this.styles.getItem(t2k.id).index:(this.addFill(t2k.fill),this.addFont(t2k.font),this.styles.addItem(t2k.id,t2k),t2k.index=this.styles.length);};z2k.prototype.addFill=function(p2k){this.fills.keyExists(p2k.id)?p2k.fillIndex=this.fills.getItem(p2k.id).fillIndex:(p2k.fillIndex=this.fills.length,this.fills.addItem(p2k.id,p2k));};z2k.prototype.addFont=function(F2k){this.fonts.keyExists(F2k.id)?F2k.fontIndex=this.fonts.getItem(F2k.id).fontIndex:(this.fonts.addItem(F2k.id,F2k),F2k.fontIndex=this.fonts.length);};z2k.prototype.addFormat=function(e2k){this.formats.keyExists(e2k.id)?e2k.numFmtId=this.formats.getItem(e2k.id).numFmtId:(-Q933.E4d==e2k.numFmtId&&(e2k.numFmtId=g2k.format.XLSStyleFormat.getNextAvailableCustomNumFmtId()),this.formats.addItem(e2k.id,e2k));};function z2k(){this.styles=new utils.AssociativeArray();this.fills=new utils.AssociativeArray();this.fonts=new utils.AssociativeArray();this.formats=new utils.AssociativeArray();this.addFill(new g2k.fills.XLSStyleFill());var Z2k=new g2k.fills.XLSStyleFill();Z2k.patternFill.patternType=P933.U9E;Z2k.fillIndex=Q933.E4d;this.fills.addItem(P933.U9E,Z2k);}z2k.prototype.toXMLString=function(){var b9I=Q933;var f9E="</numFmts>";var T9E='<numFmts count="';var Y2k=b9I.s3d,R2k=b9I.s3d,E2k=b9I.s3d,M2k=b9I.s3d,N2k;if(b9I.R4d<this.formats.length){var b2k=b9I.R4d,J2k=b9I.s3d;for(N2k=b9I.R4d;N2k<this.formats.length;N2k++){var V2k=this.formats.getItemAt(N2k);b9I.s3d!=V2k.formatCode&&(V2k=V2k.toXMLString(),J2k+=V2k,b2k++);}b9I.R4d<b2k&&(Y2k=T9E+b2k+P933.L2O+J2k+f9E);}for(N2k=b9I.R4d;N2k<this.fills.length;N2k++)b2k=this.fills.getItemAt(N2k),R2k+=b2k.toXMLString();for(N2k=b9I.R4d;N2k<this.fonts.length;N2k++)b2k=this.fonts.getItemAt(N2k),E2k+=b2k.toXMLString();for(N2k=b9I.R4d;N2k<this.styles.length;N2k++)b2k=this.styles.getItemAt(N2k),M2k+=b2k.toXMLString();return utils.StringUtils.bind(L2k.XLSTemplates.STYLES_XML,Y2k,this.fonts.length+b9I.E4d,E2k,this.fills.length,R2k,this.styles.length+b9I.E4d,M2k);};return z2k;}();g2k.XLSStyleSheet=w2k;}(L2k.styles||(L2k.styles={})));}(xls||(xls={})));(function(k2k){(function(C2k){(function(H2k){var a2k=function(){Object.defineProperty(A2k.prototype,Q933.o2d,{get:function(){return this.rgb.toString(Q933.U4d);},set:function(u2k){},enumerable:!Q933.R4d,configurable:!Q933.R4d});A2k.prototype.toXMLString=function(x2k){var O2i=s933;var H2i=Q933;var K9E=' rgb="FF';var y9E=' indexed="';var n9E=' tint="';var W9E=' theme="';var c9E=' auto="';void H2i.R4d===x2k&&(x2k=H2i.s3d);H2i.R4d==x2k.length&&(x2k=P933.M4O);x2k=P933.N9O+x2k;this.auto&&(x2k+=c9E+this.auto+O2i.s9h);this.theme&&(x2k+=W9E+this.theme+O2i.s9h);this.tint&&(x2k+=n9E+this.tint+O2i.s9h);this.indexed&&(x2k+=y9E+this.indexed+O2i.s9h);for(var i2k=this.rgb.toString(H2i.U4d).toUpperCase();H2i.a4d>i2k.length;)i2k=O2i.M8d+i2k;return x2k+(K9E+i2k+P933.m9E);};function A2k(O2k){this.rgb=O2k;}return A2k;}();H2k.XLSStyleColor=a2k;}(C2k.color||(C2k.color={})));}(k2k.styles||(k2k.styles={})));}(xls||(xls={})));(function(l2k){(function(G2k){(function(j2k){var U2k=function(T2k){__extends(f2k,T2k);f2k.prototype.toXMLString=function(W2k){var r9E="bgColor";return T2k.prototype.toXMLString.call(this,r9E);};function f2k(c2k){return T2k.call(this,c2k)||this;}return f2k;}(j2k.XLSStyleColor);j2k.XLSStyleBgColor=U2k;}(G2k.color||(G2k.color={})));}(l2k.styles||(l2k.styles={})));}(xls||(xls={})));(function(n2k){(function(y2k){(function(K2k){var m2k=function(r2k){__extends(I2k,r2k);function I2k(B2k){return r2k.call(this,B2k)||this;}I2k.prototype.toXMLString=function(q2k){var I9E="fgColor";return r2k.prototype.toXMLString.call(this,I9E);};return I2k;}(K2k.XLSStyleColor);K2k.XLSStyleFgColor=m2k;}(y2k.color||(y2k.color={})));}(n2k.styles||(n2k.styles={})));}(xls||(xls={})));(function(v2k){(function(h2k){(function(D2k){var d2k=function(){o2k.prototype.toXMLString=function(){var q9E="</fill>";var B9E="<fill>";return B9E+this.patternFill.toXMLString()+q9E;};Object.defineProperty(o2k.prototype,Q933.o2d,{get:function(){return this.patternFill.id;},set:function(s3k){},enumerable:!Q933.R4d,configurable:!Q933.R4d});function o2k(Q3k){void Q933.R4d===Q3k&&(Q3k=-Q933.E4d);this.fillIndex=Q933.R4d;this.patternFill=new D2k.XLSStylePatternFill(Q3k);}return o2k;}();D2k.XLSStyleFill=d2k;}(h2k.fills||(h2k.fills={})));}(v2k.styles||(v2k.styles={})));}(xls||(xls={})));(function(X3k){(function(P3k){(function(L3k){var S3k=function(){Object.defineProperty(g3k.prototype,Q933.o2d,{get:function(){return utils.nullOrUndefined(this.fgColor)?Q933.u3d:this.fgColor.id;},enumerable:!Q933.R4d,configurable:!Q933.R4d});function g3k(w3k){var e2i=Q933;void e2i.R4d===w3k&&(w3k=-e2i.E4d);this.patternType=P933.U9E;-e2i.E4d<w3k?(this.fgColor=new P3k.color.XLSStyleFgColor(w3k),this.bgColor=new P3k.color.XLSStyleBgColor(w3k)):this.patternType=e2i.u3d;}g3k.prototype.toXMLString=function(){var v9E='<patternFill patternType="{0}">{1}{2}</patternFill>';return utils.StringUtils.bind(v9E,this.patternType,utils.nullOrUndefined(this.fgColor)?Q933.s3d:this.fgColor.toXMLString(),utils.nullOrUndefined(this.bgColor)?Q933.s3d:this.bgColor.toXMLString());};return g3k;}();L3k.XLSStylePatternFill=S3k;}(P3k.fills||(P3k.fills={})));}(X3k.styles||(X3k.styles={})));}(xls||(xls={})));(function(z3k){(function(Z3k){(function(p3k){var t3k=function(){Object.defineProperty(F3k.prototype,Q933.o2d,{get:function(){var t2i=s933;return this.name+t2i.f0d+this.size+t2i.f0d+(utils.nullOrUndefined(this.hexColor)?Q933.s3d:this.hexColor.id)+t2i.f0d+this.bold+t2i.f0d+this.italic;},set:function(V3k){},enumerable:!Q933.R4d,configurable:!Q933.R4d});F3k.prototype.toXMLString=function(){var Q7E="</font>";var o9E='<name val="';var d9E='<sz val="';var D9E="<b/>";var h9E="<font>";var Y3k=h9E;this.bold&&(Y3k+=D9E);this.size&&(Y3k+=d9E+this.size+P933.m9E);this.hexColor&&(Y3k+=this.hexColor.toXMLString());if(this.name){var R3k=this.name;this.name.indexOf(s933.f0d)&&(R3k=this.name.split(s933.f0d)[Q933.R4d].trim());Y3k+=o9E+R3k+P933.m9E;}return Y3k+Q7E;};function F3k(e3k,N3k,b3k){this.fontIndex=Q933.R4d;utils.nullOrUndefined(e3k)||(this.name=e3k);utils.nullOrUndefined(N3k)||(this.size=N3k);utils.nullOrUndefined(b3k)||(this.hexColor=new Z3k.color.XLSStyleColor(b3k));}return F3k;}();p3k.XLSStyleFont=t3k;}(Z3k.fonts||(Z3k.fonts={})));}(z3k.styles||(z3k.styles={})));}(xls||(xls={})));(function(E3k){(function(M3k){(function(k3k){var J3k=function(){var t9I=Q933;C3k.prototype.toXMLString=function(){var X7E='" formatCode="';var s7E='<numFmt numFmtId="';return s7E+this.numFmtId+X7E+this.formatCode+P933.m9E;};function C3k(a3k,H3k){this.formatCode=t9I.s3d;this.numFmtId=a3k;this.formatCode=H3k;}Object.defineProperty(C3k.prototype,t9I.o2d,{get:function(){return t9I.s3d!=this.formatCode?this.formatCode:this.numFmtId.toString();},set:function(A3k){},enumerable:!t9I.R4d,configurable:!t9I.R4d});C3k.getNextAvailableCustomNumFmtId=function(){return C3k.lastNumFmtId++;};C3k.defaultNumFmtId=t9I.E4d;C3k.lastNumFmtId=C3k.defaultNumFmtId;return C3k;}();k3k.XLSStyleFormat=J3k;}(M3k.format||(M3k.format={})));}(E3k.styles||(E3k.styles={})));}(xls||(xls={})));(function(O3k){(function(u3k){var x3k=function(){var X2E=Q933;var L7E="result";var P7E="slice_";i3k.prototype.clearData=function(){this.clearValues();this.rowResult=[];this.columnResult=[];this.allMeasures=this.allHierarchies=X2E.V2d;};i3k.prototype.clearValues=function(){this.ids=[];this.tuples=[];this.facts=[];this.drilled=[];this.levels=[];this.values=[];this.updates=[];this.updatesCache=[];this.allIndices=[];this.filtered=[];this.filters=[];};i3k.prototype.clearAll=function(){this.clearData();this.sizes=[];this.keys=[];this.factKeys=[];this.allIndices=[];};i3k.prototype.clearUpdates=function(){this.updates=[];this.updatesCache=[];this.values=[];};Object.defineProperty(i3k.prototype,P7E,{get:function(){return X2E.V2d!=this._slice?this._slice:this.cube_.slice_;},set:function(G3k){this._slice=G3k;},enumerable:!X2E.R4d,configurable:!X2E.R4d});i3k.clone=function(U3k){var j3k=new i3k(U3k.cube_);j3k.allIndices=U3k.allIndices.slice(X2E.R4d);j3k.ids=U3k.ids.slice(X2E.R4d);j3k.tuples=U3k.tuples.slice(X2E.R4d);j3k.facts=U3k.facts.slice(X2E.R4d);j3k.levels=U3k.levels.slice(X2E.R4d);j3k.keys=U3k.keys.slice(X2E.R4d);j3k.factKeys=U3k.factKeys.slice(X2E.R4d);return j3k;};i3k.prototype.addKey=function(f3k,T3k){void X2E.R4d===T3k&&(T3k=X2E.s3d);if(-X2E.E4d!=this.keys.indexOf(f3k))return this.keys.indexOf(f3k);if(X2E.s3d==T3k)this.levels[this.keys.length]=[-X2E.E4d,this.keys.length];else{var c3k=this.keys.indexOf(T3k);this.levels[c3k]&&this.levels[c3k].push(this.keys.length);}this.keys.push(f3k);return this.keys.length-X2E.E4d;};i3k.prototype._addKey=function(n3k,W3k){void X2E.R4d===W3k&&(W3k=-X2E.E4d);if(-X2E.E4d!=this.keys.indexOf(n3k))return this.keys.indexOf(n3k);-X2E.E4d==W3k?this.levels[this.keys.length]=[-X2E.E4d,this.keys.length]:this.levels[W3k].push(this.keys.length);this.keys.push(n3k);return this.keys.length-X2E.E4d;};i3k.prototype.addFactKey=function(m3k,y3k,K3k){void X2E.R4d===y3k&&(y3k=X2E.V2d);void X2E.R4d===K3k&&(K3k=!X2E.E4d);this.calculatedKeys[this.factKeys.length]=y3k;this.individualKeys[this.factKeys.length]=K3k;this.factKeys.push(m3k);};i3k.prototype.updateFactKey=function(r3k,I3k,B3k){void X2E.R4d===I3k&&(I3k=X2E.V2d);void X2E.R4d===B3k&&(B3k=!X2E.E4d);r3k=this.factKeys.indexOf(r3k);X2E.R4d<=r3k&&(this.calculatedKeys[r3k]=I3k,this.individualKeys[r3k]=B3k);};i3k.prototype.removeFactKey=function(q3k){q3k=this.factKeys.indexOf(q3k);this.factKeys.splice(q3k,X2E.E4d);};i3k.prototype.delete_=function(v3k){var h3k=this.ids.indexOf(v3k);if(!utils.nullOrUndefined(v3k)&&-X2E.E4d<h3k)for(v3k=X2E.R4d;v3k<this.factKeys.length;v3k++)this.facts[h3k][v3k]=NaN,X2E.V2d==this.updates[v3k]&&(this.updates[v3k]=[]),this.updates[v3k][h3k]={difference:-this.facts[h3k][v3k],percent:-X2E.E4d};};i3k.prototype.update=function(s5k,Q5k,D3k){var d3k=this.ids.indexOf(D3k);if(!utils.nullOrUndefined(D3k)&&-X2E.E4d<d3k){for(D3k=X2E.R4d;D3k<this.factKeys.length;D3k++)if(this.facts[d3k][D3k]!=Q5k[D3k]){var o3k=Q5k[D3k]-this.facts[d3k][D3k];isNaN(o3k)||(X2E.V2d==this.updates[D3k]&&(this.updates[D3k]=[]),this.updates[D3k][d3k]={difference:o3k,percent:o3k/this.facts[d3k][D3k]});}this.facts[d3k]=Q5k;this.tuples[d3k]=s5k;}else{d3k=this.tuples.length;utils.nullOrUndefined(D3k)||(this.ids[d3k]=D3k);for(D3k=X2E.R4d;D3k<this.factKeys.length;D3k++)o3k=Q5k[D3k],isNaN(o3k)||(X2E.V2d==this.updates[D3k]&&(this.updates[D3k]=[]),this.updates[D3k][d3k]={difference:o3k,percent:X2E.E4d});this.allIndices.push(d3k);this.tuples.push(s5k);this.facts.push(Q5k);}};i3k.prototype.insert=function(X5k,S5k,P5k){-X2E.E4d<X5k.indexOf(X2E.R4d)||(this.allIndices.push(this.tuples.length),utils.nullOrUndefined(P5k)||(this.ids[this.tuples.length]=P5k),this.tuples.push(X5k),this.facts.push(S5k));};i3k.prototype.insertChunk=function(w5k,Z5k,F5k,t5k,p5k){for(var z5k=[],g5k=[],L5k=X2E.R4d;L5k<w5k.length;L5k++){if(-X2E.E4d==w5k[L5k][X2E.E4d])return;g5k[L5k]=w5k[L5k][X2E.E4d];z5k[this.levels[this.rowFields[L5k]][w5k[L5k][X2E.R4d]]]=g5k[L5k];}w5k=[];for(L5k=X2E.R4d;L5k<Z5k.length;L5k++){if(-X2E.E4d==Z5k[L5k][X2E.E4d])return;w5k[L5k]=Z5k[L5k][X2E.E4d];z5k[this.levels[this.columnFields[L5k]][Z5k[L5k][X2E.R4d]]]=w5k[L5k];}Z5k=this.calculateIndex(g5k,w5k);g5k=this.tuples.length;void X2E.R4d!==this.values[Z5k]?(g5k=this.findTuple(z5k),this.facts[g5k]=F5k):(this.allIndices.push(g5k),this.tuples.push(z5k),this.facts.push(F5k));X2E.R4d<t5k.length&&(z5k=p5k==u3k.consts.AxisName.ROWS_AXIS?this.getNode(t5k,this.rowResult):this.getNode(t5k,this.columnResult),-X2E.E4d==z5k[X2E.R4d][X2E.R4d].indexOf(g5k)&&z5k[X2E.R4d][X2E.R4d].push(g5k),this.cube_.queryType==u3k.consts.QueryType.DRILL_DOWN_TO&&(t5k=t5k.slice(X2E.R4d,-X2E.E4d),p5k=p5k==u3k.consts.AxisName.ROWS_AXIS?this.getNode(t5k,this.rowResult):this.getNode(t5k,this.columnResult),-X2E.E4d==p5k[X2E.R4d][X2E.R4d].indexOf(g5k)&&p5k[X2E.R4d][X2E.R4d].push(g5k)));this.values[Z5k]=F5k;};i3k.prototype.findTuple=function(b5k){for(var V5k,e5k=X2E.R4d;e5k<this.tuples.length;e5k++)if(b5k.length==this.tuples[e5k].length){V5k=!X2E.R4d;for(var N5k=X2E.R4d;N5k<b5k.length;N5k++)if(b5k[N5k]!=this.tuples[e5k][N5k]){V5k=!X2E.E4d;break;}if(V5k)return e5k;}return this.tuples.length;};i3k.prototype.keyToMembers=function(M5k){var g9I=s933;var S7E=" + ";M5k=M5k.split(X2E.Z5d);for(var R5k=M5k[X2E.R4d].split(X2E.l3d),a5k=R5k[X2E.R4d].split(g9I.f0d),H5k=R5k[X2E.E4d].split(g9I.f0d),k5k=this.slice_.rowsOnly,C5k=this.slice_.columnsOnly,R5k=X2E.s3d,E5k,J5k=[],Y5k=X2E.R4d;Y5k<k5k.length;Y5k++)E5k=k5k.getItemAt(Y5k),E5k=E5k.members.getItemAt(parseInt(a5k[Y5k])),J5k.push(E5k.caption);R5k=J5k.join(g9I.f0d);J5k=[];for(Y5k=X2E.R4d;Y5k<C5k.length;Y5k++)E5k=C5k.getItemAt(Y5k),E5k=E5k.members.getItemAt(parseInt(H5k[Y5k])),J5k.push(E5k.caption);R5k+=P933.b4O+J5k.join(g9I.f0d);M5k=this.slice_.measures_.getItemAt(parseInt(M5k[X2E.E4d]));return R5k+=S7E+M5k.caption;};i3k.prototype.timeCaption=function(A5k){return A5k&&X2E.R4d<A5k.length&&X933.l8B!=A5k?A5k:O3k.model._labels.Labels.INVALID_DATE;};i3k.prototype.addStringMember=function(O5k,x5k,G5k,l5k){O5k=this.cube_.structure_.getDataField(O5k);var i5k=O5k.uniqueName+s933.c8d+x5k,u5k=O5k.findMember(i5k);X2E.V2d==u5k&&(u5k=new u3k._structure.GenericMember(i5k,x5k),O5k.addMember(u5k));G5k.push(u5k.ordinal);X2E.V2d==x5k||X2E.s3d==x5k?l5k.push(NaN):l5k.push(X2E.E4d);};i3k.prototype.addNumberMember=function(U5k,T5k,W5k,n5k){U5k=this.cube_.structure_.getDataField(U5k);var f5k=U5k.uniqueName+s933.c8d+T5k,j5k=U5k.findMember(f5k),c5k=utils.StringUtils.toNumber(T5k);X2E.V2d==j5k&&(j5k=new u3k._structure.GenericMember(f5k,T5k),U5k.addMember(j5k));j5k.levelOrdinal=c5k;W5k.push(j5k.ordinal);n5k.push(c5k);};i3k.prototype.validateDate=function(y5k){return X2E.V2d==y5k||X2E.Y3d!==typeof y5k?X2E.s3d:y5k=y5k.trim();};i3k.prototype.addDateTimeMember=function(I5k,K5k,v5k,h5k){I5k=this.cube_.structure_.getDataField(I5k);var m5k;K5k instanceof Date?m5k=K5k.getTime():X2E.V3d==typeof K5k?m5k=K5k:(m5k=Date.parse(this.validateDate(K5k)),isNaN(m5k)&&(m5k=parseInt(K5k)));var B5k=utils.StringUtils.toDateTime(m5k,this.dateTimePattern),q5k=I5k.uniqueName+s933.c8d+B5k,r5k=I5k.findMember(q5k);X2E.V2d==r5k&&(r5k=new u3k._structure.GenericMember(q5k,B5k),r5k.levelOrdinal=K5k,I5k.addMember(r5k));v5k.push(r5k.ordinal);h5k.push(m5k);};i3k.prototype.addTimeMember=function(d5k,o5k,P0k,S0k){d5k=this.cube_.structure_.getDataField(d5k);var Q0k=parseFloat(o5k),s0k=isNaN(o5k)||X2E.s3d==o5k?X2E.s3d:utils.StringUtils.toTime(Q0k),X0k=d5k.uniqueName+s933.c8d+s0k,D5k=d5k.findMember(X0k);X2E.V2d==D5k&&(D5k=new u3k._structure.GenericMember(X0k,s0k),D5k.levelOrdinal=o5k,d5k.addMember(D5k));P0k.push(D5k.ordinal);S0k.push(Q0k);};i3k.prototype.addDateStringMember=function(w0k,L0k,t0k,p0k){w0k=this.cube_.structure_.getDataField(w0k);L0k=L0k instanceof Date?L0k.getTime():X2E.V3d==typeof L0k?L0k:Date.parse(this.validateDate(L0k));var z0k=utils.StringUtils.toDate(L0k,this.datePattern),Z0k=w0k.uniqueName+s933.c8d+z0k,g0k=w0k.findMember(Z0k);X2E.V2d==g0k&&(g0k=new u3k._structure.GenericMember(Z0k,z0k),g0k.levelOrdinal=L0k,w0k.addMember(g0k));t0k.push(g0k.ordinal);p0k.push(L0k);};i3k.prototype.addHierarchcalDateMember=function(N0k,V0k,C0k,A0k,E0k){var o8E=s933;N0k=this.cube_.structure_.getDataField(N0k);var e0k,F0k;e0k=V0k instanceof Date?V0k:X2E.V3d==typeof V0k?new Date(V0k):new Date(this.validateDate(V0k));var Y0k=X2E.s3d,b0k=X2E.s3d,J0k=V0k=X2E.s3d,R0k=X2E.s3d,H0k=X2E.R4d,k0k=X2E.E4d;X2E.V2d!=e0k&&(R0k=Math.floor(e0k.getUTCMonth()/X2E.J4d),b0k=O3k.model._labels.Labels.QUARTER_LABELS[R0k],J0k=O3k.model._labels.Labels.MONTHS_LABELS[e0k.getUTCMonth()],R0k=e0k.getUTCDate().toString(),Y0k=e0k.getUTCFullYear().toString(),H0k=e0k.getTime());e0k=N0k.levels_.getItemAt(k0k++);N0k=e0k.hierarchy;var M0k=N0k.uniqueName+o8E.c8d+Y0k;F0k=N0k.findMember(M0k);X2E.V2d==F0k&&(F0k=new u3k._structure.GenericMember(M0k,this.timeCaption(Y0k)),N0k.addMember(F0k,e0k.uniqueName));C0k.push(F0k.ordinal);var a0k;E0k&&(e0k=N0k.levels_.getItemAt(k0k++),a0k=e0k.uniqueName+o8E.c8d+Y0k+o8E.w1d+b0k,F0k=N0k.findMember(a0k),X2E.V2d==F0k&&(F0k=new u3k._structure.GenericMember(a0k,this.timeCaption(b0k)),N0k.addMember(F0k,e0k.uniqueName,M0k)),C0k.push(F0k.ordinal),V0k=o8E.w1d+b0k);e0k=N0k.levels_.getItemAt(k0k++);b0k=e0k.uniqueName+o8E.c8d+Y0k+V0k+o8E.w1d+J0k;F0k=N0k.findMember(b0k);X2E.V2d==F0k&&(F0k=new u3k._structure.GenericMember(b0k,this.timeCaption(J0k)),N0k.addMember(F0k,e0k.uniqueName,E0k?a0k:M0k));C0k.push(F0k.ordinal);e0k=N0k.levels_.getItemAt(k0k++);E0k=e0k.uniqueName+o8E.c8d+Y0k+V0k+o8E.w1d+J0k+o8E.w1d+R0k;F0k=N0k.findMember(E0k);X2E.V2d==F0k&&(F0k=new u3k._structure.GenericMember(E0k,this.timeCaption(R0k)),F0k.levelOrdinal=H0k,N0k.addMember(F0k,e0k.uniqueName,b0k));C0k.push(F0k.ordinal);A0k.push(X2E.E4d);};i3k.prototype.addDateMember=function(l0k,u0k,j0k,U0k){var x0k=this.cube_.structure_.getDataField(l0k),O0k,i0k=X2E.s3d,G0k=X2E.s3d;l0k=X2E.s3d;var f0k=X2E.R4d;try{O0k=u0k instanceof Date?u0k:X2E.V3d==typeof u0k?new Date(u0k):new Date(this.validateDate(u0k));}catch(c0k){O0k=X2E.V2d;}X2E.V2d!=O0k&&(G0k=O3k.model._labels.Labels.MONTHS_LABELS[O0k.getUTCMonth()],l0k=O0k.getUTCDate().toString(),i0k=O0k.getUTCFullYear().toString(),f0k=O0k.getUTCDate());u0k=x0k.hierarchies.getItemAt(X2E.R4d);var T0k=u0k.uniqueName+s933.c8d+i0k;O0k=u0k.findMember(T0k);X2E.V2d==O0k&&(O0k=new u3k._structure.GenericMember(T0k,this.timeCaption(i0k)),u0k.addMember(O0k));j0k.push(O0k.ordinal);U0k.push(X2E.E4d);u0k=x0k.hierarchies.getItemAt(X2E.E4d);i0k=u0k.uniqueName+s933.c8d+G0k;O0k=u0k.findMember(i0k);X2E.V2d==O0k&&(O0k=new u3k._structure.GenericMember(i0k,this.timeCaption(G0k)),u0k.addMember(O0k));j0k.push(O0k.ordinal);U0k.push(X2E.E4d);u0k=x0k.hierarchies.getItemAt(X2E.M4d);x0k=u0k.uniqueName+s933.c8d+l0k;O0k=u0k.findMember(x0k);X2E.V2d==O0k&&(O0k=new u3k._structure.GenericMember(x0k,this.timeCaption(l0k)),O0k.levelOrdinal=f0k,u0k.addMember(O0k));j0k.push(O0k.ordinal);U0k.push(X2E.E4d);};i3k.prototype.addLevelsMember=function(W0k,m0k,r0k,B0k){if(X2E.s3d==m0k)r0k.push(X2E.V2d),B0k.push(X2E.V2d);else{W0k=this.cube_.structure_.getDataField(W0k);var n0k=W0k.uniqueName+s933.c8d+m0k,y0k,K0k;if(X2E.E4d<W0k.num){n0k=W0k.hierarchy.levels_.getItemAt(W0k.num-X2E.E4d);y0k=X2E.E4d==n0k.num?this.keys.indexOf(W0k.hierarchy.uniqueName):this.keys.indexOf(n0k.uniqueName);K0k=W0k.hierarchy.members.getItemAt(r0k[y0k]);if(X2E.V2d==K0k){var I0k=n0k.uniqueName+s933.c8d+O3k.model._labels.Labels.MEMBER_BLANK;K0k=W0k.hierarchy.findMember(I0k);X2E.V2d==K0k&&(K0k=new u3k._structure.GenericMember(I0k,O3k.model._labels.Labels.MEMBER_BLANK),n0k.hierarchy.addMember(K0k,n0k.uniqueName));r0k[y0k]=K0k.ordinal;}n0k=K0k.uniqueName+s933.c8d+m0k;}y0k=W0k.hierarchy.findMember(n0k);X2E.V2d==y0k&&(y0k=new u3k._structure.GenericMember(n0k,m0k),X2E.E4d==W0k.num?W0k.hierarchy.addMember(y0k,W0k.uniqueName):W0k.hierarchy.addMember(y0k,W0k.uniqueName,K0k.uniqueName));r0k.push(y0k.ordinal);B0k.push(X2E.E4d);}};i3k.prototype.addMember=function(q0k,v0k,d0k,h0k,D0k){switch(d0k){case u3k.types.DataFieldType.STRING:case u3k.types.DataFieldType.WEEKDAY:case u3k.types.DataFieldType.MONTH:this.addStringMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.NUMBER:this.addNumberMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.DATE:this.addDateMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.LEVEL:this.addLevelsMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.HIERARCHICAL_DATE:this.addHierarchcalDateMember(q0k,v0k,h0k,D0k,!X2E.E4d);break;case u3k.types.DataFieldType.HIERARCHICAL_DATE_WITH_QUARTERS:this.addHierarchcalDateMember(q0k,v0k,h0k,D0k,!X2E.R4d);break;case u3k.types.DataFieldType.DATE_STRING:this.addDateStringMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.DATETIME:this.addDateTimeMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.TIME:this.addTimeMember(q0k,v0k,h0k,D0k);break;case u3k.types.DataFieldType.HIDDEN:break;default:this.addStringMember(q0k,v0k,h0k,D0k);}};i3k.prototype.insertObject=function(S1k,s1k){void X2E.R4d===s1k&&(s1k=!X2E.E4d);var X1k=[],P1k=[],Q1k=X2E.s3d,z1k=this.cube_.structure_.getDataKeys(),o0k,w1k,L1k=!X2E.E4d;s1k&&(o0k=this.cube_.structure_.deleteId,L1k=X2E.s3d!=o0k&&S1k.hasOwnProperty(o0k));for(var g1k=X2E.R4d;g1k<z1k.length;g1k++)o0k=z1k[g1k],w1k=this.cube_.structure_.getDataType(o0k),w1k==u3k.types.DataFieldType.ID?Q1k=S1k[o0k]:S1k[o0k]instanceof Array||L1k||this.addMember(o0k,S1k[o0k],w1k,X1k,P1k);s1k?L1k?this.delete_(Q1k):this.update(X1k,P1k,Q1k):this.insert(X1k,P1k,Q1k);};i3k.prototype.insertArray=function(R1k,e1k){void X2E.R4d===e1k&&(e1k=!X2E.E4d);var N1k=this.cube_.structure_.getDataKeys(),t1k,Y1k,b1k=[],V1k=[],F1k=X2E.s3d,p1k=!X2E.E4d;e1k&&(t1k=this.cube_.structure_.deleteId,X2E.s3d!=t1k&&(p1k=N1k.indexOf(t1k),p1k=!utils.nullOrUndefined(R1k[p1k])));for(var Z1k=X2E.R4d;Z1k<N1k.length;Z1k++)t1k=N1k[Z1k],Y1k=this.cube_.structure_.getDataType(t1k),Y1k==u3k.types.DataFieldType.ID?F1k=R1k[Z1k]:p1k||this.addMember(t1k,R1k[Z1k],Y1k,b1k,V1k);e1k?p1k?this.delete_(F1k):this.update(b1k,V1k,F1k):this.insert(b1k,V1k,F1k);};i3k.prototype.filterIndices=function(M1k,H1k,A1k){for(var J1k=X2E.R4d;J1k<H1k.length;J1k++){for(var C1k=H1k[J1k],E1k=A1k[J1k],E1k=utils.nullOrUndefined(this.drilled[E1k])||utils.nullOrUndefined(this.drilled[E1k][C1k])?E1k:this.drilled[E1k][C1k],a1k=[],k1k=X2E.R4d;k1k<M1k.length;k1k++)this.tuples[M1k[k1k]][E1k]==C1k&&a1k.push(M1k[k1k]);M1k=a1k;}return M1k;};i3k.prototype.hierarchize=function(O1k,l1k,x1k){var G1k=this.keys.indexOf(l1k.hierarchy_.uniqueName),j1k=x1k==u3k.consts.AxisName.ROWS_AXIS?this.getNode(O1k,this.rowResult):this.getNode(O1k,this.columnResult);X2E.E4d<O1k.length?(O1k=O1k.slice(X2E.R4d,-X2E.E4d),x1k=(x1k==u3k.consts.AxisName.ROWS_AXIS?this.getNode(O1k,this.rowResult):this.getNode(O1k,this.columnResult))[X2E.R4d][X2E.R4d]):x1k=this.filtered;G1k=this.levels[G1k][l1k.level.num+X2E.E4d];for(O1k=X2E.R4d;O1k<l1k.children.length;O1k++)for(var u1k=l1k.children.getItemAt(O1k),u1k=this.filterIndices(x1k,[u1k.ordinal],[G1k]),i1k=X2E.R4d;i1k<u1k.length;i1k++)-X2E.E4d==j1k[X2E.R4d][X2E.R4d].indexOf(u1k[i1k])&&j1k[X2E.R4d][X2E.R4d].push(u1k[i1k]);};i3k.prototype.getDistinctCountColumn=function(f1k,n1k,y1k,c1k,W1k){if(X2E.R4d!=f1k.length){var T1k,U1k;for(T1k=X2E.R4d;T1k<f1k.length;T1k++)U1k=this.facts[f1k[T1k]][y1k],isNaN(U1k)||W1k[U1k]||(c1k.push(U1k),W1k[U1k]=!X2E.R4d);if(this.columnFields.length!=n1k.length)for(T1k=X2E.R4d;T1k<c1k.length;T1k++){U1k=n1k.slice(X2E.R4d);U1k.push(c1k[T1k]);var K1k=this.filterIndices(f1k,U1k,this.columnFields);this.getDistinctCountColumn(K1k,U1k,y1k,c1k,W1k);}}};i3k.prototype.getDistinctCountRec=function(B1k,h1k,D1k,d1k,o1k,Q8k){if(X2E.R4d!=B1k.length)if(this.rowFields.length==h1k.length)this.getDistinctCountColumn(B1k,D1k,d1k,o1k,Q8k);else{for(var q1k=[],r1k=[],v1k=this.rowFields[h1k.length],m1k=X2E.R4d;m1k<B1k.length;m1k++){var I1k=this.tuples[B1k[m1k]][v1k];r1k[I1k]||X2E.R4d==I1k||(q1k.push(I1k),r1k[I1k]=!X2E.R4d);}for(m1k=X2E.R4d;m1k<q1k.length;m1k++)r1k=h1k.slice(X2E.R4d),r1k.push(q1k[m1k]),v1k=this.filterIndices(B1k,r1k,this.rowFields),this.getDistinctCountRec(v1k,r1k,D1k,d1k,o1k,Q8k);}};i3k.prototype.getDistinctCount=function(X8k,P8k,S8k,L8k){var s8k=[];this.getDistinctCountRec(X8k,P8k,S8k,L8k,s8k,[]);return s8k.length;};i3k.prototype.getDistinctMembersCount=function(z8k,F8k){if(X2E.R4d==z8k.length)return X2E.R4d;for(var g8k=this.cube_.structure_.measureToHierarchy(F8k.uniqueName),g8k=this.keys.indexOf(g8k.uniqueName),t8k=[],p8k=[],Z8k,w8k=X2E.R4d;w8k<z8k.length;w8k++)Z8k=this.tuples[z8k[w8k]][g8k],p8k[Z8k]||(p8k[Z8k]=!X2E.R4d,isNaN(this.facts[z8k[w8k]][g8k])||t8k.push(Z8k));return t8k.length;};i3k.prototype.calculateFlat=function(b8k,V8k,e8k,N8k){return this.getCalculatedValue([],e8k,!X2E.E4d,N8k);};i3k.prototype.calculate=function(R8k,E8k,k8k,C8k){var M8k=this.getNode(R8k,this.rowResult),J8k=this.getNode(E8k,this.columnResult),Y8k=[],Y8k=R8k.length*J8k[X2E.R4d][X2E.R4d].length<E8k.length*M8k[X2E.R4d][X2E.R4d].length?this.filterIndices(J8k[X2E.R4d][X2E.R4d],R8k,this.rowFields):this.filterIndices(M8k[X2E.R4d][X2E.R4d],E8k,this.columnFields);return this.getCalculatedValue(Y8k,k8k,!X2E.E4d,C8k);};i3k.prototype.saveFlat=function(H8k,O8k,A8k,u8k,x8k){H8k=this.filtered[H8k[X2E.R4d]];O8k=O8k[X2E.R4d];x8k=[];var a8k=X2E.s3d;this.updates=[];this.updates[H8k]=[];this.values=[];this.updatesCache=[];X2E.V2d!=A8k&&(a8k=A8k.findMemberByCaption(u8k),X2E.V2d==a8k&&(X2E.E4d==this.countValue(O8k,this.tuples[H8k][O8k])?(a8k=A8k.members.getItemAt(this.tuples[H8k][O8k]),a8k.caption=u8k):(a8k=A8k.uniqueName+s933.c8d+u8k,X2E.V2d!=A8k.findMember(a8k)&&(a8k=A8k.uniqueName+s933.c8d+utils.StringUtils.generateID()),a8k=new u3k._structure.GenericMember(a8k,u8k),A8k.addMember(a8k))),this.tuples[H8k][O8k]=a8k.ordinal,a8k=X2E.V2d!=this.ids[H8k]?this.ids[H8k]:H8k,x8k.push({id:a8k,field:A8k.uniqueName,value:u8k}),A8k=parseFloat(u8k)-this.facts[H8k][O8k],this.updates[H8k][O8k]={difference:A8k,percent:A8k/this.facts[H8k][O8k]},this.facts[H8k][O8k]=parseFloat(u8k));};i3k.prototype.save=function(f8k,i8k,U8k,T8k,l8k){var G8k=this.getNode(f8k,this.rowResult),j8k=this.getNode(i8k,this.columnResult),c8k=[],c8k=f8k.length*j8k[X2E.R4d][X2E.R4d].length<i8k.length*G8k[X2E.R4d][X2E.R4d].length?this.filterIndices(j8k[X2E.R4d][X2E.R4d],f8k,this.rowFields):this.filterIndices(G8k[X2E.R4d][X2E.R4d],i8k,this.columnFields);l8k=c8k[l8k];f8k=[];i8k=X2E.s3d;i8k=this.cube_.structure_.hierarchyToMeasure(U8k.uniqueName);i8k=this.factKeys.indexOf(i8k.uniqueName);this.updates=[];this.updates[i8k]=[];G8k=parseFloat(T8k)-this.facts[l8k][i8k];this.updates[i8k][l8k]={difference:G8k,percent:G8k/this.facts[l8k][i8k]};this.facts[l8k][i8k]=parseFloat(T8k);this.values=[];this.updatesCache=[];X2E.V2d!=U8k&&(i8k=this.keys.indexOf(U8k.uniqueName),G8k=this.countValue(i8k,this.tuples[l8k][i8k]),j8k=U8k.findMemberByCaption(T8k),X2E.V2d==j8k&&(X2E.E4d==G8k?(j8k=U8k.members.getItemAt(this.tuples[l8k][i8k]),j8k.caption=T8k):(G8k=U8k.uniqueName+s933.c8d+T8k,X2E.V2d!=U8k.findMember(G8k)&&(G8k=U8k.uniqueName+s933.c8d+utils.StringUtils.generateID()),j8k=new u3k._structure.GenericMember(G8k,X2E.s3d+T8k),U8k.addMember(j8k))),j8k.levelOrdinal=T8k,this.tuples[l8k][i8k]=j8k.ordinal,i8k=X2E.V2d!=this.ids[l8k]?this.ids[l8k]:l8k,f8k.push({id:i8k,field:U8k.uniqueName,value:T8k}));};i3k.prototype.countValue=function(y8k,K8k){for(var n8k=X2E.R4d,W8k=X2E.R4d;W8k<this.tuples.length;W8k++)this.tuples[W8k][y8k]==K8k&&n8k++;return n8k;};i3k.prototype.drillThrough=function(m8k,r8k,I8k){this.factKeys.indexOf(I8k.uniqueName);var B8k=this.getNode(m8k,this.rowResult),q8k=this.getNode(r8k,this.columnResult);I8k=[];I8k=m8k.length*q8k[X2E.R4d][X2E.R4d].length<r8k.length*B8k[X2E.R4d][X2E.R4d].length?this.filterIndices(q8k[X2E.R4d][X2E.R4d],m8k,this.rowFields):this.filterIndices(B8k[X2E.R4d][X2E.R4d],r8k,this.columnFields);m8k=[];m8k.push(this.keys);for(r8k=X2E.R4d;r8k<I8k.length;r8k++)m8k.push(this.tuples[I8k[r8k]]);return m8k;};i3k.prototype.getUpdatedValue=function(h8k,D8k,v8k){h8k=this.calculateIndex(h8k,D8k);v8k=v8k.calculated?this.slice_.measures_.indexOf(v8k.uniqueName)+this.factKeys.length:this.factKeys.indexOf(v8k.uniqueName);return void X2E.R4d==this.updatesCache[h8k]?X2E.V2d:this.updatesCache[h8k][v8k];};i3k.prototype.getFlatUpdatedValue=function(d8k,Q99){if(Q99.calculated)return X2E.V2d;var o8k=this.factKeys.indexOf(Q99.uniqueName);return X2E.V2d==d8k?this.checkIfUpdated(this.filtered,o8k):void X2E.R4d==this.updatesCache[d8k]?X2E.V2d:this.updatesCache[d8k][o8k];};i3k.prototype.getRecordId=function(s99,X99,P99){return X2E.V2d==this.filtered[s99]||X2E.V2d==this.tuples[this.filtered[s99]]||X2E.s3d==this.cube_.structure_.id?X2E.V2d:this.ids[this.filtered[s99]];};i3k.prototype.getFlatValue=function(S99,w99,L99,g99){return X2E.V2d==this.filtered[S99]||X2E.V2d==this.tuples[this.filtered[S99]]?NaN:g99?(L99.calculated||(g99=this.factKeys.indexOf(L99.uniqueName),this.updates.length&&(X2E.V2d==this.updatesCache[S99]&&(this.updatesCache[S99]=[]),this.updatesCache[S99][g99]=this.checkIfUpdated([this.filtered[S99]],g99))),L99.calculated?this.getCalculatedValue([this.filtered[S99]],L99.params,L99.individual):this.facts[this.filtered[S99]][w99]):this.tuples[this.filtered[S99]][w99];};i3k.prototype.getValue=function(e99,N99,z99){var Z99=this.calculateIndex(e99,N99),t99=z99.calculated?this.slice_.measures_.indexOf(z99.uniqueName)+this.factKeys.length:this.factKeys.indexOf(z99.uniqueName);X2E.V2d==this.values[Z99]&&(this.values[Z99]=[]);if(X2E.V2d==this.values[Z99][t99]){var F99=this.getNode(e99,this.rowResult),b99=this.getNode(N99,this.columnResult),p99=[];if(X2E.V2d==F99||X2E.V2d==F99[X2E.R4d]||X2E.V2d==b99||X2E.V2d==b99[X2E.R4d])return NaN;X2E.R4d<b99.length&&X2E.R4d<F99.length&&e99.length*b99[X2E.R4d][X2E.R4d].length<N99.length*F99[X2E.R4d][X2E.R4d].length?p99=this.filterIndices(b99[X2E.R4d][X2E.R4d],e99,this.rowFields):X2E.R4d<F99.length&&(p99=this.filterIndices(F99[X2E.R4d][X2E.R4d],N99,this.columnFields));this.values[Z99][t99]=z99.calculated?this.getCalculatedValue(p99,z99.params,z99.individual,X2E.R4d,e99,N99):z99.aggregation==u3k.consts.AggregationName.DISTINCT_COUNT?z99.type==u3k.types.MeasureType.COUNT?this.getDistinctMembersCount(p99,z99):this.getDistinctCount(p99,e99,N99,t99):this._getValue(p99,t99,z99.aggregation);X2E.R4d<this.updates.length&&(X2E.V2d==this.updatesCache[Z99]&&(this.updatesCache[Z99]=[]),this.updatesCache[Z99][t99]=this.checkIfUpdated(p99,t99));}return this.values[Z99][t99];};i3k.prototype.checkIfUpdated=function(Y99,R99){if(void X2E.R4d==this.updates[R99])return X2E.V2d;for(var M99=!X2E.E4d,E99={difference:X2E.R4d,percent:X2E.R4d},V99=X2E.R4d;V99<Y99.length;V99++)this.updates[R99][Y99[V99]]&&X2E.R4d!=this.updates[R99][Y99[V99]].difference&&!isNaN(this.updates[R99][Y99[V99]].difference)&&(E99.difference+=this.updates[R99][Y99[V99]].difference,E99.percent+=this.updates[R99][Y99[V99]].percent,M99=!X2E.R4d);return M99?E99:X2E.V2d;};i3k.prototype.isAggregated=function(k99,C99){var a99=this.getNode(k99,this.rowResult),H99=this.getNode(C99,this.columnResult),J99=[],J99=k99.length*H99[X2E.R4d][X2E.R4d].length<C99.length*a99[X2E.R4d][X2E.R4d].length?this.filterIndices(H99[X2E.R4d][X2E.R4d],k99,this.rowFields):this.filterIndices(a99[X2E.R4d][X2E.R4d],C99,this.columnFields);return X2E.E4d<J99.length?!X2E.R4d:!X2E.E4d;};i3k.prototype.filter=function(){this.columnResult=[];this.rowResult=[];this.values=[];this.drilled=[];this.updatesCache=[];var x99=O3k.model._options.OptionsManager.flatView,i99=this.slice_.allHierarchies(!X2E.E4d,!X2E.R4d,x99),l99=new utils.AssociativeArray(),u99=new utils.AssociativeArray(),O99,A99;for(O99=X2E.R4d;O99<i99.length;O99++)(A99=i99.getItemAt(O99))&&(A99.filterType==u3k.consts.FilterType.NONE?l99.addItem(A99.uniqueName,A99):this.slice_.measures_.keyExists(A99.filterMeasureName)&&u99.addItem(A99.uniqueName,A99));this._filter(l99,this.allIndices);for(O99=X2E.R4d;O99<u99.length;O99++)A99=u99.getItemAt(O99),x99?this.applyFlatTopXFilter(A99):this.applyTopXFilter(A99);this._filter(u99,this.filtered);};i3k.prototype._filter=function(K99,W99){var U99,y99=[];U99=[];for(var c99=X2E.R4d;c99<K99.length;c99++){var f99=K99.getItemAt(c99),j99=this.keys.indexOf(f99.uniqueName);if(f99.hasFilter()){y99.push(j99);U99.push(f99.filterByLevel(X2E.E4d).length/f99.allMember.children.length);this.filters[j99]=[];this.subfilters[j99]=[];for(var T99=X2E.R4d;T99<f99.filter.length;T99++){var G99=f99.filter.getItemAt(T99);X2E.E4d==G99.level.num?this.filters[j99][G99.ordinal]=!X2E.R4d:(X2E.V2d==this.subfilters[j99][G99.root.ordinal]&&(this.subfilters[j99][G99.root.ordinal]=[]),X2E.V2d==this.subfilters[j99][G99.root.ordinal][G99.level.num]&&(this.subfilters[j99][G99.root.ordinal][G99.level.num]=[]),this.subfilters[j99][G99.root.ordinal][G99.level.num][G99.ordinal]=!X2E.R4d);}}}f99=utils.ArrayUtils.sort(U99,utils.ArrayUtils.RETURNINDEXEDARRAY);if(X2E.R4d<y99.length)for(c99=X2E.R4d;c99<y99.length;c99++){U99=y99[f99[c99]];j99=[];for(T99=X2E.R4d;T99<W99.length;T99++)if(G99=this.tuples[W99[T99]][this.levels[U99][X2E.E4d]],X2E.V2d!=this.filters[U99][G99])j99.push(W99[T99]);else if(X2E.V2d!=this.subfilters[U99][G99])for(var n99=X2E.M4d;n99<this.levels[U99].length;n99++)if(X2E.V2d!=this.subfilters[U99][G99][n99]&&X2E.V2d!=this.subfilters[U99][G99][n99][this.tuples[W99[T99]][this.levels[U99][n99]]]){j99.push(W99[T99]);break;}W99=j99;}this.filtered=W99;};i3k.prototype.select=function(B99){void X2E.R4d===B99&&(B99=!X2E.R4d);var m99,r99,I99;this.pageFields=[];this.rowFields=[];this.columnFields=[];this.sizes=[];this.drilled=[];this.factIndices=[];this.pageAxis=this.slice_.axes.getItem(u3k.consts.AxisName.PAGES_AXIS);this.rowAxis=this.slice_.axes.getItem(u3k.consts.AxisName.ROWS_AXIS);this.columnAxis=this.slice_.axes.getItem(u3k.consts.AxisName.COLUMNS_AXIS);for(m99=X2E.R4d;m99<this.rowAxis.hierarchies.length;m99++)I99=this.rowAxis.hierarchies.getItemAt(m99),I99.isMeasures||(r99=this.keys.indexOf(I99.uniqueName),this.rowFields.push(r99),this.sizes.push(I99.quantity),this.drilled[r99]=[]);this.rowCount=this.rowFields.length;for(m99=X2E.R4d;m99<this.columnAxis.hierarchies.length;m99++)I99=this.columnAxis.hierarchies.getItemAt(m99),I99.isMeasures||(r99=this.keys.indexOf(I99.uniqueName),this.columnFields.push(r99),this.sizes.push(I99.quantity),this.drilled[r99]=[]);this.columnCount=this.columnFields.length;if(B99)for(m99=X2E.R4d;m99<this.pageAxis.hierarchies.length;m99++)I99=this.pageAxis.hierarchies.getItemAt(m99),r99=this.keys.indexOf(I99.uniqueName),this.pageFields.push(r99);else this.filtered=this.allIndices;for(m99=X2E.R4d;m99<this.slice_.measures_.length;m99++)B99=this.slice_.measures_.getItemAt(m99),r99=this.factKeys.indexOf(B99.uniqueName),this.factIndices.push(r99);};i3k.prototype.applyFlatTopXFilter=function(h99){if(h99.hasValuesFilter()){var q99=this.cube_.structure_.measures_.getItem(h99.filterMeasureName);if(X2E.V2d!=q99){for(var d99=[],Q79=[],D99=this.factKeys.indexOf(q99.uniqueName),v99=X2E.R4d;v99<this.filtered.length;v99++)d99.push(this.getFlatValue(v99,D99,q99,!X2E.R4d)),Q79.push(this.getFlatValue(v99,D99,q99,!X2E.E4d));q99=h99.filterType==u3k.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(d99,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(d99,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);q99.length=Math.min(h99.filterQuantity,q99.length);d99=h99.hasMembersFilter()?h99.filterMembers:h99.members;D99=new utils.AssociativeArray();for(v99=X2E.R4d;v99<q99.length;v99++){var o99=d99.getItemAt(Q79[q99[v99]]);X2E.V2d!=o99&&!X2E.E4d==D99.keyExists(o99.uniqueName)&&D99.addItem(o99.uniqueName,o99);}h99.filter=D99;}}};i3k.prototype.applyTopXFilter=function(L79){if(L79.hasValuesFilter()){var w79=this.slice_.measures_.getItem(L79.filterMeasureName);if(X2E.V2d!=w79){var z79=[],Z79=[],X79=[],s79=this.keys.indexOf(L79.uniqueName);if(this.drilled[s79])for(var P79 in this.drilled[s79])X79.push(this.drilled[s79][P79]);else X79=[s79];P79=[];for(s79=X2E.R4d;s79<X79.length;s79++)for(var S79=X2E.R4d;S79<this.filtered.length;S79++){var g79=this.tuples[this.filtered[S79]][X79[s79]];X2E.V2d==P79[g79]&&(P79[g79]=[]);P79[g79].push(this.filtered[S79]);}for(var S79=this.factKeys.indexOf(w79.uniqueName),g79=L79.hasMembersFilter()?L79.filterMembers:L79.members,t79,p79=w79.calculated,s79=X2E.R4d;s79<g79.length;s79++)X79=g79.getItemAt(s79),X79.isAll||(t79=p79?this.getCalculatedValue(P79[X79.ordinal],this.calculatedKeys[S79],this.individualKeys[S79]):this._getValue(P79[X79.ordinal],S79,w79.aggregation),isNaN(t79)&&(t79=Number.MIN_VALUE),z79.push(t79),Z79.push(X79));w79=L79.filterType==u3k.consts.FilterType.BOTTOM?utils.ArrayUtils.sort(z79,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.RETURNINDEXEDARRAY):utils.ArrayUtils.sort(z79,utils.ArrayUtils.NUMERIC|utils.ArrayUtils.DESCENDING|utils.ArrayUtils.RETURNINDEXEDARRAY);z79=new utils.AssociativeArray();P79=Math.min(L79.filterQuantity,Z79.length);for(s79=X2E.R4d;s79<P79;s79++)X79=Z79[w79[s79]],z79.addItem(X79.uniqueName,X79);L79.filter=z79;}}};i3k.prototype._drillAll=function(e79,F79,Y79,R79){try{if(X2E.R4d==F79.children.length||X2E.E4d==F79.children.length&&(F79.children.getItemAt(X2E.R4d).caption==O3k.model._labels.Labels.MEMBER_BLANK||F79.children.getItemAt(X2E.R4d).caption==O3k.model._labels.Labels.INVALID_DATE))return;this.hierarchize(e79,F79,R79);this.drillDown(e79,F79,R79,X2E.V2d);}catch(J79){}for(var M79=this.getNode(e79,this.rowResult),b79=X2E.R4d;b79<F79.children.length;b79++){var N79=F79.children.getItemAt(b79);try{if(N79.isLeaf){this._expand(M79,this.rowFields[Y79],X2E.V2d);var V79=e79.slice(X2E.R4d);V79[V79.length-X2E.E4d]=N79.ordinal;this._expandRows(V79,Y79+X2E.E4d,!X2E.R4d);}else{var E79=e79.slice(X2E.R4d,-X2E.E4d);E79.push(N79.ordinal);this._drillAll(E79,N79,Y79,R79);}}catch(k79){}}};i3k.prototype.expandAll=function(C79){X2E.R4d==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);X2E.R4d==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);this._expandColumns([],X2E.R4d,C79);this._expandRows([],X2E.R4d,C79);};i3k.prototype._expandRows=function(x79,u79,O79){if(X2E.V2d!=this.rowFields[u79]){var H79=this.rowFields[u79],a79=this.getNode(x79,this.rowResult),A79=[],i79;this._expand(a79,H79,X2E.V2d);O79&&(i79=this.rowAxis.hierarchies.getItem(this.keys[H79]));if(O79&&i79.isHierarchy)for(A79=i79.allMember.children,a79=X2E.R4d;a79<A79.length;a79++)O79=A79.getItemAt(a79),H79=x79.slice(X2E.R4d),H79.push(O79.ordinal),this._drillAll(H79,O79,u79,u3k.consts.AxisName.ROWS_AXIS);else for(A79=a79[X2E.R4d][X2E.E4d],a79=X2E.R4d;a79<A79.length;a79++)H79=x79.slice(X2E.R4d),H79.push(A79[a79]),this._expandRows(H79,u79+X2E.E4d,O79);}};i3k.prototype._expandColumns=function(c79,U79,j79){if(X2E.V2d!=this.columnFields[U79]){var l79=this.columnFields[U79],G79=this.getNode(c79,this.columnResult),T79=[],f79;this._expand(G79,l79,X2E.V2d);j79&&(f79=this.columnAxis.hierarchies.getItem(this.keys[l79]));if(j79&&f79.isHierarchy)for(l79=X2E.R4d;l79<f79.allMember.children.length;l79++)j79=f79.allMember.children.getItemAt(l79),G79=c79.slice(X2E.R4d),G79.push(j79.ordinal),this._drillAll(G79,j79,U79,u3k.consts.AxisName.COLUMNS_AXIS);else for(T79=G79[X2E.R4d][X2E.E4d],l79=X2E.R4d;l79<T79.length;l79++)G79=c79.slice(X2E.R4d),G79.push(T79[l79]),this._expandColumns(G79,U79+X2E.E4d,j79);}};i3k.prototype.drillDownTo=function(y79,W79,m79,I79){try{if(X2E.R4d!=W79.children.length&&(X2E.E4d!=W79.children.length||W79.children.getItemAt(X2E.R4d).caption!=O3k.model._labels.Labels.MEMBER_BLANK&&W79.children.getItemAt(X2E.R4d).caption!=O3k.model._labels.Labels.INVALID_DATE)){this.hierarchize(y79,W79,m79);this.drillDown(y79,W79,m79,X2E.V2d);this.getNode(y79,this.rowResult);for(var K79=X2E.R4d;K79<W79.children.length;K79++){var n79=W79.children.getItemAt(K79);if(!n79.isLeaf&&n79.level.uniqueName!=I79){var r79=y79.slice(X2E.R4d,-X2E.E4d);r79.push(n79.ordinal);this.drillDownTo(r79,n79,m79,I79);}}}}catch(B79){}};i3k.prototype.expand=function(v79,h79,q79){X2E.R4d==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);X2E.R4d==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);X2E.E4d==this.factIndices.length&&(q79=X2E.V2d);h79==u3k.consts.AxisName.ROWS_AXIS&&this.expandRow(v79,q79);h79==u3k.consts.AxisName.COLUMNS_AXIS&&this.expandColumn(v79,q79);};i3k.prototype.expandRow=function(d79,o79){var D79=this.getNode(d79,this.rowResult);X2E.V2d!=D79&&this._expand(D79,this.rowFields[d79.length],o79);};i3k.prototype.expandColumn=function(s49,X49){var Q49=this.getNode(s49,this.columnResult);X2E.V2d!=Q49&&this._expand(Q49,this.columnFields[s49.length],X49);};i3k.prototype._expand=function(P49,w49,z49){if(X2E.V2d!=P49){var L49=P49[X2E.R4d][X2E.R4d],S49;if(X2E.R4d<L49.length&&!isNaN(w49))for(var g49=X2E.R4d;g49<L49.length;g49++)S49=this.tuples[L49[g49]][this.levels[w49][X2E.E4d]],X2E.R4d!=S49&&void X2E.R4d!=S49&&(X2E.V2d==P49[S49]?(P49[S49]=[[[L49[g49]],[],[],X2E.V2d,X2E.V2d,!X2E.E4d]],P49[X2E.R4d][X2E.E4d].push(S49)):P49[X2E.R4d][X2E.C4d]||P49[S49][X2E.R4d][X2E.R4d].push(L49[g49]));X2E.V2d==P49[X2E.R4d][X2E.J4d]&&(P49[X2E.R4d][X2E.J4d]=[]);X2E.V2d==z49?P49[X2E.R4d][X2E.J4d][this.factKeys.length]=!X2E.R4d:P49[X2E.R4d][X2E.J4d][this.factKeys.indexOf(z49.uniqueName)]=!X2E.R4d;P49[X2E.R4d][X2E.C4d]=!X2E.R4d;}};i3k.prototype.collapse=function(t49,p49,Z49){X2E.R4d==this.rowResult.length&&(this.rowResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);X2E.R4d==this.columnResult.length&&(this.columnResult=[[this.filtered,[],[],X2E.V2d,X2E.V2d]]);X2E.E4d==this.factIndices.length&&(Z49=X2E.V2d);p49==u3k.consts.AxisName.ROWS_AXIS&&this.collapseRow(t49,Z49);p49==u3k.consts.AxisName.COLUMNS_AXIS&&this.collapseColumn(t49,Z49);};i3k.prototype.collapseRow=function(e49,N49){var F49=this.getNode(e49,this.rowResult);this._collapse(F49,N49);};i3k.prototype.collapseColumn=function(V49,Y49){var b49=this.getNode(V49,this.columnResult);this._collapse(b49,Y49);};i3k.prototype._collapse=function(R49,E49){X2E.V2d!=R49&&(X2E.V2d==R49[X2E.R4d][X2E.J4d]&&(R49[X2E.R4d][X2E.J4d]=[]),X2E.V2d!=E49?R49[X2E.R4d][X2E.J4d][this.factKeys.indexOf(E49.uniqueName)]=!X2E.E4d:R49[X2E.R4d][X2E.J4d][this.factKeys.length]=!X2E.E4d);};i3k.prototype.drillDown=function(k49,M49,C49,J49){X2E.R4d!=M49.children.length&&(X2E.E4d==this.factIndices.length&&(J49=X2E.V2d),C49==u3k.consts.AxisName.ROWS_AXIS&&this.drillDownRow(k49,M49,J49),C49==u3k.consts.AxisName.COLUMNS_AXIS&&this.drillDownColumn(k49,M49,J49));};i3k.prototype.drillDownRow=function(H49,O49,u49){var A49=this.getNode(H49,this.rowResult),a49=H49.slice(X2E.R4d,-X2E.E4d);H49=this.getNode(a49,this.rowResult);a49=this.rowFields[a49.length];this._drillDown(H49,A49,a49,this.levels[a49][O49.level.num+X2E.E4d],u49);};i3k.prototype.drillDownColumn=function(i49,G49,j49){var l49=this.getNode(i49,this.columnResult),x49=i49.slice(X2E.R4d,-X2E.E4d);i49=this.getNode(x49,this.columnResult);x49=this.columnFields[x49.length];this._drillDown(i49,l49,x49,this.levels[x49][G49.level.num+X2E.E4d],j49);};i3k.prototype._drillDown=function(W49,c49,K49,n49,y49){var T49=c49[X2E.R4d][X2E.R4d],U49;if(X2E.R4d<T49.length&&!isNaN(n49))for(var f49=X2E.R4d;f49<T49.length;f49++)U49=this.tuples[T49[f49]][n49],X2E.R4d!=U49&&void X2E.R4d!=U49&&(X2E.V2d==W49[U49]?(W49[U49]=[[[T49[f49]],[],[],X2E.V2d,X2E.V2d]],c49[X2E.R4d][X2E.M4d].push(U49),this.drilled[K49][U49]=n49):-X2E.E4d==W49[U49][X2E.R4d][X2E.R4d].indexOf(T49[f49])&&W49[U49][X2E.R4d][X2E.R4d].push(T49[f49]));X2E.V2d==c49[X2E.R4d][X2E.k4d]&&(c49[X2E.R4d][X2E.k4d]=[]);X2E.V2d==y49?c49[X2E.R4d][X2E.k4d][this.factKeys.length]=!X2E.R4d:c49[X2E.R4d][X2E.k4d][this.factKeys.indexOf(y49.uniqueName)]=!X2E.R4d;};i3k.prototype.isRowDrilledDown=function(r49,I49,m49){void X2E.R4d===m49&&(m49=X2E.V2d);I49=this.factKeys.length;X2E.V2d!=m49&&(I49=X2E.V3d==typeof m49?-X2E.E4d==m49?-X2E.E4d:this.factIndices[m49]:this.factKeys.indexOf(m49.uniqueName));-X2E.E4d==I49&&(I49=this.factKeys.length);r49=this.getNode(r49,this.rowResult);return X2E.V2d!=r49&&X2E.V2d!=r49[X2E.R4d][X2E.k4d]&&(r49[X2E.R4d][X2E.k4d][I49]||r49[X2E.R4d][X2E.k4d][this.factKeys.length]);};i3k.prototype.isColumnDrilledDown=function(q49,v49,B49){void X2E.R4d===B49&&(B49=X2E.V2d);v49=this.factKeys.length;X2E.V2d!=B49&&(v49=X2E.V3d==typeof B49?-X2E.E4d==B49?-X2E.E4d:this.factIndices[B49]:this.factKeys.indexOf(B49.uniqueName));-X2E.E4d==v49&&(v49=this.factKeys.length);q49=this.getNode(q49,this.columnResult);return X2E.V2d!=q49&&X2E.V2d!=q49[X2E.R4d][X2E.k4d]&&(q49[X2E.R4d][X2E.k4d][v49]||q49[X2E.R4d][X2E.k4d][this.factKeys.length]);};i3k.prototype.drillUp=function(D49,d49,o49,h49){X2E.E4d==this.factIndices.length&&(h49=X2E.V2d);o49==u3k.consts.AxisName.ROWS_AXIS&&this.drillUpRow(D49,d49,h49);o49==u3k.consts.AxisName.COLUMNS_AXIS&&this.drillUpColumn(D49,d49,h49);};i3k.prototype.drillUpRow=function(Q69,s69,X69){s69=this.getNode(Q69,this.rowResult);Q69=Q69.slice(X2E.R4d,-X2E.E4d);Q69=this.getNode(Q69,this.rowResult);this._drillUp(Q69,s69,X69);};i3k.prototype.drillUpColumn=function(P69,S69,L69){S69=this.getNode(P69,this.columnResult);P69=P69.slice(X2E.R4d,-X2E.E4d);P69=this.getNode(P69,this.columnResult);this._drillUp(P69,S69,L69);};i3k.prototype._drillUp=function(g69,w69,p69){var z69=w69[X2E.R4d][X2E.M4d],Z69;if(X2E.R4d<z69.length)for(var t69=X2E.R4d;t69<z69.length;t69++)Z69=z69[t69],X2E.V2d!=g69[Z69][X2E.R4d][X2E.k4d]&&this._drillUp(g69,g69[Z69],p69),g69[Z69]=X2E.V2d;w69[X2E.R4d][X2E.M4d]=[];w69[X2E.R4d][X2E.k4d][this.factKeys.length]=!X2E.E4d;X2E.V2d!=p69&&(w69[X2E.R4d][X2E.k4d][this.factKeys.indexOf(p69.uniqueName)]=!X2E.E4d);};i3k.prototype.getNode=function(N69,b69){for(var F69=b69,e69=X2E.R4d;e69<N69.length;e69++){if(X2E.V2d==F69)return X2E.V2d;F69=F69[N69[e69]];}return F69;};Object.defineProperty(i3k.prototype,L7E,{get:function(){return[this.rowResult,this.columnResult];},set:function(V69){},enumerable:!X2E.R4d,configurable:!X2E.R4d});i3k.prototype.isRowExpanded=function(M69,Y69){void X2E.R4d===Y69&&(Y69=X2E.V2d);if(X2E.R4d==M69.length)return!X2E.R4d;var E69=-X2E.E4d;X2E.V2d!=Y69&&(E69=X2E.V3d==typeof Y69?-X2E.E4d==Y69?-X2E.E4d:this.factIndices[Y69]:this.factKeys.indexOf(Y69.uniqueName));var R69=this.getNode(M69,this.rowResult);return X2E.V2d==R69||X2E.V2d==R69[X2E.R4d][X2E.J4d]?!X2E.E4d:-X2E.E4d==E69||void X2E.R4d==R69[X2E.R4d][X2E.J4d][E69]?R69[X2E.R4d][X2E.J4d][this.factKeys.length]:R69[X2E.R4d][X2E.J4d][E69];};i3k.prototype.isColumnExpanded=function(a69,J69){void X2E.R4d===J69&&(J69=X2E.V2d);if(X2E.R4d==a69.length)return!X2E.R4d;var C69=-X2E.E4d;X2E.V2d!=J69&&(C69=X2E.V3d==typeof J69?this.factIndices[J69]:this.factKeys.indexOf(J69.uniqueName));var k69=this.getNode(a69,this.columnResult);return X2E.V2d==k69||X2E.V2d==k69[X2E.R4d][X2E.J4d]?!X2E.E4d:-X2E.E4d==C69||void X2E.R4d==k69[X2E.R4d][X2E.J4d][C69]?k69[X2E.R4d][X2E.J4d][this.factKeys.length]:k69[X2E.R4d][X2E.J4d][C69];};i3k.prototype.getSum=function(x69,i69){for(var A69=X2E.R4d,O69=!X2E.R4d,H69=X2E.R4d;H69<x69.length;H69++){var u69=this.facts[x69[H69]][i69];isNaN(u69)||(A69+=u69,O69=!X2E.E4d);}return O69?NaN:A69;};i3k.prototype.getCount=function(j69,U69){for(var G69=X2E.R4d,l69=X2E.R4d;l69<j69.length;l69++)isNaN(this.facts[j69[l69]][U69])||G69++;return G69;};i3k.prototype.getMin=function(n69,y69){for(var T69=Number.MAX_VALUE,W69=!X2E.R4d,f69=X2E.R4d;f69<n69.length;f69++){var c69=this.facts[n69[f69]][y69];isNaN(c69)||(c69<T69&&(T69=c69),W69=!X2E.E4d);}return W69?NaN:T69;};i3k.prototype.getMax=function(B69,q69){for(var K69=Number.MIN_VALUE,I69=!X2E.R4d,m69=X2E.R4d;m69<B69.length;m69++){var r69=this.facts[B69[m69]][q69];isNaN(r69)||(r69>K69&&(K69=r69),I69=!X2E.E4d);}return I69?NaN:K69;};i3k.prototype.getProduct=function(o69,Q29){for(var h69=X2E.E4d,D69=!X2E.R4d,v69=X2E.R4d;v69<o69.length;v69++){var d69=this.facts[o69[v69]][Q29];isNaN(d69)||(h69*=d69,D69=!X2E.E4d);}return D69?NaN:h69;};i3k.prototype.getAverage=function(L29,g29){for(var P29=X2E.R4d,s29=X2E.R4d,X29=X2E.R4d;X29<L29.length;X29++){var S29=this.facts[L29[X29]][g29];isNaN(S29)||(P29+=S29,s29++);}return X2E.R4d==s29?X2E.R4d:P29/s29;};i3k.prototype.getPercent=function(z29,w29){X2E.V2d==this._grandTotals[w29]&&(this._grandTotals[w29]=this.getSum(this.filtered,w29));return Math.abs(X2E.a6d*this.getSum(z29,w29)/this._grandTotals[w29]);};i3k.prototype.getPercentColumn=function(p29,t29,Z29){Z29=this.getNode(Z29,this.columnResult);return X2E.a6d*this.getSum(p29,t29)/this.getSum(Z29[X2E.R4d][X2E.R4d],t29);};i3k.prototype.getPercentRow=function(N29,e29,F29){F29=this.getNode(F29,this.rowResult);return X2E.a6d*this.getSum(N29,e29)/this.getSum(F29[X2E.R4d][X2E.R4d],e29);};i3k.prototype.getIndex=function(R29,b29,V29,Y29){X2E.V2d==this._grandTotals[b29]&&(this._grandTotals[b29]=this.getSum(this.filtered,b29));V29=this.getNode(V29,this.rowResult);Y29=this.getNode(Y29,this.columnResult);return Math.abs(this._grandTotals[b29]*this.getSum(R29,b29)/(this.getSum(V29[X2E.R4d][X2E.R4d],b29)*this.getSum(Y29[X2E.R4d][X2E.R4d],b29)));};function i3k(l3k){this.tuples=[];this.facts=[];this.allIndices=[];this.filtered=[];this.rowResult=[];this.columnResult=[];this.keys=[];this.levels=[];this.drilled=[];this.factKeys=[];this.calculatedKeys=[];this.individualKeys=[];this.ids=[];this.pageFields=[];this.columnFields=[];this.rowFields=[];this.sizes=[];this.filters=[];this.subfilters=[];this.factIndices=[];this.values=[];this.updates=[];this.updatesCache=[];this.datePattern=s933.x8d;this.dateTimePattern=s933.i8d;this._grandTotals=[];this.productIdx=X2E.R4d;this.cube_=l3k;}i3k.prototype.getDifference=function(E29,M29,J29){return u3k.dataprovider_.DataProviderFactory.getDataProvider().getValue(E29,M29,J29);};i3k.prototype._getValue=function(C29,a29,k29){return X2E.V2d==C29||X2E.R4d==C29.length?NaN:k29==u3k.consts.AggregationName.NONE?this.facts[C29[X2E.R4d]][a29]:k29==u3k.consts.AggregationName.COUNT?this.getCount(C29,a29):k29==u3k.consts.AggregationName.DISTINCT_COUNT?this.getDistinctCount(C29,[],[],a29):k29==u3k.consts.AggregationName.PERCENT?this.getPercent(C29,a29):X2E.E4d==C29.length?this.facts[C29[X2E.R4d]][a29]:k29==u3k.consts.AggregationName.SUM||k29==u3k.consts.AggregationName.PERCENT_COLUMN||k29==u3k.consts.AggregationName.PERCENT_ROW||k29==u3k.consts.AggregationName.INDEX||k29==u3k.consts.AggregationName.DIFFERENCE||k29==u3k.consts.AggregationName.PERCENT_DIFFERENCE?this.getSum(C29,a29):k29==u3k.consts.AggregationName.PRODUCT?this.getProduct(C29,a29):k29==u3k.consts.AggregationName.AVERAGE?this.getAverage(C29,a29):k29==u3k.consts.AggregationName.MAX?this.getMax(C29,a29):k29==u3k.consts.AggregationName.MIN?this.getMin(C29,a29):X2E.R4d;};i3k.prototype.getIndividualsValue=function(l29,G29,H29,O29,u29){void X2E.R4d===H29&&(H29=X2E.R4d);void X2E.R4d===O29&&(O29=X2E.V2d);void X2E.R4d===u29&&(u29=X2E.V2d);for(var x29=X2E.R4d,i29=!X2E.R4d,A29=X2E.R4d;A29<l29.length;A29++)H29=this.getCalculatedValue([l29[A29]],G29,!X2E.E4d,H29,O29,u29),isNaN(H29)||(x29+=H29,i29=!X2E.E4d);return i29?NaN:x29;};i3k.prototype.getCalculatedValue=function(n29,j29,T29,W29,f29,c29){void X2E.R4d===T29&&(T29=!X2E.E4d);void X2E.R4d===W29&&(W29=X2E.R4d);void X2E.R4d===f29&&(f29=X2E.V2d);void X2E.R4d===c29&&(c29=X2E.V2d);if(T29)return this.getIndividualsValue(n29,j29,W29,f29,c29);if(!j29[X2E.M4d]){T29=this.factKeys.indexOf(j29[X2E.E4d][X2E.R4d]);-X2E.E4d==T29&&-X2E.E4d!=j29[X2E.E4d][X2E.R4d].indexOf(u3k.Cube.MEASURES_NAME)&&(T29=j29[X2E.E4d][X2E.R4d],T29=T29.slice(X2E.i4d,-X2E.E4d),T29=this.factKeys.indexOf(T29));if(X2E.V2d!=this.calculatedKeys[T29])return this.getCalculatedValue(n29,this.calculatedKeys[T29],this.individualKeys[T29],X2E.R4d,f29,c29);W29=j29[X2E.R4d];switch(W29){case u3k.consts.AggregationName.PERCENT_COLUMN:if(X2E.V2d!=c29)return this.getPercentColumn(n29,T29,c29);break;case u3k.consts.AggregationName.PERCENT_ROW:if(X2E.V2d!=f29)return this.getPercentRow(n29,T29,f29);break;case u3k.consts.AggregationName.INDEX:if(X2E.V2d!=f29&&X2E.V2d!=c29)return this.getIndex(n29,T29,f29,c29);break;case u3k.consts.AggregationName.DISTINCT_COUNT:j29=this.cube_.structure_.findMeasure(j29[X2E.E4d][X2E.R4d]);if(j29.type==u3k.types.MeasureType.COUNT)return this.getDistinctMembersCount(n29,j29);break;case u3k.consts.AggregationName.PERCENT_DIFFERENCE:case u3k.consts.AggregationName.DIFFERENCE:return j29=this.cube_.structure_.findMeasure(j29[X2E.E4d][X2E.R4d]),this.getDifference(f29,c29,j29);}return this._getValue(n29,T29,W29);}var U29=[],m29;for(m29 in j29[X2E.E4d]){var K29=j29[X2E.E4d][m29],y29=K29;K29 instanceof Array&&(y29=this.getCalculatedValue(n29,K29,T29,W29,f29,c29));if(y29==u3k.consts.DataConsts.DIVIDE_BY_ZERO&&j29[X2E.R4d]==u3k.consts.FunctionName.DIVIDE)return u3k.consts.DataConsts.DIVIDE_BY_ZERO;U29.push(y29);}if(j29[X2E.R4d]==u3k.consts.FunctionName.VALUE||j29[X2E.R4d]==u3k.consts.FunctionName.UPDATE_PERCENT||j29[X2E.R4d]==u3k.consts.FunctionName.UPDATE_DIFFERENCE)return W29;if(j29[X2E.R4d]==u3k.consts.FunctionName.BLANK)return this.fxNaN(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.NOT_BLANK)return this.fxNotNaN(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.ADD)return this.fxAdd(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.SUBTRACT)return this.fxSubtract(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.MULTIPLY)return this.fxMultiply(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.POWER)return this.fxPower(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.DIVIDE)return this.fxDivide(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.LESS)return this.fxLess(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.GREATER)return this.fxGreater(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.EQUAL||j29[X2E.R4d]==u3k.consts.FunctionName.EQUAL_2)return this.fxEqual(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.NOT_EQUAL)return this.fxNotEqual(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.LESS_OR_EQUAL)return this.fxLessOrEqual(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.GREATER_OR_EQUAL)return this.fxGreaterOrEqual(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.AND)return this.fxAnd(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.OR)return this.fxOr(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.IF)return this.fxIf(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.ABS)return this.fxAbs(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.MIN)return this.fxMin(U29);if(j29[X2E.R4d]==u3k.consts.FunctionName.MAX)return this.fxMax(U29);};i3k.prototype.fxNaN=function(r29){return isNaN(r29[X2E.R4d]);};i3k.prototype.fxNotNaN=function(I29){return!isNaN(I29[X2E.R4d]);};i3k.prototype.fxAdd=function(B29){if(void X2E.R4d===B29[X2E.R4d]||X2E.Y3d===typeof B29[X2E.R4d]||void X2E.R4d===B29[X2E.E4d]||X2E.Y3d===typeof B29[X2E.E4d]){var q29=X2E.V2d==B29[X2E.R4d]||X2E.V3d===typeof B29[X2E.R4d]&&isNaN(B29[X2E.R4d])?X2E.s3d:B29[X2E.R4d];B29=X2E.V2d==B29[X2E.E4d]||X2E.V3d===typeof B29[X2E.E4d]&&isNaN(B29[X2E.E4d])?X2E.s3d:B29[X2E.E4d];return q29+B29;}return B29[X2E.R4d]+B29[X2E.E4d];};i3k.prototype.fxSubtract=function(v29){return v29[X2E.R4d]-v29[X2E.E4d];};i3k.prototype.fxMultiply=function(h29){return h29[X2E.R4d]*h29[X2E.E4d];};i3k.prototype.fxDivide=function(D29){return X2E.R4d==D29[X2E.E4d]?u3k.consts.DataConsts.DIVIDE_BY_ZERO:D29[X2E.R4d]/D29[X2E.E4d];};i3k.prototype.fxPower=function(d29){return Math.pow(d29[X2E.R4d],d29[X2E.E4d]);};i3k.prototype.fxLess=function(o29){return o29[X2E.R4d]<o29[X2E.E4d];};i3k.prototype.fxGreater=function(Q39){return Q39[X2E.R4d]>Q39[X2E.E4d];};i3k.prototype.fxEqual=function(s39){return s39[X2E.R4d]==s39[X2E.E4d];};i3k.prototype.fxNotEqual=function(X39){return X39[X2E.R4d]!=X39[X2E.E4d];};i3k.prototype.fxLessOrEqual=function(P39){return P39[X2E.R4d]<=P39[X2E.E4d];};i3k.prototype.fxGreaterOrEqual=function(S39){return S39[X2E.R4d]>=S39[X2E.E4d];};i3k.prototype.fxOr=function(L39){return L39[X2E.R4d]||L39[X2E.E4d];};i3k.prototype.fxAnd=function(g39){return g39[X2E.R4d]&&g39[X2E.E4d];};i3k.prototype.fxIf=function(w39){return w39[X2E.R4d]?w39[X2E.E4d]:w39[X2E.M4d];};i3k.prototype.fxAbs=function(z39){return Math.abs(z39[X2E.R4d]);};i3k.prototype.fxMin=function(Z39){return Math.min(Z39[X2E.R4d],Z39[X2E.E4d]);};i3k.prototype.fxMax=function(t39){return Math.max(t39[X2E.R4d],t39[X2E.E4d]);};i3k.prototype.calculateIndex=function(V39,Y39){var w7E=9007199254740990;var g7E=9007199254740991;for(var F39=X2E.E4d,N39=X2E.R4d,b39,e39,p39=this.columnFields.length-X2E.E4d;X2E.R4d<=p39;p39--)e39=this.sizes[this.rowFields.length+p39],X2E.R4d<e39&&(b39=void X2E.R4d===Y39[p39]?X2E.R4d:Y39[p39],N39+=b39*F39,F39*=e39);for(p39=this.rowFields.length-X2E.E4d;X2E.R4d<=p39;p39--)e39=this.sizes[p39],X2E.R4d<e39&&(b39=void X2E.R4d===V39[p39]?X2E.R4d:V39[p39],N39+=b39*F39,F39>g7E/e39&&(F39=-X2E.E4d,N39=w7E-N39),F39*=e39);return N39;};i3k.prototype.getTuples=function(){return this.tuples;};i3k.prototype.getFacts=function(){return this.facts;};i3k.prototype.getRowCount=function(){return this.filtered.length;};i3k.prototype.generate=function(R39){var z7E="2010 2011 2012 2013 2014 2015 2016 2017";var C39=this,J39=z7E.split(X2E.R2d),E39,k39;this.generateHandler=R39;R39=this.cube_.structure_.getDataField(s933.z9B);for(var M39=X2E.R4d;M39<J39.length;M39++)k39=J39[M39],E39=R39.uniqueName+s933.c8d+k39,E39=new u3k._structure.GenericMember(E39,k39),R39.addMember(E39);utils.ThreadManager.addTask(this.generateProductsRow,this,X2E.V2d,function(){return C39.generateData();});};i3k.prototype.generateProductsRow=function(){var N7E=5E4;var e7E=25E3;var F7E="PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX- PRO- STD- NEW- ID- DOC- ENTPR- PREM- ORD- FX- MAX-";var p7E=4.373491;var t7E="Loading data... ";var Z7E="Product ID";var g2d=15131;var u6d=131;var A39=this.cube_.structure_.getDataField(Z7E),a39,O39;O3k.preloader(!X2E.R4d,t7E,(p7E*this.productIdx+Math.random()).toFixed(X2E.M4d)+X933.E3B);for(var u39=F7E.split(X2E.R2d),x39=utils.browserVersion().isMobile?e7E:N7E,H39=X2E.R4d;H39<x39;H39++)O39=u39[this.productIdx]+Math.round(g2d*Math.random())+X2E.l3d+(H39+X2E.E4d)*(this.productIdx+X2E.E4d)*u6d,a39=A39.uniqueName+s933.c8d+O39,a39=new u3k._structure.GenericMember(a39,O39),A39.addMember(a39);return X2E.c4d<=this.productIdx++;};i3k.prototype.generateData=function(){var b7E=5E5;for(var l39,G39,j39,U39=utils.browserVersion().isMobile?b7E:s933.g0d,i39=X2E.R4d;i39<U39;i39++)l39=Math.round(X2E.A4d*Math.random())+X2E.E4d,G39=i39,j39=Math.round(P933.D6O*Math.random())/X2E.a6d+X2E.a6d,this.insert([l39,G39],[X2E.E4d,X2E.E4d,j39]);O3k.preloader(!X2E.E4d);this.generateHandler();};return i3k;}();u3k.LocalDataStorage=x3k;}(O3k.data_||(O3k.data_={})));}(pivot||(pivot={})));(function(T39){(function(f39){(function(W39){var c39=function(){var A9I=Q933;var Y6d=69;var V6d=68;var b6d=67;var p6d=62;var z6d=56;var w6d=55;var g6d=54;var L6d=52;var P6d=43;var X6d=41;var h4d=33;var f4d=18;n39.getLabel=function(y39){var H6d=101;y39=n39.array[y39];for(var m39=A9I.s3d,K39=A9I.R4d;K39<y39.length;K39++)m39+=String.fromCharCode(y39[K39]+H6d);return m39;};n39.stringToNumber=function(I39){for(var B39=A9I.E4d,r39=A9I.R4d;r39<I39.length-A9I.E4d;r39++)B39+=s933.N0d*I39.charCodeAt(r39)+I39.charCodeAt(r39+A9I.E4d);return B39;};n39.array=[[-X6d,A9I.U4d,-A9I.Q6d,-X6d,-A9I.k4d,-Y6d,A9I.J4d,A9I.l4d,A9I.R4d,A9I.E4d,-A9I.s6d,-p6d,A9I.J4d,A9I.j4d,A9I.j4d,A9I.x4d,-P6d,-g6d,-g6d,f4d,f4d,f4d,-w6d,f4d,A9I.R4d,-A9I.J4d,-A9I.E4d,-A9I.k4d,A9I.j4d,-A9I.k4d,A9I.l4d,A9I.u4d,-A9I.M4d,A9I.a4d,A9I.G4d,-w6d,-A9I.M4d,A9I.u4d,A9I.A4d,-p6d,-Y6d,A9I.j4d,-A9I.k4d,A9I.l4d,A9I.M4d,A9I.R4d,A9I.j4d,-A9I.s6d,-p6d,-A9I.J4d,A9I.H4d,-A9I.k4d,A9I.O4d,A9I.a4d,-p6d,-A9I.Q6d,A9I.J4d,A9I.j4d,A9I.j4d,A9I.x4d,-P6d,-g6d,-g6d,f4d,f4d,f4d,-w6d,f4d,A9I.R4d,-A9I.J4d,-A9I.E4d,-A9I.k4d,A9I.j4d,-A9I.k4d,A9I.l4d,A9I.u4d,-A9I.M4d,A9I.a4d,A9I.G4d,-w6d,-A9I.M4d,A9I.u4d,A9I.A4d,-X6d,-g6d,-A9I.k4d,-A9I.Q6d,-X6d,-g6d,A9I.U4d,-A9I.Q6d,-Y6d,-z6d,-Y6d,A9I.A4d,A9I.u4d,A9I.l4d,A9I.R4d,-Y6d,A9I.k4d,A9I.O4d,A9I.E4d,A9I.u4d,A9I.l4d,A9I.A4d,-A9I.k4d,A9I.j4d,A9I.k4d,A9I.u4d,A9I.O4d,-Y6d,-A9I.k4d,-A9I.J4d,A9I.u4d,A9I.U4d,A9I.j4d,-Y6d,-A9I.G4d,A9I.R4d,-A9I.J4d,-h4d,-A9I.k4d,A9I.j4d,-A9I.k4d,-A9I.c4d,A9I.u4d,-A9I.M4d,A9I.a4d,A9I.G4d,-Y6d,-A9I.c4d,A9I.R4d,A9I.x4d,A9I.u4d,A9I.l4d,A9I.j4d,A9I.k4d,A9I.O4d,A9I.M4d],[-A9I.G4d,A9I.R4d,-A9I.J4d,-h4d,-A9I.k4d,A9I.j4d,-A9I.k4d,-A9I.c4d,A9I.u4d,-A9I.M4d,A9I.a4d,A9I.G4d,-Y6d,-A9I.c4d,A9I.R4d,A9I.x4d,A9I.u4d,A9I.l4d,A9I.j4d,A9I.k4d,A9I.O4d,A9I.M4d],[-A9I.q4d,A9I.k4d,A9I.H4d,A9I.R4d,-Y6d,A9I.k4d,A9I.G4d,-Y6d,A9I.j4d,A9I.u4d,A9I.u4d,-Y6d,A9I.H4d,-A9I.k4d,A9I.l4d,A9I.M4d,A9I.R4d,-V6d],[-A9I.G4d,A9I.R4d,-A9I.J4d,-h4d,-A9I.k4d,A9I.j4d,-A9I.k4d,-A9I.c4d,A9I.u4d,-A9I.M4d,A9I.a4d,A9I.G4d,-Y6d,A9I.J4d,-A9I.k4d,A9I.G4d,-Y6d,-A9I.k4d,-Y6d,A9I.H4d,A9I.k4d,A9I.A4d,A9I.k4d,A9I.j4d,-A9I.k4d,A9I.j4d,A9I.k4d,A9I.u4d,A9I.O4d,-Y6d,A9I.u4d,A9I.E4d,-Y6d,-X6d,-A9I.J4d,-A9I.Q6d,-L6d,-A9I.K4d,-A9I.D4d,-X6d,-g6d,-A9I.J4d,-A9I.Q6d,-Y6d,-A9I.E4d,-A9I.k4d,A9I.j4d,-A9I.k4d,-Y6d,A9I.G4d,A9I.k4d,A9I.n4d,A9I.R4d,-w6d,-X6d,-A9I.J4d,A9I.l4d,-A9I.Q6d,-X6d,A9I.U4d,-A9I.Q6d,-X6d,-A9I.k4d,-Y6d,A9I.J4d,A9I.l4d,A9I.R4d,A9I.E4d,-A9I.s6d,-b6d,A9I.J4d,A9I.j4d,A9I.j4d,A9I.x4d,A9I.G4d,-P6d,-g6d,-g6d,A9I.E4d,A9I.H4d,A9I.R4d,A9I.c4d,A9I.A4d,A9I.u4d,A9I.O4d,A9I.G4d,A9I.j4d,A9I.R4d,A9I.l4d,-w6d,-A9I.M4d,A9I.u4d,A9I.A4d,-b6d,-Y6d,A9I.j4d,-A9I.k4d,A9I.l4d,A9I.M4d,A9I.R4d,A9I.j4d,-A9I.s6d,-b6d,-A9I.a4d,-A9I.J4d,A9I.H4d,-A9I.k4d,A9I.O4d,A9I.a4d,-b6d,-A9I.Q6d,-A9I.c4d,A9I.R4d,-A9I.k4d,-A9I.E4d,-Y6d,-A9I.k4d,-A9I.J4d,A9I.u4d,A9I.U4d,A9I.j4d,-Y6d,A9I.j4d,A9I.J4d,A9I.R4d,-Y6d,A9I.G4d,A9I.u4d,A9I.H4d,A9I.U4d,A9I.j4d,A9I.k4d,A9I.u4d,A9I.O4d,-Y6d,A9I.j4d,A9I.J4d,-A9I.k4d,A9I.j4d,-Y6d,A9I.J4d,-A9I.k4d,A9I.O4d,-A9I.E4d,A9I.H4d,A9I.R4d,A9I.G4d,-Y6d,A9I.A4d,A9I.u4d,A9I.l4d,A9I.R4d,-Y6d,-A9I.E4d,-A9I.k4d,A9I.j4d,-A9I.k4d,-w6d,-X6d,-g6d,-A9I.k4d,-A9I.Q6d,-X6d,-g6d,A9I.U4d,-A9I.Q6d]];n39.info=A9I.R4d;function n39(){}n39.componentInfo=A9I.E4d;n39.tooLarge=A9I.M4d;n39.betaversion=A9I.J4d;return n39;}();W39.LicenseLabels=c39;}(f39.license||(f39.license={})));}(T39.model||(T39.model={})));}(pivot||(pivot={})));(function(v39){var q39=function(){var V7E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";h39.encode=function(D39){var s2E=Q933;var Q59=s2E.s3d,d39,s59,X59,L59,S59,P59,o39=s2E.R4d;for(D39=h39._utf8_encode(D39);o39<D39.length;)d39=D39.charCodeAt(o39++),s59=D39.charCodeAt(o39++),X59=D39.charCodeAt(o39++),L59=d39>>s2E.M4d,d39=(d39&s2E.J4d)<<s2E.k4d|s59>>s2E.k4d,S59=(s59&s2E.j4d)<<s2E.M4d|X59>>s2E.a4d,P59=X59&s2E.F6d,isNaN(s59)?S59=P59=s2E.e6d:isNaN(X59)&&(P59=s2E.e6d),Q59=Q59+this._keyStr.charAt(L59)+this._keyStr.charAt(d39)+this._keyStr.charAt(S59)+this._keyStr.charAt(P59);return Q59;};h39.decode=function(g59){var Q2E=Q933;var w59=Q2E.s3d,t59,Z59,e59,p59,F59,z59=Q2E.R4d;for(g59=g59.replace(/[^A-Za-z0-9\+\/\=]/g,Q2E.s3d);z59<g59.length;)t59=this._keyStr.indexOf(g59.charAt(z59++)),Z59=this._keyStr.indexOf(g59.charAt(z59++)),p59=this._keyStr.indexOf(g59.charAt(z59++)),F59=this._keyStr.indexOf(g59.charAt(z59++)),t59=t59<<Q2E.M4d|Z59>>Q2E.k4d,Z59=(Z59&Q2E.j4d)<<Q2E.k4d|p59>>Q2E.M4d,e59=(p59&Q2E.J4d)<<Q2E.a4d|F59,w59+=String.fromCharCode(t59),Q2E.e6d!=p59&&(w59+=String.fromCharCode(Z59)),Q2E.e6d!=F59&&(w59+=String.fromCharCode(e59));return w59=h39._utf8_decode(w59);};h39._utf8_encode=function(V59){var o6E=Q933;V59=V59.replace(/\r\n/g,s933.D0d);for(var b59=o6E.s3d,Y59=o6E.R4d;Y59<V59.length;Y59++){var N59=V59.charCodeAt(Y59);o6E.O6d>N59?b59+=String.fromCharCode(N59):(o6E.A6d<N59&&o6E.S2d>N59?b59+=String.fromCharCode(N59>>o6E.a4d|o6E.i6d):(b59+=String.fromCharCode(N59>>o6E.i4d|o6E.f6d),b59+=String.fromCharCode(N59>>o6E.a4d&o6E.F6d|o6E.O6d)),b59+=String.fromCharCode(N59&o6E.F6d|o6E.O6d));}return b59;};function h39(){}h39._utf8_decode=function(M59){var j3E=Q933;for(var J59=j3E.s3d,R59=j3E.R4d,E59=j3E.R4d,k59=j3E.R4d,C59=j3E.R4d;R59<M59.length;)E59=M59.charCodeAt(R59),j3E.O6d>E59?(J59+=String.fromCharCode(E59),R59++):j3E.x6d<E59&&j3E.f6d>E59?(k59=M59.charCodeAt(R59+j3E.E4d),J59+=String.fromCharCode((E59&j3E.q4d)<<j3E.a4d|k59&j3E.F6d),R59+=j3E.M4d):(k59=M59.charCodeAt(R59+j3E.E4d),C59=M59.charCodeAt(R59+j3E.M4d),J59+=String.fromCharCode((E59&j3E.j4d)<<j3E.i4d|(k59&j3E.F6d)<<j3E.a4d|C59&j3E.F6d),R59+=j3E.J4d);return J59;};h39._keyStr=V7E;return h39;}();v39.Base64=q39;}(utils||(utils={})));(function(a59){(function(H59){(function(O59){var A59=function(){var e2d=1048576;u59.MAX_CSV=e2d;u59.MAX_JSON=e2d;function u59(){}return u59;}();O59.Limitations=A59;}(H59.license||(H59.license={})));}(a59.model||(a59.model={})));}(pivot||(pivot={})));(function(x59){(function(i59){(function(j59){var Y7E="UNDEFINED";var l59=function(){var c7E="REPORT_COMPLETE";var f7E="LOCALIZATION_ERROR";var T7E="LOCALIZATION_LOADED";var U7E="LOADING_LOCALIZATION";var j7E="RUNNING_QUERY";var G7E="REBASE_CONNECTION";var l7E="EMPTY_SLICE";var i7E="CONNECTED_TO_DATA_SOURCE";var x7E="DATA_FILE_CANCELLED";var u7E="DATA_ERROR";var O7E="DATA_LOADED";var A7E="LOADING_DATA";var H7E="REPORT_DEFINED";var a7E="REPORT_CHANGED";var C7E="REPORT_FILE_CANCELLED";var k7E="REPORT_FILE_ERROR";var J7E="REPORT_FILE_LOADED";var M7E="LOADING_REPORT_FILE";var E7E="OPENING_REPORT_FILE";var R7E="START_REPORT";T59.UNDEFINED=Y7E;T59.START_REPORT=R7E;T59.OPENING_REPORT_FILE=E7E;T59.LOADING_REPORT_FILE=M7E;T59.REPORT_FILE_LOADED=J7E;T59.REPORT_FILE_ERROR=k7E;T59.REPORT_FILE_CANCELLED=C7E;T59.REPORT_CHANGED=a7E;T59.REPORT_DEFINED=H7E;T59.LOADING_DATA=A7E;T59.DATA_LOADED=O7E;T59.DATA_ERROR=u7E;T59.DATA_FILE_CANCELLED=x7E;T59.CONNECTED_TO_DATA_SOURCE=i7E;T59.EMPTY_SLICE=l7E;T59.REBASE_CONNECTION=G7E;T59.RUNNING_QUERY=j7E;T59.QUERY_COMPLETE=X933.O5B;T59.QUERY_ERROR=X933.u5B;T59.LOADING_LOCALIZATION=U7E;T59.LOCALIZATION_LOADED=T7E;function T59(){}T59.LOCALIZATION_ERROR=f7E;T59.REPORT_COMPLETE=c7E;return T59;}();j59.StateEvent=l59;var G59=function(){var v7E="COMPLETE";var q7E="OPEN";var B7E="LOAD";var I7E="CONNECT_TO";var r7E="UPDATE_DATA_PARTIAL";var m7E="UPDATE_DATA";var K7E="RUN_QUERY";var y7E="SET_REPORT";var n7E="CLEAR";var W7E="INIT";f59.UNDEFINED=Y7E;f59.INIT=W7E;f59.CLEAR=n7E;f59.SET_REPORT=y7E;f59.RUN_QUERY=K7E;f59.UPDATE_DATA=m7E;f59.UPDATE_DATA_PARTIAL=r7E;f59.CONNECT_TO=I7E;f59.LOAD=B7E;function f59(){}f59.OPEN=q7E;f59.COMPLETE=v7E;return f59;}();j59.ReportType=G59;var U59=function(W59){var z9I=Q933;var h7E="connectionInfo_";__extends(c59,W59);Object.defineProperty(c59.prototype,h7E,{get:function(){return utils.nullOrUndefined(this._connectionInfo)||this._connectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;},set:function(y59){this._connectionInfo=y59;},enumerable:!z9I.R4d,configurable:!z9I.R4d});Object.defineProperty(c59.prototype,P933.D7E,{get:function(){return this._isReportComplete;},enumerable:!z9I.R4d,configurable:!z9I.R4d});Object.defineProperty(c59.prototype,P933.d7E,{get:function(){return this._isReportDefined;},enumerable:!z9I.R4d,configurable:!z9I.R4d});c59.prototype.init=function(K59){var m59=this;utils.nullOrUndefined(K59)&&(K59={});this.reportType=G59.INIT;this.globalReport=utils.nullOrUndefined(K59.global)?{}:utils.ObjectUtils.deepCopy(K59.global);this.setReportState(l59.START_REPORT);i59._options.OptionsManager.getInstance().addEventListener(l59.REPORT_CHANGED,function(){return m59.dispatchReportChange();});i59.sizes.SizesManager.getInstance().addEventListener(l59.REPORT_CHANGED,function(){return m59.dispatchReportChange();});i59.condition.ConditionManager.getInstance().addEventListener(l59.REPORT_CHANGED,function(){return m59.dispatchReportChange();});z9I.V2d!=x59._view.PivotView.stage.getToolbar()&&utils.fmSetTimeout(function(){x59._view.PivotView.stage.getToolbar().updateDataSourceType();},z9I.E4d);this.globalReportVO=i59.report.ReportValueObject.fromObject(this.globalReport);this.spreadGlobal(this.globalReportVO);this.applyEmptyState();if(z9I.Y3d==typeof K59.report)this._load(K59.report);else{var r59=K59.report||{};i59._options.OptionsManager.setOptions(i59._options.vo.OptionsValueObject.fromObject(z9I.V2d!=r59.options?r59.options:r59));utils.fmSetTimeout(function(){m59.reportType==G59.INIT&&m59._setReport(K59.report||{});},z9I.E4d);}};c59.prototype.setReportState=function(I59){this.reportState=I59;if(I59==l59.START_REPORT||I59==l59.OPENING_REPORT_FILE||I59==l59.LOADING_REPORT_FILE)this._isReportDefined=this._isReportComplete=!z9I.E4d;I59==l59.REPORT_COMPLETE&&(this._isReportDefined=this._isReportComplete=!z9I.R4d);I59==l59.REPORT_DEFINED&&(this._isReportDefined=!z9I.R4d);this.dispatchWith(I59);};c59.prototype.setReport=function(B59){utils.nullOrUndefined(B59)&&(B59={});this.reportType=G59.SET_REPORT;this.cancel();this.setReportState(l59.START_REPORT);this._setReport(B59.report||{});};c59.prototype.runQuery=function(q59){this.reportType=G59.RUN_QUERY;q59=q59 instanceof x59.data_._structure.Slice?q59:x59.data_._structure.Slice.fromObject(i59.report.SliceValueObject.fromObject(q59),this.cube_.structure_);var v59=x59.data_._structure.Slice.areRowsDiffer(q59,this.cube_.slice_,!z9I.E4d),h59=x59.data_._structure.Slice.areColumnsDiffer(q59,this.cube_.slice_,!z9I.E4d);!x59.data_._structure.Slice.areMeasuresDiffer(q59,this.cube_.slice_)||v59||h59||i59.sizes.SizesManager.applySizes(i59.sizes.SizesManager.rowSizesNamed,i59.sizes.SizesManager.columnSizesNamed,i59.sizes.SizesManager.rowSizesByIdx,i59.sizes.SizesManager.columnSizesByIdx,i59.sizes.SizesManager.rowHeaderSizes,i59.sizes.SizesManager.columnHeaderSizes,i59.sizes.SizesManager.rowFilterSizes);v59&&(i59.sizes.SizesManager.rowSizes={});h59&&(i59.sizes.SizesManager.columnSizes={});q59.mergeExpandsAndDrills(this.cube_.slice_);i59.JavaScriptHandlers.getInstance().dispatch(new i59.APIEvent(i59.JavaScriptHandlers.REPORT_CHANGE));this.setReportState(l59.RUNNING_QUERY);this.cube_.setSlice(q59);this.cube_.filter();};c59.prototype.updateData=function(Q09,d59){this.reportType=G59.UPDATE_DATA;this.cancel();this.setReportState(l59.START_REPORT);var D59=this.getReport();d59.ignoreSorting&&(D59.slice.columnSorting={},D59.slice.rowSorting={});if(d59.ignoreScroll){var o59=this.cube_.slice_;this.cube_.setSlice(x59.data_._structure.Slice.fromObject(i59.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(o59);}D59.connectionInfo=x59.data_.vo.ConnectionInfo.fromObject(Q09);this._setReport(D59,!z9I.R4d);};c59.prototype.updateDataPartial=function(s09,X09){var P09=this;this.reportType=G59.UPDATE_DATA_PARTIAL;this.cancel();this.setReportState(l59.START_REPORT);X09.ignoreSorting&&(this.reportVO.slice.columnSorting={},this.reportVO.slice.rowSorting={});if(X09.ignoreScroll){var S09=this.cube_.slice_;this.cube_.setSlice(x59.data_._structure.Slice.fromObject(i59.report.SliceValueObject.fromObject({}),this.cube_.structure_));this.cube_.setSlice(S09);}this.reportVO.connectionInfo.data=s09;this.cube_.updateData(s09);this.addDataListeners();x59.data_.dataprovider_.DataProviderFactory.getDataProvider().reset(!z9I.E4d);this.updateActive=!z9I.R4d;utils.fmSetTimeout(function(){P09.updateActive=!z9I.E4d;},z9I.v6d);this.cube_.filter();};c59.prototype.connectTo=function(L09){this.reportType=G59.CONNECT_TO;this.cancel();this.setReportState(l59.START_REPORT);this._setReport(L09);};c59.prototype.load=function(g09){this.reportType=G59.LOAD;this.cancel();this._load(g09);};c59.prototype._load=function(z09){var w09=this;this.setReportState(l59.LOADING_REPORT_FILE);this.reportManager.addEventListener(i59.report.ReportEvent.REPORT_FILE_LOADED,function(Z09){return w09.onReportFileLoaded(Z09);});this.reportManager.addEventListener(i59.report.ReportEvent.REPORT_FILE_FAILED,function(){return w09.onReportFileFailed();});this.reportManager.load(z09);};c59.prototype.open=function(){var t09=this;this.reportType=G59.OPEN;this.setReportState(l59.OPENING_REPORT_FILE);this.reportManager.addEventListener(i59.report.ReportEvent.REPORT_FILE_LOADED,function(p09){return t09.onReportFileLoaded(p09);});this.reportManager.addEventListener(i59.report.ReportEvent.REPORT_FILE_FAILED,function(){return t09.onReportFileFailed();});this.reportManager.addEventListener(i59.report.ReportEvent.REPORT_FILE_CANCELLED,function(){return t09.onReportFileCancelled();});this.reportManager.open();};c59.prototype.onReportFileLoaded=function(F09){x59.preloader(!z9I.E4d);this.setReportState(l59.REPORT_FILE_LOADED);this._setReport(F09.report);};c59.prototype.onReportFileFailed=function(){x59.preloader(!z9I.E4d);this.setReportState(l59.REPORT_FILE_ERROR);this.setReportState(l59.REPORT_DEFINED);this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.onReportFileCancelled=function(){this.setReportState(l59.REPORT_FILE_CANCELLED);this.setReportState(l59.REPORT_DEFINED);this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.dispatchReportChange=function(){this.reportState!=l59.REPORT_COMPLETE&&this.reportState!=l59.QUERY_COMPLETE||i59.JavaScriptHandlers.getInstance().dispatch(new i59.APIEvent(i59.JavaScriptHandlers.REPORT_CHANGE));};c59.prototype._setReport=function(N09,e09){void z9I.R4d===e09&&(e09=!z9I.E4d);this.reportVO=i59.report.ReportValueObject.fromObject(N09);this.reportVO.connectionInfo.isUpdateData=e09;this.loadLocalization();};c59.prototype.onReportComplete=function(){this.reportType=G59.COMPLETE;};function c59(){var n59=W59.call(this)||this;n59.cube_=x59.data_.Cube.getInstance();n59._globalLocalization=z9I.V2d;n59.reportType=G59.UNDEFINED;n59.reportState=l59.UNDEFINED;n59._isReportComplete=!z9I.E4d;n59._isReportDefined=!z9I.E4d;n59.updateActive=!z9I.E4d;n59.connectedToDataSourceHandler=function(){return n59.onConnectedToDataSource();};n59.structureLoadedHandler=function(){return n59.onStructureLoaded();};n59.dataFileCancelledHandler=function(){return n59.onDataFileCancelled();};n59.structureLoadingFailedHandler=function(){return n59.onStructureLoadingFailed();};n59.beforeQueryHandler=function(){return n59.onBeforeQuery();};n59.queryCompleteHandler=function(){return n59.onQueryComplete();};n59.queryErrorHandler=function(){return n59.onQueryError();};n59.reportManager=new i59.report.ReportManager();i59._options.OptionsManager.getInstance();return n59;}c59.prototype.getReport=function(b09){void z9I.R4d===b09&&(b09={});return j59.vo.StateValueObject.toReport(this.getCurrentState(b09));};c59.prototype.clear=function(){this.cancel();this.reportType=G59.CLEAR;this.applyEmptyState();this.cube_.cancel();this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.cancel=function(){this.reportManager.cancel();this.removeDataListeners();this.updateActive=!z9I.E4d;x59.preloader(!z9I.E4d);};c59.prototype.loadLocalization=function(){var V09=this;if(z9I.V2d!=this.globalReport.localization&&z9I.s3d!=this.globalReport.localization)this.setReportState(l59.LOADING_LOCALIZATION),i59._labels.LabelsManager.getInstance().load(this.globalReport.localization,function(Y09){return V09.onGlobalLocalizationLoaded(Y09);},!z9I.R4d),this.globalReport.localization=z9I.V2d;else this.onGlobalLocalizationLoaded(!z9I.R4d);};c59.prototype.onGlobalLocalizationLoaded=function(E09){var R09=this;z9I.V2d==this.reportVO.localization||z9I.s3d==this.reportVO.localization?(i59._labels.LabelsManager.getInstance().reset(),this.onLocalizationLoaded(E09)):(this.setReportState(l59.LOADING_LOCALIZATION),i59._labels.LabelsManager.getInstance().load(this.reportVO.localization,function(M09){return R09.onLocalizationLoaded(M09);}));};c59.prototype.onLocalizationLoaded=function(J09){J09?this.setReportState(l59.LOCALIZATION_LOADED):this.setReportState(l59.LOCALIZATION_ERROR);this.loadStructureAndData();};c59.prototype.loadStructureAndData=function(){this.reportType!=G59.CONNECT_TO&&this.reportType!=G59.OPEN&&(this.applyEmptyState(),i59._options.OptionsManager.setOptions(this.reportVO.options),i59._options.OptionsManager.configuratorOpened=i59._options.OptionsManager.configuratorActive);var k09=this.reportType;this.setReportState(l59.REPORT_DEFINED);k09==this.reportType&&(k09=this.reportVO.connectionInfo,!utils.nullOrUndefined(this.connectionInfo_)&&!this.connectionInfo_.isEmpty&&this.connectionInfo_.isEqual(k09)&&this.cube_.connectionInfo_&&this.cube_.structure_&&this.cube_.structure_.isComplete?(x59.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.rebaseConnection()):(k09.isEmpty&&this._globalConnectionInfo&&!this._globalConnectionInfo.isEmpty&&(k09=this._globalConnectionInfo),k09.isEmpty?(this.connectionInfo_=k09,this.cube_.cancel(),this.setReportState(l59.REPORT_COMPLETE),x59.preloader(!z9I.E4d)):(k09.isInlineData||this.setReportState(l59.LOADING_DATA),x59.data_.dataprovider_.DataProviderFactory.getDataProvider(),this.addDataListeners(),this.cube_.connect(k09))));};c59.prototype.onConnectedToDataSource=function(C09){this.reportType==G59.CONNECT_TO&&(this.applyEmptyState(),this.cube_.slice_&&this.cube_.slice_.clear(),this.cube_.structure_&&this.cube_.structure_.clear());this.setReportState(l59.CONNECTED_TO_DATA_SOURCE);this.connectionInfo_=this.reportVO.connectionInfo;};c59.prototype.onStructureLoaded=function(a09){a09=x59.data_._structure.Slice.fromObject(this.reportVO.slice,this.cube_.structure_);this.applyReport();this.cube_.setSlice(a09);this.setReportState(l59.DATA_LOADED);this.cube_.filter();};c59.prototype.onDataFileCancelled=function(){this.setReportState(l59.DATA_FILE_CANCELLED);this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.onStructureLoadingFailed=function(){i59._options.OptionsManager.setOptions(this.reportVO.options);this.cube_.cancel();x59.preloader(!z9I.E4d);this.setReportState(l59.DATA_ERROR);this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.onBeforeQuery=function(){this.setReportState(l59.RUNNING_QUERY);};c59.prototype.onQueryComplete=function(){this.setReportState(l59.QUERY_COMPLETE);this.reportState!=l59.REPORT_COMPLETE&&this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.onQueryError=function(){this.setReportState(l59.QUERY_ERROR);this.reportState!=l59.REPORT_COMPLETE&&this.setReportState(l59.REPORT_COMPLETE);};c59.prototype.addDataListeners=function(){var H09=this;this.cube_.addEventListener(x59.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.addEventListener(x59.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.addEventListener(x59.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.addEventListener(x59.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.addEventListener(x59.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.addEventListener(x59.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.addEventListener(x59.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);this.cube_.addEventListener(l59.REPORT_CHANGED,function(){return H09.dispatchReportChange();});};c59.prototype.removeDataListeners=function(){this.cube_.removeEventListener(x59.data_.DataEvent.STRUCTURE_CONNECTED,this.connectedToDataSourceHandler);this.cube_.removeEventListener(x59.data_.DataEvent.STRUCTURE_LOADED,this.structureLoadedHandler);this.cube_.removeEventListener(x59.data_.DataEvent.STRUCTURE_CANCELLED,this.dataFileCancelledHandler);this.cube_.removeEventListener(x59.data_.DataEvent.STRUCTURE_LOADING_FAILED,this.structureLoadingFailedHandler);this.cube_.removeEventListener(x59.data_.DataEvent.BEFORE_QUERY,this.beforeQueryHandler);this.cube_.removeEventListener(x59.data_.DataEvent.QUERY_COMPLETE,this.queryCompleteHandler);this.cube_.removeEventListener(x59.data_.DataEvent.QUERY_ERROR,this.queryErrorHandler);};c59.prototype.save=function(A09,u09,x09,i09,O09){void z9I.R4d===O09&&(O09=!z9I.E4d);return this.reportManager.save(A09,u09,x09,i09,O09,this.getReport(A09 instanceof Object?A09:{}));};c59.prototype.getCurrentState=function(G09){var Q4E="withGlobals";var o7E="withDefaults";var j09=G09.hasOwnProperty(o7E)?!z9I.R4d==G09.withDefaults:!z9I.E4d;G09=G09.hasOwnProperty(Q4E)?!z9I.R4d==G09.withGlobals:!z9I.E4d;var l09=new j59.vo.StateValueObject();l09.withDefaults=j09;l09.withGlobals=G09;l09._connectionInfo=G09&&this._connectionInfo.isEmpty&&!this._globalConnectionInfo.isEmpty?this._globalConnectionInfo:this._connectionInfo;l09._structure=this.cube_.structure_;l09._slice=this.cube_.slice_;l09._options=i59._options.OptionsManager.getOptions(j09,G09);l09.formats=i59.format.FormatManager.getAllFormats();l09.conditions=i59.condition.ConditionManager.conditions;l09.customFields=i59.report.CustomFieldsManager.customFields;l09.rowSizes=i59.sizes.SizesManager.rowSizesNamed;l09.columnSizes=i59.sizes.SizesManager.columnSizesNamed;l09.startTableRow=i59.sizes.SizesManager.startTableRow;l09.rowHeaderSizes=i59.sizes.SizesManager.rowHeaderSizes;l09.columnHeaderSizes=i59.sizes.SizesManager.columnHeaderSizes;l09.rowFilterSizes=i59.sizes.SizesManager.rowFilterSizes;l09.expandedRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(x59.data_.consts.AxisName.ROWS_AXIS).expandedTuplesBasedOnUniqueNames:[];l09.expandedColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(x59.data_.consts.AxisName.COLUMNS_AXIS).expandedTuplesBasedOnUniqueNames:[];l09.drilledRows=this.cube_.slice_?this.cube_.slice_.axes.getItem(x59.data_.consts.AxisName.ROWS_AXIS).drilledTuplesBasedOnUniqueNames:[];l09.drilledColumns=this.cube_.slice_?this.cube_.slice_.axes.getItem(x59.data_.consts.AxisName.COLUMNS_AXIS).drilledTuplesBasedOnUniqueNames:[];this.reportVO&&(l09.localization=G09&&z9I.V2d==this.reportVO.localization&&z9I.V2d!=this._globalLocalization?this._globalLocalization:this.reportVO.localization);return l09;};c59.prototype.spreadGlobal=function(U09){this._globalConnectionInfo=U09.connectionInfo;i59._options.OptionsManager.setGlobalOptions(U09.options);this._globalLocalization=U09.localization;};c59.prototype.applyEmptyState=function(){x59.data_.dataprovider_.DataProviderFactory.dispose();i59.sizes.SizesManager.clear();i59.condition.ConditionManager.removeAll();i59.format.FormatManager.clear();i59.report.CustomFieldsManager.customFields=[];i59._options.OptionsManager.clear();};c59.prototype.applyReport=function(){i59._options.OptionsManager.setOptions(this.reportVO.options);i59.sizes.SizesManager.clear();i59.sizes.SizesManager.applySizes(this.reportVO.rowSizes,this.reportVO.columnSizes,this.reportVO.rowSizesByIdx,this.reportVO.columnSizesByIdx,this.reportVO.rowHeaderSizes,this.reportVO.columnHeaderSizes,this.reportVO.rowFilterSizes);var T09;i59.condition.ConditionManager.removeAll();for(T09=z9I.R4d;T09<this.reportVO.conditions.length;T09++){var f09=i59.condition.vo.ConditionValueObject.fromObject(this.reportVO.conditions[T09]);i59.condition.ConditionManager.add(f09);}i59.format.FormatManager.clear();for(T09=z9I.R4d;T09<this.reportVO.formats.length;T09++)i59.format.FormatManager.setFormat(this.reportVO.formats[T09]);i59.report.CustomFieldsManager.customFields=this.reportVO.customFields;};c59.prototype.dispose=function(){this.cancel();i59.condition.ConditionManager.dispose();i59._options.OptionsManager.dispose();i59.printing.PrintingManager.dispose();i59.integration.IntegrationDataManager.dispose();i59._labels.LabelsManager.dispose();i59.sizes.SizesManager.dispose();i59.format.FormatManager.dispose();i59.report.CustomFieldsManager.customFields=[];this._connectionInfo=this.reportManager=z9I.V2d;this.globalReport={};this.cube_=this.reportVO=this.globalReportVO=z9I.V2d;};return c59;}(events.EventDispatcher);j59.StateManager=U59;}(i59._state||(i59._state={})));}(x59.model||(x59.model={})));}(pivot||(pivot={})));(function(W09){var c09=function(){var e4E='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>';var F4E='<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><dimension ref="{0}"/><sheetViews><sheetView tabSelected="1" workbookViewId="0"><selection activeCell="A1" sqref="A1"/></sheetView></sheetViews><sheetFormatPr defaultRowHeight="15" defaultColWidth="15" x14ac:dyDescent="0.25"/><cols>{1}</cols><sheetData>{2}</sheetData>{3}<pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3"/></worksheet>';var p4E='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="5" uniqueCount="5">{0}</sst>';var t4E='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">{0}<fonts count="{1}" x14ac:knownFonts="1"><font><sz val="11"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font>{2}</fonts><fills count="{3}">{4}</fills><borders count="2"><border><left/><right/><top/><bottom/><diagonal/></border><border><left style="thin"><color theme="0" tint="-0.14996795556505021"/></left><right style="thin"><color theme="0" tint="-0.14996795556505021"/></right><top style="thin"><color theme="0" tint="-0.14996795556505021"/></top><bottom style="thin"><color theme="0" tint="-0.14996795556505021"/></bottom><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs><cellXfs count="{5}"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/>{6}</cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles><dxfs count="0"/><tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleLight16"/><extLst><ext uri="{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"><x14:slicerStyles defaultSlicerStyle="SlicerStyleLight1"/></ext></extLst></styleSheet>';var Z4E='<a:theme name="Office Theme" xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"><a:themeElements><a:clrScheme name="Office"><a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1><a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1><a:dk2><a:srgbClr val="1F497D"/></a:dk2><a:lt2><a:srgbClr val="EEECE1"/></a:lt2><a:accent1><a:srgbClr val="4F81BD"/></a:accent1><a:accent2><a:srgbClr val="C0504D"/></a:accent2><a:accent3><a:srgbClr val="9BBB59"/></a:accent3><a:accent4><a:srgbClr val="8064A2"/></a:accent4><a:accent5><a:srgbClr val="4BACC6"/></a:accent5><a:accent6><a:srgbClr val="F79646"/></a:accent6><a:hlink><a:srgbClr val="0000FF"/></a:hlink><a:folHlink><a:srgbClr val="800080"/></a:folHlink></a:clrScheme><a:fontScheme name="Office"><a:majorFont><a:latin typeface="Cambria"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Times New Roman"/><a:font script="Hebr" typeface="Times New Roman"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="MoolBoran"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Times New Roman"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:majorFont><a:minorFont><a:latin typeface="Calibri"/><a:ea typeface=""/><a:cs typeface=""/><a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/><a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/><a:font script="Hans" typeface="\u5b8b\u4f53"/><a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/><a:font script="Arab" typeface="Arial"/><a:font script="Hebr" typeface="Arial"/><a:font script="Thai" typeface="Tahoma"/><a:font script="Ethi" typeface="Nyala"/><a:font script="Beng" typeface="Vrinda"/><a:font script="Gujr" typeface="Shruti"/><a:font script="Khmr" typeface="DaunPenh"/><a:font script="Knda" typeface="Tunga"/><a:font script="Guru" typeface="Raavi"/><a:font script="Cans" typeface="Euphemia"/><a:font script="Cher" typeface="Plantagenet Cherokee"/><a:font script="Yiii" typeface="Microsoft Yi Baiti"/><a:font script="Tibt" typeface="Microsoft Himalaya"/><a:font script="Thaa" typeface="MV Boli"/><a:font script="Deva" typeface="Mangal"/><a:font script="Telu" typeface="Gautami"/><a:font script="Taml" typeface="Latha"/><a:font script="Syrc" typeface="Estrangelo Edessa"/><a:font script="Orya" typeface="Kalinga"/><a:font script="Mlym" typeface="Kartika"/><a:font script="Laoo" typeface ="DokChampa"/><a:font script="Sinh" typeface="Iskoola Pota"/><a:font script="Mong" typeface="Mongolian Baiti"/><a:font script="Viet" typeface="Arial"/><a:font script="Uigh" typeface="Microsoft Uighur"/></a:minorFont></a:fontScheme><a:fmtScheme name="Office"><a:fillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="1"/></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:shade val="51000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="80000"><a:schemeClr val="phClr"><a:shade val="93000"/><a:satMod val="130000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="94000"/><a:satMod val="135000"/></a:schemeClr></a:gs></a:gsLst><a:lin ang="16200000" scaled="0"/></a:gradFill></a:fillStyleLst><a:lnStyleLst><a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln><a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln></a:lnStyleLst><a:effectStyleLst><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst></a:effectStyle><a:effectStyle><a:effectLst><a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw></a:effectLst><a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d><a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d></a:effectStyle></a:effectStyleLst><a:bgFillStyleLst><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path></a:gradFill><a:gradFill rotWithShape="1"><a:gsLst><a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs><a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs></a:gsLst><a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path></a:gradFill></a:bgFillStyleLst></a:fmtScheme></a:themeElements><a:objectDefaults><a:spDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style></a:spDef><a:lnDef><a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style></a:lnDef></a:objectDefaults><a:extraClrSchemeLst/></a:theme>';var z4E='<Relationship Id="{0}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="{1}"/>';var w4E='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme" Target="theme/theme1.xml"/>{0}</Relationships>';var g4E='<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9302"/><workbookPr defaultThemeVersion="124226"/><bookViews><workbookView xWindow="360" yWindow="210" windowWidth="16860" windowHeight="9150"/></bookViews><sheets>{0}</sheets><calcPr calcId="144525"/></workbook>';var L4E='<cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dc:creator>EC2</dc:creator><cp:lastModifiedBy>EC2</cp:lastModifiedBy><dcterms:created xsi:type="dcterms:W3CDTF">2010-12-22T15:19:38Z</dcterms:created><dcterms:modified xsi:type="dcterms:W3CDTF">2010-12-22T15:20:08Z</dcterms:modified></cp:coreProperties>';var S4E='<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"><Application>Microsoft Excel</Application><DocSecurity>0</DocSecurity><ScaleCrop>false</ScaleCrop><HeadingPairs><vt:vector size="2" baseType="variant"><vt:variant><vt:lpstr>Worksheets</vt:lpstr></vt:variant><vt:variant><vt:i4>3</vt:i4></vt:variant></vt:vector></HeadingPairs><TitlesOfParts><vt:vector size="3" baseType="lpstr"><vt:lpstr>Sheet1</vt:lpstr><vt:lpstr>Sheet2</vt:lpstr><vt:lpstr>Sheet3</vt:lpstr></vt:vector></TitlesOfParts><Company>Amazon.com</Company><LinksUpToDate>false</LinksUpToDate><SharedDoc>false</SharedDoc><HyperlinksChanged>false</HyperlinksChanged><AppVersion>14.0300</AppVersion></Properties>';var P4E='<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>';var X4E='<Override PartName="{0}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>';var s4E='<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Default Extension="xml" ContentType="application/xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/><Override PartName="/xl/theme/theme1.xml" ContentType="application/vnd.openxmlformats-officedocument.theme+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/>{0}</Types>';n09.CONTENT_TYPES_XML=s4E;n09.CONTENT_TYPES_XML_SHEET=X4E;n09._RELS=P4E;function n09(){}n09.APP_XML=S4E;n09.CORE_XML=L4E;n09.WORKBOOK_XML=g4E;n09.WORKBOOK_XML_RELS=w4E;n09.WORKBOOK_XML_RELS_SHEET=z4E;n09.THEME=Z4E;n09.STYLES_XML=t4E;n09.SHARED_STRING_XML=p4E;n09.SHEET_XML=F4E;n09.XML_HEADER=e4E;return n09;}();W09.XLSTemplates=c09;}(xls||(xls={})));(function(y09){(function(K09){var m09=function(I09){var b4E="Measures";__extends(r09,I09);r09.getInstance=function(){void Q933.R4d==r09.instance&&(r09.instance=new r09());return r09.instance;};r09.prototype.setSlice=function(q09){var N4E="slice_changed";q09.isEmpty&&y09.model._options.OptionsManager.showDefaultSlice&&q09.makeDefault();q09&&!q09.isEqual(this.slice_)&&this.dispatchWith(N4E);this.slice_=q09;};r09.prototype.rebaseConnection=function(){this.structure_&&(this.structure_.isComplete=!Q933.E4d,this.removeAllCalculatedMeasures());for(var h09=this.structure_.allHierarchies(!Q933.E4d),v09=Q933.R4d;v09<h09.length;v09++){var D09=h09.getItemAt(v09);D09.clearFilter();D09.clearSort(y09.model._options.OptionsManager.flatView);}this.slice_&&this.slice_.clear();this.dispatchStructureLoaded();};r09.prototype.connect=function(o09){var d09=this;utils.nullOrUndefined(this.__structureLoader)||this.__structureLoader.cancel();this.__structureLoader=K09.StructureLoaderFactory.getStructureLoader(o09);this.__structureLoader.load(o09,function(){return d09.dispatchStructureLoaded();},function(){d09.dispatchWith(K09.DataEvent.STRUCTURE_LOADING_FAILED);},function(){d09.cancel(!Q933.E4d);d09.connectionInfo_=o09;d09.structureLoader=d09.__structureLoader;d09.localDataStorage=new K09.LocalDataStorage(d09);d09.__structureLoader=Q933.V2d;d09.localDataStorage.datePattern=y09.model._options.OptionsManager.datePattern;d09.localDataStorage.dateTimePattern=y09.model._options.OptionsManager.dateTimePattern;Q933.V2d!=d09.structure_&&d09.structure_.clear();d09.structure_=new K09._structure.GenericStructure();d09.structure_.localDataStorage=d09.localDataStorage;d09.dispatchWith(K09.DataEvent.STRUCTURE_CONNECTED);},function(){d09.dispatchWith(K09.DataEvent.STRUCTURE_CANCELLED);});};r09.prototype.dispatchStructureLoaded=function(){this.structure_.isComplete=!Q933.R4d;this.dispatchWith(K09.DataEvent.STRUCTURE_LOADED);};r09.prototype.cancel=function(Q19){var f8E=Q933;void f8E.R4d===Q19&&(Q19=!f8E.R4d);utils.ThreadManager.isRunning()&&utils.ThreadManager.cancel();this.structureLoader&&(this.structureLoader.cancel(),this.structureLoader=f8E.V2d);Q19&&this.structure_&&(this.structure_.clear(),this.structure_=f8E.V2d);Q19&&this.slice_&&(this.slice_.clear(),this.slice_=f8E.V2d);Q19&&this.localDataStorage&&(this.localDataStorage.clearAll(),this.localDataStorage=f8E.V2d);};r09.prototype.dispatchQueryComplete=function(){var s19=new K09.QueryCompleteEvent(this.queryType);this.dispatch(s19);};r09.prototype.dispatchQueryError=function(){this.dispatchWith(K09.DataEvent.QUERY_ERROR);};r09.prototype.filter=function(){this.queryType=K09.consts.QueryType.FILTER;this.select();};r09.prototype.clearSortValues=function(X19){X19.sortMeasure=Q933.V2d;X19.sortTuple=Q933.V2d;X19.sortType=K09.consts.SortType.UNSORTED;X19.totalSortType=K09.consts.SortType.UNSORTED;X19.totalSortMeasure=Q933.V2d;};r09.prototype.sort=function(){this.dispatchQueryComplete();};r09.prototype.expand=function(L19,g19,P19,S19){var W8E=Q933;void W8E.R4d===P19&&(P19=W8E.V2d);void W8E.R4d===S19&&(S19=!W8E.R4d);this._tuple=L19;this._axisName=g19;this._measure=P19;this.queryType=K09.consts.QueryType.EXPAND;var w19=new K09.BeforeQueryEvent(K09.consts.QueryType.EXPAND);this.dispatch(w19);this.localDataStorage.expand(L19,g19,P19);S19&&this.dispatchQueryComplete();};r09.prototype.collapse=function(t19,p19,z19,Z19){var n8E=Q933;void n8E.R4d===z19&&(z19=n8E.V2d);void n8E.R4d===Z19&&(Z19=!n8E.R4d);this.localDataStorage.collapse(t19,p19,z19);this.query=new K09.Query();this.queryType=this.query.type=K09.consts.QueryType.COLLAPSE;Z19&&this.dispatchQueryComplete();};r09.prototype.drillDown=function(N19,F19,b19,e19){void Q933.R4d===e19&&(e19=Q933.V2d);this._tuple=N19;this._axisName=b19;this._measure=e19;this._member=F19;this._levelName=void Q933.R4d;F19.hierarchy_.drillDownMember(F19);this.queryType=K09.consts.QueryType.DRILL_DOWN;var V19=new K09.BeforeQueryEvent(K09.consts.QueryType.DRILL_DOWN);this.dispatch(V19);this.localDataStorage.drillDown(N19,F19,b19,e19);this.dispatchQueryComplete();};r09.prototype.drillUp=function(Y19,R19,M19,E19){void Q933.R4d===E19&&(E19=Q933.V2d);R19.hierarchy_.drillUpMember(R19);this.localDataStorage.drillUp(Y19,R19,M19,E19);this.query=new K09.Query();this.queryType=this.query.type=K09.consts.QueryType.DRILL_UP;Y19=new K09.BeforeQueryEvent(K09.consts.QueryType.DRILL_UP);this.dispatch(Y19);this.dispatchQueryComplete();};r09.prototype.select=function(){var J19=new K09.BeforeQueryEvent(this.queryType==K09.consts.QueryType.FILTER?this.queryType:K09.consts.QueryType.SELECT);this.dispatch(J19);for(J19=Q933.R4d;J19<this.slice_.pages.length;J19++)this.slice_.pages.getItemAt(J19).clearValuesFilter();this.structure_.measures_.length>this.localDataStorage.factKeys.length&&this.addCalculatedMeasuresToDataStorage();this.localDataStorage.filter();this.localDataStorage.select();this.dispatchQueryComplete();};r09.prototype.addCalculatedMeasuresToDataStorage=function(){var x6I=Q933;for(var k19=x6I.R4d;k19<this.structure_.measures_.length;k19++){var C19=this.structure_.measures_.getItemAt(k19);if(C19.calculated){for(var H19=!x6I.R4d,a19=x6I.R4d;a19<this.localDataStorage.factKeys.length;a19++)this.localDataStorage.factKeys[a19].toString()==C19.uniqueName&&(H19=!x6I.E4d);H19&&this.localDataStorage.addFactKey(C19.uniqueName,C19.params,C19.individual);}}this.slice_.axisWithMeasures.sortToSet&&(k19=this.slice_.axisWithMeasures.sortToSet,(C19=this.structure_.findMeasure(k19.measure))&&this.slice_.axisWithMeasures.setSort(C19,k19.tuple,k19.type));};r09.prototype.addCalculatedMeasure=function(A19){if(Q933.V2d==this.structure_.findMeasure(A19.uniqueName)){if(A19.calculated){var O19=new utils.Lexer();A19.params=O19.parse(A19.formula);}A19.calculated&&Q933.V2d==A19.params||(this.structure_.measuresHierarchy&&this.structure_.addMeasure(A19),A19.calculated?this.localDataStorage.addFactKey(A19.uniqueName,A19.params,A19.individual):this.localDataStorage.addFactKey(A19.uniqueName),this.structure_.isComplete&&this.refresh());}else O19=new utils.Lexer(),A19.params=O19.parse(A19.formula),A19.calculated&&Q933.V2d==A19.params||(this.localDataStorage.updateFactKey(A19.uniqueName,A19.params,A19.individual),O19=this.structure_.findMeasure(A19.uniqueName),O19.caption=A19.caption,O19.formula=A19.formula,O19.individual=A19.individual,O19.params=A19.params,this.structure_.isComplete&&this.refresh());};r09.prototype.removeCalculatedMeasure=function(u19,x19){void Q933.R4d===x19&&(x19=!Q933.R4d);var i19=this.structure_.findMeasure(u19);i19&&i19.calculated&&(this.structure_.removeMeasure(u19),this.localDataStorage.removeFactKey(u19),this.slice_.removeMeasure(u19),x19&&this.structure_.isComplete&&this.refresh());};r09.prototype.removeAllCalculatedMeasures=function(){for(var l19=Q933.R4d;l19<this.structure_.measures_.length;){var G19=this.structure_.measures_.getItemAt(l19);G19.calculated?this.removeCalculatedMeasure(G19.uniqueName,!Q933.E4d):l19++;}this.structure_.isComplete&&this.refresh();};r09.prototype.refresh=function(){this.structure_.isComplete?(this.connectionInfo_.dataSourceType==K09.consts.DataSourceType.EMPTY&&utils.nullOrUndefined(this.slice_)&&this.dispatchStructureLoaded(),this.filter()):this.connectionInfo_.dataSourceType==K09.consts.DataSourceType.EMPTY&&this.dispatchStructureLoaded();};r09.prototype.loadMemberChildren=function(U19,T19,f19){var j19=this;this.structureLoader.loadMemberChildren(U19,T19,f19,function(){return j19.dispatchQueryError();});};function r09(){var B09=I09.call(this)||this;B09.queryType=K09.consts.QueryType.SELECT;if(Q933.V2d!=r09.instance)throw Error(s933.m0d);return B09;}r09.prototype.updateData=function(c19){this.structureLoader.updateData(c19);this.dispatchStructureLoaded();};r09.prototype.dispose=function(){var Z6I=Q933;utils.ThreadManager.dispose();try{this.structure_.clear();}catch(W19){}this.slice_=this.structure_=Z6I.V2d;try{this.localDataStorage.clearAll();}catch(n19){}this.localDataStorage=Z6I.V2d;try{this.structureLoader.cancel();}catch(y19){}this.structureLoader=Z6I.V2d;try{this.__structureLoader.cancel();}catch(K19){}this.__structureLoader=Z6I.V2d;r09.instance=Z6I.V2d;};r09.MEASURES_NAME=b4E;return r09;}(events.EventDispatcher);K09.Cube=m09;}(y09.data_||(y09.data_={})));}(pivot||(pivot={})));(function(m19){var I19=function(){var J6E=Q933;var k4E="93409381953317";var J4E="Version 1.0.1";Object.defineProperty(B19.prototype,P933.D7E,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportComplete;},enumerable:!J6E.R4d,configurable:!J6E.R4d});Object.defineProperty(B19.prototype,P933.d7E,{get:function(){return this.model_&&this.model_.state_&&this.model_.state_.isReportDefined;},enumerable:!J6E.R4d,configurable:!J6E.R4d});B19.prototype.runDelayedCalls=function(){var o19=this;utils.fmSetTimeout(function(){for(;J6E.R4d<o19.delayedApiCallsOnReportReady.length;)o19.delayedApiCallsOnReportReady.shift().call(o19);},J6E.E4d);};B19.prototype.delayApiCall=function(s89,Q89){void J6E.R4d===Q89&&(Q89=J6E.E4d);J6E.R4d==Q89?this.delayedApiCallsOnReportDefined.push(s89):this.delayedApiCallsOnReportReady.push(s89);};B19.prototype.onOpeningReportFile=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.OPENING_REPORT_FILE));};B19.prototype.onLoadingReportFile=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.LOADING_REPORT_FILE));};B19.prototype.onReportFileLoaded=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.REPORT_FILE_LOADED));};B19.prototype.onReportFileError=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.REPORT_FILE_ERROR));};B19.prototype.onReportFileCancelled=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.REPORT_FILE_CANCELLED));};function B19(v19,D19){var E4E="WebDataRocks Reporting Component:\nUnable to create the component. DOM element is null.";var R4E="' is not found.";var Y4E="WebDataRocks Reporting Component:\nUnable to create the component. DOM element with id '";var V4E="WebDataRocks Reporting Component is not completely supported by this version of browser. Please update your browser. Continue anyway?";var q19=this;this.isCreationComplete=!J6E.E4d;this.api=J6E.V2d;this.delayedApiCallsOnReportDefined=[];this.delayedApiCallsOnReportReady=[];J6E.V2d!=B19.instance&&B19.instance.dispose();B19.instance=this;this.api=D19;utils.nullOrUndefined(v19)&&(v19={});if(!J6E.E4d!=utils.isHTML5Supported()||!J6E.E4d!=confirm(V4E)){var h19;v19.container instanceof HTMLElement?h19=v19.container:utils.nullOrUndefined(v19.container)||(h19=s933.j8d==v19.container.substr(J6E.R4d,J6E.E4d)?v19.container.substring(J6E.E4d):v19.container,h19=document.getElementById(h19));J6E.V2d==h19?(h19=!J6E.E4d==utils.nullOrEmpty(v19.container)?Y4E+v19.container+R4E:E4E,console.error(h19),alert(h19)):(this.model_=m19.model.PivotModel.getInstance(),this.model_.state_.addEventListener(m19.model._state.StateEvent.OPENING_REPORT_FILE,function(){return q19.onOpeningReportFile();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.LOADING_REPORT_FILE,function(){return q19.onLoadingReportFile();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.REPORT_FILE_LOADED,function(){return q19.onReportFileLoaded();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.REPORT_FILE_ERROR,function(){return q19.onReportFileError();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.REPORT_FILE_CANCELLED,function(){return q19.onReportFileCancelled();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.REPORT_DEFINED,function(){return q19.onReportDefined();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.LOADING_DATA,function(){return q19.onLoadingData();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.DATA_LOADED,function(){return q19.onDataLoaded();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.DATA_ERROR,function(){return q19.onDataError();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.DATA_FILE_CANCELLED,function(){return q19.onDataFileCancelled();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.LOADING_LOCALIZATION,function(){return q19.onLoadingLocalization();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.LOCALIZATION_LOADED,function(){return q19.onLocalizationLoaded();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.LOCALIZATION_ERROR,function(){return q19.onLocalizationError();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.EMPTY_SLICE,function(){return q19.onEmptySlice();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.RUNNING_QUERY,function(){return q19.onRunningQuery();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.QUERY_COMPLETE,function(){return q19.onQueryComplete();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.QUERY_ERROR,function(){return q19.onQueryError();}),this.model_.state_.addEventListener(m19.model._state.StateEvent.REPORT_COMPLETE,function(){return q19.onReportComplete();}),this.model_.addEventListener(r19.EXPORT,function(){return q19.onExportStart();}),this.model_.addEventListener(r19.EXPORT_COMPLETE,function(){return q19.onExportComplete();}),this.model_.addEventListener(r19.PRINT,function(){return q19.onPrintStart();}),this.model_.addEventListener(r19.PRINT_COMPLETE,function(){return q19.onPrintComplete();}),this.view_=new m19._view.PivotView(uicontrols.UIElement.convert(h19),v19),this.view_.addEventListener(m19._view.ViewEvent.BEFORE_GRID_DRAW,function(d19){return q19.onBeforeGridDraw(d19);}),this.view_.addEventListener(m19._view.ViewEvent.RENDER_COMPLETE,function(){return q19.onRenderComplete();}),this.model_.init(v19),this.isCreationComplete=!J6E.R4d);}}B19.prototype.onReportDefined=function(){for(this.model_.state_.reportType==m19.model._state.ReportType.INIT&&utils.fmSetTimeout(function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.READY));},J6E.E4d);J6E.R4d<this.delayedApiCallsOnReportDefined.length;)this.delayedApiCallsOnReportDefined.shift().call(this);};B19.prototype.onLoadingLocalization=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.LOADING_LOCALIZATION));};B19.prototype.onLocalizationLoaded=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.LOCALIZATION_LOADED));};B19.prototype.onLocalizationError=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.LOCALIZATION_ERROR));};B19.prototype.onLoadingData=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.LOADING_DATA));};B19.prototype.onDataLoaded=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.DATA_LOADED));};B19.prototype.onDataFileCancelled=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.DATA_FILE_CANCELLED));};B19.prototype.onDataError=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.DATA_ERROR));};B19.prototype.onEmptySlice=function(){};B19.prototype.onRunningQuery=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.RUNNING_QUERY));};B19.prototype.onQueryComplete=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.QUERY_COMPLETE));m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.UPDATE));};B19.prototype.onQueryError=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.QUERY_ERROR));};B19.prototype.onReportComplete=function(){};B19.prototype.onBeforeGridDraw=function(X89){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.BEFORE_GRID_DRAW,X89.data));};B19.prototype.onRenderComplete=function(){var P89=this;this.isReportComplete&&this.model_.state_.reportType!=m19.model._state.ReportType.COMPLETE&&utils.fmSetTimeout(function(){P89.runDelayedCalls();P89.model_.state_.reportType=m19.model._state.ReportType.COMPLETE;m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.REPORT_COMPLETE));},J6E.E4d);};B19.prototype.onExportStart=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.EXPORT_START));};B19.prototype.onExportComplete=function(){utils.fmSetTimeout(function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.EXPORT_COMPLETE));},J6E.E4d);};B19.prototype.onPrintStart=function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.PRINT_START));};B19.prototype.onPrintComplete=function(){utils.fmSetTimeout(function(){m19.model.JavaScriptHandlers.getInstance().dispatch(new m19.model.APIEvent(m19.model.JavaScriptHandlers.PRINT_COMPLETE));},J6E.E4d);};B19.prototype.getAllConditions=function(){return this.isReportComplete?this.model_.getAllConditions():J6E.V2d;};B19.prototype.getCondition=function(S89){return this.isReportComplete?this.model_.getCondition(S89):J6E.V2d;};B19.prototype.addCondition=function(L89){var g89=this;this.isReportComplete?J6E.V2d!=L89&&this.model_.addCondition(L89):this.delayApiCall(function(){return g89.addCondition(L89);});};B19.prototype.removeCondition=function(w89){var z89=this;this.isReportComplete?this.model_.removeCondition(w89):this.delayApiCall(function(){return z89.removeCondition(w89);});};B19.prototype.removeAllConditions=function(){var Z89=this;this.isReportComplete?this.model_.removeAllConditions():this.delayApiCall(function(){return Z89.removeAllConditions();});};B19.prototype.open=function(){this.model_.open();};B19.prototype.load=function(t89){this.model_.load(t89);};B19.prototype.getReport=function(p89){return this.model_.getReport(p89).toObject();};B19.prototype.setReport=function(F89){if(J6E.Y3d==typeof F89)try{F89=JSON.parse(F89);}catch(e89){m19.uialert(m19.model._labels.Labels.MESSAGE_INVALID_REPORT_FORMAT,m19.model._labels.Labels.ERROR,m19.AlertType.ERROR);return;}this.model_.setReport({report:F89});};B19.prototype.getData=function(N89,b89,V89){var Y89=this;this.isReportComplete?this.model_.getData(N89,b89,V89):this.delayApiCall(function(){return Y89.getData(N89,b89,V89);});};B19.prototype.save=function(E89,M89,J89,k89,C89){var M4E="callbackHandler";var a89=this;void J6E.R4d===E89&&(E89={filename:J6E.b2d});void J6E.R4d===M89&&(M89=J6E.V2d);void J6E.R4d===J89&&(J89=J6E.V2d);void J6E.R4d===k89&&(k89=J6E.V2d);void J6E.R4d===C89&&(C89=!J6E.E4d);var R89=J89;this.isReportComplete?(E89 instanceof Object&&E89.hasOwnProperty(M4E)&&(R89=E89.callbackHandler),J6E.V2d!=R89&&J6E.Y3d==typeof R89&&(R89=m19.model.JavaScriptHandlers.getFunctionByName(R89)),this.model_.save(E89,M89,J6E.V2d!=R89?function(H89){return R89(H89);}:J6E.V2d,k89,C89)):this.delayApiCall(function(){return a89.save(E89,M89,J89,k89,C89);});};B19.prototype.updateData=function(O89,A89){var u89=this;J6E.V2d!=O89&&(utils.nullOrUndefined(A89)?A89={partial:!J6E.E4d}:s933.f1d==typeof A89&&(A89={partial:A89}),this.isReportDefined?this.model_.updateData(O89,A89):this.delayApiCall(function(){return u89.updateData(O89,A89);},J6E.R4d));};B19.prototype.connectTo=function(x89){var i89=this;J6E.V2d!=x89&&(this.isReportDefined?this.model_.connectTo(x89):this.delayApiCall(function(){return i89.connectTo(x89);},J6E.R4d));};B19.prototype.addCalculatedMeasure=function(l89){var G89=this;this.isReportComplete?J6E.V2d!=l89&&this.model_.addCalculatedMeasure(m19.data_._structure.GenericMeasure.fromObject(l89)):this.delayApiCall(function(){return G89.addCalculatedMeasure(l89);});};B19.prototype.removeCalculatedMeasure=function(j89){var U89=this;this.isReportComplete?this.model_.removeCalculatedMeasure(j89):this.delayApiCall(function(){return U89.removeCalculatedMeasure(j89);});};B19.prototype.removeAllCalculatedMeasures=function(){var T89=this;this.isReportComplete?this.model_.removeAllCalculatedMeasures():this.delayApiCall(function(){return T89.removeAllCalculatedMeasures();});};B19.prototype.clear=function(){var f89=this;this.isReportComplete?this.model_.clear():this.delayApiCall(function(){return f89.clear();});};B19.prototype.dispose=function(){utils.fmdocument.dispose();utils.fmwindow.dispose();utils.Timers.dispose();this.model_.dispose();this.view_.dispose();this.model_=this.view_=J6E.V2d;B19.instance=J6E.V2d;m19.model.JavaScriptHandlers.dispose();};B19.prototype.refresh=function(){var c89=this;this.isReportComplete?this.view_.draw():this.delayApiCall(function(){return c89.refresh();});};B19.prototype.expandAllData=function(W89){var n89=this;void J6E.R4d===W89&&(W89=!J6E.R4d);this.isReportComplete?this.model_.expandAllData(W89):this.delayApiCall(function(){return n89.expandAllData(W89);});};B19.prototype.expandData=function(y89){var K89=this;this.isReportComplete?this.model_.expandData(y89):this.delayApiCall(function(){return K89.expandData(y89);});};B19.prototype.collapseAllData=function(){var m89=this;this.isReportComplete?this.model_.collapseAllData():this.delayApiCall(function(){return m89.collapseAllData();});};B19.prototype.collapseData=function(r89){var I89=this;this.isReportComplete?this.model_.collapseData(r89):this.delayApiCall(function(){return I89.collapseData(r89);});};B19.prototype.print=function(B89){var q89=this;void J6E.R4d===B89&&(B89=J6E.V2d);this.isReportComplete?this.model_.print(m19.model.printing.PrintOptions.fromObject(B89)):this.delayApiCall(function(){return q89.print(B89);});};B19.prototype.exportTo=function(D89,h89,v89){var d89=this;void J6E.R4d===h89&&(h89=J6E.V2d);void J6E.R4d===v89&&(v89=J6E.V2d);if(this.isReportComplete){if(J6E.V2d!=D89){J6E.V2d!=v89&&J6E.Y3d==typeof v89&&(v89=m19.model.JavaScriptHandlers.getFunctionByName(v89));var o89=J6E.V2d!=v89?function(){for(var s9d=[],Q9d=J6E.R4d;Q9d<arguments.length;Q9d++)s9d[Q9d]=arguments[Q9d];return v89.apply(J6E.V2d,s9d);}:J6E.V2d;this.model_.exportTo(D89,m19.model._export.ExportOptions.fromObject(h89),o89);}}else this.delayApiCall(function(){return d89.exportTo(D89,h89,v89);});};B19.prototype.getFilter=function(X9d){return this.isReportComplete?this.model_.getFilter(X9d):J6E.V2d;};B19.prototype.getFilterProperties=function(P9d){return this.isReportComplete?this.model_.getFilterProperties(P9d):J6E.V2d;};B19.prototype.setFilter=function(L9d,g9d,S9d){var w9d=this;void J6E.R4d===S9d&&(S9d=!J6E.E4d);this.isReportComplete?this.model_.setFilter(L9d,g9d,S9d):this.delayApiCall(function(){return w9d.setFilter(L9d,g9d,S9d);});};B19.prototype.clearFilter=function(z9d){var Z9d=this;this.isReportComplete?this.model_.clearFilter(z9d):this.delayApiCall(function(){return Z9d.clearFilter(z9d);});};B19.prototype.on=function(p9d,t9d){J6E.Y3d==typeof t9d&&(t9d=m19.model.JavaScriptHandlers.getFunctionByName(t9d));m19.model.JavaScriptHandlers.getInstance().addEventListener(p9d,t9d);};B19.prototype.off=function(e9d,F9d){J6E.Y3d==typeof F9d&&(F9d=m19.model.JavaScriptHandlers.getFunctionByName(F9d));J6E.V2d==F9d?m19.model.JavaScriptHandlers.getInstance().removeAllEventListeners(e9d):m19.model.JavaScriptHandlers.getInstance().removeEventListener(e9d,F9d);};B19.prototype.getRows=function(){return this.isReportComplete?this.model_.getRows():J6E.V2d;};B19.prototype.getColumns=function(){return this.isReportComplete?this.model_.getColumns():J6E.V2d;};B19.prototype.getPages=function(){return this.isReportComplete?this.model_.getPages():J6E.V2d;};B19.prototype.getMeasures=function(){return this.isReportComplete?this.model_.getMeasures():J6E.V2d;};B19.prototype.getAllMeasures=function(){return this.isReportComplete?this.model_.getAllMeasures():J6E.V2d;};B19.prototype.sortValues=function(N9d,b9d,V9d,Y9d){var R9d=this;this.isReportComplete?this.model_.sortValues(N9d,b9d,V9d,Y9d):this.delayApiCall(function(){return R9d.sortValues(N9d,b9d,V9d,Y9d);});};B19.prototype.setSort=function(E9d,M9d){var J9d=this;this.isReportComplete?this.model_.setSort(E9d,M9d):this.delayApiCall(function(){return J9d.setSort(E9d,M9d);});};B19.prototype.getSort=function(k9d){return this.isReportComplete?this.model_.getSort(k9d):J6E.V2d;};B19.prototype.setTopX=function(C9d,a9d,H9d){var A9d=this;this.isReportComplete?this.model_.setTopX(C9d,a9d,H9d):this.delayApiCall(function(){return A9d.setTopX(C9d,a9d,H9d);});};B19.prototype.setBottomX=function(O9d,u9d,x9d){var i9d=this;this.isReportComplete?this.model_.setBottomX(O9d,u9d,x9d):this.delayApiCall(function(){return i9d.setBottomX(O9d,u9d,x9d);});};B19.prototype.getOptions=function(){return this.isReportComplete?this.model_.getOptions():J6E.V2d;};B19.prototype.setOptions=function(l9d){var G9d=this;this.isReportComplete?this.model_.setOptions(l9d):this.delayApiCall(function(){return G9d.setOptions(l9d);});};B19.prototype.getMembers=function(U9d,T9d,j9d){var f9d=this;if(this.isReportComplete)return J6E.Y3d==typeof j9d&&(j9d=m19.model.JavaScriptHandlers.getFunctionByName(j9d)),this.model_.getMembers(U9d,T9d,j9d);this.delayApiCall(function(){return f9d.getMembers(U9d,T9d,j9d);});};B19.prototype.runQuery=function(c9d){var W9d=this;this.isReportComplete?J6E.V2d!=c9d&&this.model_.runQuery(c9d):this.delayApiCall(function(){return W9d.runQuery(c9d);});};B19.prototype.getAllHierarchies=function(){return this.isReportComplete?this.model_.getAllHierarchies():J6E.V2d;};B19.prototype.replaceHierarchyCaption=function(n9d){var y9d=this;this.isReportComplete?this.model_.replaceHierarchyCaption(n9d):this.delayApiCall(function(){return y9d.replaceHierarchyCaption(n9d);});};B19.prototype.getFormat=function(K9d){return this.isReportComplete?this.model_.getFormat(K9d):J6E.V2d;};B19.prototype.setFormat=function(m9d,r9d){var I9d=this;this.isReportComplete?J6E.V2d!=m9d&&this.model_.setFormat(m9d,r9d):this.delayApiCall(function(){return I9d.setFormat(m9d,r9d);});};B19.prototype.getCell=function(B9d,q9d){return this.isReportComplete?this.view_.getCell(B9d,q9d):J6E.V2d;};B19.prototype.getSelectedCell=function(){return this.isReportComplete?this.view_.getSelectedCell():J6E.V2d;};B19.prototype.setSelectedCell=function(v9d,h9d){var D9d=this;this.isReportComplete?this.view_.setSelectedCell(v9d,h9d):this.delayApiCall(function(){return D9d.setSelectedCell(v9d,h9d);});};B19.prototype.removeSelection=function(){var d9d=this;this.isReportComplete?this.view_.removeSelection():this.delayApiCall(function(){return d9d.removeSelection();});};B19.prototype.openFieldsList=function(){var o9d=this;this.isCreationComplete?this.view_.openFieldsList():this.delayApiCall(function(){return o9d.openFieldsList();});};B19.prototype.closeFieldsList=function(){var Q7d=this;this.isCreationComplete?this.view_.closeFieldsList():this.delayApiCall(function(){return Q7d.closeFieldsList();});};B19.prototype.customizeCell=function(s7d){m19._view.grid.vo.GridCell.customizeCellFunction=s7d;this.isCreationComplete&&this.refresh();};B19.BUILD_VERSION=J4E;B19.BUILD_DATE=k4E;return B19;}();m19.Pivot=I19;var r19=function(){var C4E="print";X7d.PRINT=C4E;X7d.PRINT_COMPLETE=s933.S4h;X7d.EXPORT=s933.J7B;function X7d(){}X7d.EXPORT_COMPLETE=s933.X4h;return X7d;}();m19.PivotEvent=r19;}(pivot||(pivot={})));this.PivotApi=PivotApi;return this["PivotApi"](p)};
/** @license FileSaver.js | Copyright (c) 2016 Eli Grey [https://github.com/eligrey/FileSaver.js] | MIT License [https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md] */
var savingAs=savingAs||"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(a){"use strict";if("undefined"===typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var k=a.document,n=k.createElementNS("http://www.w3.org/1999/xhtml","a"),w="download"in n,x=function(c){var e=k.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);c.dispatchEvent(e)},q=a.webkitRequestFileSystem,u=a.requestFileSystem||q||a.mozRequestFileSystem,
y=function(c){(a.setImmediate||a.setTimeout)(function(){throw c;},0)},r=0,s=function(c){var e=function(){"string"===typeof c?(a.URL||a.webkitURL||a).revokeObjectURL(c):c.remove()};a.chrome?e():setTimeout(e,500)},t=function(c,a,d){a=[].concat(a);for(var b=a.length;b--;){var l=c["on"+a[b]];if("function"===typeof l)try{l.call(c,d||c)}catch(f){y(f)}}},m=function(c,e){var d=this,b=c.type,l=!1,f,p,k=function(){t(d,["writestart","progress","write","writeend"])},g=function(){if(l||!f)f=(a.URL||a.webkitURL||
a).createObjectURL(c);p?p.location.href=f:void 0==a.open(f,"_blank")&&"undefined"!==typeof safari&&(a.location.href=f);d.readyState=d.DONE;k();s(f)},h=function(a){return function(){if(d.readyState!==d.DONE)return a.apply(this,arguments)}},m={create:!0,exclusive:!1},v;d.readyState=d.INIT;e||(e="download");if(w)f=(a.URL||a.webkitURL||a).createObjectURL(c),n.href=f,n.download=e,x(n),d.readyState=d.DONE,k(),s(f);else{a.chrome&&b&&"application/octet-stream"!==b&&(v=c.slice||c.webkitSlice,c=v.call(c,0,
c.size,"application/octet-stream"),l=!0);q&&"download"!==e&&(e+=".download");if("application/octet-stream"===b||q)p=a;u?(r+=c.size,u(a.TEMPORARY,r,h(function(a){a.root.getDirectory("saved",m,h(function(a){var b=function(){a.getFile(e,m,h(function(a){a.createWriter(h(function(b){b.onwriteend=function(b){p.location.href=a.toURL();d.readyState=d.DONE;t(d,"writeend",b);s(a)};b.onerror=function(){var a=b.error;a.code!==a.ABORT_ERR&&g()};["writestart","progress","write","abort"].forEach(function(a){b["on"+
a]=d["on"+a]});b.write(c);d.abort=function(){b.abort();d.readyState=d.DONE};d.readyState=d.WRITING}),g)}),g)};a.getFile(e,{create:!1},h(function(a){a.remove();b()}),h(function(a){a.code===a.NOT_FOUND_ERR?b():g()}))}),g)}),g)):g()}},b=m.prototype;b.abort=function(){this.readyState=this.DONE;t(this,"abort")};b.readyState=b.INIT=0;b.WRITING=1;b.DONE=2;b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null;return function(a,b){return new m(a,b)}}}("undefined"!==typeof self&&
self||"undefined"!==typeof window&&window||this.content);"undefined"!==typeof module&&null!==module?module.exports=savingAs:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define("savingAs",function(){return savingAs});
/** @license jsPDF v1.4.1 | Copyright (c) 2010-2016 James Hall <james@parall.ax> [https://github.com/MrRio/jsPDF] | MIT License [https://github.com/MrRio/jsPDF/blob/master/MIT-LICENSE.txt] */
var u4b={'T4':256,'f4':"helvetica",'K3':' 0 R','P4':"http://www.w3.org/1999/xhtml",'C3':"function",'r4':'endobj','e4':"italic",'N4':'object','X3':'>>','d4':'function','B4':'number','L4':"bold",'G4':0.264583,'L3':'putXobjectDict','U3':'undefined','A3':'postPutResources','M3':" ",'p3':"undefined",'E4':'putResources','K4':false,'u3':"times",'F3':'addPage','U4':255,'n4':"string",'q3':'Unicode','V3':'string','w4':"normal",'A4':'right','H4':"courier",'p4':null,'q4':true,'D4':' ','I3':"application/octet-stream"};var jsPDF=(function(r1){'use strict';var p2='1.3',s2={'a0':[2383.94,3370.39],'a1':[1683.78,2383.94],'a2':[1190.55,1683.78],'a3':[841.89,1190.55],'a4':[595.28,841.89],'a5':[419.53,595.28],'a6':[297.64,419.53],'a7':[209.76,297.64],'a8':[147.40,209.76],'a9':[104.88,147.40],'a10':[73.70,104.88],'b0':[2834.65,4008.19],'b1':[2004.09,2834.65],'b2':[1417.32,2004.09],'b3':[1000.63,1417.32],'b4':[708.66,1000.63],'b5':[498.90,708.66],'b6':[354.33,498.90],'b7':[249.45,354.33],'b8':[175.75,249.45],'b9':[124.72,175.75],'b10':[87.87,124.72],'c0':[2599.37,3676.54],'c1':[1836.85,2599.37],'c2':[1298.27,1836.85],'c3':[918.43,1298.27],'c4':[649.13,918.43],'c5':[459.21,649.13],'c6':[323.15,459.21],'c7':[229.61,323.15],'c8':[161.57,229.61],'c9':[113.39,161.57],'c10':[79.37,113.39],'dl':[311.81,623.62],'letter':[612,792],'government-letter':[576,756],'legal':[612,1008],'junior-legal':[576,360],'ledger':[1224,792],'tabloid':[792,1224],'credit-card':[153,243]};function k2(s){var t={};this.subscribe=function(g,j,m){if(typeof j!==u4b.d4){return u4b.K4;}if(!t.hasOwnProperty(g)){t[g]={};}var n=Math.random().toString(35);t[g][n]=[j,!!m];return n;};this.unsubscribe=function(g){for(var j in t){if(t[j][g]){delete  t[j][g];return u4b.q4;}}return u4b.K4;};this.publish=function(j){if(t.hasOwnProperty(j)){var m=Array.prototype.slice.call(arguments,1),n=[];for(var o in t[j]){var q=t[j][o];try{q[0].apply(s,m);}catch(g){if(r1.console){console.error('jsPDF PubSub Error',g.message,g);}}if(q[1])n.push(o);}if(n.length)n.forEach(this.unsubscribe);}};}function w1(U,Y,W,Q){var s0="' is not recognized. See or extend .CapJoinStyles property for valid styles",k0={};if(typeof U===u4b.N4){k0=U;U=k0.orientation;Y=k0.unit||Y;W=k0.format||W;Q=k0.compress||k0.compressPdf||Q;}Y=Y||'mm';W=W||'a4';U=(''+(U||'P')).toLowerCase();var m0=(''+W).toLowerCase(),j0=!!Q&&typeof Uint8Array===u4b.d4,e0=k0.textColor||'0 g',R=k0.drawColor||'0 G',S=k0.fontSize||16,y0=k0.lineHeight||1.15,f0=k0.lineWidth||0.200025,v0=2,z0=!1,C0=[],Z={},I0={},w0,l0,U0,O0=0,D0,N0=[],t1={},x1=[],W0=0,q1=0,Q0=0,f1,F0,E1,o1,u1,X0={'title':'','subject':'','author':'','keywords':'','creator':''},B0={},i1=new k2(B0),q0=function(g){return g.toFixed(2);},K0=function(g){return g.toFixed(3);},H0=function(g){return ('0'+parseInt(g)).slice(-2);},g0=function(g){if(z0){N0[D0].push(g);}else{Q0+=g.length+1;x1.push(g);}},v1=function(){v0++;C0[v0]=Q0;g0(v0+' 0 obj');return v0;},H1=function(g){g0('stream');g0(g);g0('endstream');},W1=function(){var g,j,m,n,o,q,s,t,v;s=r1.adler32cs||w1.adler32cs;if(j0&&typeof s===u4b.U3){j0=u4b.K4;}for(g=1;g<=O0;g++){v1();t=(f1=t1[g].width)*l0;v=(F0=t1[g].height)*l0;g0('<</Type /Page');g0('/Parent 1 0 R');g0('/Resources 2 0 R');g0('/MediaBox [0 0 '+q0(t)+u4b.D4+q0(v)+']');g0('/Contents '+(v0+1)+' 0 R>>');g0(u4b.r4);j=N0[g].join('\n');v1();if(j0){m=[];n=j.length;while(n--){m[n]=j.charCodeAt(n);}q=s.from(j);o=new Deflater(6);o.append(new Uint8Array(m));j=o.flush();m=new Uint8Array(j.length+6);m.set(new Uint8Array([120,156])),m.set(j,2);m.set(new Uint8Array([q&0xFF,(q>>8)&0xFF,(q>>16)&0xFF,(q>>24)&0xFF]),j.length+2);j=String.fromCharCode.apply(u4b.p4,m);g0('<</Length '+j.length+' /Filter [/FlateDecode]>>');}else{g0('<</Length '+j.length+'>>');}H1(j);g0(u4b.r4);}C0[1]=Q0;g0('1 0 obj');g0('<</Type /Pages');var H='/Kids [';for(n=0;n<O0;n++){H+=(3+2*n)+' 0 R ';}g0(H+']');g0('/Count '+O0);g0(u4b.X3);g0(u4b.r4);},X1=function(g){g.objectNumber=v1();g0('<</BaseFont/'+g.PostScriptName+'/Type/Font');if(typeof g.encoding===u4b.V3){g0('/Encoding/'+g.encoding);}g0('/Subtype/Type1>>');g0(u4b.r4);},h1=function(){for(var g in Z){if(Z.hasOwnProperty(g)){X1(Z[g]);}}},I1=function(){i1.publish(u4b.L3);},Y1=function(){g0('/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]');g0('/Font <<');for(var g in Z){if(Z.hasOwnProperty(g)){g0('/'+g+u4b.D4+Z[g].objectNumber+u4b.K3);}}g0(u4b.X3);g0('/XObject <<');I1();g0(u4b.X3);},l1=function(){h1();i1.publish(u4b.E4);C0[2]=Q0;g0('2 0 obj');g0('<<');Y1();g0(u4b.X3);g0(u4b.r4);i1.publish(u4b.A3);},y1=function(g,j,m){if(!I0.hasOwnProperty(j)){I0[j]={};}I0[j][m]=g;},z2=function(g,j,m,n){var o='F'+(Object.keys(Z).length+1).toString(10),q=Z[o]={'id':o,'PostScriptName':g,'fontName':j,'fontStyle':m,'encoding':n,'metadata':{}};y1(o,j,m);i1.publish('addFont',q);return o;},U2=function(){var g=u4b.f4,j=u4b.u3,m=u4b.H4,n=u4b.w4,o=u4b.L4,q=u4b.e4,s="bolditalic",t='StandardEncoding',v=[['Helvetica',g,n],['Helvetica-Bold',g,o],['Helvetica-Oblique',g,q],['Helvetica-BoldOblique',g,s],['Courier',m,n],['Courier-Bold',m,o],['Courier-Oblique',m,q],['Courier-BoldOblique',m,s],['Times-Roman',j,n],['Times-Bold',j,o],['Times-Italic',j,q],['Times-BoldItalic',j,s]];for(var H=0,z=v.length;H<z;H++){var I=z2(v[H][0],v[H][1],v[H][2],t),K=v[H][0].split('-');y1(I,K[0],K[1]||'');}i1.publish('addFonts',{fonts:Z,dictionary:I0});},w2=function j3(n){n.foo=function o(){try{return n.apply(this,arguments);}catch(g){var j=g.stack||'';if(~j.indexOf(' at '))j=j.split(" at ")[1];var m="Error in function "+j.split("\n")[0].split('<')[0]+": "+g.message;if(r1.console){r1.console.error(m,g);if(r1.alert)alert(m);}else{throw  new Error(m);}}};n.foo.bar=n;return n.foo;},Z1=function(g,j){var m,n,o,q,s,t,v,H,z;j=j||{};o=j.sourceEncoding||u4b.q3;s=j.outputEncoding;if((j.autoencode||s)&&Z[w0].metadata&&Z[w0].metadata[o]&&Z[w0].metadata[o].encoding){q=Z[w0].metadata[o].encoding;if(!s&&Z[w0].encoding){s=Z[w0].encoding;}if(!s&&q.codePages){s=q.codePages[0];}if(typeof s===u4b.V3){s=q[s];}if(s){v=u4b.K4;t=[];for(m=0,n=g.length;m<n;m++){H=s[g.charCodeAt(m)];if(H){t.push(String.fromCharCode(H));}else{t.push(g[m]);}if(t[m].charCodeAt(0)>>8){v=u4b.q4;}}g=t.join('');}}m=g.length;while(v===undefined&&m!==0){if(g.charCodeAt(m-1)>>8){v=u4b.q4;}m--;}if(!v){return g;}t=j.noBOM?[]:[254,u4b.U4];for(m=0,n=g.length;m<n;m++){H=g.charCodeAt(m);z=H>>8;if(z>>8){throw  new Error("Character at position "+m+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");}t.push(z);t.push(H-(z<<8));}return String.fromCharCode.apply(undefined,t);},f2=function(g,j){return Z1(g,j).replace(/\\/g,'\\\\').replace(/\(/g,'\\(').replace(/\)/g,'\\)');},B2=function(){g0('/Producer (jsPDF '+w1.version+')');for(var g in X0){if(X0.hasOwnProperty(g)&&X0[g]){g0('/'+g.substr(0,1).toUpperCase()+g.substr(1)+' ('+f2(X0[g])+')');}}var j=new Date(),m=j.getTimezoneOffset(),n=m<0?'+':'-',o=Math.floor(Math.abs(m/60)),q=Math.abs(m%60),s=[n,H0(o),"'",H0(q),"'"].join('');g0(['/CreationDate (D:',j.getFullYear(),H0(j.getMonth()+1),H0(j.getDate()),H0(j.getHours()),H0(j.getMinutes()),H0(j.getSeconds()),s,')'].join(''));},X2=function(){g0('/Type /Catalog');g0('/Pages 1 0 R');if(!o1)o1='fullwidth';switch(o1){case 'fullwidth':g0('/OpenAction [3 0 R /FitH null]');break;case 'fullheight':g0('/OpenAction [3 0 R /FitV null]');break;case 'fullpage':g0('/OpenAction [3 0 R /Fit]');break;case 'original':g0('/OpenAction [3 0 R /XYZ null null 1]');break;default:var g=''+o1;if(g.substr(g.length-1)==='%')o1=parseInt(o1)/100;if(typeof o1===u4b.B4){g0('/OpenAction [3 0 R /XYZ null null '+q0(o1)+']');}}if(!u1)u1='continuous';switch(u1){case 'continuous':g0('/PageLayout /OneColumn');break;case 'single':g0('/PageLayout /SinglePage');break;case 'two':case 'twoleft':g0('/PageLayout /TwoColumnLeft');break;case 'tworight':g0('/PageLayout /TwoColumnRight');break;}if(E1){g0('/PageMode /'+E1);}i1.publish('putCatalog');},A2=function(){g0('/Size '+(v0+1));g0('/Root '+v0+u4b.K3);g0('/Info '+(v0-1)+u4b.K3);},V2=function(g,j){var m=typeof j===u4b.V3&&j.toLowerCase();if(typeof g===u4b.V3){var n=g.toLowerCase();if(s2.hasOwnProperty(n)){g=s2[n][0]/l0;j=s2[n][1]/l0;}}if(Array.isArray(g)){j=g[1];g=g[0];}if(m){switch(m.substr(0,1)){case 'l':if(j>g)m='s';break;case 'p':if(g>j)m='s';break;}if(m==='s'){U0=g;g=j;j=U0;}}z0=u4b.q4;N0[++O0]=[];t1[O0]={width:Number(g)||f1,height:Number(j)||F0};g2(O0);},M1=function(){V2.apply(this,arguments);g0(q0(f0*l0)+' w');g0(R);if(W0!==0){g0(W0+' J');}if(q1!==0){g0(q1+' j');}i1.publish(u4b.F3,{pageNumber:O0});},g2=function(g){if(g>0&&g<=O0){D0=g;f1=t1[g].width;F0=t1[g].height;}},r2=function(j,m){var n;j=j!==undefined?j:Z[w0].fontName;m=m!==undefined?m:Z[w0].fontStyle;try{n=I0[j][m];}catch(g){}if(!n){throw  new Error("Unable to look up font label for font '"+j+"', '"+m+"'. Refer to getFontList() for available fonts.");}return n;},h2=function(){z0=u4b.K4;v0=2;x1=[];C0=[];g0('%PDF-'+p2);W1();l1();v1();g0('<<');B2();g0(u4b.X3);g0(u4b.r4);v1();g0('<<');X2();g0(u4b.X3);g0(u4b.r4);var g=Q0,j,m="0000000000";g0('xref');g0('0 '+(v0+1));g0(m+' 65535 f ');for(j=1;j<=v0;j++){g0((m+C0[j]).slice(-10)+' 00000 n ');}g0('trailer');g0('<<');A2();g0(u4b.X3);g0('startxref');g0(g);g0('%%EOF');z0=u4b.q4;return x1.join('\n');},d2=function(g){var j='S';if(g==='F'){j='f';}else if(g==='FD'||g==='DF'){j='B';}else if(g==='f'||g==='f*'||g==='B'||g==='B*'){j=g;}return j;},D2=function(){var g=h2(),j=g.length,m=new ArrayBuffer(j),n=new Uint8Array(m);while(j--)n[j]=g.charCodeAt(j);return m;},o2=function(){return new Blob([D2()],{type:"application/pdf"});},Y2=w2(function(g,j){var m='dataurlnewwindow',n=(''+g).substr(0,6)==='dataur'?'data:application/pdf;base64,'+btoa(h2()):0;switch(g){case undefined:return h2();case 'save':if(navigator.getUserMedia){if(r1.URL===undefined||r1.URL.createObjectURL===undefined){return B0.output(m);}}saveAs(o2(),j);if(typeof saveAs.unload===u4b.d4){if(r1.setTimeout){setTimeout(saveAs.unload,911);}}break;case 'arraybuffer':return D2();case 'blob':return o2();case 'bloburi':case 'bloburl':return r1.URL&&r1.URL.createObjectURL(o2())||void 0;case 'datauristring':case 'dataurlstring':return n;case m:var o=r1.open(n);if(o||typeof safari===u4b.p3)return o;case 'datauri':case 'dataurl':return r1.document.location.href=n;default:throw  new Error('Output type "'+g+'" is not supported.');}});switch(Y){case 'pt':l0=1;break;case 'mm':l0=72/25.4;break;case 'cm':l0=72/2.54;break;case 'in':l0=72;break;case 'px':l0=96/72;break;case 'pc':l0=12;break;case 'em':l0=12;break;case 'ex':l0=6;break;default:throw ('Invalid unit: '+Y);}B0.internal={'pdfEscape':f2,'getStyle':d2,'getFont':function(){return Z[r2.apply(B0,arguments)];},'getFontSize':function(){return S;},'getLineHeight':function(){return S*y0;},'write':function(g){g0(arguments.length===1?g:Array.prototype.join.call(arguments,' '));},'getCoordinateString':function(g){return q0(g*l0);},'getVerticalCoordinateString':function(g){return q0((F0-g)*l0);},'collections':{},'newObject':v1,'putStream':H1,'events':i1,'scaleFactor':l0,'pageSize':{get width(){return f1;},get height(){return F0;}},'output':function(g,j){return Y2(g,j);},'getNumberOfPages':function(){return N0.length-1;},'pages':N0};B0.addPage=function(){M1.apply(this,arguments);return this;};B0.setPage=function(){g2.apply(this,arguments);return this;};B0.setDisplayMode=function(g,j,m){o1=g;u1=j;E1=m;return this;},B0.text=function(j,m,n,o,q,s){function t(g){g=g.split("\t").join(Array(k0.TabLen||9).join(" "));return f2(g,o);}if(typeof j==='number'){U0=n;n=m;m=j;j=U0;}if(typeof j==='string'&&j.match(/[\n\r]/)){j=j.split(/\r\n|\r|\n/g);}if(typeof o==='number'){q=o;o=null;}var v='',H='Td',z;if(q){q*=(Math.PI/180);var I=Math.cos(q),K=Math.sin(q);v=[q0(I),q0(K),q0(K*-1),q0(I),''].join(" ");H='Tm';}o=o||{};if(!('noBOM' in o))o.noBOM=true;if(!('autoencode' in o))o.autoencode=true;if(typeof j==='string'){if(s==="center"){var M=this.getStringUnitWidth(j)*S/l0;m-=M/2;}else if(s==="right"){var M=this.getStringUnitWidth(j)*S/l0;m-=M;}j=t(j);}else if(j instanceof Array){var N=j.concat(),P=[],O=N.length;while(O--){P.push(t(N.shift()));}var X=Math.ceil((F0-n)*l0/(S*y0));if(0<=X&&X<P.length+1){z=P.splice(X-1);}j=P.join(") Tj\nT* (");}else{throw  new Error('Type of text must be string or Array. "'+j+'" is not recognized.');}g0('BT\n/'+w0+' '+S+' Tf\n'+(S*y0)+' TL\n'+e0+'\n'+v+q0(m*l0)+' '+q0((F0-n)*l0)+' '+H+'\n('+j+') Tj\nET');if(z){this.addPage();this.text(z,m,S*1.7/l0);}return this;};B0.lstext=function(g,j,m,n){for(var o=0,q=g.length;o<q;o++,j+=n)this.text(g[o],j,m);};B0.line=function(g,j,m,n){return this.lines([[m-g,n-j]],g,j);};B0.clip=function(){g0('W');g0('S');};B0.lines=function(g,j,m,n,o,q){var s,t,v,H,z,I,K,M,N,P,O;if(typeof g==='number'){U0=m;m=j;j=g;g=U0;}n=n||[1,1];g0(K0(j*l0)+' '+K0((F0-m)*l0)+' m ');s=n[0];t=n[1];H=g.length;P=j;O=m;for(v=0;v<H;v++){z=g[v];if(z.length===2){P=z[0]*s+P;O=z[1]*t+O;g0(K0(P*l0)+' '+K0((F0-O)*l0)+' l');}else{I=z[0]*s+P;K=z[1]*t+O;M=z[2]*s+P;N=z[3]*t+O;P=z[4]*s+P;O=z[5]*t+O;g0(K0(I*l0)+' '+K0((F0-K)*l0)+' '+K0(M*l0)+' '+K0((F0-N)*l0)+' '+K0(P*l0)+' '+K0((F0-O)*l0)+' c');}}if(q){g0(' h');}if(o!==null){g0(d2(o));}return this;};B0.rect=function(g,j,m,n,o){var q=d2(o);g0([q0(g*l0),q0((F0-j)*l0),q0(m*l0),q0(-n*l0),'re'].join(' '));if(o!==null){g0(d2(o));}return this;};B0.triangle=function(g,j,m,n,o,q,s){this.lines([[m-g,n-j],[o-m,q-n],[g-o,j-q]],g,j,[1,1],s,u4b.q4);return this;};B0.roundedRect=function(g,j,m,n,o,q,s){var t=4/3*(Math.SQRT2-1);this.lines([[(m-2*o),0],[(o*t),0,o,q-(q*t),o,q],[0,(n-2*q)],[0,(q*t),-(o*t),q,-o,q],[(-m+2*o),0],[-(o*t),0,-o,-(q*t),-o,-q],[0,(-n+2*q)],[0,-(q*t),(o*t),-q,o,-q]],g+o,j,[1,1],s);return this;};B0.ellipse=function(g,j,m,n,o){var q=4/3*(Math.SQRT2-1)*m,s=4/3*(Math.SQRT2-1)*n;g0([q0((g+m)*l0),q0((F0-j)*l0),'m',q0((g+m)*l0),q0((F0-(j-s))*l0),q0((g+q)*l0),q0((F0-(j-n))*l0),q0(g*l0),q0((F0-(j-n))*l0),'c'].join(u4b.D4));g0([q0((g-q)*l0),q0((F0-(j-n))*l0),q0((g-m)*l0),q0((F0-(j-s))*l0),q0((g-m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));g0([q0((g-m)*l0),q0((F0-(j+s))*l0),q0((g-q)*l0),q0((F0-(j+n))*l0),q0(g*l0),q0((F0-(j+n))*l0),'c'].join(u4b.D4));g0([q0((g+q)*l0),q0((F0-(j+n))*l0),q0((g+m)*l0),q0((F0-(j+s))*l0),q0((g+m)*l0),q0((F0-j)*l0),'c'].join(u4b.D4));if(o!==u4b.p4){g0(d2(o));}return this;};B0.circle=function(g,j,m,n){return this.ellipse(g,j,m,m,n);};B0.setProperties=function(g){for(var j in X0){if(X0.hasOwnProperty(j)&&g[j]){X0[j]=g[j];}}return this;};B0.setFontSize=function(g){S=g;return this;};B0.setFont=function(g,j){w0=r2(g,j);return this;};B0.setFontStyle=B0.setFontType=function(g){w0=r2(undefined,g);return this;};B0.getFontList=function(){var g={},j,m,n;for(j in I0){if(I0.hasOwnProperty(j)){g[j]=n=[];for(m in I0[j]){if(I0[j].hasOwnProperty(m)){n.push(m);}}}}return g;};B0.setLineWidth=function(g){g0((g*l0).toFixed(2)+' w');return this;};B0.setDrawColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' G';}else{o=q0(g/u4b.U4)+' G';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'RG'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'RG'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'K'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'K'].join(u4b.D4);}}g0(o);return this;};B0.setFillColor=function(g,j,m,n){var o;if(j===undefined||(n===undefined&&g===j===m)){if(typeof g===u4b.V3){o=g+' g';}else{o=q0(g/u4b.U4)+' g';}}else if(n===undefined){if(typeof g===u4b.V3){o=[g,j,m,'rg'].join(u4b.D4);}else{o=[q0(g/u4b.U4),q0(j/u4b.U4),q0(m/u4b.U4),'rg'].join(u4b.D4);}}else{if(typeof g===u4b.V3){o=[g,j,m,n,'k'].join(u4b.D4);}else{o=[q0(g),q0(j),q0(m),q0(n),'k'].join(u4b.D4);}}g0(o);return this;};B0.setTextColor=function(g,j,m){if((typeof g===u4b.V3)&&/^#[0-9A-Fa-f]{6}$/.test(g)){var n=parseInt(g.substr(1),16);g=(n>>16)&u4b.U4;j=(n>>8)&u4b.U4;m=(n&u4b.U4);}if((g===0&&j===0&&m===0)||(typeof j===u4b.U3)){e0=K0(g/u4b.U4)+' g';}else{e0=[K0(g/u4b.U4),K0(j/u4b.U4),K0(m/u4b.U4),'rg'].join(u4b.D4);}return this;};B0.CapJoinStyles={0:0,'butt':0,'but':0,'miter':0,1:1,'round':1,'rounded':1,'circle':1,2:2,'projecting':2,'project':2,'square':2,'bevel':2};B0.setLineCap=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line cap style of '"+g+s0);}W0=j;g0(j+' J');return this;};B0.setLineJoin=function(g){var j=this.CapJoinStyles[g];if(j===undefined){throw  new Error("Line join style of '"+g+s0);}q1=j;g0(j+' j');return this;};B0.output=Y2;B0.save=function(g){B0.output('save',g);};for(var U1 in w1.API){if(w1.API.hasOwnProperty(U1)){if(U1==='events'&&w1.API.events.length){(function(g,j){var m,n,o;for(o=j.length-1;o!==-1;o--){m=j[o][0];n=j[o][1];g.subscribe.apply(g,[m].concat(typeof n==='function'?[n]:n));}}(i1,w1.API.events));}else{B0[U1]=w1.API[U1];}}}U2();w0='F1';M1(W,U);i1.publish('initialized');return B0;}w1.API={events:[]};w1.version="1.0.272-debug 2014-09-29T15:09:diegocr";if(typeof define===u4b.d4&&define.amd){define('jsPDF',function(){return w1;});}else{r1.jsPDF=w1;}return w1;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this));(function(k0){'use strict';k0.addHTML=function(M,N,P,O,X){'use strict';if(typeof html2canvas==='undefined'&&typeof rasterizeHTML==='undefined')throw  new Error('You need either '+'https://github.com/niklasvh/html2canvas'+' or https://github.com/cburgmer/rasterizeHTML.js');if(typeof N!=='number'){O=N;X=P;}if(typeof O==='function'){X=O;O=null;}var U=this.internal,Y=U.scaleFactor,W=U.pageSize.width,Q=U.pageSize.height;O=O||{};O.onrendered=function(o){N=parseInt(N)||0;P=parseInt(P)||0;var q=O.dim||{},s=q.h||0,t=q.w||Math.min(W,o.width/Y)-N,v='JPEG';if(O.format)v=O.format;if(o.height>Q&&O.pagesplit){var H=function(){var g=0;while(1){var j=document.createElement('canvas');j.width=Math.min(W*Y,o.width);j.height=Math.min(Q*Y,o.height-g);var m=j.getContext('2d');m.drawImage(o,0,g,o.width,j.height,0,0,j.width,j.height);var n=[j,N,g?0:P,j.width/Y,j.height/Y,v,null,'SLOW'];this.addImage.apply(this,n);g+=j.height;if(g>=o.height)break;this.addPage();}X(t,g,null,n);}.bind(this);if(o.nodeName==='CANVAS'){var z=new Image();z.onload=H;z.src=o.toDataURL("image/png");o=z;}else{H();}}else{var I=Math.random().toString(35),K=[o,N,P,t,s,v,I,'SLOW'];this.addImage.apply(this,K);X(t,s,I,K);}}.bind(this);if(typeof html2canvas!=='undefined'&&!O.rstz){return html2canvas(M,O);}if(typeof rasterizeHTML!=='undefined'){var s0='drawDocument';if(typeof M==='string'){s0=/^http/.test(M)?'drawURL':'drawHTML';}O.width=O.width||(W*Y);return rasterizeHTML[s0](M,void 0,O).then(function(g){O.onrendered(g.image);},function(g){X(null,g);});}return null;};})(jsPDF.API);;(function(P){'use strict';var O='addImage_',X=['jpeg','jpg','png'],U=function(g){var j=this.internal.newObject(),m=this.internal.write,n=this.internal.putStream;g['n']=j;m('<</Type /XObject');m('/Subtype /Image');m('/Width '+g['w']);m('/Height '+g['h']);if(g['cs']===this.color_spaces.INDEXED){m('/ColorSpace [/Indexed /DeviceRGB '+(g['pal'].length/3-1)+' '+('smask' in g?j+2:j+1)+' 0 R]');}else{m('/ColorSpace /'+g['cs']);if(g['cs']===this.color_spaces.DEVICE_CMYK){m('/Decode [1 0 1 0 1 0 1 0]');}}m('/BitsPerComponent '+g['bpc']);if('f' in g){m('/Filter /'+g['f']);}if('dp' in g){m('/DecodeParms <<'+g['dp']+'>>');}if('trns' in g&&g['trns'].constructor==Array){var o='',q=0,s=g['trns'].length;for(;q<s;q++)o+=(g['trns'][q]+' '+g['trns'][q]+' ');m('/Mask ['+o+']');}if('smask' in g){m('/SMask '+(j+1)+' 0 R');}m('/Length '+g['data'].length+'>>');n(g['data']);m('endobj');if('smask' in g){var t='/Predictor 15 /Colors 1 /BitsPerComponent '+g['bpc']+' /Columns '+g['w'];var v={'w':g['w'],'h':g['h'],'cs':'DeviceGray','bpc':g['bpc'],'dp':t,'data':g['smask']};if('f' in g)v.f=g['f'];U.call(this,v);}if(g['cs']===this.color_spaces.INDEXED){this.internal.newObject();m('<< /Length '+g['pal'].length+'>>');n(this.arrayBufferToBinaryString(new Uint8Array(g['pal'])));m('endobj');}},Y=function(){var g=this.internal.collections[O+'images'];for(var j in g){U.call(this,g[j]);}},W=function(){var g=this.internal.collections[O+'images'],j=this.internal.write,m;for(var n in g){m=g[n];j('/I'+m['i'],m['n'],'0','R');}},Q=function(g){if(g&&typeof g==='string')g=g.toUpperCase();return g in P.image_compression?g:P.image_compression.NONE;},s0=function(){var g=this.internal.collections[O+'images'];if(!g){this.internal.collections[O+'images']=g={};this.internal.events.subscribe('putResources',Y);this.internal.events.subscribe('putXobjectDict',W);}return g;},k0=function(n){var o=0;if(n){o=Object.keys?Object.keys(n).length:(function(g){var j=0;for(var m in g){if(g.hasOwnProperty(m)){j++;}}return j;})(n);}return o;},m0=function(g){return typeof g==='undefined'||g===null;},j0=function(g){return typeof g==='string'&&P.sHashCode(g);},e0=function(g){return X.indexOf(g)===-1;},R=function(g){return typeof P['process'+g.toUpperCase()]!=='function';},S=function(g){return typeof g==='object'&&g.nodeType===1;},y0=function(g,j,m){if(g.nodeName==='IMG'&&g.hasAttribute('src')){var n=''+g.getAttribute('src');if(!m&&n.indexOf('data:image/')===0)return n;if(!j&&/\.png(?:[?#].*)?$/i.test(n))j='png';}if(g.nodeName==='CANVAS'){var o=g;}else{var o=document.createElement('canvas');o.width=g.clientWidth||g.width;o.height=g.clientHeight||g.height;var q=o.getContext('2d');if(!q){throw ('addImage requires canvas to be supported by browser.');}if(m){var s,t,v,H,z,I,K,M=Math.PI/180,N;if(typeof m==='object'){s=m.x;t=m.y;v=m.bg;m=m.angle;}N=m*M;H=Math.abs(Math.cos(N));z=Math.abs(Math.sin(N));I=o.width;K=o.height;o.width=K*z+I*H;o.height=K*H+I*z;if(isNaN(s))s=o.width/2;if(isNaN(t))t=o.height/2;q.clearRect(0,0,o.width,o.height);q.fillStyle=v||'white';q.fillRect(0,0,o.width,o.height);q.save();q.translate(s,t);q.rotate(N);q.drawImage(g,-(I/2),-(K/2));q.rotate(-N);q.translate(-s,-t);q.restore();}else{q.drawImage(g,0,0,o.width,o.height);}}return o.toDataURL((''+j).toLowerCase()=='png'?'image/png':'image/jpeg');},f0=function(g,j){var m;if(j){for(var n in j){if(g===j[n].alias){m=j[n];break;}}}return m;},v0=function(g,j,m){if(!g&&!j){g=-96;j=-96;}if(g<0){g=(-1)*m['w']*72/g/this.internal.scaleFactor;}if(j<0){j=(-1)*m['h']*72/j/this.internal.scaleFactor;}if(g===0){g=j*m['w']/m['h'];}if(j===0){j=g*m['h']/m['w'];}return [g,j];},z0=function(g,j,m,n,o,q,s){var t=v0.call(this,m,n,o),v=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString;m=t[0];n=t[1];s[q]=o;this.internal.write('q',v(m),'0 0',v(n),v(g),H(j+n),'cm /I'+o['i'],'Do Q');};P.color_spaces={DEVICE_RGB:'DeviceRGB',DEVICE_GRAY:'DeviceGray',DEVICE_CMYK:'DeviceCMYK',CAL_GREY:'CalGray',CAL_RGB:'CalRGB',LAB:'Lab',ICC_BASED:'ICCBased',INDEXED:'Indexed',PATTERN:'Pattern',SEPERATION:'Seperation',DEVICE_N:'DeviceN'};P.decode={DCT_DECODE:'DCTDecode',FLATE_DECODE:'FlateDecode',LZW_DECODE:'LZWDecode',JPX_DECODE:'JPXDecode',JBIG2_DECODE:'JBIG2Decode',ASCII85_DECODE:'ASCII85Decode',ASCII_HEX_DECODE:'ASCIIHexDecode',RUN_LENGTH_DECODE:'RunLengthDecode',CCITT_FAX_DECODE:'CCITTFaxDecode'};P.image_compression={NONE:'NONE',FAST:'FAST',MEDIUM:'MEDIUM',SLOW:'SLOW'};P.sHashCode=function(m){return Array.prototype.reduce&&m.split("").reduce(function(g,j){g=((g<<5)-g)+j.charCodeAt(0);return g&g;},0);};P.isString=function(g){return typeof g==='string';};P.extractInfoFromBase64DataURI=function(g){return /^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(g);};P.supportsArrayBuffer=function(){return typeof ArrayBuffer!=='undefined'&&typeof Uint8Array!=='undefined';};P.isArrayBuffer=function(g){if(!this.supportsArrayBuffer())return false;return g instanceof ArrayBuffer;};P.isArrayBufferView=function(g){if(!this.supportsArrayBuffer())return false;if(typeof Uint32Array==='undefined')return false;return (g instanceof Int8Array||g instanceof Uint8Array||(typeof Uint8ClampedArray!=='undefined'&&g instanceof Uint8ClampedArray)||g instanceof Int16Array||g instanceof Uint16Array||g instanceof Int32Array||g instanceof Uint32Array||g instanceof Float32Array||g instanceof Float64Array);};P.binaryStringToUint8Array=function(g){var j=g.length,m=new Uint8Array(j);for(var n=0;n<j;n++){m[n]=g.charCodeAt(n);}return m;};P.arrayBufferToBinaryString=function(g){if(this.isArrayBuffer(g))g=new Uint8Array(g);var j='',m=g.byteLength;for(var n=0;n<m;n++){j+=String.fromCharCode(g[n]);}return j;};P.arrayBufferToBase64=function(g){var j='',m='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',n=new Uint8Array(g),o=n.byteLength,q=o%3,s=o-q,t,v,H,z,I;for(var K=0;K<s;K=K+3){I=(n[K]<<16)|(n[K+1]<<8)|n[K+2];t=(I&16515072)>>18;v=(I&258048)>>12;H=(I&4032)>>6;z=I&63;j+=m[t]+m[v]+m[H]+m[z];}if(q==1){I=n[s];t=(I&252)>>2;v=(I&3)<<4;j+=m[t]+m[v]+'==';}else if(q==2){I=(n[s]<<8)|n[s+1];t=(I&64512)>>10;v=(I&1008)>>4;H=(I&15)<<2;j+=m[t]+m[v]+m[H]+'=';}return j;};P.createImageInfo=function(g,j,m,n,o,q,s,t,v,H,z,I){var K={alias:t,w:j,h:m,cs:n,bpc:o,i:s,data:g};if(q)K.f=q;if(v)K.dp=v;if(H)K.trns=H;if(z)K.pal=z;if(I)K.smask=I;return K;};P.addImage=function(g,j,m,n,o,q,s,t,v){'use strict';if(typeof j!=='string'){var H=q;q=o;o=n;n=m;m=j;j=H;}if(typeof g==='object'&&!S(g)&&"imageData" in g){var z=g;g=z.imageData;j=z.format||j;m=z.x||m||0;n=z.y||n||0;o=z.w||o;q=z.h||q;s=z.alias||s;t=z.compression||t;v=z.rotation||z.angle||v;}if(isNaN(m)||isNaN(n)){console.error('jsPDF.addImage: Invalid coordinates',arguments);throw  new Error('Invalid coordinates passed to jsPDF.addImage');}var I=s0.call(this),K;if(!(K=f0(g,I))){var M;if(S(g))g=y0(g,j,v);if(m0(s))s=j0(g);if(!(K=f0(s,I))){if(this.isString(g)){var N=this.extractInfoFromBase64DataURI(g);if(N){j=N[2];g=atob(N[3]);}else{if(g.charCodeAt(0)===0x89&&g.charCodeAt(1)===0x50&&g.charCodeAt(2)===0x4e&&g.charCodeAt(3)===0x47)j='png';}}j=(j||'JPEG').toLowerCase();if(e0(j))throw  new Error('addImage currently only supports formats '+X+', not \''+j+'\'');if(R(j))throw  new Error('please ensure that the plugin for \''+j+'\' support is added');if(this.supportsArrayBuffer()){M=g;g=this.binaryStringToUint8Array(g);}K=this['process'+j.toUpperCase()](g,k0(I),s,Q(t),M);if(!K)throw  new Error('An unkwown error occurred whilst processing the image');}}z0.call(this,m,n,o,q,K,K.i,I);return this;};var C0=function(g){'use strict';var j,m,n;if(!g.charCodeAt(0)===0xff||!g.charCodeAt(1)===0xd8||!g.charCodeAt(2)===0xff||!g.charCodeAt(3)===0xe0||!g.charCodeAt(6)==='J'.charCodeAt(0)||!g.charCodeAt(7)==='F'.charCodeAt(0)||!g.charCodeAt(8)==='I'.charCodeAt(0)||!g.charCodeAt(9)==='F'.charCodeAt(0)||!g.charCodeAt(10)===0x00){throw  new Error('getJpegSize requires a binary string jpeg file');}var o=g.charCodeAt(4)*256+g.charCodeAt(5),q=4,s=g.length;while(q<s){q+=o;if(g.charCodeAt(q)!==0xff){throw  new Error('getJpegSize could not find the size of the image');}if(g.charCodeAt(q+1)===0xc0||g.charCodeAt(q+1)===0xc1||g.charCodeAt(q+1)===0xc2||g.charCodeAt(q+1)===0xc3||g.charCodeAt(q+1)===0xc4||g.charCodeAt(q+1)===0xc5||g.charCodeAt(q+1)===0xc6||g.charCodeAt(q+1)===0xc7){m=g.charCodeAt(q+5)*256+g.charCodeAt(q+6);j=g.charCodeAt(q+7)*256+g.charCodeAt(q+8);n=g.charCodeAt(q+9);return [j,m,n];}else{q+=2;o=g.charCodeAt(q)*256+g.charCodeAt(q+1);}}},Z=function(g){var j=(g[0]<<8)|g[1];if(j!==0xFFD8)throw  new Error('Supplied data is not a JPEG');var m=g.length,n=(g[4]<<8)+g[5],o=4,q,s,t,v;while(o<m){o+=n;q=I0(g,o);n=(q[2]<<8)+q[3];if((q[1]===0xC0||q[1]===0xC2)&&q[0]===0xFF&&n>7){q=I0(g,o+5);s=(q[2]<<8)+q[3];t=(q[0]<<8)+q[1];v=q[4];return {width:s,height:t,numcomponents:v};}o+=2;}throw  new Error('getJpegSizeFromBytes could not find the size of the image');},I0=function(g,j){return g.subarray(j,j+5);};P.processJPEG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,t=8,v;if(this.isString(g)){v=C0(g);return this.createImageInfo(g,v[0],v[1],v[3]==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){v=Z(g);g=o||this.arrayBufferToBinaryString(g);return this.createImageInfo(g,v.width,v.height,v.numcomponents==1?this.color_spaces.DEVICE_GRAY:q,t,s,j,m);}return null;};P.processJPG=function(){return this.processJPEG.apply(this,arguments);};})(jsPDF.API);(function(j){'use strict';j.autoPrint=function(){'use strict';var g;this.internal.events.subscribe(u4b.A3,function(){g=this.internal.newObject();this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj");});this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+g+" 0"+" R");});return this;};})(jsPDF.API);(function(S){'use strict';var y0,f0,v0,z0=3,C0=13,Z,I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1,l0=function(g,j,m,n,o){I0={'x':g,'y':j,'w':m,'h':n,'ln':o};},U0=function(){return I0;},O0={left:0,top:0,bottom:0};S.setHeaderFunction=function(g){Z=g;};S.getTextDimensions=function(g){y0=this.internal.getFont().fontName;f0=this.table_font_size||this.internal.getFontSize();v0=this.internal.getFont().fontStyle;var j=u4b.G4*72/25.4,m,n;n=document.createElement('font');n.id="jsPDFCell";n.style.fontStyle=v0;n.style.fontName=y0;n.style.fontSize=f0+'pt';n.textContent=g;document.body.appendChild(n);m={w:(n.offsetWidth+1)*j,h:(n.offsetHeight+1)*j};document.body.removeChild(n);return m;};S.cellAddPage=function(){var g=this.margins||O0;this.addPage();l0(g.left,g.top,undefined,undefined);w0+=1;};S.cellInitialize=function(){I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined};w0=1;};S.cell=function(g,j,m,n,o,q,s){var t=U0();if(t.ln!==undefined){if(t.ln===q){g=t.x+t.w;j=t.y;}else{var v=this.margins||O0;if((t.y+t.h+n+C0)>=this.internal.pageSize.height-v.bottom){this.cellAddPage();if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(q,true);}}j=(U0().y+U0().h);}}if(o[0]!==undefined){if(this.printingHeaderRow){this.rect(g,j,m,n,'FD');}else{this.rect(g,j,m,n);}if(s==='right'){if(o instanceof Array){for(var H=0;H<o.length;H++){var z=o[H],I=this.getStringUnitWidth(z)*this.internal.getFontSize();this.text(z,g+m-I-z0,j+this.internal.getLineHeight()*(H+1));}}}else{this.text(o,g+z0,j+this.internal.getLineHeight());}}l0(g,j,m,n,q);return this;};S.arrayMax=function(g,j){var m=g[0],n,o,q;for(n=0,o=g.length;n<o;n+=1){q=g[n];if(j){if(j(m,q)===-1){m=q;}}else{if(q>m){m=q;}}}return m;};S.table=function(j,m,n,o,q){if(!n){throw 'No data for PDF table';}var s=[],t=[],v,H,z,I,K={},M={},N,P,O=[],X,U=[],Y,W,Q,s0=false,k0=true,m0=12,j0=O0;j0.width=this.internal.pageSize.width;if(q){if(q.autoSize===true){s0=true;}if(q.printHeaders===false){k0=false;}if(q.fontSize){m0=q.fontSize;}if(q.margins){j0=q.margins;}}this.lnMod=0;I0={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},w0=1;this.printHeaders=k0;this.margins=j0;this.setFontSize(m0);this.table_font_size=m0;if(o===undefined||(o===null)){s=Object.keys(n[0]);}else if(o[0]&&(typeof o[0]!=='string')){var e0=0.264583*72/25.4;for(H=0,z=o.length;H<z;H+=1){v=o[H];s.push(v.name);t.push(v.prompt);M[v.name]=v.width*e0;}}else{s=o;}if(s0){Q=function(g){return g[v];};for(H=0,z=s.length;H<z;H+=1){v=s[H];K[v]=n.map(Q);O.push(this.getTextDimensions(t[H]||v).w);P=K[v];for(X=0,I=P.length;X<I;X+=1){N=P[X];O.push(this.getTextDimensions(N).w);}M[v]=S.arrayMax(O);}}if(k0){var R=this.calculateLineHeight(s,M,t.length?t:s);for(H=0,z=s.length;H<z;H+=1){v=s[H];U.push([j,m,M[v],R,String(t.length?t[H]:v)]);}this.setTableHeaderRow(U);this.printHeaderRow(1,false);}for(H=0,z=n.length;H<z;H+=1){var R;Y=n[H];R=this.calculateLineHeight(s,M,Y);for(X=0,W=s.length;X<W;X+=1){v=s[X];this.cell(j,m,M[v],R,Y[v],H+2,v.align);}}this.lastCellPos=I0;this.table_x=j;this.table_y=m;return this;};S.calculateLineHeight=function(g,j,m){var n,o=0;for(var q=0;q<g.length;q++){n=g[q];m[n]=this.splitTextToSize(String(m[n]),j[n]-z0);var s=this.internal.getLineHeight()*m[n].length+z0;if(s>o)o=s;}return o;};S.setTableHeaderRow=function(g){this.tableHeaderRow=g;};S.printHeaderRow=function(g,j){if(!this.tableHeaderRow){throw 'Property tableHeaderRow does not exist.';}var m,n,o,q;this.printingHeaderRow=true;if(Z!==undefined){var s=Z(this,w0);l0(s[0],s[1],s[2],s[3],-1);}this.setFontStyle('bold');var t=[];for(o=0,q=this.tableHeaderRow.length;o<q;o+=1){this.setFillColor(200,200,200);m=this.tableHeaderRow[o];if(j){m[1]=this.margins&&this.margins.top||0;t.push(m);}n=[].concat(m);this.cell.apply(this,n.concat(g));}if(t.length>0){this.setTableHeaderRow(t);}this.setFontStyle('normal');this.printingHeaderRow=false;};})(jsPDF.API);(function(v0){var z0='left',C0='htmlRenderingFinished',Z="padding-right",I0="padding-left",w0="margin-right",l0="margin-left",U0="padding-bottom",O0="padding-top",D0="margin-bottom",N0="margin-top",t1="line-height",x1="font-size",W0="font-style",q1="font-family",Q0,f1,F0,E1,o1,u1,X0,B0,i1,q0,K0,H0,g0,v1,H1,W1,X1,h1,I1;Q0=(function(){return function(g){j.prototype=g;return new j();};function j(){}})();i1=function(g){var j,m,n,o,q,s,t;m=0;n=g.length;j=void 0;o=u4b.K4;s=u4b.K4;while(!o&&m!==n){j=g[m]=g[m].trimLeft();if(j){o=u4b.q4;}m++;}m=n-1;while(n&&!s&&m!==-1){j=g[m]=g[m].trimRight();if(j){s=u4b.q4;}m--;}q=/\s+$/g;t=u4b.q4;m=0;while(m!==n){j=g[m].replace(/\s+/g,u4b.M3);if(t){j=j.trimLeft();}if(j){t=q.test(j);}g[m]=j;m++;}return g;};q0=function(g,j,m,n){this.pdf=g;this.x=j;this.y=m;this.settings=n;this.watchFunctions=[];this.init();return this;};K0=function(g){var j,m,n;j=void 0;n=g.split(",");m=n.shift();while(!j&&m){j=F0[m.trim().toLowerCase()];m=n.shift();}return j;};H0=function(g){g=g==="auto"?"0px":g;if(g.indexOf("em")>-1&&!isNaN(Number(g.replace("em","")))){g=Number(g.replace("em",""))*18.719+"px";}if(g.indexOf("pt")>-1&&!isNaN(Number(g.replace("pt","")))){g=Number(g.replace("pt",""))*1.333+"px";}var j,m,n;m=void 0;j=16.00;n=g0[g];if(n){return n;}n={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:g}];if(n!==m){return g0[g]=n/j;}if(n=parseFloat(g)){return g0[g]=n/j;}n=g.match(/([\d\.]+)(px)/);if(n.length===3){return g0[g]=parseFloat(n[1])/j;}return g0[g]=1;};B0=function(o){var q="display",s,t,v;v=(function(m){var n;n=(function(g){if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(g,u4b.p4);}else if(g.currentStyle){return g.currentStyle;}else{return g.style;}})(m);return function(j){j=j.replace(/-\D/g,function(g){return g.charAt(1).toUpperCase();});return n[j];};})(o);s={};t=void 0;s[q1]=K0(v(q1))||u4b.u3;s[W0]=E1[v(W0)]||u4b.w4;s["text-align"]=TextAlignMap[v("text-align")]||"left";t=o1[v("font-weight")]||u4b.w4;if(t===u4b.L4){if(s[W0]===u4b.w4){s[W0]=t;}else{s[W0]=t+s[W0];}}s[x1]=H0(v(x1))||1;s[t1]=H0(v(t1))||1;s[q]=(v(q)==="inline"?"inline":"block");t=(s[q]==="block");s[N0]=t&&H0(v(N0))||0;s[D0]=t&&H0(v(D0))||0;s[O0]=t&&H0(v(O0))||0;s[U0]=t&&H0(v(U0))||0;s[l0]=t&&H0(v(l0))||0;s[w0]=t&&H0(v(w0))||0;s[I0]=t&&H0(v(I0))||0;s[Z]=t&&H0(v(Z))||0;s["float"]=u1[v("cssFloat")]||"none";s["clear"]=X0[v("clear")]||"none";return s;};v1=function(g,j,m){var n,o,q,s,t;q=u4b.K4;o=void 0;s=void 0;t=void 0;n=m["#"+g.id];if(n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}n=m[g.nodeName];if(!q&&n){if(typeof n===u4b.C3){q=n(g,j);}else{o=0;s=n.length;while(!q&&o!==s){q=n[o](g,j);o++;}}}return q;};I1=function(g,j){var m,n,o,q,s,t,v,H,z,I;m=[];n=[];o=0;I=g.rows[0].cells.length;H=g.clientWidth;while(o<I){z=g.rows[0].cells[o];n[o]={name:z.textContent.toLowerCase().replace(/\s+/g,''),prompt:z.textContent.replace(/\r?\n/g,''),width:(z.clientWidth/H)*j.pdf.internal.pageSize.width};o++;}o=1;while(o<g.rows.length){t=g.rows[o];s={};q=0;while(q<t.cells.length){s[n[q].name]=t.cells[q].textContent.replace(/\r?\n/g,'');q++;}m.push(s);o++;}return v={rows:m,headers:n};};var Y1={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},l1=1;f1=function(o,q,s){var t,v,H,z,I,K,M,N,P;v=o.childNodes;t=void 0;H=B0(o);I=H.display==="block";if(I){q.setBlockBoundary();q.setBlockStyle(H);}M=0.264583*72/25.4;z=0;K=v.length;while(z<K){t=v[z];if(typeof t==="object"){q.executeWatchFunctions(t);if(t.nodeType===1&&t.nodeName==='HEADER'){var O=t,X=q.pdf.margins_doc.top;q.pdf.internal.events.subscribe('addPage',function(g){q.y=X;f1(O,q,s);q.pdf.margins_doc.top=q.y+10;q.y+=10;},false);}if(t.nodeType===8&&t.nodeName==="#comment"){if(~t.textContent.indexOf("ADD_PAGE")){q.pdf.addPage();q.y=q.pdf.margins_doc.top;}}else if(t.nodeType===1&&!Y1[t.nodeName]){var U;if(t.nodeName==="IMG"){var Y=t.getAttribute("src");U=H1[q.pdf.sHashCode(Y)||Y];}if(U){if((q.pdf.internal.pageSize.height-q.pdf.margins_doc.bottom<q.y+t.height)&&(q.y>q.pdf.margins_doc.top)){q.pdf.addPage();q.y=q.pdf.margins_doc.top;q.executeWatchFunctions(t);}var W=B0(t),Q=q.x,s0=12/q.pdf.internal.scaleFactor,k0=(W["margin-left"]+W["padding-left"])*s0,m0=(W["margin-right"]+W["padding-right"])*s0,j0=(W["margin-top"]+W["padding-top"])*s0,e0=(W["margin-bottom"]+W["padding-bottom"])*s0;if(W['float']!==undefined&&W['float']==='right'){Q+=q.settings.width-t.width-m0;}else{Q+=k0;}q.pdf.addImage(U,Q,q.y+j0,t.width,t.height);U=undefined;if(W['float']==='right'||W['float']==='left'){q.watchFunctions.push((function(g,j,m,n){if(q.y>=j){q.x+=g;q.settings.width+=m;return true;}else if(n&&n.nodeType===1&&!Y1[n.nodeName]&&q.x+n.width>(q.pdf.margins_doc.left+q.pdf.margins_doc.width)){q.x+=g;q.y=j;q.settings.width+=m;return true;}else{return false;}}).bind(this,(W['float']==='left')?-t.width-k0-m0:0,q.y+t.height+j0+e0,t.width));q.watchFunctions.push((function(g,j,m){if(q.y<g&&j===q.pdf.internal.getNumberOfPages()){if(m.nodeType===1&&B0(m).clear==='both'){q.y=g;return true;}else{return false;}}else{return true;}}).bind(this,q.y+t.height,q.pdf.internal.getNumberOfPages()));q.settings.width-=t.width+k0+m0;if(W['float']==='left'){q.x+=t.width+k0+m0;}}else{q.y+=t.height+e0;}}else if(t.nodeName==="TABLE"){N=I1(t,q);q.y+=10;q.pdf.table(q.x,q.y,N.rows,N.headers,{autoSize:false,printHeaders:true,margins:q.pdf.margins_doc});q.y=q.pdf.lastCellPos.y+q.pdf.lastCellPos.h+20;}else if(t.nodeName==="OL"||t.nodeName==="UL"){l1=1;if(!v1(t,q,s)){f1(t,q,s);}q.y+=10;}else if(t.nodeName==="LI"){var R=q.x;q.x+=t.parentNode.nodeName==="UL"?22:10;q.y+=3;if(!v1(t,q,s)){f1(t,q,s);}q.x=R;}else if(t.nodeName==="BR"){q.y+=H["font-size"]*q.pdf.internal.scaleFactor;}else{if(!v1(t,q,s)){f1(t,q,s);}}}else if(t.nodeType===3){var S=t.nodeValue;if(t.nodeValue&&t.parentNode.nodeName==="LI"){if(t.parentNode.parentNode.nodeName==="OL"){S=l1++ +'. '+S;}else{var y0=H["font-size"]*16,f0=2;if(y0>20){f0=3;}P=function(g,j){this.pdf.circle(g,j,f0,'FD');};}}q.addText(S,H);}else if(typeof t==="string"){q.addText(t,H);}}z++;}if(I){return q.setBlockBoundary(P);}};H1={};W1=function(q,s,t,v){var H=q.getElementsByTagName('img'),z=H.length,I,K=0;function M(){s.pdf.internal.events.publish('imagesLoaded');v(I);}function N(j,m,n){if(!j)return ;var o=new Image();I=++K;o.crossOrigin='';o.onerror=o.onload=function(){if(o.complete){if(o.src.indexOf('data:image/')===0){o.width=m||o.width||0;o.height=n||o.height||0;}if(o.width+o.height){var g=s.pdf.sHashCode(j)||j;H1[g]=H1[g]||o;}}if(!--K){M();}};o.src=j;}while(z--)N(H[z].getAttribute("src"),H[z].width,H[z].height);return K||M();};X1=function(q,s,t){var v=q.getElementsByTagName("footer");if(v.length>0){v=v[0];var H=s.pdf.internal.write,z=s.y;s.pdf.internal.write=function(){};f1(v,s,t);var I=Math.ceil(s.y-z)+5;s.y=z;s.pdf.internal.write=H;s.pdf.margins_doc.bottom+=I;var K=function(g){var j=g!==undefined?g.pageNumber:1,m=s.y;s.y=s.pdf.internal.pageSize.height-s.pdf.margins_doc.bottom;s.pdf.margins_doc.bottom-=I;var n=v.getElementsByTagName('span');for(var o=0;o<n.length;++o){if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1){n[o].innerHTML=j;}if((" "+n[o].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){n[o].innerHTML='###jsPDFVarTotalPages###';}}f1(v,s,t);s.pdf.margins_doc.bottom+=I;s.y=m;},M=v.getElementsByTagName('span');for(var N=0;N<M.length;++N){if((" "+M[N].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1){s.pdf.internal.events.subscribe('htmlRenderingFinished',s.pdf.putTotalPages.bind(s.pdf,'###jsPDFVarTotalPages###'),true);}}s.pdf.internal.events.subscribe('addPage',K,false);K();Y1['FOOTER']=1;}};h1=function(q,s,t,v,H,z){if(!s)return u4b.K4;if(typeof s!==u4b.n4&&!s.parentNode)s=''+s.innerHTML;if(typeof s===u4b.n4){s=(function(g){var $frame,$hiddendiv,n,o;n="jsPDFhtmlText"+Date.now().toString()+(Math.random()*1000).toFixed(0);o="position: absolute !important;"+"clip: rect(1px 1px 1px 1px); /* IE6, IE7 */"+"clip: rect(1px, 1px, 1px, 1px);"+"padding:0 !important;"+"border:0 !important;"+"height: 1px !important;"+"width: 1px !important; "+"top:auto;"+"left:-100px;"+"overflow: hidden;";$hiddendiv=document.createElement('div');$hiddendiv.style.cssText=o;$hiddendiv.innerHTML="<iframe style=\"height:1px;width:1px\" name=\""+n+"\" />";document.body.appendChild($hiddendiv);$frame=window.frames[n];$frame.document.body.innerHTML=g;return $frame.document.body;})(s.replace(/<\/?script[^>]*?>/gi,''));}var I=new q0(q,t,v,H),K;W1.call(this,s,I,H.elementHandlers,function(g){X1(s,I,H.elementHandlers);f1(s,I,H.elementHandlers);I.pdf.internal.events.publish(C0);K=I.dispose();if(typeof z===u4b.d4)z(K);else if(g)console.error('jsPDF Warning: rendering issues? provide a callback to fromHTML!');});return K||{x:I.x,y:I.y};};q0.prototype.init=function(){this.paragraph={text:[],style:[]};return this.pdf.internal.write("q");};q0.prototype.dispose=function(){this.pdf.internal.write("Q");return {x:this.x,y:this.y,ready:u4b.q4};};q0.prototype.executeWatchFunctions=function(g){var j=false,m=[];if(this.watchFunctions.length>0){for(var n=0;n<this.watchFunctions.length;++n){if(this.watchFunctions[n](g)===true){j=true;}else{m.push(this.watchFunctions[n]);}}this.watchFunctions=m;}return j;};q0.prototype.splitFragmentsIntoLines=function(g,j){var m,n,o,q,s,t,v,H,z,I,K,M,N,P,O;n=12;K=this.pdf.internal.scaleFactor;s={};o=void 0;I=void 0;q=void 0;t=void 0;O=void 0;z=void 0;H=void 0;v=void 0;M=[];N=[M];m=0;P=this.settings.width;while(g.length){t=g.shift();O=j.shift();if(t){o=O["font-family"];I=O["font-style"];q=s[o+I];if(!q){q=this.pdf.internal.getFont(o,I).metadata.Unicode;s[o+I]=q;}z={widths:q.widths,kerning:q.kerning,fontSize:O["font-size"]*n,textIndent:m};H=this.pdf.getStringUnitWidth(t,z)*z.fontSize/K;if(m+H>P){v=this.pdf.splitTextToSize(t,P,z);M.push([v.shift(),O]);while(v.length){M=[[v.shift(),O]];N.push(M);}m=this.pdf.getStringUnitWidth(M[0][0],z)*z.fontSize/K;}else{M.push([t,O]);m+=H;}}}if(O['text-align']!==undefined&&(O['text-align']==='center'||O['text-align']==='right'||O['text-align']==='justify')){for(var X=0;X<N.length;++X){var U=this.pdf.getStringUnitWidth(N[X][0][0],z)*z.fontSize/K;if(X>0){N[X][0][1]=Q0(N[X][0][1]);}var Y=(P-U);if(O['text-align']==='right'){N[X][0][1]['margin-left']=Y;}else if(O['text-align']==='center'){N[X][0][1]['margin-left']=Y/2;}else if(O['text-align']==='justify'){var W=N[X][0][0].split(' ').length-1;N[X][0][1]['word-spacing']=Y/W;if(X===(N.length-1)){N[X][0][1]['word-spacing']=0;}}}}return N;};q0.prototype.RenderTextFragment=function(g,j){var m,n,o;o=0;m=12;if(this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()){this.pdf.internal.write("ET","Q");this.pdf.addPage();this.y=this.pdf.margins_doc.top;this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");o=Math.max(o,j["line-height"],j["font-size"]);this.pdf.internal.write(0,(-1*m*o).toFixed(2),"Td");}n=this.pdf.internal.getFont(j["font-family"],j["font-style"]);if(j['word-spacing']!==undefined&&j['word-spacing']>0){this.pdf.internal.write(j['word-spacing'].toFixed(2),"Tw");}this.pdf.internal.write("/"+n.id,(m*j["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(g)+") Tj");if(j['word-spacing']!==undefined){this.pdf.internal.write(0,"Tw");}};q0.prototype.renderParagraph=function(n){var o,q,s,t,v,H,z,I,K,M,N,P,O,X,U;t=i1(this.paragraph.text);X=this.paragraph.style;o=this.paragraph.blockstyle;O=this.paragraph.blockstyle||{};this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:o};if(!t.join("").trim()){return ;}I=this.splitFragmentsIntoLines(t,X);z=void 0;K=void 0;q=12;s=q/this.pdf.internal.scaleFactor;P=(Math.max((o["margin-top"]||0)-(O["margin-bottom"]||0),0)+(o["padding-top"]||0))*s;N=((o["margin-bottom"]||0)+(o["padding-bottom"]||0))*s;M=this.pdf.internal.write;v=void 0;H=void 0;this.y+=P;M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");var Y=0;while(I.length){z=I.shift();K=0;v=0;H=z.length;while(v!==H){if(z[v][0].trim()){K=Math.max(K,z[v][1]["line-height"],z[v][1]["font-size"]);U=z[v][1]["font-size"]*7;}v++;}var W=0;if(z[0][1]["margin-left"]!==undefined&&z[0][1]["margin-left"]>0){wantedIndent=this.pdf.internal.getCoordinateString(z[0][1]["margin-left"]);W=wantedIndent-Y;Y=wantedIndent;}M(W,(-1*q*K).toFixed(2),"Td");v=0;H=z.length;while(v!==H){if(z[v][0]){this.RenderTextFragment(z[v][0],z[v][1]);}v++;}this.y+=K*s;if(this.executeWatchFunctions(z[0][1])&&I.length>0){var Q=[],s0=[];I.forEach(function(g){var j=0,m=g.length;while(j!==m){if(g[j][0]){Q.push(g[j][0]+' ');s0.push(g[j][1]);}++j;}});I=this.splitFragmentsIntoLines(i1(Q),s0);M("ET","Q");M("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");}}if(n&&typeof n==="function"){n.call(this,this.x-9,this.y-U/2);}M("ET","Q");return this.y+=N;};q0.prototype.setBlockBoundary=function(g){return this.renderParagraph(g);};q0.prototype.setBlockStyle=function(g){return this.paragraph.blockstyle=g;};q0.prototype.addText=function(g,j){this.paragraph.text.push(g);return this.paragraph.style.push(j);};F0={helvetica:u4b.f4,"sans-serif":u4b.f4,"times new roman":u4b.u3,serif:u4b.u3,times:u4b.u3,monospace:u4b.H4,courier:u4b.H4};o1={100:u4b.w4,200:u4b.w4,300:u4b.w4,400:u4b.w4,500:u4b.L4,600:u4b.L4,700:u4b.L4,800:u4b.L4,900:u4b.L4,normal:u4b.w4,bold:u4b.L4,bolder:u4b.L4,lighter:u4b.w4};E1={normal:u4b.w4,italic:u4b.e4,oblique:u4b.e4};TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"};u1={none:'none',right:u4b.A4,left:z0};X0={none:'none',both:'both'};g0={normal:1};v0.fromHTML=function(g,j,m,n,o,q){"use strict";this.margins_doc=q||{top:0,bottom:0};if(!n)n={};if(!n.elementHandlers)n.elementHandlers={};return h1(this,g,isNaN(j)?4:j,isNaN(m)?4:m,n,o);};})(jsPDF.API);(function(m){'use strict';var n,o,q;m.addJS=function(j){q=j;this.internal.events.subscribe(u4b.A3,function(g){n=this.internal.newObject();this.internal.write('<< /Names [(EmbeddedJS) '+(n+1)+' 0 R] >>',u4b.r4);o=this.internal.newObject();this.internal.write('<< /S /JavaScript /JS (',q,') >>',u4b.r4);});this.internal.events.subscribe('putCatalog',function(){if(n!==undefined&&o!==undefined){this.internal.write('/Names <</JavaScript '+n+' 0 R>>');}});return this;};}(jsPDF.API));(function(S){'use strict';var y0=function(){return typeof PNG!=='function'||typeof FlateStream!=='function';},f0=function(g){return g!==S.image_compression.NONE&&v0();},v0=function(){var g=typeof Deflater==='function';if(!g)throw  new Error("requires deflate.js for compression");return g;},z0=function(g,j,m,n){var o=5,q=U0;switch(n){case S.image_compression.FAST:o=3;q=l0;break;case S.image_compression.MEDIUM:o=6;q=O0;break;case S.image_compression.SLOW:o=9;q=D0;break;}g=I0(g,j,m,q);var s=new Uint8Array(C0(o)),t=Z(g),v=new Deflater(o),H=v.append(g),z=v.flush(),I=s.length+H.length+z.length,K=new Uint8Array(I+4);K.set(s);K.set(H,s.length);K.set(z,s.length+H.length);K[I++]=(t>>>24)&0xff;K[I++]=(t>>>16)&0xff;K[I++]=(t>>>8)&0xff;K[I++]=t&0xff;return S.arrayBufferToBinaryString(K);},C0=function(g,j){var m=8,n=Math.LOG2E*Math.log(0x8000)-8,o=(n<<4)|m,q=o<<8,s=Math.min(3,((j-1)&0xff)>>1);q|=(s<<6);q|=0;q+=31-(q%31);return [o,(q&0xff)&0xff];},Z=function(g,j){var m=1,n=m&0xffff,o=(m>>>16)&0xffff,q=g.length,s,t=0;while(q>0){s=q>j?j:q;q-=s;do {n+=g[t++];o+=n;}while(--s);n%=65521;o%=65521;}return ((o<<16)|n)>>>0;},I0=function(g,j,m,n){var o=g.length/j,q=new Uint8Array(g.length+o),s=t1(),t=0,v,H,z;for(;t<o;t++){z=t*j;v=g.subarray(z,z+j);if(n){q.set(n(v,m,H),z+t);}else{var I=0,K=s.length,M=[];for(;I<K;I++)M[I]=s[I](v,m,H);var N=x1(M.concat());q.set(M[N],z+t);}H=v;}return q;},w0=function(g,j,m){var n=Array.apply([],g);n.unshift(0);return n;},l0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=1;for(;o<q;o++){s=g[o-j]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},U0=function(g,j,m){var n=[],o=0,q=g.length,s;n[0]=2;for(;o<q;o++){s=m&&m[o]||0;n[o+1]=(g[o]-s+0x0100)&0xff;}return n;},O0=function(g,j,m){var n=[],o=0,q=g.length,s,t;n[0]=3;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;n[o+1]=(g[o]+0x0100-((s+t)>>>1))&0xff;}return n;},D0=function(g,j,m){var n=[],o=0,q=g.length,s,t,v,H;n[0]=4;for(;o<q;o++){s=g[o-j]||0;t=m&&m[o]||0;v=m&&m[o-j]||0;H=N0(s,t,v);n[o+1]=(g[o]-H+0x0100)&0xff;}return n;},N0=function(g,j,m){var n=g+j-m,o=Math.abs(n-g),q=Math.abs(n-j),s=Math.abs(n-m);return (o<=q&&o<=s)?g:(q<=s)?j:m;},t1=function(){return [w0,l0,U0,O0,D0];},x1=function(g){var j=0,m=g.length,n,o,q;while(j<m){n=W0(g[j].slice(1));if(n<o||!o){o=n;q=j;}j++;}return q;},W0=function(g){var j=0,m=g.length,n=0;while(j<m)n+=Math.abs(g[j++]);return n;},q1=function(g){console.log("width: "+g.width);console.log("height: "+g.height);console.log("bits: "+g.bits);console.log("colorType: "+g.colorType);console.log("transparency:");console.log(g.transparency);console.log("text:");console.log(g.text);console.log("compressionMethod: "+g.compressionMethod);console.log("filterMethod: "+g.filterMethod);console.log("interlaceMethod: "+g.interlaceMethod);console.log("imgData:");console.log(g.imgData);console.log("palette:");console.log(g.palette);console.log("colors: "+g.colors);console.log("colorSpace: "+g.colorSpace);console.log("pixelBitlength: "+g.pixelBitlength);console.log("hasAlphaChannel: "+g.hasAlphaChannel);};S.processPNG=function(g,j,m,n,o){'use strict';var q=this.color_spaces.DEVICE_RGB,s=this.decode.FLATE_DECODE,t=8,v,H,z,I,K,M;if(this.isArrayBuffer(g))g=new Uint8Array(g);if(this.isArrayBufferView(g)){if(y0())throw  new Error("PNG support requires png.js and zlib.js");v=new PNG(g);g=v.imgData;t=v.bits;q=v.colorSpace;I=v.colors;if([4,6].indexOf(v.colorType)!==-1){if(v.bits===8){var N=window['Uint'+v.pixelBitlength+'Array'],P=new N(v.decodePixels().buffer),O=P.length,X=new Uint8Array(O*v.colors),U=new Uint8Array(O),Y=v.pixelBitlength-v.bits,W=0,Q=0,s0,k0;for(;W<O;W++){s0=P[W];k0=0;while(k0<Y){X[Q++]=(s0>>>k0)&0xff;k0=k0+v.bits;}U[W]=(s0>>>k0)&0xff;}}if(v.bits===16){var P=new Uint32Array(v.decodePixels().buffer),O=P.length,X=new Uint8Array((O*(32/v.pixelBitlength))*v.colors),U=new Uint8Array(O*(32/v.pixelBitlength)),m0=v.colors>1,W=0,Q=0,j0=0,s0;while(W<O){s0=P[W++];X[Q++]=(s0>>>0)&0xFF;if(m0){X[Q++]=(s0>>>16)&0xFF;s0=P[W++];X[Q++]=(s0>>>0)&0xFF;}U[j0++]=(s0>>>16)&0xFF;}t=8;}if(f0(n)){g=z0(X,v.width*v.colors,v.colors,n);M=z0(U,v.width,1,n);}else{g=X;M=U;s=null;}}if(v.colorType===3){q=this.color_spaces.INDEXED;K=v.palette;if(v.transparency.indexed){var e0=v.transparency.indexed,R=0,W=0,O=e0.length;for(;W<O;++W)R+=e0[W];R=R/255;if(R===O-1&&e0.indexOf(0)!==-1){z=[e0.indexOf(0)];}else if(R!==O){var P=v.decodePixels(),U=new Uint8Array(P.length),W=0,O=P.length;for(;W<O;W++)U[W]=e0[P[W]];M=z0(U,v.width,1);}}}if(s===this.decode.FLATE_DECODE)H='/Predictor 15 /Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;else H='/Colors '+I+' /BitsPerComponent '+t+' /Columns '+v.width;if(this.isArrayBuffer(g)||this.isArrayBufferView(g))g=this.arrayBufferToBinaryString(g);if(M&&this.isArrayBuffer(M)||this.isArrayBufferView(M))M=this.arrayBufferToBinaryString(M);return this.createImageInfo(g,v.width,v.height,q,t,s,j,m,H,z,K,M);}throw  new Error("Unsupported PNG image data, try using JPEG instead.");};})(jsPDF.API);(function(e0){'use strict';e0.addSVG=function(s,t,v,H,z){var I;if(t===I||v===I){throw  new Error("addSVG needs values for 'x' and 'y'");}function K(g,j){var m=j.createElement('style');m.type='text/css';if(m.styleSheet){m.styleSheet.cssText=g;}else{m.appendChild(j.createTextNode(g));}j.getElementsByTagName("head")[0].appendChild(m);}function M(g){var j='childframe',m=g.createElement('iframe');K('.jsPDF_sillysvg_iframe {display:none;position:absolute;}',g);m.name=j;m.setAttribute("width",0);m.setAttribute("height",0);m.setAttribute("frameborder","0");m.setAttribute("scrolling","no");m.setAttribute("seamless","seamless");m.setAttribute("class","jsPDF_sillysvg_iframe");g.body.appendChild(m);return m;}function N(g,j){var m=(j.contentWindow||j.contentDocument).document;m.write(g);m.close();return m.getElementsByTagName('svg')[0];}function P(g){'use strict';var j=parseFloat(g[1]),m=parseFloat(g[2]),n=[],o=3,q=g.length;while(o<q){if(g[o]==='c'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2]),parseFloat(g[o+3]),parseFloat(g[o+4]),parseFloat(g[o+5]),parseFloat(g[o+6])]);o+=7;}else if(g[o]==='l'){n.push([parseFloat(g[o+1]),parseFloat(g[o+2])]);o+=3;}else{o+=1;}}return [j,m,n];}var O=M(document),X=N(s,O),U=[1,1],Y=parseFloat(X.getAttribute('width')),W=parseFloat(X.getAttribute('height'));if(Y&&W){if(H&&z){U=[H/Y,z/W];}else if(H){U=[H/Y,H/Y];}else if(z){U=[z/W,z/W];}}var Q,s0,k0,m0,j0=X.childNodes;for(Q=0,s0=j0.length;Q<s0;Q++){k0=j0[Q];if(k0.tagName&&k0.tagName.toUpperCase()==='PATH'){m0=P(k0.getAttribute("d").split(' '));m0[0]=m0[0]*U[0]+t;m0[1]=m0[1]*U[1]+v;this.lines.call(this,m0[2],m0[0],m0[1],U);}}return this;};})(jsPDF.API);;(function(k0){'use strict';var m0=k0.getCharWidthsArray=function(g,j){if(!j){j={};}var m=j.widths?j.widths:this.internal.getFont().metadata.Unicode.widths,n=m.fof?m.fof:1,o=j.kerning?j.kerning:this.internal.getFont().metadata.Unicode.kerning,q=o.fof?o.fof:1,s,t,v,H=0,z=m[0]||n,I=[];for(s=0,t=g.length;s<t;s++){v=g.charCodeAt(s);I.push((m[v]||z)/n+(o[v]&&o[v][H]||0)/q);H=v;}return I;},j0=function(g){var j=g.length,m=0;while(j){;j--;m+=g[j];}return m;},e0=k0.getStringUnitWidth=function(g,j){return j0(m0.call(this,g,j));},R=function(g,j,m,n){var o=[];var q=0,s=g.length,t=0;while(q!==s&&t+j[q]<m){t+=j[q];q++;}o.push(g.slice(0,q));var v=q;t=0;while(q!==s){if(t+j[q]>n){o.push(g.slice(v,q));t=0;v=q;}t+=j[q];q++;}if(v!==q){o.push(g.slice(v,q));}return o;},S=function(n,o,q){if(!q){q={};}var s=[],t=[s],v=q.textIndent||0,H=0,z=0,I,K,M=n.split(' '),N=m0(' ',q)[0],P,O,X,U;if(q.lineIndent===-1){U=M[0].length+2;}else{U=q.lineIndent||0;}if(U){var Y=Array(U).join(" "),W=[];M.map(function(m){m=m.split(/\s*\n/);if(m.length>1){W=W.concat(m.map(function(g,j){return (j&&g.length?"\n":"")+g;}));}else{W.push(m[0]);}});M=W;U=e0(Y,q);}for(P=0,O=M.length;P<O;P++){var Q=0;I=M[P];if(U&&I[0]=="\n"){I=I.substr(1);Q=1;}K=m0(I,q);z=j0(K);if(v+H+z>o||Q){if(z>o){X=R(I,K,o-(v+H),o);s.push(X.shift());s=[X.pop()];while(X.length){t.push([X.shift()]);}z=j0(K.slice(I.length-s[0].length));}else{s=[I];}t.push(s);v=z+U;H=N;}else{s.push(I);v+=H+z;H=N;}}if(U){var s0=function(g,j){return (j?Y:'')+g.join(" ");};}else{var s0=function(g){return g.join(" ");};}return t.map(s0);};k0.splitTextToSize=function(q,s,t){'use strict';if(!t){t={};}var v=t.fontSize||this.internal.getFontSize(),H=(function(g){var j={0:1},m={};if(!g.widths||!g.kerning){var n=this.internal.getFont(g.fontName,g.fontStyle),o='Unicode';if(n.metadata[o]){return {widths:n.metadata[o].widths||j,kerning:n.metadata[o].kerning||m};}}else{return {widths:g.widths,kerning:g.kerning};}return {widths:j,kerning:m};}).call(this,t),z;if(Array.isArray(q)){z=q;}else{z=q.split(/\r?\n/);}var I=1.0*this.internal.scaleFactor*s/v;H.textIndent=t.textIndent?t.textIndent*1.0*this.internal.scaleFactor/v:0;H.lineIndent=t.lineIndent;var K,M,N=[];for(K=0,M=z.length;K<M;K++){N=N.concat(S(z[K],I,H));}return N;};})(jsPDF.API);;(function(X){'use strict';var U=function(g){var j='0123456789abcdef',m='klmnopqrstuvwxyz',n={};for(var o=0;o<m.length;o++){n[m[o]]=j[o];}var q,s={},t=1,v,H=s,z=[],I,K='',M='',N,P=g.length-1,O;o=1;while(o!=P){O=g[o];o+=1;if(O=="'"){if(v){N=v.join('');v=q;}else{v=[];}}else if(v){v.push(O);}else if(O=='{'){z.push([H,N]);H={};N=q;}else if(O=='}'){I=z.pop();I[0][I[1]]=H;N=q;H=I[0];}else if(O=='-'){t=-1;}else{if(N===q){if(n.hasOwnProperty(O)){K+=n[O];N=parseInt(K,16)*t;t=+1;K='';}else{K+=O;}}else{if(n.hasOwnProperty(O)){M+=n[O];H[N]=parseInt(M,16)*t;t=+1;N=q;M='';}else{M+=O;}}}}return s;},Y={'codePages':['WinAnsiEncoding'],'WinAnsiEncoding':U("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},W={'Unicode':{'Courier':Y,'Courier-Bold':Y,'Courier-BoldOblique':Y,'Courier-Oblique':Y,'Helvetica':Y,'Helvetica-Bold':Y,'Helvetica-BoldOblique':Y,'Helvetica-Oblique':Y,'Times-Roman':Y,'Times-Bold':Y,'Times-BoldItalic':Y,'Times-Italic':Y}},Q={'Unicode':{'Courier-Oblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-BoldItalic':U("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica-Bold':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Courier-BoldOblique':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Bold':U("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),'Helvetica':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),'Helvetica-BoldOblique':U("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),'Courier-Bold':U("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),'Times-Italic':U("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),'Times-Roman':U("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),'Helvetica-Oblique':U("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};X.events.push(['addFonts',function(g){var j,m,n,o,q='Unicode',s;for(m in g.fonts){if(g.fonts.hasOwnProperty(m)){j=g.fonts[m];n=Q[q][j.PostScriptName];if(n){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.widths=n.widths;o.kerning=n.kerning;}s=W[q][j.PostScriptName];if(s){if(j.metadata[q]){o=j.metadata[q];}else{o=j.metadata[q]={};}o.encoding=s;if(s.codePages&&s.codePages.length){j.encoding=s.codePages[0];}}}}}]);})(jsPDF.API);(function(o){'use strict';o.putTotalPages=function(g){'use strict';var j=new RegExp(g,'g');for(var m=1;m<=this.internal.getNumberOfPages();m++){for(var n=0;n<this.internal.pages[m].length;n++)this.internal.pages[m][n]=this.internal.pages[m][n].replace(j,this.internal.getNumberOfPages());}return this;};})(jsPDF.API);(function(S){"use strict";S.URL=S.URL||S.webkitURL;if(S.Blob&&S.URL){try{new Blob;return ;}catch(g){}}var y0=S.BlobBuilder||S.WebKitBlobBuilder||S.MozBlobBuilder||(function(t){var v=function(g){return Object.prototype.toString.call(g).match(/^\[object\s(.*)\]$/)[1];},H=function z(){this.data=[];},I=function K(g,j,m){this.data=g;this.size=g.length;this.type=j;this.encoding=m;},M=H.prototype,N=I.prototype,P=t.FileReaderSync,O=function(g){this.code=this[this.name=g];},X=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR "+"NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),U=X.length,Y=t.URL||t.webkitURL||t,W=Y.createObjectURL,Q=Y.revokeObjectURL,s0=Y,k0=t.btoa,m0=t.atob,j0=t.ArrayBuffer,e0=t.Uint8Array,R=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;I.fake=N.fake=true;while(U--){O.prototype[X[U]]=U+1;}if(!Y.createObjectURL){s0=t.URL=function(g){var j=document.createElementNS("http://www.w3.org/1999/xhtml","a"),m;j.href=g;if(!("origin" in j)){if(j.protocol.toLowerCase()==="data:"){j.origin=null;}else{m=g.match(R);j.origin=m&&m[1];}}return j;};}s0.createObjectURL=function(g){var j=g.type,m;if(j===null){j="application/octet-stream";}if(g instanceof I){m="data:"+j;if(g.encoding==="base64"){return m+";base64,"+g.data;}else if(g.encoding==="URI"){return m+","+decodeURIComponent(g.data);}if(k0){return m+";base64,"+k0(g.data);}else{return m+","+encodeURIComponent(g.data);}}else if(W){return W.call(Y,g);}};s0.revokeObjectURL=function(g){if(g.substring(0,5)!=="data:"&&Q){Q.call(Y,g);}};M.append=function(g){var j=this.data;if(e0&&(g instanceof j0||g instanceof e0)){var m="",n=new e0(g),o=0,q=n.length;for(;o<q;o++){m+=String.fromCharCode(n[o]);}j.push(m);}else if(v(g)==="Blob"||v(g)==="File"){if(P){var s=new P;j.push(s.readAsBinaryString(g));}else{throw  new O("NOT_READABLE_ERR");}}else if(g instanceof I){if(g.encoding==="base64"&&m0){j.push(m0(g.data));}else if(g.encoding==="URI"){j.push(decodeURIComponent(g.data));}else if(g.encoding==="raw"){j.push(g.data);}}else{if(typeof g!=="string"){g+="";}j.push(unescape(encodeURIComponent(g)));}};M.getBlob=function(g){if(!arguments.length){g=null;}return new I(this.data.join(""),g,"raw");};M.toString=function(){return "[object BlobBuilder]";};N.slice=function(g,j,m){var n=arguments.length;if(n<3){m=null;}return new I(this.data.slice(g,n>1?j:this.data.length),m,this.encoding);};N.toString=function(){return "[object Blob]";};N.close=function(){this.size=0;delete  this.data;};return H;}(S));S.Blob=function(g,j){var m=j?(j.type||""):"",n=new y0();if(g){for(var o=0,q=g.length;o<q;o++){n.append(g[o]);}}return n.getBlob(m);};}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));var saveAs=saveAs||(typeof navigator!==u4b.p3&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator))||(function(U){"use strict";var Y="download";if(typeof navigator!==u4b.p3&&/MSIE [1-9]\./.test(navigator.userAgent)){return ;}var W=U.document,Q=function(){return U.URL||U.webkitURL||U;},s0=W.createElementNS(u4b.P4,"a"),k0=Y in s0,m0=function(g){var j=W.createEvent("MouseEvents");j.initMouseEvent("click",u4b.q4,u4b.K4,U,0,0,0,0,0,u4b.K4,u4b.K4,u4b.K4,u4b.K4,0,u4b.p4);g.dispatchEvent(j);},j0=U.webkitRequestFileSystem,e0=U.requestFileSystem||j0||U.mozRequestFileSystem,R=function(g){(U.setImmediate||U.setTimeout)(function(){throw g;},0);},S=u4b.I3,y0=0,f0=10,v0=function(g){var j=function(){if(typeof g===u4b.n4){Q().revokeObjectURL(g);}else{g.remove();}};if(U.chrome){j();}else{setTimeout(j,f0);}},z0=function(j,m,n){m=[].concat(m);var o=m.length;while(o--){var q=j["on"+m[o]];if(typeof q===u4b.C3){try{q.call(j,n||j);}catch(g){R(g);}}}},C0=function(s,t){var v=this,H=s.type,z=u4b.K4,I,K,M=function(){z0(v,"writestart progress write writeend".split(u4b.M3));},N=function(){if(z||!I){I=Q().createObjectURL(s);}if(K){K.location.href=I;}else{var g=U.open(I,"_blank");if(g==undefined&&typeof safari!==u4b.p3){U.location.href=I;}}v.readyState=v.DONE;M();v0(I);},P=function(g){return function(){if(v.readyState!==v.DONE){return g.apply(this,arguments);}};},O={create:u4b.q4,exclusive:u4b.K4},X;v.readyState=v.INIT;if(!t){t=Y;}if(k0){I=Q().createObjectURL(s);s0.href=I;s0.download=t;m0(s0);v.readyState=v.DONE;M();v0(I);return ;}if(U.chrome&&H&&H!==S){X=s.slice||s.webkitSlice;s=X.call(s,0,s.size,S);z=u4b.q4;}if(j0&&t!==Y){t+=".download";}if(H===S||j0){K=U;}if(!e0){N();return ;}y0+=s.size;e0(U.TEMPORARY,y0,P(function(q){q.root.getDirectory("saved",O,P(function(n){var o=function(){n.getFile(t,O,P(function(m){m.createWriter(P(function(j){j.onwriteend=function(g){K.location.href=m.toURL();v.readyState=v.DONE;z0(v,"writeend",g);v0(m);};j.onerror=function(){var g=j.error;if(g.code!==g.ABORT_ERR){N();}};"writestart progress write abort".split(" ").forEach(function(g){j["on"+g]=v["on"+g];});j.write(s);v.abort=function(){j.abort();v.readyState=v.DONE;};v.readyState=v.WRITING;}),N);}),N);};n.getFile(t,{create:false},P(function(g){g.remove();o();}),P(function(g){if(g.code===g.NOT_FOUND_ERR){o();}else{N();}}));}),N);}),N);},Z=C0.prototype,I0=function(g,j){return new C0(g,j);};Z.abort=function(){var g=this;g.readyState=g.DONE;z0(g,"abort");};Z.readyState=Z.INIT=0;Z.WRITING=1;Z.DONE=2;Z.error=Z.onwritestart=Z.onprogress=Z.onwrite=Z.onabort=Z.onerror=Z.onwriteend=null;return I0;}(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this.content));if(typeof module!==u4b.p3&&module!==u4b.p4){module.exports=saveAs;}else if((typeof define!==u4b.p3&&0)){define([],function(){return saveAs;});}void function(g,j){if(typeof module==='object'){module.exports=j();}else if(0==='function'){define(j);}else{g.adler32cs=j();}}(jsPDF,function(){var K=typeof ArrayBuffer==='function'&&typeof Uint8Array==='function',M=null,N=(function(){if(!K)return function j(){return false;};try{var m=require('buffer');if(typeof m.Buffer==='function')M=m.Buffer;}catch(g){}return function j(g){return g instanceof ArrayBuffer||M!==null&&g instanceof M;};}()),P=(function(){if(M!==null){return function j(g){return new M(g,'utf8').toString('binary');};}else{return function j(g){return unescape(encodeURIComponent(g));};}}()),O=65521,X=function X(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length;o<q;o++){m=(m+(j.charCodeAt(o)&0xFF))%O;n=(n+m)%O;}return (n<<16|m)>>>0;},U=function U(g,j){var m=g&0xFFFF,n=g>>>16;for(var o=0,q=j.length,s;o<q;o++){m=(m+j[o])%O;n=(n+m)%O;}return (n<<16|m)>>>0;},Y={},W=Y.Adler32=(function(){var m=function n(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!isFinite(g=g==null?1:+g)){throw  new Error('First arguments needs to be a finite number.');}this.checksum=g>>>0;};var o=m.prototype={};o.constructor=m;m.from=function(g){g.prototype=o;return g;}(function q(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');this.checksum=X(1,g.toString());});m.fromUtf8=function(g){g.prototype=o;return g;}(function s(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());this.checksum=X(1,j);});if(K){m.fromBuffer=function(g){g.prototype=o;return g;}(function t(g){if(!(this instanceof m)){throw  new TypeError('Constructor cannot called be as a function.');}if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(1,j);});}o.update=function v(g){if(g==null)throw  new Error('First argument needs to be a string.');g=g.toString();return this.checksum=X(this.checksum,g);};o.updateUtf8=function H(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return this.checksum=X(this.checksum,j);};if(K){o.updateBuffer=function z(g){if(!N(g))throw  new Error('First argument needs to be ArrayBuffer.');var j=new Uint8Array(g);return this.checksum=U(this.checksum,j);};}o.clone=function I(){return new n(this.checksum);};return m;}());Y.from=function Q(g){if(g==null)throw  new Error('First argument needs to be a string.');return X(1,g.toString());};Y.fromUtf8=function s0(g){if(g==null)throw  new Error('First argument needs to be a string.');var j=P(g.toString());return X(1,j);};if(K){Y.fromBuffer=function k0(g){if(!N(g))throw  new Error('First argument need to be ArrayBuffer.');var j=new Uint8Array(g);return U(1,j);};}return Y;});var Deflater=(function(Y2){var U1=15,r1=30,p2=19,s2=29,k2=u4b.T4,w1=(k2+1+s2),s3=(2*w1+1),t2=u4b.T4,D3=7,r3=16,o3=17,l3=18,d3=8*2,Z2=-1,E3=1,G2=2,G3=0,m2=0,v3=1,H3=3,B1=4,O1=0,t3=1,F2=2,R1=-2,O3=-3,n2=-5,x3=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];function R0(){var M=this;function N(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.extra_bits,o=M.stat_desc.extra_base,q=M.stat_desc.max_length,s,t,v,H,z,I,K=0;for(H=0;H<=U1;H++)g.bl_count[H]=0;j[g.heap[g.heap_max]*2+1]=0;for(s=g.heap_max+1;s<s3;s++){t=g.heap[s];H=j[j[t*2+1]*2+1]+1;if(H>q){H=q;K++;}j[t*2+1]=H;if(t>M.max_code)continue;g.bl_count[H]++;z=0;if(t>=o)z=n[t-o];I=j[t*2];g.opt_len+=I*(H+z);if(m)g.static_len+=I*(m[t*2+1]+z);}if(K===0)return ;do {H=q-1;while(g.bl_count[H]===0)H--;g.bl_count[H]--;g.bl_count[H+1]+=2;g.bl_count[q]--;K-=2;}while(K>0);for(H=q;H!==0;H--){t=g.bl_count[H];while(t!==0){v=g.heap[--s];if(v>M.max_code)continue;if(j[v*2+1]!=H){g.opt_len+=(H-j[v*2+1])*j[v*2];j[v*2+1]=H;}t--;}}}function P(g,j){var m=0;do {m|=g&1;g>>>=1;m<<=1;}while(--j>0);return m>>>1;}function O(g,j,m){var n=[],o=0,q,s,t;for(q=1;q<=U1;q++){n[q]=o=((o+m[q-1])<<1);}for(s=0;s<=j;s++){t=g[s*2+1];if(t===0)continue;g[s*2]=P(n[t]++,t);}}M.build_tree=function(g){var j=M.dyn_tree,m=M.stat_desc.static_tree,n=M.stat_desc.elems,o,q,s=-1,t;g.heap_len=0;g.heap_max=s3;for(o=0;o<n;o++){if(j[o*2]!==0){g.heap[++g.heap_len]=s=o;g.depth[o]=0;}else{j[o*2+1]=0;}}while(g.heap_len<2){t=g.heap[++g.heap_len]=s<2?++s:0;j[t*2]=1;g.depth[t]=0;g.opt_len--;if(m)g.static_len-=m[t*2+1];}M.max_code=s;for(o=Math.floor(g.heap_len/2);o>=1;o--)g.pqdownheap(j,o);t=n;do {o=g.heap[1];g.heap[1]=g.heap[g.heap_len--];g.pqdownheap(j,1);q=g.heap[1];g.heap[--g.heap_max]=o;g.heap[--g.heap_max]=q;j[t*2]=(j[o*2]+j[q*2]);g.depth[t]=Math.max(g.depth[o],g.depth[q])+1;j[o*2+1]=j[q*2+1]=t;g.heap[1]=t++;g.pqdownheap(j,1);}while(g.heap_len>=2);g.heap[--g.heap_max]=g.heap[1];N(g);O(j,M.max_code,g.bl_count);};}R0._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28];R0.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];R0.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,u4b.T4,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];R0.d_code=function(g){return ((g)<u4b.T4?x3[g]:x3[u4b.T4+((g)>>>7)]);};R0.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];R0.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];R0.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];R0.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function s1(g,j,m,n,o){var q=this;q.static_tree=g;q.extra_bits=j;q.extra_base=m;q.elems=n;q.max_length=o;}s1.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,u4b.U4,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8];s1.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5];s1.static_l_desc=new s1(s1.static_ltree,R0.extra_lbits,k2+1,w1,U1);s1.static_d_desc=new s1(s1.static_dtree,R0.extra_dbits,0,r1,U1);s1.static_bl_desc=new s1(u4b.p4,R0.extra_blbits,0,p2,D3);var J3=9,N3=8;function V1(g,j,m,n,o){var q=this;q.good_length=g;q.max_lazy=j;q.nice_length=m;q.max_chain=n;q.func=o;}var w3=0,H2=1,e2=2,T1=[new V1(0,0,0,0,w3),new V1(4,4,8,4,H2),new V1(4,5,16,8,H2),new V1(4,6,32,32,H2),new V1(4,4,16,16,e2),new V1(8,16,32,32,e2),new V1(8,16,128,128,e2),new V1(8,32,128,u4b.T4,e2),new V1(32,128,258,1024,e2),new V1(32,258,258,4096,e2)],O2=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],F1=0,L2=1,u2=2,M2=3,P3=0x20,i3=42,Q2=113,v2=666,h3=8,R3=0,f3=1,Q3=2,e1=3,P2=258,C1=(P2+e1+1);function y3(g,j,m,n){var o=g[j*2],q=g[m*2];return (o<q||(o==q&&n[j]<=n[m]));}function S3(){var K=this,M,N,P,O,X,U,Y,W,Q,s0,k0,m0,j0,e0,R,S,y0,f0,v0,z0,C0,Z,I0,w0,l0,U0,O0,D0,N0,t1,x1,W0,q1,Q0,f1=new R0(),F0=new R0(),E1=new R0();K.depth=[];var o1,u1,X0,B0,i1,q0,K0,H0;K.bl_count=[];K.heap=[];W0=[];q1=[];Q0=[];function g0(){var g;s0=2*U;m0[e0-1]=0;for(g=0;g<e0-1;g++){m0[g]=0;}O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;Z=0;f0=0;w0=0;v0=l0=e1-1;C0=0;j0=0;}function v1(){var g;for(g=0;g<w1;g++)W0[g*2]=0;for(g=0;g<r1;g++)q1[g*2]=0;for(g=0;g<p2;g++)Q0[g*2]=0;W0[t2*2]=1;K.opt_len=K.static_len=0;X0=i1=0;}function H1(){f1.dyn_tree=W0;f1.stat_desc=s1.static_l_desc;F0.dyn_tree=q1;F0.stat_desc=s1.static_d_desc;E1.dyn_tree=Q0;E1.stat_desc=s1.static_bl_desc;K0=0;H0=0;q0=8;v1();}K.pqdownheap=function(g,j){var m=K.heap,n=m[j],o=j<<1;while(o<=K.heap_len){if(o<K.heap_len&&y3(g,m[o+1],m[o],K.depth)){o++;}if(y3(g,n,m[o],K.depth))break;m[j]=m[o];j=o;o<<=1;}m[j]=n;};function W1(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}g[(j+1)*2+1]=0xffff;for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){Q0[o*2]+=s;}else if(o!==0){if(o!=n)Q0[o*2]++;Q0[r3*2]++;}else if(s<=10){Q0[o3*2]++;}else{Q0[l3*2]++;}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function X1(){var g;W1(W0,f1.max_code);W1(q1,F0.max_code);E1.build_tree(K);for(g=p2-1;g>=3;g--){if(Q0[R0.bl_order[g]*2+1]!==0)break;}K.opt_len+=3*(g+1)+5+5+4;return g;}function h1(g){K.pending_buf[K.pending++]=g;}function I1(g){h1(g&0xff);h1((g>>>8)&0xff);}function Y1(g){h1((g>>8)&0xff);h1((g&0xff)&0xff);}function l1(g,j){var m,n=j;if(H0>d3-n){m=g;K0|=((m<<H0)&0xffff);I1(K0);K0=m>>>(d3-H0);H0+=n-d3;}else{K0|=(((g)<<H0)&0xffff);H0+=n;}}function y1(g,j){var m=g*2;l1(j[m]&0xffff,j[m+1]&0xffff);}function z2(g,j){var m,n=-1,o,q=g[0*2+1],s=0,t=7,v=4;if(q===0){t=138;v=3;}for(m=0;m<=j;m++){o=q;q=g[(m+1)*2+1];if(++s<t&&o==q){continue;}else if(s<v){do {y1(o,Q0);}while(--s!==0);}else if(o!==0){if(o!=n){y1(o,Q0);s--;}y1(r3,Q0);l1(s-3,2);}else if(s<=10){y1(o3,Q0);l1(s-3,3);}else{y1(l3,Q0);l1(s-11,7);}s=0;n=o;if(q===0){t=138;v=3;}else if(o==q){t=6;v=3;}else{t=7;v=4;}}}function U2(g,j,m){var n;l1(g-257,5);l1(j-1,5);l1(m-4,4);for(n=0;n<m;n++){l1(Q0[R0.bl_order[n]*2+1],3);}z2(W0,g-1);z2(q1,j-1);}function w2(){if(H0==16){I1(K0);K0=0;H0=0;}else if(H0>=8){h1(K0&0xff);K0>>>=8;H0-=8;}}function j3(){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();if(1+q0+10-H0<9){l1(f3<<1,3);y1(t2,s1.static_ltree);w2();}q0=7;}function Z1(g,j){var m,n,o;K.pending_buf[B0+X0*2]=(g>>>8)&0xff;K.pending_buf[B0+X0*2+1]=g&0xff;K.pending_buf[o1+X0]=j&0xff;X0++;if(g===0){W0[j*2]++;}else{i1++;g--;W0[(R0._length_code[j]+k2+1)*2]++;q1[R0.d_code(g)*2]++;}if((X0&0x1fff)===0&&D0>2){m=X0*8;n=Z-f0;for(o=0;o<r1;o++){m+=q1[o*2]*(5+R0.extra_dbits[o]);}m>>>=3;if((i1<Math.floor(X0/2))&&m<Math.floor(n/2))return u4b.q4;}return (X0==u1-1);}function f2(g,j){var m,n,o=0,q,s;if(X0!==0){do {m=((K.pending_buf[B0+o*2]<<8)&0xff00)|(K.pending_buf[B0+o*2+1]&0xff);n=(K.pending_buf[o1+o])&0xff;o++;if(m===0){y1(n,g);}else{q=R0._length_code[n];y1(q+k2+1,g);s=R0.extra_lbits[q];if(s!==0){n-=R0.base_length[q];l1(n,s);}m--;q=R0.d_code(m);y1(q,j);s=R0.extra_dbits[q];if(s!==0){m-=R0.base_dist[q];l1(m,s);}}}while(o<X0);}y1(t2,g);q0=g[t2*2+1];}function B2(){if(H0>8){I1(K0);}else if(H0>0){h1(K0&0xff);}K0=0;H0=0;}function X2(g,j,m){B2();q0=8;if(m){I1(j);I1(~j);}K.pending_buf.set(Q.subarray(g,g+j),K.pending);K.pending+=j;}function A2(g,j,m){l1((R3<<1)+(m?1:0),3);X2(g,j,u4b.q4);}function V2(g,j,m){var n,o,q=0;if(D0>0){f1.build_tree(K);F0.build_tree(K);q=X1();n=(K.opt_len+3+7)>>>3;o=(K.static_len+3+7)>>>3;if(o<=n)n=o;}else{n=o=j+5;}if((j+4<=n)&&g!=-1){A2(g,j,m);}else if(o==n){l1((f3<<1)+(m?1:0),3);f2(s1.static_ltree,s1.static_dtree);}else{l1((Q3<<1)+(m?1:0),3);U2(f1.max_code+1,F0.max_code+1,q+1);f2(W0,q1);}v1();if(m){B2();}}function M1(g){V2(f0>=0?f0:-1,Z-f0,g);f0=Z;M.flush_pending();}function g2(){var g,j,m,n;do {n=(s0-w0-Z);if(n===0&&Z===0&&w0===0){n=U;}else if(n==-1){n--;}else if(Z>=U+U-C1){Q.set(Q.subarray(U,U+U),0);I0-=U;Z-=U;f0-=U;g=e0;m=g;do {j=(m0[--m]&0xffff);m0[m]=(j>=U?j-U:0);}while(--g!==0);g=U;m=g;do {j=(k0[--m]&0xffff);k0[m]=(j>=U?j-U:0);}while(--g!==0);n+=U;}if(M.avail_in===0)return ;g=M.read_buf(Q,Z+w0,n);w0+=g;if(w0>=e1){j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}while(w0<C1&&M.avail_in!==0);}function r2(g){var j=0xffff,m;if(j>P-5){j=P-5;}while(u4b.q4){if(w0<=1){g2();if(w0===0&&g==m2)return F1;if(w0===0)break;}Z+=w0;w0=0;m=f0+j;if(Z===0||Z>=m){w0=(Z-m);Z=m;M1(u4b.K4);if(M.avail_out===0)return F1;}if(Z-f0>=U-C1){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0)return (g==B1)?u2:F1;return g==B1?M2:L2;}function h2(g){var j=U0,m=Z,n,o,q=l0,s=Z>(U-C1)?Z-(U-C1):0,t=x1,v=W,H=Z+P2,z=Q[m+q-1],I=Q[m+q];if(l0>=t1){j>>=2;}if(t>w0)t=w0;do {n=g;if(Q[n+q]!=I||Q[n+q-1]!=z||Q[n]!=Q[m]||Q[++n]!=Q[m+1])continue;m+=2;n++;do {}while(Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&Q[++m]==Q[++n]&&m<H);o=P2-(H-m);m=H-P2;if(o>q){I0=g;q=o;if(o>=t)break;z=Q[m+q-1];I=Q[m+q];}}while((g=(k0[g&v]&0xffff))>s&&--j!==0);if(q<=w0)return q;return w0;}function d2(g){var j=0,m;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}if(j!==0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}}if(v0>=e1){m=Z1(Z-I0,v0-e1);w0-=v0;if(v0<=O0&&w0>=e1){v0--;do {Z++;j0=((j0<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}while(--v0!==0);Z++;}else{Z+=v0;v0=0;j0=Q[Z]&0xff;j0=(((j0)<<y0)^(Q[Z+1]&0xff))&S;}}else{m=Z1(0,Q[Z]&0xff);w0--;Z++;}if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function D2(g){var j=0,m,n;while(u4b.q4){if(w0<C1){g2();if(w0<C1&&g==m2){return F1;}if(w0===0)break;}if(w0>=e1){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}l0=v0;z0=I0;v0=e1-1;if(j!==0&&l0<O0&&((Z-j)&0xffff)<=U-C1){if(N0!=G2){v0=h2(j);}if(v0<=5&&(N0==E3||(v0==e1&&Z-I0>4096))){v0=e1-1;}}if(l0>=e1&&v0<=l0){n=Z+w0-e1;m=Z1(Z-1-z0,l0-e1);w0-=l0-1;l0-=2;do {if(++Z<=n){j0=(((j0)<<y0)^(Q[(Z)+(e1-1)]&0xff))&S;j=(m0[j0]&0xffff);k0[Z&W]=m0[j0];m0[j0]=Z;}}while(--l0!==0);C0=0;v0=e1-1;Z++;if(m){M1(u4b.K4);if(M.avail_out===0)return F1;}}else if(C0!==0){m=Z1(0,Q[Z-1]&0xff);if(m){M1(u4b.K4);}Z++;w0--;if(M.avail_out===0)return F1;}else{C0=1;Z++;w0--;}}if(C0!==0){m=Z1(0,Q[Z-1]&0xff);C0=0;}M1(g==B1);if(M.avail_out===0){if(g==B1)return u2;else return F1;}return g==B1?M2:L2;}function o2(g){g.total_in=g.total_out=0;g.msg=u4b.p4;K.pending=0;K.pending_out=0;N=Q2;X=m2;H1();g0();return O1;}K.deflateInit=function(g,j,m,n,o,q){if(!n)n=h3;if(!o)o=N3;if(!q)q=G3;g.msg=u4b.p4;if(j==Z2)j=6;if(o<1||o>J3||n!=h3||m<9||m>15||j<0||j>9||q<0||q>G2){return R1;}g.dstate=K;Y=m;U=1<<Y;W=U-1;R=o+7;e0=1<<R;S=e0-1;y0=Math.floor((R+e1-1)/e1);Q=new Uint8Array(U*2);k0=[];m0=[];u1=1<<(o+6);K.pending_buf=new Uint8Array(u1*4);P=u1*4;B0=Math.floor(u1/2);o1=(1+2)*u1;D0=j;N0=q;O=n&0xff;return o2(g);};K.deflateEnd=function(){if(N!=i3&&N!=Q2&&N!=v2){return R1;}K.pending_buf=u4b.p4;m0=u4b.p4;k0=u4b.p4;Q=u4b.p4;K.dstate=u4b.p4;return N==Q2?O3:O1;};K.deflateParams=function(g,j,m){var n=O1;if(j==Z2){j=6;}if(j<0||j>9||m<0||m>G2){return R1;}if(T1[D0].func!=T1[j].func&&g.total_in!==0){n=g.deflate(v3);}if(D0!=j){D0=j;O0=T1[D0].max_lazy;t1=T1[D0].good_length;x1=T1[D0].nice_length;U0=T1[D0].max_chain;}N0=m;return n;};K.deflateSetDictionary=function(g,j,m){var n=m,o,q=0;if(!j||N!=i3)return R1;if(n<e1)return O1;if(n>U-C1){n=U-C1;q=m-n;}Q.set(j.subarray(q,q+n),0);Z=n;f0=n;j0=Q[0]&0xff;j0=(((j0)<<y0)^(Q[1]&0xff))&S;for(o=0;o<=n-e1;o++){j0=(((j0)<<y0)^(Q[(o)+(e1-1)]&0xff))&S;k0[o&W]=m0[j0];m0[j0]=o;}return O1;};K.deflate=function(g,j){var m,n,o,q,s;if(j>B1||j<0){return R1;}if(!g.next_out||(!g.next_in&&g.avail_in!==0)||(N==v2&&j!=B1)){g.msg=O2[F2-(R1)];return R1;}if(g.avail_out===0){g.msg=O2[F2-(n2)];return n2;}M=g;q=X;X=j;if(N==i3){n=(h3+((Y-8)<<4))<<8;o=((D0-1)&0xff)>>1;if(o>3)o=3;n|=(o<<6);if(Z!==0)n|=P3;n+=31-(n%31);N=Q2;Y1(n);}if(K.pending!==0){M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}else if(M.avail_in===0&&j<=q&&j!=B1){M.msg=O2[F2-(n2)];return n2;}if(N==v2&&M.avail_in!==0){g.msg=O2[F2-(n2)];return n2;}if(M.avail_in!==0||w0!==0||(j!=m2&&N!=v2)){s=-1;switch(T1[D0].func){case w3:s=r2(j);break;case H2:s=d2(j);break;case e2:s=D2(j);break;default:}if(s==u2||s==M2){N=v2;}if(s==F1||s==u2){if(M.avail_out===0){X=-1;}return O1;}if(s==L2){if(j==v3){j3();}else{A2(0,0,u4b.K4);if(j==H3){for(m=0;m<e0;m++)m0[m]=0;}}M.flush_pending();if(M.avail_out===0){X=-1;return O1;}}}if(j!=B1)return O1;return t3;};}function z3(){var g=this;g.next_in_index=0;g.next_out_index=0;g.avail_in=0;g.total_in=0;g.avail_out=0;g.total_out=0;}z3.prototype={deflateInit:function(g,j){var m=this;m.dstate=new S3();if(!j)j=U1;return m.dstate.deflateInit(m,g,j);},deflate:function(g){var j=this;if(!j.dstate){return R1;}return j.dstate.deflate(j,g);},deflateEnd:function(){var g=this;if(!g.dstate)return R1;var j=g.dstate.deflateEnd();g.dstate=u4b.p4;return j;},deflateParams:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateParams(m,g,j);},deflateSetDictionary:function(g,j){var m=this;if(!m.dstate)return R1;return m.dstate.deflateSetDictionary(m,g,j);},read_buf:function(g,j,m){var n=this,o=n.avail_in;if(o>m)o=m;if(o===0)return 0;n.avail_in-=o;g.set(n.next_in.subarray(n.next_in_index,n.next_in_index+o),j);n.next_in_index+=o;n.total_in+=o;return o;},flush_pending:function(){var g=this,j=g.dstate.pending;if(j>g.avail_out)j=g.avail_out;if(j===0)return ;g.next_out.set(g.dstate.pending_buf.subarray(g.dstate.pending_out,g.dstate.pending_out+j),g.next_out_index);g.next_out_index+=j;g.dstate.pending_out+=j;g.total_out+=j;g.avail_out-=j;g.dstate.pending-=j;if(g.dstate.pending===0){g.dstate.pending_out=0;}}};return function T3(H){var z="deflating: ",I=this,K=new z3(),M=512,N=m2,P=new Uint8Array(M);if(typeof H==u4b.p3)H=Z2;K.deflateInit(H);K.next_out=P;I.append=function(j,m){var n,o=[],q=0,s=0,t=0,v;if(!j.length)return ;K.next_in_index=0;K.next_in=j;K.avail_in=j.length;do {K.next_out_index=0;K.avail_out=M;n=K.deflate(N);if(n!=O1)throw "deflating: "+K.msg;if(K.next_out_index)if(K.next_out_index==M)o.push(new Uint8Array(P));else o.push(new Uint8Array(P.subarray(0,K.next_out_index)));t+=K.next_out_index;if(m&&K.next_in_index>0&&K.next_in_index!=q){m(K.next_in_index);q=K.next_in_index;}}while(K.avail_in>0||K.avail_out===0);v=new Uint8Array(t);o.forEach(function(g){v.set(g,s);s+=g.length;});return v;};I.flush=function(){var j,m=[],n=0,o=0,q;do {K.next_out_index=0;K.avail_out=M;j=K.deflate(B1);if(j!=t3&&j!=O1)throw z+K.msg;if(M-K.avail_out>0)m.push(new Uint8Array(P.subarray(0,K.next_out_index)));o+=K.next_out_index;}while(K.avail_in>0||K.avail_out===0);K.deflateEnd();q=new Uint8Array(o);m.forEach(function(g){q.set(g,n);n+=g.length;});return q;};};})(this);(function(C0){var Z;Z=(function(){var m0,j0,e0,R,S,y0,f0,v0;z0.load=function(m,n,o){var q,s=this;if(typeof n==='function'){o=n;}q=new XMLHttpRequest;q.open("GET",m,true);q.responseType="arraybuffer";q.onload=function(){var g,j;g=new Uint8Array(q.response||q.mozResponseArrayBuffer);j=new z0(g);if(typeof (n!=null?n.getContext:void 0)==='function'){j.render(n);}return typeof o==="function"?o(j):void 0;};return q.send(null);};R=0;e0=1;S=2;j0=0;m0=1;function z0(m){var n,o,q,s,t,v,H,z,I,K,M,N,P,O,X;this.data=m;this.pos=8;this.palette=[];this.imgData=[];this.transparency={};this.animation=null;this.text={};v=null;while(true){n=this.readUInt32();K=((function(){var g,j;j=[];for(H=g=0;g<4;H=++g){j.push(String.fromCharCode(this.data[this.pos++]));}return j;}).call(this)).join('');switch(K){case 'IHDR':this.width=this.readUInt32();this.height=this.readUInt32();this.bits=this.data[this.pos++];this.colorType=this.data[this.pos++];this.compressionMethod=this.data[this.pos++];this.filterMethod=this.data[this.pos++];this.interlaceMethod=this.data[this.pos++];break;case 'acTL':this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||Infinity,frames:[]};break;case 'PLTE':this.palette=this.read(n);break;case 'fcTL':if(v){this.animation.frames.push(v);}this.pos+=4;v={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()};t=this.readUInt16();s=this.readUInt16()||100;v.delay=1000*t/s;v.disposeOp=this.data[this.pos++];v.blendOp=this.data[this.pos++];v.data=[];break;case 'IDAT':case 'fdAT':if(K==='fdAT'){this.pos+=4;n-=4;}m=(v!=null?v.data:void 0)||this.imgData;for(H=P=0;0<=n?P<n:P>n;H=0<=n?++P:--P){m.push(this.data[this.pos++]);}break;case 'tRNS':this.transparency={};switch(this.colorType){case 3:q=this.palette.length/3;this.transparency.indexed=this.read(n);if(this.transparency.indexed.length>q)throw  new Error('More transparent colors than palette size');M=q-this.transparency.indexed.length;if(M>0){for(H=O=0;0<=M?O<M:O>M;H=0<=M?++O:--O){this.transparency.indexed.push(255);}}break;case 0:this.transparency.grayscale=this.read(n)[0];break;case 2:this.transparency.rgb=this.read(n);}break;case 'tEXt':N=this.read(n);z=N.indexOf(0);I=String.fromCharCode.apply(String,N.slice(0,z));this.text[I]=String.fromCharCode.apply(String,N.slice(z+1));break;case 'IEND':if(v){this.animation.frames.push(v);}this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3;}}).call(this);this.hasAlphaChannel=(X=this.colorType)===4||X===6;o=this.colors+(this.hasAlphaChannel?1:0);this.pixelBitlength=this.bits*o;this.colorSpace=(function(){switch(this.colors){case 1:return 'DeviceGray';case 3:return 'DeviceRGB';}}).call(this);this.imgData=new Uint8Array(this.imgData);return ;default:this.pos+=n;}this.pos+=4;if(this.pos>this.data.length){throw  new Error("Incomplete or corrupt PNG file");}}return ;}z0.prototype.read=function(g){var j,m,n;n=[];for(j=m=0;0<=g?m<g:m>g;j=0<=g?++m:--m){n.push(this.data[this.pos++]);}return n;};z0.prototype.readUInt32=function(){var g,j,m,n;g=this.data[this.pos++]<<24;j=this.data[this.pos++]<<16;m=this.data[this.pos++]<<8;n=this.data[this.pos++];return g|j|m|n;};z0.prototype.readUInt16=function(){var g,j;g=this.data[this.pos++]<<8;j=this.data[this.pos++];return g|j;};z0.prototype.decodePixels=function(g){var j,m,n,o,q,s,t,v,H,z,I,K,M,N,P,O,X,U,Y,W,Q,s0,k0;if(g==null){g=this.imgData;}if(g.length===0){return new Uint8Array(0);}g=new FlateStream(g);g=g.getBytes();K=this.pixelBitlength/8;O=K*this.width;M=new Uint8Array(O*this.height);s=g.length;P=0;N=0;m=0;while(N<s){switch(g[N++]){case 0:for(o=Y=0;Y<O;o=Y+=1){M[m++]=g[N++];}break;case 1:for(o=W=0;W<O;o=W+=1){j=g[N++];q=o<K?0:M[m-K];M[m++]=(j+q)%256;}break;case 2:for(o=Q=0;Q<O;o=Q+=1){j=g[N++];n=(o-(o%K))/K;X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(X+j)%256;}break;case 3:for(o=s0=0;s0<O;o=s0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];X=P&&M[(P-1)*O+n*K+(o%K)];M[m++]=(j+Math.floor((q+X)/2))%256;}break;case 4:for(o=k0=0;k0<O;o=k0+=1){j=g[N++];n=(o-(o%K))/K;q=o<K?0:M[m-K];if(P===0){X=U=0;}else{X=M[(P-1)*O+n*K+(o%K)];U=n&&M[(P-1)*O+(n-1)*K+(o%K)];}t=q+X-U;v=Math.abs(t-q);z=Math.abs(t-X);I=Math.abs(t-U);if(v<=z&&v<=I){H=q;}else if(z<=I){H=X;}else{H=U;}M[m++]=(j+H)%256;}break;default:throw  new Error("Invalid filter algorithm: "+g[N-1]);}P++;}return M;};z0.prototype.decodePalette=function(){var g,j,m,n,o,q,s,t,v,H;n=this.palette;s=this.transparency.indexed||[];q=new Uint8Array((s.length||0)+n.length);o=0;m=n.length;g=0;for(j=t=0,v=n.length;t<v;j=t+=3){q[o++]=n[j];q[o++]=n[j+1];q[o++]=n[j+2];q[o++]=(H=s[g++])!=null?H:255;}return q;};z0.prototype.copyToImageData=function(g,j){var m,n,o,q,s,t,v,H,z,I,K;n=this.colors;z=null;m=this.hasAlphaChannel;if(this.palette.length){z=(K=this._decodedPalette)!=null?K:this._decodedPalette=this.decodePalette();n=4;m=true;}o=g.data||g;H=o.length;s=z||j;q=t=0;if(n===1){while(q<H){v=z?j[q/4]*4:t;I=s[v++];o[q++]=I;o[q++]=I;o[q++]=I;o[q++]=m?s[v++]:255;t=v;}}else{while(q<H){v=z?j[q/4]*4:t;o[q++]=s[v++];o[q++]=s[v++];o[q++]=s[v++];o[q++]=m?s[v++]:255;t=v;}}};z0.prototype.decode=function(){var g;g=new Uint8Array(this.width*this.height*4);this.copyToImageData(g,this.decodePixels());return g;};try{f0=C0.document.createElement('canvas');v0=f0.getContext('2d');}catch(g){return -1;}y0=function(g){var j;v0.width=g.width;v0.height=g.height;v0.clearRect(0,0,g.width,g.height);v0.putImageData(g,0,0);j=new Image;j.src=f0.toDataURL();return j;};z0.prototype.decodeFrames=function(g){var j,m,n,o,q,s,t,v;if(!this.animation){return ;}t=this.animation.frames;v=[];for(m=q=0,s=t.length;q<s;m=++q){j=t[m];n=g.createImageData(j.width,j.height);o=this.decodePixels(new Uint8Array(j.data));this.copyToImageData(n,o);j.imageData=n;v.push(j.image=y0(n));}return v;};z0.prototype.renderFrame=function(g,j){var m,n,o;n=this.animation.frames;m=n[j];o=n[j-1];if(j===0){g.clearRect(0,0,this.width,this.height);}if((o!=null?o.disposeOp:void 0)===e0){g.clearRect(o.xOffset,o.yOffset,o.width,o.height);}else if((o!=null?o.disposeOp:void 0)===S){g.putImageData(o.imageData,o.xOffset,o.yOffset);}if(m.blendOp===j0){g.clearRect(m.xOffset,m.yOffset,m.width,m.height);}return g.drawImage(m.image,m.xOffset,m.yOffset);};z0.prototype.animate=function(m){var n,o,q,s,t,v,H=this;o=0;v=this.animation,s=v.numFrames,q=v.frames,t=v.numPlays;return (n=function(){var g,j;g=o++%s;j=q[g];H.renderFrame(m,g);if(s>1&&o/s<t){return H.animation._timeout=setTimeout(n,j.delay);}})();};z0.prototype.stopAnimation=function(){var g;return clearTimeout((g=this.animation)!=null?g._timeout:void 0);};z0.prototype.render=function(g){var j,m;if(g._png){g._png.stopAnimation();}g._png=this;g.width=this.width;g.height=this.height;j=g.getContext("2d");if(this.animation){this.decodeFrames(j);return this.animate(j);}else{m=j.createImageData(this.width,this.height);this.copyToImageData(m,this.decodePixels());return j.putImageData(m,0,0);}};return z0;})();C0.PNG=Z;})(typeof window!==u4b.p3&&window||this);var DecodeStream=(function(){function s(){this.pos=0;this.bufferLength=0;this.eof=u4b.K4;this.buffer=u4b.p4;}s.prototype={ensureBuffer:function decodestream_ensureBuffer(g){var j=this.buffer,m=j?j.byteLength:0;if(g<m)return j;var n=512;while(n<g)n<<=1;var o=new Uint8Array(n);for(var q=0;q<m;++q)o[q]=j[q];return this.buffer=o;},getByte:function decodestream_getByte(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return this.buffer[this.pos++];},getBytes:function decodestream_getBytes(g){var j=this.pos;if(g){this.ensureBuffer(j+g);var m=j+g;while(!this.eof&&this.bufferLength<m)this.readBlock();var n=this.bufferLength;if(m>n)m=n;}else{while(!this.eof)this.readBlock();var m=this.bufferLength;}this.pos=m;return this.buffer.subarray(j,m);},lookChar:function decodestream_lookChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos]);},getChar:function decodestream_getChar(){var g=this.pos;while(this.bufferLength<=g){if(this.eof)return null;this.readBlock();}return String.fromCharCode(this.buffer[this.pos++]);},makeSubStream:function decodestream_makeSubstream(g,j,m){var n=g+j;while(this.bufferLength<=n&&!this.eof)this.readBlock();return new Stream(this.buffer,g,j,m);},skip:function decodestream_skip(g){if(!g)g=1;this.pos+=g;},reset:function decodestream_reset(){this.pos=0;}};return s;})(),FlateStream=(function(){if(typeof Uint32Array===u4b.U3){return undefined;}var I0=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w0=new Uint32Array([0x00003,0x00004,0x00005,0x00006,0x00007,0x00008,0x00009,0x0000a,0x1000b,0x1000d,0x1000f,0x10011,0x20013,0x20017,0x2001b,0x2001f,0x30023,0x3002b,0x30033,0x3003b,0x40043,0x40053,0x40063,0x40073,0x50083,0x500a3,0x500c3,0x500e3,0x00102,0x00102,0x00102]),l0=new Uint32Array([0x00001,0x00002,0x00003,0x00004,0x10005,0x10007,0x20009,0x2000d,0x30011,0x30019,0x40021,0x40031,0x50041,0x50061,0x60081,0x600c1,0x70101,0x70181,0x80201,0x80301,0x90401,0x90601,0xa0801,0xa0c01,0xb1001,0xb1801,0xc2001,0xc3001,0xd4001,0xd6001]),U0=[new Uint32Array([0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c0,0x70108,0x80060,0x80020,0x900a0,0x80000,0x80080,0x80040,0x900e0,0x70104,0x80058,0x80018,0x90090,0x70114,0x80078,0x80038,0x900d0,0x7010c,0x80068,0x80028,0x900b0,0x80008,0x80088,0x80048,0x900f0,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c8,0x7010a,0x80064,0x80024,0x900a8,0x80004,0x80084,0x80044,0x900e8,0x70106,0x8005c,0x8001c,0x90098,0x70116,0x8007c,0x8003c,0x900d8,0x7010e,0x8006c,0x8002c,0x900b8,0x8000c,0x8008c,0x8004c,0x900f8,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c4,0x70109,0x80062,0x80022,0x900a4,0x80002,0x80082,0x80042,0x900e4,0x70105,0x8005a,0x8001a,0x90094,0x70115,0x8007a,0x8003a,0x900d4,0x7010d,0x8006a,0x8002a,0x900b4,0x8000a,0x8008a,0x8004a,0x900f4,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cc,0x7010b,0x80066,0x80026,0x900ac,0x80006,0x80086,0x80046,0x900ec,0x70107,0x8005e,0x8001e,0x9009c,0x70117,0x8007e,0x8003e,0x900dc,0x7010f,0x8006e,0x8002e,0x900bc,0x8000e,0x8008e,0x8004e,0x900fc,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c2,0x70108,0x80061,0x80021,0x900a2,0x80001,0x80081,0x80041,0x900e2,0x70104,0x80059,0x80019,0x90092,0x70114,0x80079,0x80039,0x900d2,0x7010c,0x80069,0x80029,0x900b2,0x80009,0x80089,0x80049,0x900f2,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900ca,0x7010a,0x80065,0x80025,0x900aa,0x80005,0x80085,0x80045,0x900ea,0x70106,0x8005d,0x8001d,0x9009a,0x70116,0x8007d,0x8003d,0x900da,0x7010e,0x8006d,0x8002d,0x900ba,0x8000d,0x8008d,0x8004d,0x900fa,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c6,0x70109,0x80063,0x80023,0x900a6,0x80003,0x80083,0x80043,0x900e6,0x70105,0x8005b,0x8001b,0x90096,0x70115,0x8007b,0x8003b,0x900d6,0x7010d,0x8006b,0x8002b,0x900b6,0x8000b,0x8008b,0x8004b,0x900f6,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900ce,0x7010b,0x80067,0x80027,0x900ae,0x80007,0x80087,0x80047,0x900ee,0x70107,0x8005f,0x8001f,0x9009e,0x70117,0x8007f,0x8003f,0x900de,0x7010f,0x8006f,0x8002f,0x900be,0x8000f,0x8008f,0x8004f,0x900fe,0x70100,0x80050,0x80010,0x80118,0x70110,0x80070,0x80030,0x900c1,0x70108,0x80060,0x80020,0x900a1,0x80000,0x80080,0x80040,0x900e1,0x70104,0x80058,0x80018,0x90091,0x70114,0x80078,0x80038,0x900d1,0x7010c,0x80068,0x80028,0x900b1,0x80008,0x80088,0x80048,0x900f1,0x70102,0x80054,0x80014,0x8011c,0x70112,0x80074,0x80034,0x900c9,0x7010a,0x80064,0x80024,0x900a9,0x80004,0x80084,0x80044,0x900e9,0x70106,0x8005c,0x8001c,0x90099,0x70116,0x8007c,0x8003c,0x900d9,0x7010e,0x8006c,0x8002c,0x900b9,0x8000c,0x8008c,0x8004c,0x900f9,0x70101,0x80052,0x80012,0x8011a,0x70111,0x80072,0x80032,0x900c5,0x70109,0x80062,0x80022,0x900a5,0x80002,0x80082,0x80042,0x900e5,0x70105,0x8005a,0x8001a,0x90095,0x70115,0x8007a,0x8003a,0x900d5,0x7010d,0x8006a,0x8002a,0x900b5,0x8000a,0x8008a,0x8004a,0x900f5,0x70103,0x80056,0x80016,0x8011e,0x70113,0x80076,0x80036,0x900cd,0x7010b,0x80066,0x80026,0x900ad,0x80006,0x80086,0x80046,0x900ed,0x70107,0x8005e,0x8001e,0x9009d,0x70117,0x8007e,0x8003e,0x900dd,0x7010f,0x8006e,0x8002e,0x900bd,0x8000e,0x8008e,0x8004e,0x900fd,0x70100,0x80051,0x80011,0x80119,0x70110,0x80071,0x80031,0x900c3,0x70108,0x80061,0x80021,0x900a3,0x80001,0x80081,0x80041,0x900e3,0x70104,0x80059,0x80019,0x90093,0x70114,0x80079,0x80039,0x900d3,0x7010c,0x80069,0x80029,0x900b3,0x80009,0x80089,0x80049,0x900f3,0x70102,0x80055,0x80015,0x8011d,0x70112,0x80075,0x80035,0x900cb,0x7010a,0x80065,0x80025,0x900ab,0x80005,0x80085,0x80045,0x900eb,0x70106,0x8005d,0x8001d,0x9009b,0x70116,0x8007d,0x8003d,0x900db,0x7010e,0x8006d,0x8002d,0x900bb,0x8000d,0x8008d,0x8004d,0x900fb,0x70101,0x80053,0x80013,0x8011b,0x70111,0x80073,0x80033,0x900c7,0x70109,0x80063,0x80023,0x900a7,0x80003,0x80083,0x80043,0x900e7,0x70105,0x8005b,0x8001b,0x90097,0x70115,0x8007b,0x8003b,0x900d7,0x7010d,0x8006b,0x8002b,0x900b7,0x8000b,0x8008b,0x8004b,0x900f7,0x70103,0x80057,0x80017,0x8011f,0x70113,0x80077,0x80037,0x900cf,0x7010b,0x80067,0x80027,0x900af,0x80007,0x80087,0x80047,0x900ef,0x70107,0x8005f,0x8001f,0x9009f,0x70117,0x8007f,0x8003f,0x900df,0x7010f,0x8006f,0x8002f,0x900bf,0x8000f,0x8008f,0x8004f,0x900ff]),9],O0=[new Uint32Array([0x50000,0x50010,0x50008,0x50018,0x50004,0x50014,0x5000c,0x5001c,0x50002,0x50012,0x5000a,0x5001a,0x50006,0x50016,0x5000e,0x00000,0x50001,0x50011,0x50009,0x50019,0x50005,0x50015,0x5000d,0x5001d,0x50003,0x50013,0x5000b,0x5001b,0x50007,0x50017,0x5000f,0x00000]),5];function D0(g){throw  new Error(g);}function N0(g){var j=0,m=g[j++],n=g[j++];if(m==-1||n==-1)D0('Invalid header in flate stream');if((m&0x0f)!=0x08)D0('Unknown compression method in flate stream');if((((m<<8)+n)%31)!=0)D0('Bad FCHECK in flate stream');if(n&0x20)D0('FDICT bit set in flate stream');this.bytes=g;this.bytesPos=j;this.codeSize=0;this.codeBuf=0;DecodeStream.call(this);}N0.prototype=Object.create(DecodeStream.prototype);N0.prototype.getBits=function(g){var j=this.codeSize,m=this.codeBuf,n=this.bytes,o=this.bytesPos,q;while(j<g){if(typeof (q=n[o++])==u4b.U3)D0('Bad encoding in flate stream');m|=q<<j;j+=8;}q=m&((1<<g)-1);this.codeBuf=m>>g;this.codeSize=j-=g;this.bytesPos=o;return q;};N0.prototype.getCode=function(g){var j=g[0],m=g[1],n=this.codeSize,o=this.codeBuf,q=this.bytes,s=this.bytesPos;while(n<m){var t;if(typeof (t=q[s++])==u4b.U3)D0('Bad encoding in flate stream');o|=(t<<n);n+=8;}var v=j[o&((1<<m)-1)],H=v>>16,z=v&0xffff;if(n==0||n<H||H==0)D0('Bad encoding in flate stream');this.codeBuf=(o>>H);this.codeSize=(n-H);this.bytesPos=s;return z;};N0.prototype.generateHuffmanTable=function(g){var j=g.length,m=0;for(var n=0;n<j;++n){if(g[n]>m)m=g[n];}var o=1<<m,q=new Uint32Array(o);for(var s=1,t=0,v=2;s<=m;++s,t<<=1,v<<=1){for(var H=0;H<j;++H){if(g[H]==s){var z=0,I=t;for(var n=0;n<s;++n){z=(z<<1)|(I&1);I>>=1;}for(var n=z;n<o;n+=v)q[n]=(s<<16)|H;++t;}}}return [q,m];};N0.prototype.readBlock=function(){function s(g,j,m,n,o){var q=g.getBits(m)+n;while(q-->0)j[k0++]=o;}var t=this.getBits(3);if(t&1)this.eof=true;t>>=1;if(t==0){var v=this.bytes,H=this.bytesPos,z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var I=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');I|=(z<<8);if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');var K=z;if(typeof (z=v[H++])=='undefined')D0('Bad block header in flate stream');K|=(z<<8);if(K!=(~I&0xffff))D0('Bad uncompressed block length in flate stream');this.codeBuf=0;this.codeSize=0;var M=this.bufferLength,N=this.ensureBuffer(M+I),P=M+I;this.bufferLength=P;for(var O=M;O<P;++O){if(typeof (z=v[H++])=='undefined'){this.eof=true;break;}N[O]=z;}this.bytesPos=H;return ;}var X,U;if(t==1){X=U0;U=O0;}else if(t==2){var Y=this.getBits(5)+257,W=this.getBits(5)+1,Q=this.getBits(4)+4,s0=Array(I0.length),k0=0;while(k0<Q)s0[I0[k0++]]=this.getBits(3);var m0=this.generateHuffmanTable(s0),j0=0,k0=0,e0=Y+W,R=new Array(e0);while(k0<e0){var S=this.getCode(m0);if(S==16){s(this,R,2,3,j0);}else if(S==17){s(this,R,3,3,j0=0);}else if(S==18){s(this,R,7,11,j0=0);}else{R[k0++]=j0=S;}}X=this.generateHuffmanTable(R.slice(0,Y));U=this.generateHuffmanTable(R.slice(Y,e0));}else{D0('Unknown block type in flate stream');}var N=this.buffer,y0=N?N.length:0,f0=this.bufferLength;while(true){var v0=this.getCode(X);if(v0<256){if(f0+1>=y0){N=this.ensureBuffer(f0+1);y0=N.length;}N[f0++]=v0;continue;}if(v0==256){this.bufferLength=f0;return ;}v0-=257;v0=w0[v0];var z0=v0>>16;if(z0>0)z0=this.getBits(z0);var j0=(v0&0xffff)+z0;v0=this.getCode(U);v0=l0[v0];z0=v0>>16;if(z0>0)z0=this.getBits(z0);var C0=(v0&0xffff)+z0;if(f0+j0>=y0){N=this.ensureBuffer(f0+j0);y0=N.length;}for(var Z=0;Z<j0;++Z,++f0)N[f0]=N[f0-C0];}};return N0;})();(function(N){var P='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';if(typeof N.btoa===u4b.U3){N.btoa=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}do {j=g.charCodeAt(H++);m=g.charCodeAt(H++);n=g.charCodeAt(H++);v=j<<16|m<<8|n;o=v>>18&0x3f;q=v>>12&0x3f;s=v>>6&0x3f;t=v&0x3f;K[z++]=P.charAt(o)+P.charAt(q)+P.charAt(s)+P.charAt(t);}while(H<g.length);I=K.join('');var M=g.length%3;return (M?I.slice(0,M-3):I)+'==='.slice(M||3);};}if(typeof N.atob===u4b.U3){N.atob=function(g){var j,m,n,o,q,s,t,v,H=0,z=0,I='',K=[];if(!g){return g;}g+='';do {o=P.indexOf(g.charAt(H++));q=P.indexOf(g.charAt(H++));s=P.indexOf(g.charAt(H++));t=P.indexOf(g.charAt(H++));v=o<<18|q<<12|s<<6|t;j=v>>16&0xff;m=v>>8&0xff;n=v&0xff;if(s==64){K[z++]=String.fromCharCode(j);}else if(t==64){K[z++]=String.fromCharCode(j,m);}else{K[z++]=String.fromCharCode(j,m,n);}}while(H<g.length);I=K.join('');return I;};}if(!Array.prototype.map){Array.prototype.map=function(g){if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var j=Object(this),m=j.length>>>0,n=new Array(m),o=arguments.length>1?arguments[1]:void 0;for(var q=0;q<m;q++){if(q in j)n[q]=g.call(o,j[q],q,j);}return n;};}if(!Array.isArray){Array.isArray=function(g){return Object.prototype.toString.call(g)==='[object Array]';};}if(!Array.prototype.forEach){Array.prototype.forEach=function(g,j){"use strict";if(this===void 0||this===null||typeof g!=="function")throw  new TypeError();var m=Object(this),n=m.length>>>0;for(var o=0;o<n;o++){if(o in m)g.call(j,m[o],o,m);}};}if(!Object.keys){Object.keys=(function(){'use strict';var o=Object.prototype.hasOwnProperty,q=!({toString:null}).propertyIsEnumerable('toString'),s=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],t=s.length;return function(g){if(typeof g!=='object'&&(typeof g!=='function'||g===null)){throw  new TypeError();}var j=[],m,n;for(m in g){if(o.call(g,m)){j.push(m);}}if(q){for(n=0;n<t;n++){if(o.call(g,s[n])){j.push(s[n]);}}}return j;};}());}if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,'');};}if(!String.prototype.trimLeft){String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"");};}if(!String.prototype.trimRight){String.prototype.trimRight=function(){return this.replace(/\s+$/g,"");};}})(typeof self!==u4b.p3&&self||typeof window!==u4b.p3&&window||this);
/** @license Promise polyfill | Copyright (c) 2014 Taylor Hakes [https://github.com/taylorhakes/promise-polyfill] | MIT License [https://github.com/taylorhakes/promise-polyfill/blob/master/LICENSE] */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){"use strict";function e(){}function n(e){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],f(e,this)}function t(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,n._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(f){return void r(t.promise,f)}o(t.promise,i)}else(1===e._state?o:r)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var o=t.then;if(t instanceof n)return e._state=3,e._value=t,void i(e);if("function"==typeof o)return void f(function(e,n){return function(){e.apply(n,arguments)}}(o,t),e)}e._state=1,e._value=t,i(e)}catch(u){r(e,u)}}function r(e,n){e._state=2,e._value=n,i(e)}function i(e){2===e._state&&0===e._deferreds.length&&n._immediateFn(function(){e._handled||n._unhandledRejectionFn(e._value)});for(var o=0,r=e._deferreds.length;r>o;o++)t(e,e._deferreds[o]);e._deferreds=null}function f(e,n){var t=!1;try{e(function(e){t||(t=!0,o(n,e))},function(e){t||(t=!0,r(n,e))})}catch(i){if(t)return;t=!0,r(n,i)}}var u=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})},c=setTimeout;n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(n,o){var r=new this.constructor(e);return t(this,new function(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}(n,o,r)),r},n.prototype["finally"]=u,n.all=function(e){return new n(function(n,t){function o(e,f){try{if(f&&("object"==typeof f||"function"==typeof f)){var u=f.then;if("function"==typeof u)return void u.call(f,function(n){o(e,n)},t)}r[e]=f,0==--i&&n(r)}catch(c){t(c)}}if(!e||"undefined"==typeof e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return n([]);for(var i=r.length,f=0;r.length>f;f++)o(f,r[f])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(n){n(e)})},n.reject=function(e){return new n(function(n,t){t(e)})},n.race=function(e){return new n(function(n,t){for(var o=0,r=e.length;r>o;o++)e[o].then(n,t)})},n._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},n._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var l=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();l.Promise?l.Promise.prototype["finally"]||(l.Promise.prototype["finally"]=u):l.Promise=n});
/** @license html2canvas v0.5.0-beta3 | Copyright (c) 2018 Niklas von Hertzen [https://html2canvas.hertzen.com] | MIT License [https://github.com/niklasvh/html2canvas/blob/master/LICENSE] */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return s(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(f){t("Unable to copy canvas content from",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(n===!0||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,f):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e("./log");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=o,p.height=t,p.scrolling="no",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),"view"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+"px",o.documentElement.style.left=-s+"px",o.documentElement.style.position="absolute")),n(p))},50)},o.open(),o.write("<!DOCTYPE html><html></html>"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{"./log":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if(n=n||{},n.logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async="undefined"==typeof n.async?!0:n.async,n.allowTaint="undefined"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer="undefined"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled="undefined"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout="undefined"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+d,s="["+l+"='"+d+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s),p=Promise.resolve("function"==typeof n.onclone?n.onclone(u.document):!0);return p.then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w="view"===f.type?o:s(i.document),b="view"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",l,"height:",s),v("Resulting crop with width",n.width,"and height",n.height,"with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var p=n("./support"),c=n("./renderers/canvas"),y=n("./imageloader"),m=n("./nodeparser"),r=n("./nodecontainer"),v=n("./log"),w=n("./utils"),b=n("./clone"),g=n("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;f.exports=k,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return k})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,n){function f(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),n.complete===!0&&e(n)})}}var o=e("./log"),d=e("./utils").smallImage;n.exports=f},{"./log":13,"./utils":26}],6:[function(e,n){function f(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e("./utils").smallImage;n.exports=f},{"./utils":26}],7:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){var f=e("./core");return f(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var o=e("./utils"),d=o.getBounds,i=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,n.exports=f},{}],10:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,f.image.complete===!0&&o(f.image)})}n.exports=f},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),d=e("./imagecontainer"),i=e("./dummyimagecontainer"),t=e("./proxyimagecontainer"),l=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),a=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),c=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o("Added image #"+e.length,"string"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new d(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return"linear-gradient"===e.method?new a(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var n=new i(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o("Succesfully loaded image #"+(n+1),e)},function(f){o("Failed loading image #"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d["catch"](function(){clearTimeout(f)}),d},n.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case"center":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?"%":n[3];return{color:new d(n[1]),stop:"%"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,n.exports=f},{"./color":3,"./gradientcontainer":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var n=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",f=f.trim().split(" "),1===f.length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":3,"./utils":26}],15:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(W(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}
}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var f=e.css("border"+n+"Radius"),o=f.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position"),f=-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto";return"auto"!==f}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./stackingcontext"),V=e("./utils"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper"),d=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css("backgroundClip"),t=[];switch(i){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return Promise.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function d(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){c("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}var a=e("./xhr"),p=e("./utils"),c=e("./log"),y=e("./clone"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,n){function f(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin="Anonymous",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e})["catch"](i)})}var o=e("./proxy").ProxyURL;n.exports=f},{"./proxy":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement("canvas");return d.width=n.width,d.height=n.height,o=d.getContext("2d"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./xhr"),d=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{"./utils":26,"./xhr":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./svgcontainer":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":14}],26:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=" \r\n	",u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":9}],28:[function(e,n){function f(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}n.exports=f},{}]},{},[4])(4)});
/** @license JSZip v3.1.5 | Copyright (c) 2009-2016 Stuart Knightley <stuart@stuartk.com> [https://stuk.github.io/jszip/] | MIT or GPLv3 License [https://raw.github.com/Stuk/jszip/master/LICENSE.markdown] */
var r0="\x00\x00",k0='application/zip',e0="application/zip",n0="undefined",q0=null,h0=false;"use strict";var JSZip=function(k,l){this.files={};this.root="";if(k){this.load(k,l);}};JSZip.signature={LOCAL_FILE_HEADER:"\x50\x4b\x03\x04",CENTRAL_FILE_HEADER:"\x50\x4b\x01\x02",CENTRAL_DIRECTORY_END:"\x50\x4b\x05\x06",ZIP64_CENTRAL_DIRECTORY_LOCATOR:"\x50\x4b\x06\x07",ZIP64_CENTRAL_DIRECTORY_END:"\x50\x4b\x06\x06",DATA_DESCRIPTOR:"\x50\x4b\x07\x08"};JSZip.defaults={base64:h0,binary:h0,dir:h0,date:q0,compression:q0};JSZip.support={arraybuffer:(function(){return typeof ArrayBuffer!==n0&&typeof Uint8Array!==n0;})(),nodebuffer:(function(){return typeof Buffer!==n0;})(),uint8array:(function(){return typeof Uint8Array!==n0;})(),blob:(function(){if(typeof ArrayBuffer===n0){return h0;}var l=new ArrayBuffer(0);try{return new Blob([l],{type:e0}).size===0;}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob(k0).size===0;}catch(k){}return h0;})()};JSZip.prototype=(function(){var p,v;if(JSZip.support.uint8array&&typeof TextEncoder==="function"&&typeof TextDecoder==="function"){p=new TextEncoder("utf-8");v=new TextDecoder("utf-8");}var w=function(k){if(k._data instanceof JSZip.CompressedObject){k._data=k._data.getContent();k.options.binary=true;k.options.base64=false;if(JSZip.utils.getTypeOf(k._data)==="uint8array"){var l=k._data;k._data=new Uint8Array(l.length);if(l.length!==0){k._data.set(l,0);}}}return k._data;},E=function(k){var l=w(k),n=JSZip.utils.getTypeOf(l);if(n==="string"){if(!k.options.binary){if(p){return p.encode(l);}if(JSZip.support.nodebuffer){return new Buffer(l,"utf-8");}}return k.asBinary();}return l;},z=function(k){var l=w(this);if(l===null||typeof l==="undefined"){return "";}if(this.options.base64){l=JSZip.base64.decode(l);}if(k&&this.options.binary){l=JSZip.prototype.utf8decode(l);}else{l=JSZip.utils.transformTo("string",l);}if(!k&&!this.options.binary){l=JSZip.prototype.utf8encode(l);}return l;},J=function(k,l,n){this.name=k;this._data=l;this.options=n;};J.prototype={asText:function(){return z.call(this,true);},asBinary:function(){return z.call(this,false);},asNodeBuffer:function(){var k=E(this);return JSZip.utils.transformTo("nodebuffer",k);},asUint8Array:function(){var k=E(this);return JSZip.utils.transformTo("uint8array",k);},asArrayBuffer:function(){return this.asUint8Array().buffer;}};var I=function(k,l){var n="",r;for(r=0;r<l;r++){n+=String.fromCharCode(k&0xff);k=k>>>8;}return n;},P=function(){var k={},l,n;for(l=0;l<arguments.length;l++){for(n in arguments[l]){if(arguments[l].hasOwnProperty(n)&&typeof k[n]==="undefined"){k[n]=arguments[l][n];}}}return k;},F=function(k){k=k||{};if(k.base64===true&&k.binary==null){k.binary=true;}k=P(k,JSZip.defaults);k.date=k.date||new Date();if(k.compression!==null)k.compression=k.compression.toUpperCase();return k;},K=function(k,l,n){var r=D(k),u=JSZip.utils.getTypeOf(l);if(r){x.call(this,r);}n=F(n);if(n.dir||l===null||typeof l==="undefined"){n.base64=false;n.binary=false;l=null;}else if(u==="string"){if(n.binary&&!n.base64){if(n.optimizedBinaryString!==true){l=JSZip.utils.string2binary(l);}}}else{n.base64=false;n.binary=true;if(!u&&!(l instanceof JSZip.CompressedObject)){throw  new Error("The data of '"+k+"' is in an unsupported format !");}if(u==="arraybuffer"){l=JSZip.utils.transformTo("uint8array",l);}}return this.files[k]=new J(k,l,n);},D=function(k){if(k.slice(-1)=='/'){k=k.substring(0,k.length-1);}var l=k.lastIndexOf('/');return (l>0)?k.substring(0,l):"";},x=function(k){if(k.slice(-1)!="/"){k+="/";}if(!this.files[k]){K.call(this,k,null,{dir:true});}return this.files[k];},G=function(k,l){var n=new JSZip.CompressedObject(),r;if(k._data instanceof JSZip.CompressedObject){n.uncompressedSize=k._data.uncompressedSize;n.crc32=k._data.crc32;if(n.uncompressedSize===0||k.options.dir){l=JSZip.compressions['STORE'];n.compressedContent="";n.crc32=0;}else if(k._data.compressionMethod===l.magic){n.compressedContent=k._data.getCompressedContent();}else{r=k._data.getContent();n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}}else{r=E(k);if(!r||r.length===0||k.options.dir){l=JSZip.compressions['STORE'];r="";}n.uncompressedSize=r.length;n.crc32=this.crc32(r);n.compressedContent=l.compress(JSZip.utils.transformTo(l.compressInputType,r));}n.compressedSize=n.compressedContent.length;n.compressionMethod=l.magic;return n;},V=function(k,l,n,r){var u=n.compressedContent,s=this.utf8encode(l.name),C=s!==l.name,y=l.options,B,A;B=y.date.getHours();B=B<<6;B=B|y.date.getMinutes();B=B<<5;B=B|y.date.getSeconds()/2;A=y.date.getFullYear()-1980;A=A<<4;A=A|(y.date.getMonth()+1);A=A<<5;A=A|y.date.getDate();var m="";m+="\x0A\x00";m+=C?"\x00\x08":"\x00\x00";m+=n.compressionMethod;m+=I(B,2);m+=I(A,2);m+=I(n.crc32,4);m+=I(n.compressedSize,4);m+=I(n.uncompressedSize,4);m+=I(s.length,2);m+="\x00\x00";var q=JSZip.signature.LOCAL_FILE_HEADER+m+s,o=JSZip.signature.CENTRAL_FILE_HEADER+"\x14\x00"+m+"\x00\x00"+"\x00\x00"+"\x00\x00"+(l.options.dir===true?"\x10\x00\x00\x00":"\x00\x00\x00\x00")+I(r,4)+s;return {fileRecord:q,dirRecord:o,compressedObject:n};},N=function(){this.data=[];};N.prototype={append:function(k){k=JSZip.utils.transformTo("string",k);this.data.push(k);},finalize:function(){return this.data.join("");}};var L=function(k){this.data=new Uint8Array(k);this.index=0;};L.prototype={append:function(k){if(k.length!==0){k=JSZip.utils.transformTo("uint8array",k);this.data.set(k,this.index);this.index+=k.length;}},finalize:function(){return this.data;}};return {load:function(k,l){throw  new Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(k){var l=[],n,r,u,s;for(n in this.files){if(!this.files.hasOwnProperty(n)){continue;}u=this.files[n];s=new J(u.name,u._data,P(u.options));r=n.slice(this.root.length,n.length);if(n.slice(0,this.root.length)===this.root&&k(r,s)){l.push(s);}}return l;},file:function(n,r,u){if(arguments.length===1){if(JSZip.utils.isRegExp(n)){var s=n;return this.filter(function(k,l){return !l.options.dir&&s.test(k);});}else{return this.filter(function(k,l){return !l.options.dir&&k===n;})[0]||null;}}else{n=this.root+n;K.call(this,n,r,u);}return this;},folder:function(n){if(!n){return this;}if(JSZip.utils.isRegExp(n)){return this.filter(function(k,l){return l.options.dir&&n.test(k);});}var r=this.root+n,u=x.call(this,r),s=this.clone();s.root=u.name;return s;},remove:function(n){n=this.root+n;var r=this.files[n];if(!r){if(n.slice(-1)!="/"){n+="/";}r=this.files[n];}if(r){if(!r.options.dir){delete  this.files[n];}else{var u=this.filter(function(k,l){return l.name.slice(0,n.length)===n;});for(var s=0;s<u.length;s++){delete  this.files[u[s].name];}}}return this;},generate:function(k){k=P(k||{},{base64:true,compression:"STORE",type:"base64"});JSZip.utils.checkSupport(k.type);var l=[],n=0,r=0,u,s;for(var C in this.files){if(!this.files.hasOwnProperty(C)){continue;}var y=this.files[C],B=y.options.compression||k.compression.toUpperCase(),A=JSZip.compressions[B];if(!A){throw  new Error(B+" is not a valid compression method !");}var m=G.call(this,y,A),q=V.call(this,C,y,m,n);n+=q.fileRecord.length+m.compressedSize;r+=q.dirRecord.length;l.push(q);}var o="";o=JSZip.signature.CENTRAL_DIRECTORY_END+"\x00\x00"+"\x00\x00"+I(l.length,2)+I(l.length,2)+I(r,4)+I(n,4)+"\x00\x00";switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "blob":case "nodebuffer":u=new L(n+r+o.length);break;case "base64":default :u=new N(n+r+o.length);break;}for(s=0;s<l.length;s++){u.append(l[s].fileRecord);u.append(l[s].compressedObject.compressedContent);}for(s=0;s<l.length;s++){u.append(l[s].dirRecord);}u.append(o);var t=u.finalize();switch(k.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return JSZip.utils.transformTo(k.type.toLowerCase(),t);case "blob":return JSZip.utils.arrayBuffer2Blob(JSZip.utils.transformTo("arraybuffer",t));case "base64":return (k.base64)?JSZip.base64.encode(t):t;default :return t;}},crc32:function crc32(k,l){if(typeof k==="undefined"||!k.length){return 0;}var n=JSZip.utils.getTypeOf(k)!=="string",r=[0x00000000,0x77073096,0xEE0E612C,0x990951BA,0x076DC419,0x706AF48F,0xE963A535,0x9E6495A3,0x0EDB8832,0x79DCB8A4,0xE0D5E91E,0x97D2D988,0x09B64C2B,0x7EB17CBD,0xE7B82D07,0x90BF1D91,0x1DB71064,0x6AB020F2,0xF3B97148,0x84BE41DE,0x1ADAD47D,0x6DDDE4EB,0xF4D4B551,0x83D385C7,0x136C9856,0x646BA8C0,0xFD62F97A,0x8A65C9EC,0x14015C4F,0x63066CD9,0xFA0F3D63,0x8D080DF5,0x3B6E20C8,0x4C69105E,0xD56041E4,0xA2677172,0x3C03E4D1,0x4B04D447,0xD20D85FD,0xA50AB56B,0x35B5A8FA,0x42B2986C,0xDBBBC9D6,0xACBCF940,0x32D86CE3,0x45DF5C75,0xDCD60DCF,0xABD13D59,0x26D930AC,0x51DE003A,0xC8D75180,0xBFD06116,0x21B4F4B5,0x56B3C423,0xCFBA9599,0xB8BDA50F,0x2802B89E,0x5F058808,0xC60CD9B2,0xB10BE924,0x2F6F7C87,0x58684C11,0xC1611DAB,0xB6662D3D,0x76DC4190,0x01DB7106,0x98D220BC,0xEFD5102A,0x71B18589,0x06B6B51F,0x9FBFE4A5,0xE8B8D433,0x7807C9A2,0x0F00F934,0x9609A88E,0xE10E9818,0x7F6A0DBB,0x086D3D2D,0x91646C97,0xE6635C01,0x6B6B51F4,0x1C6C6162,0x856530D8,0xF262004E,0x6C0695ED,0x1B01A57B,0x8208F4C1,0xF50FC457,0x65B0D9C6,0x12B7E950,0x8BBEB8EA,0xFCB9887C,0x62DD1DDF,0x15DA2D49,0x8CD37CF3,0xFBD44C65,0x4DB26158,0x3AB551CE,0xA3BC0074,0xD4BB30E2,0x4ADFA541,0x3DD895D7,0xA4D1C46D,0xD3D6F4FB,0x4369E96A,0x346ED9FC,0xAD678846,0xDA60B8D0,0x44042D73,0x33031DE5,0xAA0A4C5F,0xDD0D7CC9,0x5005713C,0x270241AA,0xBE0B1010,0xC90C2086,0x5768B525,0x206F85B3,0xB966D409,0xCE61E49F,0x5EDEF90E,0x29D9C998,0xB0D09822,0xC7D7A8B4,0x59B33D17,0x2EB40D81,0xB7BD5C3B,0xC0BA6CAD,0xEDB88320,0x9ABFB3B6,0x03B6E20C,0x74B1D29A,0xEAD54739,0x9DD277AF,0x04DB2615,0x73DC1683,0xE3630B12,0x94643B84,0x0D6D6A3E,0x7A6A5AA8,0xE40ECF0B,0x9309FF9D,0x0A00AE27,0x7D079EB1,0xF00F9344,0x8708A3D2,0x1E01F268,0x6906C2FE,0xF762575D,0x806567CB,0x196C3671,0x6E6B06E7,0xFED41B76,0x89D32BE0,0x10DA7A5A,0x67DD4ACC,0xF9B9DF6F,0x8EBEEFF9,0x17B7BE43,0x60B08ED5,0xD6D6A3E8,0xA1D1937E,0x38D8C2C4,0x4FDFF252,0xD1BB67F1,0xA6BC5767,0x3FB506DD,0x48B2364B,0xD80D2BDA,0xAF0A1B4C,0x36034AF6,0x41047A60,0xDF60EFC3,0xA867DF55,0x316E8EEF,0x4669BE79,0xCB61B38C,0xBC66831A,0x256FD2A0,0x5268E236,0xCC0C7795,0xBB0B4703,0x220216B9,0x5505262F,0xC5BA3BBE,0xB2BD0B28,0x2BB45A92,0x5CB36A04,0xC2D7FFA7,0xB5D0CF31,0x2CD99E8B,0x5BDEAE1D,0x9B64C2B0,0xEC63F226,0x756AA39C,0x026D930A,0x9C0906A9,0xEB0E363F,0x72076785,0x05005713,0x95BF4A82,0xE2B87A14,0x7BB12BAE,0x0CB61B38,0x92D28E9B,0xE5D5BE0D,0x7CDCEFB7,0x0BDBDF21,0x86D3D2D4,0xF1D4E242,0x68DDB3F8,0x1FDA836E,0x81BE16CD,0xF6B9265B,0x6FB077E1,0x18B74777,0x88085AE6,0xFF0F6A70,0x66063BCA,0x11010B5C,0x8F659EFF,0xF862AE69,0x616BFFD3,0x166CCF45,0xA00AE278,0xD70DD2EE,0x4E048354,0x3903B3C2,0xA7672661,0xD06016F7,0x4969474D,0x3E6E77DB,0xAED16A4A,0xD9D65ADC,0x40DF0B66,0x37D83BF0,0xA9BCAE53,0xDEBB9EC5,0x47B2CF7F,0x30B5FFE9,0xBDBDF21C,0xCABAC28A,0x53B39330,0x24B4A3A6,0xBAD03605,0xCDD70693,0x54DE5729,0x23D967BF,0xB3667A2E,0xC4614AB8,0x5D681B02,0x2A6F2B94,0xB40BBE37,0xC30C8EA1,0x5A05DF1B,0x2D02EF8D];if(typeof (l)=="undefined"){l=0;}var u=0,s=0,C=0;l=l^(-1);for(var y=0,B=k.length;y<B;y++){C=n?k[y]:k.charCodeAt(y);s=(l^C)&0xFF;u=r[s];l=(l>>>8)^u;}return l^(-1);},clone:function(){var k=new JSZip();for(var l in this){if(typeof this[l]!=="function"){k[l]=this[l];}}return k;},utf8encode:function(k){if(p){var l=p.encode(k);return JSZip.utils.transformTo("string",l);}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("string",new Buffer(k,"utf-8"));}var n=[],r=0;for(var u=0;u<k.length;u++){var s=k.charCodeAt(u);if(s<128){n[r++]=String.fromCharCode(s);}else if((s>127)&&(s<2048)){n[r++]=String.fromCharCode((s>>6)|192);n[r++]=String.fromCharCode((s&63)|128);}else{n[r++]=String.fromCharCode((s>>12)|224);n[r++]=String.fromCharCode(((s>>6)&63)|128);n[r++]=String.fromCharCode((s&63)|128);}}return n.join("");},utf8decode:function(k){var l=[],n=0,r=JSZip.utils.getTypeOf(k),u=r!=="string",s=0,C=0,y=0,B=0,A=0;if(v){return v.decode(JSZip.utils.transformTo("uint8array",k));}if(JSZip.support.nodebuffer){return JSZip.utils.transformTo("nodebuffer",k).toString("utf-8");}while(s<k.length){C=u?k[s]:k.charCodeAt(s);if(C<128){l[n++]=String.fromCharCode(C);s++;}else if((C>191)&&(C<224)){B=u?k[s+1]:k.charCodeAt(s+1);l[n++]=String.fromCharCode(((C&31)<<6)|(B&63));s+=2;}else{B=u?k[s+1]:k.charCodeAt(s+1);A=u?k[s+2]:k.charCodeAt(s+2);l[n++]=String.fromCharCode(((C&15)<<12)|((B&63)<<6)|(A&63));s+=3;}}return l.join("");}};}());JSZip.compressions={"STORE":{magic:r0,compress:function(k){return k;},uncompress:function(k){return k;},compressInputType:q0,uncompressInputType:q0}};(function(){JSZip.utils={string2binary:function(k){var l="";for(var n=0;n<k.length;n++){l+=String.fromCharCode(k.charCodeAt(n)&0xff);}return l;},string2Uint8Array:function(k){return JSZip.utils.transformTo("uint8array",k);},uint8Array2String:function(k){return JSZip.utils.transformTo("string",k);},arrayBuffer2Blob:function(l){JSZip.utils.checkSupport("blob");try{return new Blob([l],{type:"application/zip"});}catch(k){}try{var n=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)();n.append(l);return n.getBlob('application/zip');}catch(k){}throw  new Error("Bug : can't construct the Blob.");},string2Blob:function(k){var l=JSZip.utils.transformTo("arraybuffer",k);return JSZip.utils.arrayBuffer2Blob(l);}};function m(k){return k;};function q(k,l){for(var n=0;n<k.length;++n){l[n]=k.charCodeAt(n)&0xFF;}return l;};function o(l){var n=65536,r=[],u=l.length,s=JSZip.utils.getTypeOf(l),C=0,y=true;try{switch(s){case "uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,new Buffer(0));break;}}catch(k){y=false;}if(!y){var B="";for(var A=0;A<l.length;A++){B+=String.fromCharCode(l[A]);}return B;}while(C<u&&n>1){try{if(s==="array"||s==="nodebuffer"){r.push(String.fromCharCode.apply(null,l.slice(C,Math.min(C+n,u))));}else{r.push(String.fromCharCode.apply(null,l.subarray(C,Math.min(C+n,u))));}C+=n;}catch(k){n=Math.floor(n/2);}}return r.join("");};function t(k,l){for(var n=0;n<k.length;n++){l[n]=k[n];}return l;};var p={};p["string"]={"string":m,"array":function(k){return q(k,new Array(k.length));},"arraybuffer":function(k){return p["string"]["uint8array"](k).buffer;},"uint8array":function(k){return q(k,new Uint8Array(k.length));},"nodebuffer":function(k){return q(k,new Buffer(k.length));}};p["array"]={"string":o,"array":m,"arraybuffer":function(k){return (new Uint8Array(k)).buffer;},"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(k);}};p["arraybuffer"]={"string":function(k){return o(new Uint8Array(k));},"array":function(k){return t(new Uint8Array(k),new Array(k.byteLength));},"arraybuffer":m,"uint8array":function(k){return new Uint8Array(k);},"nodebuffer":function(k){return new Buffer(new Uint8Array(k));}};p["uint8array"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return k.buffer;},"uint8array":m,"nodebuffer":function(k){return new Buffer(k);}};p["nodebuffer"]={"string":o,"array":function(k){return t(k,new Array(k.length));},"arraybuffer":function(k){return p["nodebuffer"]["uint8array"](k).buffer;},"uint8array":function(k){return t(k,new Uint8Array(k.length));},"nodebuffer":m};JSZip.utils.transformTo=function(k,l){if(!l){l="";}if(!k){return l;}JSZip.utils.checkSupport(k);var n=JSZip.utils.getTypeOf(l),r=p[n][k](l);return r;};JSZip.utils.getTypeOf=function(k){if(typeof k==="string"){return "string";}if(Object.prototype.toString.call(k)==="[object Array]"){return "array";}if(JSZip.support.nodebuffer&&Buffer.isBuffer(k)){return "nodebuffer";}if(JSZip.support.uint8array&&k instanceof Uint8Array){return "uint8array";}if(JSZip.support.arraybuffer&&k instanceof ArrayBuffer){return "arraybuffer";}};JSZip.utils.isRegExp=function(k){return Object.prototype.toString.call(k)==="[object RegExp]";};JSZip.utils.checkSupport=function(k){var l=true;switch(k.toLowerCase()){case "uint8array":l=JSZip.support.uint8array;break;case "arraybuffer":l=JSZip.support.arraybuffer;break;case "nodebuffer":l=JSZip.support.nodebuffer;break;case "blob":l=JSZip.support.blob;break;}if(!l){throw  new Error(k+" is not supported by this browser");}};})();(function(){JSZip.CompressedObject=function(){this.compressedSize=0;this.uncompressedSize=0;this.crc32=0;this.compressionMethod=q0;this.compressedContent=q0;};JSZip.CompressedObject.prototype={getContent:function(){return q0;},getCompressedContent:function(){return q0;}};})();JSZip.base64=(function(){var q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return {encode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;while(m<k.length){r=k.charCodeAt(m++);u=k.charCodeAt(m++);s=k.charCodeAt(m++);C=r>>2;y=((r&3)<<4)|(u>>4);B=((u&15)<<2)|(s>>6);A=s&63;if(isNaN(u)){B=A=64;}else if(isNaN(s)){A=64;}n=n+q.charAt(C)+q.charAt(y)+q.charAt(B)+q.charAt(A);}return n;},decode:function(k,l){var n="",r,u,s,C,y,B,A,m=0;k=k.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(m<k.length){C=q.indexOf(k.charAt(m++));y=q.indexOf(k.charAt(m++));B=q.indexOf(k.charAt(m++));A=q.indexOf(k.charAt(m++));r=(C<<2)|(y>>4);u=((y&15)<<4)|(B>>2);s=((B&3)<<6)|A;n=n+String.fromCharCode(r);if(B!=64){n=n+String.fromCharCode(u);}if(A!=64){n=n+String.fromCharCode(s);}}return n;}};}());
void 0!==window.jQuery&&(window.jQuery.fn.webdatarocks=function(a){a=a||{};a.container=this.get(0);a=window.WebDataRocks?window.WebDataRocks(a):window.PivotApi(a);this.data("webdatarocks",a);return a});
void 0!==window.angular&&window.angular.module("webdatarocks",[]).directive("wbrPivot",function(){function d(b,c){void 0!==b.wbrGlobal&&(c.global=b.wbrGlobal);void 0!==b.wbrWidth&&(c.width=b.wbrWidth);void 0!==b.wbrHeight&&(c.height=b.wbrHeight);void 0!==b.wbrToolbar&&(c.toolbar=!0===b.wbrToolbar||"true"==b.wbrToolbar||"on"==b.wbrToolbar)}return{restrict:"A",scope:{report:"=wbrReport",customizeCell:"&wbrCustomizeCell",cellclick:"&wbrCellClick",celldoubleclick:"&wbrCellDoubleClick",dataerror:"&wbrDataError",
datafilecancelled:"&wbrDataFileCancelled",dataloaded:"&wbrDataLoaded",datachanged:"&wbrDataChanged",fieldslistclose:"&wbrFieldsListClose",fieldslistopen:"&wbrFieldsListOpen",filteropen:"&wbrFilteropen",fullscreen:"&wbrFullscreen",loadingdata:"&wbrLoadingData",loadinglocalization:"&wbrLoadingLocalization",loadingolapstructure:"&wbrLoadingOlapStructure",loadingreportfile:"&wbrLoadingReportFile",localizationerror:"&wbrLocalizationError",localizationloaded:"&wbrLocalizationLoaded",openingreportfile:"&wbrOpeningReportFile",
querycomplete:"&wbrQueryComplete",queryerror:"&wbrQueryError",ready:"&wbrReady",reportchange:"&wbrReportChange",reportcomplete:"&wbrReportComplete",reportfilecancelled:"&wbrReportFileCancelled",reportfileerror:"&wbrReportFileError",reportfileloaded:"&wbrReportFileLoaded",runningquery:"&wbrRunningQuery",update:"&wbrUpdate",beforetoolbarcreated:"&wbrBeforeToolbarCreated"},link:function(b,c,e,a){a={};a.container=c[0];d(e,a);b.customizeCell&&(a.customizeCell=function(a,c){return b.customizeCell({html:a,
data:c})});b.cellclick&&(a.cellclick=function(a){b.cellclick({cell:a})});b.celldoubleclick&&(a.celldoubleclick=function(a){b.celldoubleclick({cell:a})});a.dataerror=b.dataerror;a.datafilecancelled=b.datafilecancelled;a.dataloaded=b.dataloaded;a.datachanged&&(a.datachanged=function(a){b.datachanged({event:a})});a.fieldslistclose=b.fieldslistclose;a.fieldslistopen=b.fieldslistopen;a.filteropen&&(a.filteropen=function(a){b.filteropen({params:a})});a.fullscreen&&(a.fullscreen=function(a){b.fullscreen({fullScreenMode:a})});
a.loadingdata=b.loadingdata;a.loadinglocalization=b.loadinglocalization;a.loadingolapstructure=b.loadingolapstructure;a.loadingreportfile=b.loadingreportfile;a.localizationerror=b.localizationerror;a.localizationloaded=b.localizationloaded;a.olapstructureerror=b.olapstructureerror;a.olapstructureloaded=b.olapstructureloaded;a.openingreportfile=b.openingreportfile;a.querycomplete=b.querycomplete;a.queryerror=b.queryerror;b.ready&&(a.ready=function(){b.ready({pivot:f})});a.reportchange=b.reportchange;
a.reportcomplete=b.reportcomplete;a.reportfilecancelled=b.reportfilecancelled;a.reportfileerror=b.reportfileerror;a.reportfileloaded=b.reportfileloaded;a.runningquery=b.runningquery;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.loadingdata=b.loadingdata;a.update=b.update;b.beforetoolbarcreated&&(a.beforetoolbarcreated=function(a){b.beforetoolbarcreated({toolbar:a})});b.report&&(a.report=b.report);b.global&&(a.global=b.global);var f=new WebDataRocks(a)}}});
void 0!==window.React&&(window.WebDataRocksReact={Pivot:React.createClass({propTypes:{global:React.PropTypes.object,width:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),height:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),report:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),toolbar:React.PropTypes.bool,customizeCell:React.PropTypes.func,cellclick:React.PropTypes.func,celldoubleclick:React.PropTypes.func,dataerror:React.PropTypes.func,
datafilecancelled:React.PropTypes.func,dataloaded:React.PropTypes.func,datachanged:React.PropTypes.func,fieldslistclose:React.PropTypes.func,fieldslistopen:React.PropTypes.func,filteropen:React.PropTypes.func,fullscreen:React.PropTypes.func,loadingdata:React.PropTypes.func,loadinglocalization:React.PropTypes.func,loadingolapstructure:React.PropTypes.func,loadingreportfile:React.PropTypes.func,localizationerror:React.PropTypes.func,localizationloaded:React.PropTypes.func,olapstructureerror:React.PropTypes.func,
olapstructureloaded:React.PropTypes.func,openingreportfile:React.PropTypes.func,querycomplete:React.PropTypes.func,queryerror:React.PropTypes.func,ready:React.PropTypes.func,reportchange:React.PropTypes.func,reportcomplete:React.PropTypes.func,reportfilecancelled:React.PropTypes.func,reportfileerror:React.PropTypes.func,reportfileloaded:React.PropTypes.func,runningquery:React.PropTypes.func,update:React.PropTypes.func,beforetoolbarcreated:React.PropTypes.func},render:function(){return React.DOM.div()},
componentDidMount:function(){var a={};a.container=ReactDOM.findDOMNode(this);this.parseProps(a);this.webdatarocks=new window.WebDataRocks(a)},shouldComponentUpdate:function(){return!1},componentWillUnmount:function(){},parseProps:function(a){for(var b in this.props)a[b]=this.props[b]}})});

if("object"===typeof module&&module.exports){module.exports=WebDataRocks;}